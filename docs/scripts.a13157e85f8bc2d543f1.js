if(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t;function e(){return t.apply(null,arguments)}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function r(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function a(t,e,n,i){return Bt(t,e,n,i,!0).utc()}function s(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}),t._pf}function l(t){if(null==t._isValid){var e=s(t);t._isValid=!(isNaN(t._d.getTime())||!(e.overflow<0)||e.empty||e.invalidMonth||e.invalidWeekday||e.nullInput||e.invalidFormat||e.userInvalidated),t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function c(t){var e=a(NaN);return null!=t?r(s(e),t):s(e).userInvalidated=!0,e}var d=e.momentProperties=[];function u(t,e){var n,i,o;if(void 0!==e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),void 0!==e._i&&(t._i=e._i),void 0!==e._f&&(t._f=e._f),void 0!==e._l&&(t._l=e._l),void 0!==e._strict&&(t._strict=e._strict),void 0!==e._tzm&&(t._tzm=e._tzm),void 0!==e._isUTC&&(t._isUTC=e._isUTC),void 0!==e._offset&&(t._offset=e._offset),void 0!==e._pf&&(t._pf=s(e)),void 0!==e._locale&&(t._locale=e._locale),d.length>0)for(n in d)void 0!==(o=e[i=d[n]])&&(t[i]=o);return t}var h=!1;function f(t){u(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),!1===h&&(h=!0,e.updateOffset(this),h=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function g(t){return t<0?Math.ceil(t):Math.floor(t)}function m(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=g(e)),n}function v(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&m(t[i])!==m(e[i]))&&a++;return a+r}function y(){}var b,w={};function x(t){return t?t.toLowerCase().replace("_","-"):t}function D(t){var e=null;if(!w[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=b._abbr,require("./locale/"+t),C(e)}catch(t){}return w[t]}function C(t,e){var n;return t&&(n=void 0===e?S(t):_(t,e))&&(b=n),b._abbr}function _(t,e){return null!==e?(e.abbr=t,w[t]=w[t]||new y,w[t].set(e),C(t),w[t]):(delete w[t],null)}function S(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return b;if(!n(t)){if(e=D(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=x(t[r]).split("-")).length,n=(n=x(t[r+1]))?n.split("-"):null;e>0;){if(i=D(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&v(o,n,!0)>=e-1)break;e--}r++}return null}(t)}var k={};function T(t,e){var n=t.toLowerCase();k[n]=k[n+"s"]=k[e]=t}function A(t){return"string"==typeof t?k[t]||k[t.toLowerCase()]:void 0}function P(t){var e,n,i={};for(n in t)o(t,n)&&(e=A(n))&&(i[e]=t[n]);return i}function E(t,n){return function(i){return null!=i?(R(this,t,i),e.updateOffset(this,n),this):M(this,t)}}function M(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function R(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function N(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if("function"==typeof this[t=A(t)])return this[t](e);return this}function I(t,e,n){var i=""+Math.abs(t);return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var O=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,L={},B={};function F(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(B[t]=o),e&&(B[e[0]]=function(){return I(o.apply(this,arguments),e[1],e[2])}),n&&(B[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=z(e,t.localeData()),L[e]=L[e]||function(t){var e,n,i,o=t.match(O);for(e=0,n=o.length;e<n;e++)o[e]=B[o[e]]?B[o[e]]:(i=o[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(i){var r="";for(e=0;e<n;e++)r+=o[e]instanceof Function?o[e].call(i,t):o[e];return r}}(e),L[e](t)):t.localeData().invalidDate()}function z(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(H.lastIndex=0;n>=0&&H.test(t);)t=t.replace(H,i),H.lastIndex=0,n-=1;return t}var U=/\d/,$=/\d\d/,W=/\d{3}/,q=/\d{4}/,V=/[+-]?\d{6}/,Y=/\d\d?/,G=/\d{1,3}/,K=/\d{1,4}/,X=/[+-]?\d{1,6}/,J=/\d+/,Q=/[+-]?\d+/,Z=/Z|[+-]\d\d:?\d\d/gi,tt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,et={};function nt(t,e,n){var i;et[t]="function"==typeof(i=e)&&"[object Function]"===Object.prototype.toString.call(i)?e:function(t){return t&&n?n:e}}function it(t,e){return o(et,t)?et[t](e._strict,e._locale):new RegExp(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"))}var ot={};function rt(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(i=function(t,n){n[e]=m(t)}),n=0;n<t.length;n++)ot[t[n]]=i}function at(t,e){rt(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}function st(t,e,n){null!=e&&o(ot,t)&&ot[t](e,n._a,n,t)}var lt=0,ct=1,dt=2,ut=3,ht=4,ft=5,pt=6;function gt(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}F("M",["MM",2],"Mo",function(){return this.month()+1}),F("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),F("MMMM",0,0,function(t){return this.localeData().months(this,t)}),T("month","M"),nt("M",Y),nt("MM",Y,$),nt("MMM",tt),nt("MMMM",tt),rt(["M","MM"],function(t,e){e[ct]=m(t)-1}),rt(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[ct]=o:s(n).invalidMonth=t});var mt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),vt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function yt(t,e){var n;return"string"==typeof e&&"number"!=typeof(e=t.localeData().monthsParse(e))?t:(n=Math.min(t.date(),gt(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function bt(t){return null!=t?(yt(this,t),e.updateOffset(this,!0),this):M(this,"Month")}function wt(t){var e,n=t._a;return n&&-2===s(t).overflow&&(e=n[ct]<0||n[ct]>11?ct:n[dt]<1||n[dt]>gt(n[lt],n[ct])?dt:n[ut]<0||n[ut]>24||24===n[ut]&&(0!==n[ht]||0!==n[ft]||0!==n[pt])?ut:n[ht]<0||n[ht]>59?ht:n[ft]<0||n[ft]>59?ft:n[pt]<0||n[pt]>999?pt:-1,s(t)._overflowDayOfYear&&(e<lt||e>dt)&&(e=dt),s(t).overflow=e),t}function xt(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function Dt(t,e){var n=!0;return r(function(){return n&&(xt(t+"\n"+(new Error).stack),n=!1),e.apply(this,arguments)},e)}var Ct={};e.suppressDeprecationWarnings=!1;var _t=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,St=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],kt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Tt=/^\/?Date\((\-?\d+)/i;function At(t){var e,n,i=t._i,o=_t.exec(i);if(o){for(s(t).iso=!0,e=0,n=St.length;e<n;e++)if(St[e][1].exec(i)){t._f=St[e][0];break}for(e=0,n=kt.length;e<n;e++)if(kt[e][1].exec(i)){t._f+=(o[6]||" ")+kt[e][0];break}i.match(Z)&&(t._f+="Z"),Ht(t)}else t._isValid=!1}function Pt(t){var e=new Date(Date.UTC.apply(null,arguments));return t<1970&&e.setUTCFullYear(t),e}function Et(t){return Mt(t)?366:365}function Mt(t){return t%4==0&&t%100!=0||t%400==0}e.createFromInputFallback=Dt("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),F(0,["YY",2],0,function(){return this.year()%100}),F(0,["YYYY",4],0,"year"),F(0,["YYYYY",5],0,"year"),F(0,["YYYYYY",6,!0],0,"year"),T("year","y"),nt("Y",Q),nt("YY",Y,$),nt("YYYY",K,q),nt("YYYYY",X,V),nt("YYYYYY",X,V),rt(["YYYYY","YYYYYY"],lt),rt("YYYY",function(t,n){n[lt]=2===t.length?e.parseTwoDigitYear(t):m(t)}),rt("YY",function(t,n){n[lt]=e.parseTwoDigitYear(t)}),e.parseTwoDigitYear=function(t){return m(t)+(m(t)>68?1900:2e3)};var Rt=E("FullYear",!1);function Nt(t,e,n){var i,o=n-e,r=n-t.day();return r>o&&(r-=7),r<o-7&&(r+=7),i=Ft(t).add(r,"d"),{week:Math.ceil(i.dayOfYear()/7),year:i.year()}}function It(t,e,n){return null!=t?t:null!=e?e:n}function Ot(t){var e,n,i,o,r=[];if(!t._d){for(i=function(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[dt]&&null==t._a[ct]&&function(t){var e,n,i,o,r,a,s;null!=(e=t._w).GG||null!=e.W||null!=e.E?(r=1,a=4,n=It(e.GG,t._a[lt],Nt(Ft(),1,4).year),i=It(e.W,1),o=It(e.E,1)):(r=t._locale._week.dow,a=t._locale._week.doy,n=It(e.gg,t._a[lt],Nt(Ft(),r,a).year),i=It(e.w,1),null!=e.d?(o=e.d)<r&&++i:o=null!=e.e?e.e+r:r),s=function(t,e,n,i,o){var r,s=6+o-a,l=Pt(t,0,1+s).getUTCDay();return l<o&&(l+=7),{year:(r=1+s+7*(e-1)-l+(n=null!=n?1*n:o))>0?t:t-1,dayOfYear:r>0?r:Et(t-1)+r}}(n,i,o,0,r),t._a[lt]=s.year,t._dayOfYear=s.dayOfYear}(t),t._dayOfYear&&(o=It(t._a[lt],i[lt]),t._dayOfYear>Et(o)&&(s(t)._overflowDayOfYear=!0),n=Pt(o,0,t._dayOfYear),t._a[ct]=n.getUTCMonth(),t._a[dt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=r[e]=i[e];for(;e<7;e++)t._a[e]=r[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[ut]&&0===t._a[ht]&&0===t._a[ft]&&0===t._a[pt]&&(t._nextDay=!0,t._a[ut]=0),t._d=(t._useUTC?Pt:function(t,e,n,i,o,r,a){var s=new Date(t,e,n,i,o,r,a);return t<1970&&s.setFullYear(t),s}).apply(null,r),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[ut]=24)}}function Ht(t){if(t._f!==e.ISO_8601){t._a=[],s(t).empty=!0;var n,i,o,r,a,l=""+t._i,c=l.length,d=0;for(o=z(t._f,t._locale).match(O)||[],n=0;n<o.length;n++)(i=(l.match(it(r=o[n],t))||[])[0])&&((a=l.substr(0,l.indexOf(i))).length>0&&s(t).unusedInput.push(a),l=l.slice(l.indexOf(i)+i.length),d+=i.length),B[r]?(i?s(t).empty=!1:s(t).unusedTokens.push(r),st(r,i,t)):t._strict&&!i&&s(t).unusedTokens.push(r);s(t).charsLeftOver=c-d,l.length>0&&s(t).unusedInput.push(l),!0===s(t).bigHour&&t._a[ut]<=12&&t._a[ut]>0&&(s(t).bigHour=void 0),t._a[ut]=(u=t._locale,h=t._a[ut],null==(f=t._meridiem)?h:null!=u.meridiemHour?u.meridiemHour(h,f):null!=u.isPM?((p=u.isPM(f))&&h<12&&(h+=12),p||12!==h||(h=0),h):h),Ot(t),wt(t)}else At(t);var u,h,f,p}function Lt(t){var o=t._i,a=t._f;return t._locale=t._locale||S(t._l),null===o||void 0===a&&""===o?c({nullInput:!0}):("string"==typeof o&&(t._i=o=t._locale.preparse(o)),p(o)?new f(wt(o)):(n(a)?function(t){var e,n,i,o,a;if(0===t._f.length)return s(t).invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,e=u({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],Ht(e),l(e)&&(a+=s(e).charsLeftOver,a+=10*s(e).unusedTokens.length,s(e).score=a,(null==i||a<i)&&(i=a,n=e));r(t,n||e)}(t):a?Ht(t):i(o)?t._d=o:function(t){var o=t._i;void 0===o?t._d=new Date:i(o)?t._d=new Date(+o):"string"==typeof o?function(t){var n=Tt.exec(t._i);null===n?(At(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t))):t._d=new Date(+n[1])}(t):n(o)?(t._a=function(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(parseInt(t[n],10));return i}(o.slice(0)),Ot(t)):"object"==typeof o?function(t){if(!t._d){var e=P(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],Ot(t)}}(t):"number"==typeof o?t._d=new Date(o):e.createFromInputFallback(t)}(t),t))}function Bt(t,e,n,i,o){var r,a={};return"boolean"==typeof n&&(i=n,n=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=i,(r=new f(wt(Lt(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Ft(t,e,n,i){return Bt(t,e,n,i,!1)}F("w",["ww",2],"wo","week"),F("W",["WW",2],"Wo","isoWeek"),T("week","w"),T("isoWeek","W"),nt("w",Y),nt("ww",Y,$),nt("W",Y),nt("WW",Y,$),at(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=m(t)}),F("DDD",["DDDD",3],"DDDo","dayOfYear"),T("dayOfYear","DDD"),nt("DDD",G),nt("DDDD",W),rt(["DDD","DDDD"],function(t,e,n){n._dayOfYear=m(t)}),e.ISO_8601=function(){};var jt=Dt("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=Ft.apply(null,arguments);return t<this?this:t}),zt=Dt("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=Ft.apply(null,arguments);return t>this?this:t});function Ut(t,e){var i,o;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ft();for(i=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](i)||(i=e[o]);return i}function $t(t){var e=P(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||0,a=e.day||0;this._milliseconds=+(e.millisecond||0)+1e3*(e.second||0)+6e4*(e.minute||0)+36e5*(e.hour||0),this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=S(),this._bubble()}function Wt(t){return t instanceof $t}function qt(t,e){F(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+I(~~(t/60),2)+e+I(~~t%60,2)})}qt("Z",":"),qt("ZZ",""),nt("Z",Z),nt("ZZ",Z),rt(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Yt(t)});var Vt=/([\+\-]|\d\d)/gi;function Yt(t){var e=(t||"").match(Z)||[],n=((e[e.length-1]||[])+"").match(Vt)||["-",0,0],i=60*n[1]+m(n[2]);return"+"===n[0]?i:-i}function Gt(t,n){var o,r;return n._isUTC?(o=n.clone(),r=(p(t)||i(t)?+t:+Ft(t))-+o,o._d.setTime(+o._d+r),e.updateOffset(o,!1),o):Ft(t).local()}function Kt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Xt(){return this._isUTC&&0===this._offset}e.updateOffset=function(){};var Jt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Qt=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function Zt(t,e){var n,i,r,a,s,l,c=t,d=null;return Wt(t)?c={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(c={},e?c[e]=t:c.milliseconds=t):(d=Jt.exec(t))?(n="-"===d[1]?-1:1,c={y:0,d:m(d[dt])*n,h:m(d[ut])*n,m:m(d[ht])*n,s:m(d[ft])*n,ms:m(d[pt])*n}):(d=Qt.exec(t))?c={y:te(d[2],n="-"===d[1]?-1:1),M:te(d[3],n),d:te(d[4],n),h:te(d[5],n),m:te(d[6],n),s:te(d[7],n),w:te(d[8],n)}:null==c?c={}:"object"==typeof c&&("from"in c||"to"in c)&&(a=Ft(c.from),s=Gt(s=Ft(c.to),a),a.isBefore(s)?l=ee(a,s):((l=ee(s,a)).milliseconds=-l.milliseconds,l.months=-l.months),(c={}).ms=(r=l).milliseconds,c.M=r.months),i=new $t(c),Wt(t)&&o(t,"_locale")&&(i._locale=t._locale),i}function te(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function ee(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function ne(t,e){return function(n,i){var o;return null===i||isNaN(+i)||(function(t,e){Ct[t]||(xt(e),Ct[t]=!0)}(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=i,i=o),ie(this,Zt(n="string"==typeof n?+n:n,i),t),this}}function ie(t,n,i,o){var r=n._milliseconds,a=n._days,s=n._months;o=null==o||o,r&&t._d.setTime(+t._d+r*i),a&&R(t,"Date",M(t,"Date")+a*i),s&&yt(t,M(t,"Month")+s*i),o&&e.updateOffset(t,a||s)}Zt.fn=$t.prototype;var oe=ne(1,"add"),re=ne(-1,"subtract");function ae(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():j(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):j(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function se(t){var e;return void 0===t?this._locale._abbr:(null!=(e=S(t))&&(this._locale=e),this)}e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var le=Dt("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ce(){return this._locale}function de(t,e){F(0,[t,t.length],0,e)}function ue(t,e,n){return Nt(Ft([t,11,31+e-n]),e,n).week}F(0,["gg",2],0,function(){return this.weekYear()%100}),F(0,["GG",2],0,function(){return this.isoWeekYear()%100}),de("gggg","weekYear"),de("ggggg","weekYear"),de("GGGG","isoWeekYear"),de("GGGGG","isoWeekYear"),T("weekYear","gg"),T("isoWeekYear","GG"),nt("G",Q),nt("g",Q),nt("GG",Y,$),nt("gg",Y,$),nt("GGGG",K,q),nt("gggg",K,q),nt("GGGGG",X,V),nt("ggggg",X,V),at(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=m(t)}),at(["gg","GG"],function(t,n,i,o){n[o]=e.parseTwoDigitYear(t)}),F("Q",0,0,"quarter"),T("quarter","Q"),nt("Q",U),rt("Q",function(t,e){e[ct]=3*(m(t)-1)}),F("D",["DD",2],"Do","date"),T("date","D"),nt("D",Y),nt("DD",Y,$),nt("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),rt(["D","DD"],dt),rt("Do",function(t,e){e[dt]=m(t.match(Y)[0])});var he=E("Date",!0);F("d",0,"do","day"),F("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),F("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),F("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),F("e",0,0,"weekday"),F("E",0,0,"isoWeekday"),T("day","d"),T("weekday","e"),T("isoWeekday","E"),nt("d",Y),nt("e",Y),nt("E",Y),nt("dd",tt),nt("ddd",tt),nt("dddd",tt),at(["dd","ddd","dddd"],function(t,e,n){var i=n._locale.weekdaysParse(t);null!=i?e.d=i:s(n).invalidWeekday=t}),at(["d","e","E"],function(t,e,n,i){e[i]=m(t)});var fe="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),pe="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ge="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function me(t,e){F(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function ve(t,e){return e._meridiemParse}F("H",["HH",2],0,"hour"),F("h",["hh",2],0,function(){return this.hours()%12||12}),me("a",!0),me("A",!1),T("hour","h"),nt("a",ve),nt("A",ve),nt("H",Y),nt("h",Y),nt("HH",Y,$),nt("hh",Y,$),rt(["H","HH"],ut),rt(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),rt(["h","hh"],function(t,e,n){e[ut]=m(t),s(n).bigHour=!0});var ye=E("Hours",!0);F("m",["mm",2],0,"minute"),T("minute","m"),nt("m",Y),nt("mm",Y,$),rt(["m","mm"],ht);var be=E("Minutes",!1);F("s",["ss",2],0,"second"),T("second","s"),nt("s",Y),nt("ss",Y,$),rt(["s","ss"],ft);var we,xe=E("Seconds",!1);for(F("S",0,0,function(){return~~(this.millisecond()/100)}),F(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),F(0,["SSS",3],0,"millisecond"),F(0,["SSSS",4],0,function(){return 10*this.millisecond()}),F(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),F(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),F(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),F(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),F(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),T("millisecond","ms"),nt("S",G,U),nt("SS",G,$),nt("SSS",G,W),we="SSSS";we.length<=9;we+="S")nt(we,J);function De(t,e){e[pt]=m(1e3*("0."+t))}for(we="S";we.length<=9;we+="S")rt(we,De);var Ce=E("Milliseconds",!1);F("z",0,0,"zoneAbbr"),F("zz",0,0,"zoneName");var _e=f.prototype;_e.add=oe,_e.calendar=function(t,e){var n=t||Ft(),i=Gt(n,this).startOf("day"),o=this.diff(i,"days",!0),r=o<-6?"sameElse":o<-1?"lastWeek":o<0?"lastDay":o<1?"sameDay":o<2?"nextDay":o<7?"nextWeek":"sameElse";return this.format(e&&e[r]||this.localeData().calendar(r,this,Ft(n)))},_e.clone=function(){return new f(this)},_e.diff=function(t,e,n){var i,o,r,a,s,l,c=Gt(t,this),d=6e4*(c.utcOffset()-this.utcOffset());return"year"===(e=A(e))||"month"===e||"quarter"===e?(r=this,o=-((s=12*((a=c).year()-r.year())+(a.month()-r.month()))+(a-(l=r.clone().add(s,"months"))<0?(a-l)/(l-r.clone().add(s-1,"months")):(a-l)/(r.clone().add(s+1,"months")-l))),"quarter"===e?o/=3:"year"===e&&(o/=12)):(i=this-c,o="second"===e?i/1e3:"minute"===e?i/6e4:"hour"===e?i/36e5:"day"===e?(i-d)/864e5:"week"===e?(i-d)/6048e5:i),n?o:g(o)},_e.endOf=function(t){return void 0===(t=A(t))||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")},_e.format=function(t){var n=j(this,t||e.defaultFormat);return this.localeData().postformat(n)},_e.from=function(t,e){return this.isValid()?Zt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_e.fromNow=function(t){return this.from(Ft(),t)},_e.to=function(t,e){return this.isValid()?Zt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},_e.toNow=function(t){return this.to(Ft(),t)},_e.get=N,_e.invalidAt=function(){return s(this).overflow},_e.isAfter=function(t,e){return"millisecond"===(e=A(void 0!==e?e:"millisecond"))?+this>+(t=p(t)?t:Ft(t)):(p(t)?+t:+Ft(t))<+this.clone().startOf(e)},_e.isBefore=function(t,e){var n;return"millisecond"===(e=A(void 0!==e?e:"millisecond"))?+this<+(t=p(t)?t:Ft(t)):(n=p(t)?+t:+Ft(t),+this.clone().endOf(e)<n)},_e.isBetween=function(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)},_e.isSame=function(t,e){var n;return"millisecond"===(e=A(e||"millisecond"))?+this==+(t=p(t)?t:Ft(t)):(n=+Ft(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))},_e.isValid=function(){return l(this)},_e.lang=le,_e.locale=se,_e.localeData=ce,_e.max=zt,_e.min=jt,_e.parsingFlags=function(){return r({},s(this))},_e.set=N,_e.startOf=function(t){switch(t=A(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},_e.subtract=re,_e.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},_e.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},_e.toDate=function(){return this._offset?new Date(+this):this._d},_e.toISOString=ae,_e.toJSON=ae,_e.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},_e.unix=function(){return Math.floor(+this/1e3)},_e.valueOf=function(){return+this._d-6e4*(this._offset||0)},_e.year=Rt,_e.isLeapYear=function(){return Mt(this.year())},_e.weekYear=function(t){var e=Nt(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")},_e.isoWeekYear=function(t){var e=Nt(this,1,4).year;return null==t?e:this.add(t-e,"y")},_e.quarter=_e.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},_e.month=bt,_e.daysInMonth=function(){return gt(this.year(),this.month())},_e.week=_e.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},_e.isoWeek=_e.isoWeeks=function(t){var e=Nt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},_e.weeksInYear=function(){var t=this.localeData()._week;return ue(this.year(),t.dow,t.doy)},_e.isoWeeksInYear=function(){return ue(this.year(),1,4)},_e.date=he,_e.day=_e.days=function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},_e.weekday=function(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},_e.isoWeekday=function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},_e.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},_e.hour=_e.hours=ye,_e.minute=_e.minutes=be,_e.second=_e.seconds=xe,_e.millisecond=_e.milliseconds=Ce,_e.utcOffset=function(t,n){var i,o=this._offset||0;return null!=t?("string"==typeof t&&(t=Yt(t)),Math.abs(t)<16&&(t*=60),!this._isUTC&&n&&(i=Kt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?ie(this,Zt(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?o:Kt(this)},_e.utc=function(t){return this.utcOffset(0,t)},_e.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Kt(this),"m")),this},_e.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Yt(this._i)),this},_e.hasAlignedHourOffset=function(t){return t=t?Ft(t).utcOffset():0,(this.utcOffset()-t)%60==0},_e.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},_e.isDSTShifted=function(){if(void 0!==this._isDSTShifted)return this._isDSTShifted;var t={};if(u(t,this),(t=Lt(t))._a){var e=t._isUTC?a(t._a):Ft(t._a);this._isDSTShifted=this.isValid()&&v(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted},_e.isLocal=function(){return!this._isUTC},_e.isUtcOffset=function(){return this._isUTC},_e.isUtc=Xt,_e.isUTC=Xt,_e.zoneAbbr=function(){return this._isUTC?"UTC":""},_e.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},_e.dates=Dt("dates accessor is deprecated. Use date instead.",he),_e.months=Dt("months accessor is deprecated. Use month instead",bt),_e.years=Dt("years accessor is deprecated. Use year instead",Rt),_e.zone=Dt("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()});var Se=_e;function ke(t){return t}var Te=y.prototype;function Ae(t,e,n,i){var o=S(),r=a().set(i,e);return o[n](r,t)}function Pe(t,e,n,i,o){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return Ae(t,e,n,o);var r,a=[];for(r=0;r<i;r++)a[r]=Ae(t,r,n,o);return a}Te._calendar={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Te.calendar=function(t,e,n){var i=this._calendar[t];return"function"==typeof i?i.call(e,n):i},Te._longDateFormat={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Te.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},Te._invalidDate="Invalid date",Te.invalidDate=function(){return this._invalidDate},Te._ordinal="%d",Te.ordinal=function(t){return this._ordinal.replace("%d",t)},Te._ordinalParse=/\d{1,2}/,Te.preparse=ke,Te.postformat=ke,Te._relativeTime={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Te.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return"function"==typeof o?o(t,e,n,i):o.replace(/%d/i,t)},Te.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)},Te.set=function(t){var e,n;for(n in t)"function"==typeof(e=t[n])?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},Te.months=function(t){return this._months[t.month()]},Te._months=mt,Te.monthsShort=function(t){return this._monthsShort[t.month()]},Te._monthsShort=vt,Te.monthsParse=function(t,e,n){var i,o,r;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=a([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},Te.week=function(t){return Nt(t,this._week.dow,this._week.doy).week},Te._week={dow:0,doy:6},Te.firstDayOfYear=function(){return this._week.doy},Te.firstDayOfWeek=function(){return this._week.dow},Te.weekdays=function(t){return this._weekdays[t.day()]},Te._weekdays=fe,Te.weekdaysMin=function(t){return this._weekdaysMin[t.day()]},Te._weekdaysMin=ge,Te.weekdaysShort=function(t){return this._weekdaysShort[t.day()]},Te._weekdaysShort=pe,Te.weekdaysParse=function(t){var e,n,i;for(this._weekdaysParse=this._weekdaysParse||[],e=0;e<7;e++)if(this._weekdaysParse[e]||(n=Ft([2e3,1]).day(e),i="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(i.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},Te.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},Te._meridiemParse=/[ap]\.?m?\.?/i,Te.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},C("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===m(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=Dt("moment.lang is deprecated. Use moment.locale instead.",C),e.langData=Dt("moment.langData is deprecated. Use moment.localeData instead.",S);var Ee=Math.abs;function Me(t,e,n,i){var o=Zt(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function Re(t){return t<0?Math.floor(t):Math.ceil(t)}function Ne(t){return 4800*t/146097}function Ie(t){return 146097*t/4800}function Oe(t){return function(){return this.as(t)}}var He=Oe("ms"),Le=Oe("s"),Be=Oe("m"),Fe=Oe("h"),je=Oe("d"),ze=Oe("w"),Ue=Oe("M"),$e=Oe("y");function We(t){return function(){return this._data[t]}}var qe=We("milliseconds"),Ve=We("seconds"),Ye=We("minutes"),Ge=We("hours"),Ke=We("days"),Xe=We("months"),Je=We("years"),Qe=Math.round,Ze={s:45,m:45,h:22,d:26,M:11},tn=Math.abs;function en(){var t,e,n=tn(this._milliseconds)/1e3,i=tn(this._days),o=tn(this._months);e=g((t=g(n/60))/60),n%=60,t%=60;var r=g(o/12),a=o%=12,s=i,l=e,c=t,d=n,u=this.asSeconds();return u?(u<0?"-":"")+"P"+(r?r+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(l||c||d?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(d?d+"S":""):"P0D"}var nn=$t.prototype;return nn.abs=function(){var t=this._data;return this._milliseconds=Ee(this._milliseconds),this._days=Ee(this._days),this._months=Ee(this._months),t.milliseconds=Ee(t.milliseconds),t.seconds=Ee(t.seconds),t.minutes=Ee(t.minutes),t.hours=Ee(t.hours),t.months=Ee(t.months),t.years=Ee(t.years),this},nn.add=function(t,e){return Me(this,t,e,1)},nn.subtract=function(t,e){return Me(this,t,e,-1)},nn.as=function(t){var e,n,i=this._milliseconds;if("month"===(t=A(t))||"year"===t)return n=this._months+Ne(e=this._days+i/864e5),"month"===t?n:n/12;switch(e=this._days+Math.round(Ie(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},nn.asMilliseconds=He,nn.asSeconds=Le,nn.asMinutes=Be,nn.asHours=Fe,nn.asDays=je,nn.asWeeks=ze,nn.asMonths=Ue,nn.asYears=$e,nn.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*m(this._months/12)},nn._bubble=function(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return r>=0&&a>=0&&s>=0||r<=0&&a<=0&&s<=0||(r+=864e5*Re(Ie(s)+a),a=0,s=0),l.milliseconds=r%1e3,t=g(r/1e3),l.seconds=t%60,e=g(t/60),l.minutes=e%60,n=g(e/60),l.hours=n%24,s+=o=g(Ne(a+=g(n/24))),a-=Re(Ie(o)),i=g(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},nn.get=function(t){return this[(t=A(t))+"s"]()},nn.milliseconds=qe,nn.seconds=Ve,nn.minutes=Ye,nn.hours=Ge,nn.days=Ke,nn.weeks=function(){return g(this.days()/7)},nn.months=Xe,nn.years=Je,nn.humanize=function(t){var e=this.localeData(),n=function(t,e,n){var i=Zt(t).abs(),o=Qe(i.as("s")),r=Qe(i.as("m")),a=Qe(i.as("h")),s=Qe(i.as("d")),l=Qe(i.as("M")),c=Qe(i.as("y")),d=o<Ze.s&&["s",o]||1===r&&["m"]||r<Ze.m&&["mm",r]||1===a&&["h"]||a<Ze.h&&["hh",a]||1===s&&["d"]||s<Ze.d&&["dd",s]||1===l&&["M"]||l<Ze.M&&["MM",l]||1===c&&["y"]||["yy",c];return d[2]=e,d[3]=+t>0,d[4]=n,(function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}).apply(null,d)}(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)},nn.toISOString=en,nn.toString=en,nn.toJSON=en,nn.locale=se,nn.localeData=ce,nn.toIsoString=Dt("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",en),nn.lang=le,F("X",0,0,"unix"),F("x",0,0,"valueOf"),nt("x",Q),nt("X",/[+-]?\d+(\.\d{1,3})?/),rt("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),rt("x",function(t,e,n){n._d=new Date(m(t))}),e.version="2.10.6",t=Ft,e.fn=Se,e.min=function(){return Ut("isBefore",[].slice.call(arguments,0))},e.max=function(){return Ut("isAfter",[].slice.call(arguments,0))},e.utc=a,e.unix=function(t){return Ft(1e3*t)},e.months=function(t,e){return Pe(t,e,"months",12,"month")},e.isDate=i,e.locale=C,e.invalid=c,e.duration=Zt,e.isMoment=p,e.weekdays=function(t,e){return Pe(t,e,"weekdays",7,"day")},e.parseZone=function(){return Ft.apply(null,arguments).parseZone()},e.localeData=S,e.isDuration=Wt,e.monthsShort=function(t,e){return Pe(t,e,"monthsShort",12,"month")},e.weekdaysMin=function(t,e){return Pe(t,e,"weekdaysMin",7,"day")},e.defineLocale=_,e.weekdaysShort=function(t,e){return Pe(t,e,"weekdaysShort",7,"day")},e.normalizeUnits=A,e.relativeTimeThreshold=function(t,e){return void 0!==Ze[t]&&(void 0===e?Ze[t]:(Ze[t]=e,!0))},e}),function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){var n=[],i=t.document,o=n.slice,r=n.concat,a=n.push,s=n.indexOf,l={},c=l.toString,d=l.hasOwnProperty,u={},h="2.2.4",f=function(t,e){return new f.fn.init(t,e)},p=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,g=/^-ms-/,m=/-([\da-z])/gi,v=function(t,e){return e.toUpperCase()};function y(t){var e=!!t&&"length"in t&&t.length,n=f.type(t);return"function"!==n&&!f.isWindow(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}f.fn=f.prototype={jquery:h,constructor:f,selector:"",length:0,toArray:function(){return o.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:o.call(this)},pushStack:function(t){var e=f.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t){return f.each(this,t)},map:function(t){return this.pushStack(f.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},f.extend=f.fn.extend=function(){var t,e,n,i,o,r,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||f.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],a!==(i=t[e])&&(c&&i&&(f.isPlainObject(i)||(o=f.isArray(i)))?(o?(o=!1,r=n&&f.isArray(n)?n:[]):r=n&&f.isPlainObject(n)?n:{},a[e]=f.extend(c,r,i)):void 0!==i&&(a[e]=i));return a},f.extend({expando:"jQuery"+(h+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===f.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){var e=t&&t.toString();return!f.isArray(t)&&e-parseFloat(e)+1>=0},isPlainObject:function(t){var e;if("object"!==f.type(t)||t.nodeType||f.isWindow(t))return!1;if(t.constructor&&!d.call(t,"constructor")&&!d.call(t.constructor.prototype||{},"isPrototypeOf"))return!1;for(e in t);return void 0===e||d.call(t,e)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;(t=f.trim(t))&&(1===t.indexOf("use strict")?((e=i.createElement("script")).text=t,i.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(g,"ms-").replace(m,v)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e){var n,i=0;if(y(t))for(n=t.length;n>i&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(p,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(y(Object(t))?f.merge(n,"string"==typeof t?[t]:t):a.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:s.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;n>i;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,a=!n;r>o;o++)!e(t[o],o)!==a&&i.push(t[o]);return i},map:function(t,e,n){var i,o,a=0,s=[];if(y(t))for(i=t.length;i>a;a++)null!=(o=e(t[a],a,n))&&s.push(o);else for(a in t)null!=(o=e(t[a],a,n))&&s.push(o);return r.apply([],s)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(n=t[e],e=t,t=n),f.isFunction(t)?(i=o.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(o.call(arguments)))}).guid=t.guid=t.guid||f.guid++,r):void 0},now:Date.now,support:u}),"function"==typeof Symbol&&(f.fn[Symbol.iterator]=n[Symbol.iterator]),f.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var b=function(t){var e,n,i,o,r,a,s,l,c,d,u,h,f,p,g,m,v,y,b,w="sizzle"+1*new Date,x=t.document,D=0,C=0,_=rt(),S=rt(),k=rt(),T=function(t,e){return t===e&&(u=!0),0},A=1<<31,P={}.hasOwnProperty,E=[],M=E.pop,R=E.push,N=E.push,I=E.slice,O=function(t,e){for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F="\\["+L+"*("+B+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+B+"))|)"+L+"*\\]",j=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",z=new RegExp(L+"+","g"),U=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),$=new RegExp("^"+L+"*,"+L+"*"),W=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),q=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(j),Y=new RegExp("^"+B+"$"),G={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},K=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,tt=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),nt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},it=function(){h()};try{N.apply(E=I.call(x.childNodes),x.childNodes)}catch(t){N={apply:E.length?function(t,e){R.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,o){var r,s,c,d,u,p,v,y,D=e&&e.ownerDocument,C=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==C&&9!==C&&11!==C)return i;if(!o&&((e?e.ownerDocument||e:x)!==f&&h(e),e=e||f,g)){if(11!==C&&(p=Q.exec(t)))if(r=p[1]){if(9===C){if(!(c=e.getElementById(r)))return i;if(c.id===r)return i.push(c),i}else if(D&&(c=D.getElementById(r))&&b(e,c)&&c.id===r)return i.push(c),i}else{if(p[2])return N.apply(i,e.getElementsByTagName(t)),i;if((r=p[3])&&n.getElementsByClassName&&e.getElementsByClassName)return N.apply(i,e.getElementsByClassName(r)),i}if(n.qsa&&!k[t+" "]&&(!m||!m.test(t))){if(1!==C)D=e,y=t;else if("object"!==e.nodeName.toLowerCase()){for((d=e.getAttribute("id"))?d=d.replace(tt,"\\$&"):e.setAttribute("id",d=w),s=(v=a(t)).length,u=Y.test(d)?"#"+d:"[id='"+d+"']";s--;)v[s]=u+" "+gt(v[s]);y=v.join(","),D=Z.test(t)&&ft(e.parentNode)||e}if(y)try{return N.apply(i,D.querySelectorAll(y)),i}catch(t){}finally{d===w&&e.removeAttribute("id")}}}return l(t.replace(U,"$1"),e,i,o)}function rt(){var t=[];return function e(n,o){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=o}}function at(t){return t[w]=!0,t}function st(t){var e=f.createElement("div");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function lt(t,e){for(var n=t.split("|"),o=n.length;o--;)i.attrHandle[n[o]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||A)-(~t.sourceIndex||A);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function dt(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ut(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ht(t){return at(function(e){return e=+e,at(function(n,i){for(var o,r=t([],n.length,e),a=r.length;a--;)n[o=r[a]]&&(n[o]=!(i[o]=n[o]))})})}function ft(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},r=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},h=ot.setDocument=function(t){var e,o,a=t?t.ownerDocument||t:x;return a!==f&&9===a.nodeType&&a.documentElement?(p=(f=a).documentElement,g=!r(f),(o=f.defaultView)&&o.top!==o&&(o.addEventListener?o.addEventListener("unload",it,!1):o.attachEvent&&o.attachEvent("onunload",it)),n.attributes=st(function(t){return t.className="i",!t.getAttribute("className")}),n.getElementsByTagName=st(function(t){return t.appendChild(f.createComment("")),!t.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(f.getElementsByClassName),n.getById=st(function(t){return p.appendChild(t).id=w,!f.getElementsByName||!f.getElementsByName(w).length}),n.getById?(i.find.ID=function(t,e){if(void 0!==e.getElementById&&g){var n=e.getElementById(t);return n?[n]:[]}},i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){return t.getAttribute("id")===e}}):(delete i.find.ID,i.filter.ID=function(t){var e=t.replace(et,nt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"===t){for(;n=r[o++];)1===n.nodeType&&i.push(n);return i}return r},i.find.CLASS=n.getElementsByClassName&&function(t,e){return void 0!==e.getElementsByClassName&&g?e.getElementsByClassName(t):void 0},v=[],m=[],(n.qsa=J.test(f.querySelectorAll))&&(st(function(t){p.appendChild(t).innerHTML="<a id='"+w+"'></a><select id='"+w+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+L+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||m.push("\\["+L+"*(?:value|"+H+")"),t.querySelectorAll("[id~="+w+"-]").length||m.push("~="),t.querySelectorAll(":checked").length||m.push(":checked"),t.querySelectorAll("a#"+w+"+*").length||m.push(".#.+[+~]")}),st(function(t){var e=f.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&m.push("name"+L+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||m.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),m.push(",.*:")})),(n.matchesSelector=J.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&st(function(t){n.disconnectedMatch=y.call(t,"div"),y.call(t,"[s!='']:x"),v.push("!=",j)}),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),e=J.test(p.compareDocumentPosition),b=e||J.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},T=e?function(t,e){if(t===e)return u=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===f||t.ownerDocument===x&&b(x,t)?-1:e===f||e.ownerDocument===x&&b(x,e)?1:d?O(d,t)-O(d,e):0:4&i?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,a=[t],s=[e];if(!o||!r)return t===f?-1:e===f?1:o?-1:r?1:d?O(d,t)-O(d,e):0;if(o===r)return ct(t,e);for(n=t;n=n.parentNode;)a.unshift(n);for(n=e;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ct(a[i],s[i]):a[i]===x?-1:s[i]===x?1:0},f):f},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==f&&h(t),e=e.replace(q,"='$1']"),n.matchesSelector&&g&&!k[e+" "]&&(!v||!v.test(e))&&(!m||!m.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,f,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==f&&h(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==f&&h(t);var o=i.attrHandle[e.toLowerCase()],r=o&&P.call(i.attrHandle,e.toLowerCase())?o(t,e,!g):void 0;return void 0!==r?r:n.attributes||!g?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],o=0,r=0;if(u=!n.detectDuplicates,d=!n.sortStable&&t.slice(0),t.sort(T),u){for(;e=t[r++];)e===t[r]&&(o=i.push(r));for(;o--;)t.splice(i[o],1)}return d=null,t},o=ot.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=o(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=o(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(et,nt),t[3]=(t[3]||t[4]||t[5]||"").replace(et,nt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return G.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&V.test(n)&&(e=a(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(et,nt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=_[t+" "];return e||(e=new RegExp("(^|"+L+")"+t+"("+L+"|$)"))&&_(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,n){return function(i){var o=ot.attr(i,t);return null==o?"!="===e:!e||(o+="","="===e?o===n:"!="===e?o!==n:"^="===e?n&&0===o.indexOf(n):"*="===e?n&&o.indexOf(n)>-1:"$="===e?n&&o.slice(-n.length)===n:"~="===e?(" "+o.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,o){var r="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===i&&0===o?function(t){return!!t.parentNode}:function(e,n,l){var c,d,u,h,f,p,g=r!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s,b=!1;if(m){if(r){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(b=(f=(c=(d=(u=(h=m)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]||[])[0]===D&&c[1])&&c[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(b=f=0)||p.pop();)if(1===h.nodeType&&++b&&h===e){d[t]=[D,f,b];break}}else if(y&&(b=f=(c=(d=(u=(h=e)[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]||[])[0]===D&&c[1]),!1===b)for(;(h=++f&&h&&h[g]||(b=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++b||(y&&((d=(u=h[w]||(h[w]={}))[h.uniqueID]||(u[h.uniqueID]={}))[t]=[D,b]),h!==e)););return(b-=o)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,o=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return o[w]?o(e):o.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,n){for(var i,r=o(t,e),a=r.length;a--;)t[i=O(t,r[a])]=!(n[i]=r[a])}):function(t){return o(t,0,n)}):o}},pseudos:{not:at(function(t){var e=[],n=[],i=s(t.replace(U,"$1"));return i[w]?at(function(t,e,n,o){for(var r,a=i(t,null,o,[]),s=t.length;s--;)(r=a[s])&&(t[s]=!(e[s]=r))}):function(t,o,r){return e[0]=t,i(e,null,r,n),e[0]=null,!n.pop()}}),has:at(function(t){return function(e){return ot(t,e).length>0}}),contains:at(function(t){return t=t.replace(et,nt),function(e){return(e.textContent||e.innerText||o(e)).indexOf(t)>-1}}),lang:at(function(t){return Y.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(et,nt).toLowerCase(),function(e){var n;do{if(n=g?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return K.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ht(function(){return[0]}),last:ht(function(t,e){return[e-1]}),eq:ht(function(t,e,n){return[0>n?n+e:n]}),even:ht(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:ht(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:ht(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:ht(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=dt(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=ut(e);function pt(){}function gt(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function mt(t,e,n){var i=e.dir,o=n&&"parentNode"===i,r=C++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||o)return t(e,n,r)}:function(e,n,a){var s,l,c,d=[D,r];if(a){for(;e=e[i];)if((1===e.nodeType||o)&&t(e,n,a))return!0}else for(;e=e[i];)if(1===e.nodeType||o){if((s=(l=(c=e[w]||(e[w]={}))[e.uniqueID]||(c[e.uniqueID]={}))[i])&&s[0]===D&&s[1]===r)return d[2]=s[2];if(l[i]=d,d[2]=t(e,n,a))return!0}}}function vt(t){return t.length>1?function(e,n,i){for(var o=t.length;o--;)if(!t[o](e,n,i))return!1;return!0}:t[0]}function yt(t,e,n,i,o){for(var r,a=[],s=0,l=t.length,c=null!=e;l>s;s++)(r=t[s])&&(n&&!n(r,i,o)||(a.push(r),c&&e.push(s)));return a}function bt(t,e,n,i,o,r){return i&&!i[w]&&(i=bt(i)),o&&!o[w]&&(o=bt(o,r)),at(function(r,a,s,l){var c,d,u,h=[],f=[],p=a.length,g=r||function(t,e,n){for(var i=0,o=e.length;o>i;i++)ot(t,e[i],n);return n}(e||"*",s.nodeType?[s]:s,[]),m=!t||!r&&e?g:yt(g,h,t,s,l),v=n?o||(r?t:p||i)?[]:a:m;if(n&&n(m,v,s,l),i)for(c=yt(v,f),i(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[f[d]]=!(m[f[d]]=u));if(r){if(o||t){if(o){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u);o(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=o?O(r,u):h[d])>-1&&(r[c]=!(a[c]=u))}}else v=yt(v===a?v.splice(p,v.length):v),o?o(null,a,v,l):N.apply(a,v)})}function wt(t){for(var e,n,o,r=t.length,a=i.relative[t[0].type],s=a||i.relative[" "],l=a?1:0,d=mt(function(t){return t===e},s,!0),u=mt(function(t){return O(e,t)>-1},s,!0),h=[function(t,n,i){var o=!a&&(i||n!==c)||((e=n).nodeType?d(t,n,i):u(t,n,i));return e=null,o}];r>l;l++)if(n=i.relative[t[l].type])h=[mt(vt(h),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[w]){for(o=++l;r>o&&!i.relative[t[o].type];o++);return bt(l>1&&vt(h),l>1&&gt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(U,"$1"),n,o>l&&wt(t.slice(l,o)),r>o&&wt(t=t.slice(o)),r>o&&gt(t))}h.push(n)}return vt(h)}function xt(t,e){var n=e.length>0,o=t.length>0,r=function(r,a,s,l,d){var u,p,m,v=0,y="0",b=r&&[],w=[],x=c,C=r||o&&i.find.TAG("*",d),_=D+=null==x?1:Math.random()||.1,S=C.length;for(d&&(c=a===f||a||d);y!==S&&null!=(u=C[y]);y++){if(o&&u){for(p=0,a||u.ownerDocument===f||(h(u),s=!g);m=t[p++];)if(m(u,a||f,s)){l.push(u);break}d&&(D=_)}n&&((u=!m&&u)&&v--,r&&b.push(u))}if(v+=y,n&&y!==v){for(p=0;m=e[p++];)m(b,w,a,s);if(r){if(v>0)for(;y--;)b[y]||w[y]||(w[y]=M.call(l));w=yt(w)}N.apply(l,w),d&&!r&&w.length>0&&v+e.length>1&&ot.uniqueSort(l)}return d&&(D=_,c=x),b};return n?at(r):r}return pt.prototype=i.filters=i.pseudos,i.setFilters=new pt,a=ot.tokenize=function(t,e){var n,o,r,a,s,l,c,d=S[t+" "];if(d)return e?0:d.slice(0);for(s=t,l=[],c=i.preFilter;s;){for(a in n&&!(o=$.exec(s))||(o&&(s=s.slice(o[0].length)||s),l.push(r=[])),n=!1,(o=W.exec(s))&&(n=o.shift(),r.push({value:n,type:o[0].replace(U," ")}),s=s.slice(n.length)),i.filter)!(o=G[a].exec(s))||c[a]&&!(o=c[a](o))||(n=o.shift(),r.push({value:n,type:a,matches:o}),s=s.slice(n.length));if(!n)break}return e?s.length:s?ot.error(t):S(t,l).slice(0)},s=ot.compile=function(t,e){var n,i=[],o=[],r=k[t+" "];if(!r){for(e||(e=a(t)),n=e.length;n--;)(r=wt(e[n]))[w]?i.push(r):o.push(r);(r=k(t,xt(o,i))).selector=t}return r},l=ot.select=function(t,e,o,r){var l,c,d,u,h,f="function"==typeof t&&t,p=!r&&a(t=f.selector||t);if(o=o||[],1===p.length){if((c=p[0]=p[0].slice(0)).length>2&&"ID"===(d=c[0]).type&&n.getById&&9===e.nodeType&&g&&i.relative[c[1].type]){if(!(e=(i.find.ID(d.matches[0].replace(et,nt),e)||[])[0]))return o;f&&(e=e.parentNode),t=t.slice(c.shift().value.length)}for(l=G.needsContext.test(t)?0:c.length;l--&&!i.relative[u=(d=c[l]).type];)if((h=i.find[u])&&(r=h(d.matches[0].replace(et,nt),Z.test(c[0].type)&&ft(e.parentNode)||e))){if(c.splice(l,1),!(t=r.length&&gt(c)))return N.apply(o,r),o;break}}return(f||s(t,p))(r,e,!g,o,!e||Z.test(t)&&ft(e.parentNode)||e),o},n.sortStable=w.split("").sort(T).join("")===w,n.detectDuplicates=!!u,h(),n.sortDetached=st(function(t){return 1&t.compareDocumentPosition(f.createElement("div"))}),st(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||lt("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),n.attributes&&st(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||lt("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),st(function(t){return null==t.getAttribute("disabled")})||lt(H,function(t,e,n){var i;return n?void 0:!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),ot}(t);f.find=b,f.expr=b.selectors,f.expr[":"]=f.expr.pseudos,f.uniqueSort=f.unique=b.uniqueSort,f.text=b.getText,f.isXMLDoc=b.isXML,f.contains=b.contains;var w=function(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&f(t).is(n))break;i.push(t)}return i},x=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},D=f.expr.match.needsContext,C=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,_=/^.[^:#\[\.,]*$/;function S(t,e,n){if(f.isFunction(e))return f.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return f.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(_.test(e))return f.filter(e,t,n);e=f.filter(e,t)}return f.grep(t,function(t){return s.call(e,t)>-1!==n})}f.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?f.find.matchesSelector(i,t)?[i]:[]:f.find.matches(t,f.grep(e,function(t){return 1===t.nodeType}))},f.fn.extend({find:function(t){var e,n=this.length,i=[],o=this;if("string"!=typeof t)return this.pushStack(f(t).filter(function(){for(e=0;n>e;e++)if(f.contains(o[e],this))return!0}));for(e=0;n>e;e++)f.find(t,o[e],i);return(i=this.pushStack(n>1?f.unique(i):i)).selector=this.selector?this.selector+" "+t:t,i},filter:function(t){return this.pushStack(S(this,t||[],!1))},not:function(t){return this.pushStack(S(this,t||[],!0))},is:function(t){return!!S(this,"string"==typeof t&&D.test(t)?f(t):t||[],!1).length}});var k,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(f.fn.init=function(t,e,n){var o,r;if(!t)return this;if(n=n||k,"string"==typeof t){if(!(o="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:T.exec(t))||!o[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(o[1]){if(f.merge(this,f.parseHTML(o[1],(e=e instanceof f?e[0]:e)&&e.nodeType?e.ownerDocument||e:i,!0)),C.test(o[1])&&f.isPlainObject(e))for(o in e)f.isFunction(this[o])?this[o](e[o]):this.attr(o,e[o]);return this}return(r=i.getElementById(o[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=i,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):f.isFunction(t)?void 0!==n.ready?n.ready(t):t(f):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),f.makeArray(t,this))}).prototype=f.fn,k=f(i);var A=/^(?:parents|prev(?:Until|All))/,P={children:!0,contents:!0,next:!0,prev:!0};function E(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}f.fn.extend({has:function(t){var e=f(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(f.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,i=0,o=this.length,r=[],a=D.test(t)||"string"!=typeof t?f(t,e||this.context):0;o>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&f.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(r.length>1?f.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?s.call(f(t),this[0]):s.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(f.uniqueSort(f.merge(this.get(),f(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),f.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return w(t,"parentNode")},parentsUntil:function(t,e,n){return w(t,"parentNode",n)},next:function(t){return E(t,"nextSibling")},prev:function(t){return E(t,"previousSibling")},nextAll:function(t){return w(t,"nextSibling")},prevAll:function(t){return w(t,"previousSibling")},nextUntil:function(t,e,n){return w(t,"nextSibling",n)},prevUntil:function(t,e,n){return w(t,"previousSibling",n)},siblings:function(t){return x((t.parentNode||{}).firstChild,t)},children:function(t){return x(t.firstChild)},contents:function(t){return t.contentDocument||f.merge([],t.childNodes)}},function(t,e){f.fn[t]=function(n,i){var o=f.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(o=f.filter(i,o)),this.length>1&&(P[t]||f.uniqueSort(o),A.test(t)&&o.reverse()),this.pushStack(o)}});var M,R=/\S+/g;function N(){i.removeEventListener("DOMContentLoaded",N),t.removeEventListener("load",N),f.ready()}f.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return f.each(t.match(R)||[],function(t,n){e[n]=!0}),e}(t):f.extend({},t);var e,n,i,o,r=[],a=[],s=-1,l=function(){for(o=t.once,i=e=!0;a.length;s=-1)for(n=a.shift();++s<r.length;)!1===r[s].apply(n[0],n[1])&&t.stopOnFalse&&(s=r.length,n=!1);t.memory||(n=!1),e=!1,o&&(r=n?[]:"")},c={add:function(){return r&&(n&&!e&&(s=r.length-1,a.push(n)),function e(n){f.each(n,function(n,i){f.isFunction(i)?t.unique&&c.has(i)||r.push(i):i&&i.length&&"string"!==f.type(i)&&e(i)})}(arguments),n&&!e&&l()),this},remove:function(){return f.each(arguments,function(t,e){for(var n;(n=f.inArray(e,r,n))>-1;)r.splice(n,1),s>=n&&s--}),this},has:function(t){return t?f.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return o=a=[],r=n="",this},disabled:function(){return!r},lock:function(){return o=a=[],n||(r=n=""),this},locked:function(){return!!o},fireWith:function(t,n){return o||(n=[t,(n=n||[]).slice?n.slice():n],a.push(n),e||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},f.extend({Deferred:function(t){var e=[["resolve","done",f.Callbacks("once memory"),"resolved"],["reject","fail",f.Callbacks("once memory"),"rejected"],["notify","progress",f.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var t=arguments;return f.Deferred(function(n){f.each(e,function(e,r){var a=f.isFunction(t[e])&&t[e];o[r[1]](function(){var t=a&&a.apply(this,arguments);t&&f.isFunction(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[r[0]+"With"](this===i?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?f.extend(t,i):i}},o={};return i.pipe=i.then,f.each(e,function(t,r){var a=r[2],s=r[3];i[r[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),o[r[0]]=function(){return o[r[0]+"With"](this===o?i:this,arguments),this},o[r[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(t){var e,n,i,r=0,a=o.call(arguments),s=a.length,l=1!==s||t&&f.isFunction(t.promise)?s:0,c=1===l?t:f.Deferred(),d=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?o.call(arguments):r,i===e?c.notifyWith(n,i):--l||c.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)a[r]&&f.isFunction(a[r].promise)?a[r].promise().progress(d(r,n,e)).done(d(r,i,a)).fail(c.reject):--l;return l||c.resolveWith(i,a),c.promise()}}),f.fn.ready=function(t){return f.ready.promise().done(t),this},f.extend({isReady:!1,readyWait:1,holdReady:function(t){t?f.readyWait++:f.ready(!0)},ready:function(t){(!0===t?--f.readyWait:f.isReady)||(f.isReady=!0,!0!==t&&--f.readyWait>0||(M.resolveWith(i,[f]),f.fn.triggerHandler&&(f(i).triggerHandler("ready"),f(i).off("ready"))))}}),f.ready.promise=function(e){return M||(M=f.Deferred(),"complete"===i.readyState||"loading"!==i.readyState&&!i.documentElement.doScroll?t.setTimeout(f.ready):(i.addEventListener("DOMContentLoaded",N),t.addEventListener("load",N))),M.promise(e)},f.ready.promise();var I=function(t,e,n,i,o,r,a){var s=0,l=t.length,c=null==n;if("object"===f.type(n))for(s in o=!0,n)I(t,e,s,n[s],!0,r,a);else if(void 0!==i&&(o=!0,f.isFunction(i)||(a=!0),c&&(a?(e.call(t,i),e=null):(c=e,e=function(t,e,n){return c.call(f(t),n)})),e))for(;l>s;s++)e(t[s],n,a?i:i.call(t[s],s,e(t[s],n)));return o?t:c?e.call(t):l?e(t[0],n):r},O=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function H(){this.expando=f.expando+H.uid++}H.uid=1,H.prototype={register:function(t,e){var n=e||{};return t.nodeType?t[this.expando]=n:Object.defineProperty(t,this.expando,{value:n,writable:!0,configurable:!0}),t[this.expando]},cache:function(t){if(!O(t))return{};var e=t[this.expando];return e||(e={},O(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[e]=n;else for(i in e)o[i]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][e]},access:function(t,e,n){var i;return void 0===e||e&&"string"==typeof e&&void 0===n?void 0!==(i=this.get(t,e))?i:this.get(t,f.camelCase(e)):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i,o,r=t[this.expando];if(void 0!==r){if(void 0===e)this.register(t);else{f.isArray(e)?i=e.concat(e.map(f.camelCase)):(o=f.camelCase(e),i=e in r?[e,o]:(i=o)in r?[i]:i.match(R)||[]),n=i.length;for(;n--;)delete r[i[n]]}(void 0===e||f.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!f.isEmptyObject(e)}};var L=new H,B=new H,F=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,j=/[A-Z]/g;function z(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(j,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:F.test(n)?f.parseJSON(n):n)}catch(t){}B.set(t,e,n)}else n=void 0;return n}f.extend({hasData:function(t){return B.hasData(t)||L.hasData(t)},data:function(t,e,n){return B.access(t,e,n)},removeData:function(t,e){B.remove(t,e)},_data:function(t,e,n){return L.access(t,e,n)},_removeData:function(t,e){L.remove(t,e)}}),f.fn.extend({data:function(t,e){var n,i,o,r=this[0],a=r&&r.attributes;if(void 0===t){if(this.length&&(o=B.get(r),1===r.nodeType&&!L.get(r,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(i=a[n].name).indexOf("data-")&&(i=f.camelCase(i.slice(5)),z(r,i,o[i]));L.set(r,"hasDataAttrs",!0)}return o}return"object"==typeof t?this.each(function(){B.set(this,t)}):I(this,function(e){var n,i;if(r&&void 0===e){if(void 0!==(n=B.get(r,t)||B.get(r,t.replace(j,"-$&").toLowerCase())))return n;if(i=f.camelCase(t),void 0!==(n=B.get(r,i)))return n;if(void 0!==(n=z(r,i,void 0)))return n}else i=f.camelCase(t),this.each(function(){var n=B.get(this,i);B.set(this,i,e),t.indexOf("-")>-1&&void 0!==n&&B.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){B.remove(this,t)})}}),f.extend({queue:function(t,e,n){var i;return t?(i=L.get(t,e=(e||"fx")+"queue"),n&&(!i||f.isArray(n)?i=L.access(t,e,f.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){var n=f.queue(t,e=e||"fx"),i=n.length,o=n.shift(),r=f._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,function(){f.dequeue(t,e)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return L.get(t,n)||L.access(t,n,{empty:f.Callbacks("once memory").add(function(){L.remove(t,[e+"queue",n])})})}}),f.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?f.queue(this[0],t):void 0===e?this:this.each(function(){var n=f.queue(this,t,e);f._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&f.dequeue(this,t)})},dequeue:function(t){return this.each(function(){f.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,o=f.Deferred(),r=this,a=this.length,s=function(){--i||o.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=L.get(r[a],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),o.promise(e)}});var U=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,$=new RegExp("^(?:([+-])=|)("+U+")([a-z%]*)$","i"),W=["Top","Right","Bottom","Left"],q=function(t,e){return"none"===f.css(t=e||t,"display")||!f.contains(t.ownerDocument,t)};function V(t,e,n,i){var o,r=1,a=20,s=i?function(){return i.cur()}:function(){return f.css(t,e,"")},l=s(),c=n&&n[3]||(f.cssNumber[e]?"":"px"),d=(f.cssNumber[e]||"px"!==c&&+l)&&$.exec(f.css(t,e));if(d&&d[3]!==c){c=c||d[3],n=n||[],d=+l||1;do{f.style(t,e,(d/=r=r||".5")+c)}while(r!==(r=s()/l)&&1!==r&&--a)}return n&&(d=+d||+l||0,o=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=d,i.end=o)),o}var Y=/^(?:checkbox|radio)$/i,G=/<([\w:-]+)/,K=/^$|\/(?:java|ecma)script/i,X={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function J(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&f.nodeName(t,e)?f.merge([t],n):n}function Q(t,e){for(var n=0,i=t.length;i>n;n++)L.set(t[n],"globalEval",!e||L.get(e[n],"globalEval"))}X.optgroup=X.option,X.tbody=X.tfoot=X.colgroup=X.caption=X.thead,X.th=X.td;var Z=/<|&#?\w+;/;function tt(t,e,n,i,o){for(var r,a,s,l,c,d,u=e.createDocumentFragment(),h=[],p=0,g=t.length;g>p;p++)if((r=t[p])||0===r)if("object"===f.type(r))f.merge(h,r.nodeType?[r]:r);else if(Z.test(r)){for(a=a||u.appendChild(e.createElement("div")),s=(G.exec(r)||["",""])[1].toLowerCase(),a.innerHTML=(l=X[s]||X._default)[1]+f.htmlPrefilter(r)+l[2],d=l[0];d--;)a=a.lastChild;f.merge(h,a.childNodes),(a=u.firstChild).textContent=""}else h.push(e.createTextNode(r));for(u.textContent="",p=0;r=h[p++];)if(i&&f.inArray(r,i)>-1)o&&o.push(r);else if(c=f.contains(r.ownerDocument,r),a=J(u.appendChild(r),"script"),c&&Q(a),n)for(d=0;r=a[d++];)K.test(r.type||"")&&n.push(r);return u}!function(){var t=i.createDocumentFragment().appendChild(i.createElement("div")),e=i.createElement("input");e.setAttribute("type","radio"),e.setAttribute("checked","checked"),e.setAttribute("name","t"),t.appendChild(e),u.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",u.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var et=/^key/,nt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,it=/^([^.]*)(?:\.(.+)|)/;function ot(){return!0}function rt(){return!1}function at(){try{return i.activeElement}catch(t){}}function st(t,e,n,i,o,r){var a,s;if("object"==typeof e){for(s in"string"!=typeof n&&(i=i||n,n=void 0),e)st(t,s,n,i,e[s],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=rt;else if(!o)return t;return 1===r&&(a=o,(o=function(t){return f().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=f.guid++)),t.each(function(){f.event.add(this,e,o,i,n)})}f.event={global:{},add:function(t,e,n,i,o){var r,a,s,l,c,d,u,h,p,g,m,v=L.get(t);if(v)for(n.handler&&(n=(r=n).handler,o=r.selector),n.guid||(n.guid=f.guid++),(l=v.events)||(l=v.events={}),(a=v.handle)||(a=v.handle=function(e){return void 0!==f&&f.event.triggered!==e.type?f.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(R)||[""]).length;c--;)p=m=(s=it.exec(e[c])||[])[1],g=(s[2]||"").split(".").sort(),p&&(u=f.event.special[p]||{},u=f.event.special[p=(o?u.delegateType:u.bindType)||p]||{},d=f.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&f.expr.match.needsContext.test(o),namespace:g.join(".")},r),(h=l[p])||((h=l[p]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,i,g,a)||t.addEventListener&&t.addEventListener(p,a)),u.add&&(u.add.call(t,d),d.handler.guid||(d.handler.guid=n.guid)),o?h.splice(h.delegateCount++,0,d):h.push(d),f.event.global[p]=!0)},remove:function(t,e,n,i,o){var r,a,s,l,c,d,u,h,p,g,m,v=L.hasData(t)&&L.get(t);if(v&&(l=v.events)){for(c=(e=(e||"").match(R)||[""]).length;c--;)if(p=m=(s=it.exec(e[c])||[])[1],g=(s[2]||"").split(".").sort(),p){for(u=f.event.special[p]||{},h=l[p=(i?u.delegateType:u.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=r=h.length;r--;)d=h[r],!o&&m!==d.origType||n&&n.guid!==d.guid||s&&!s.test(d.namespace)||i&&i!==d.selector&&("**"!==i||!d.selector)||(h.splice(r,1),d.selector&&h.delegateCount--,u.remove&&u.remove.call(t,d));a&&!h.length&&(u.teardown&&!1!==u.teardown.call(t,g,v.handle)||f.removeEvent(t,p,v.handle),delete l[p])}else for(p in l)f.event.remove(t,p+e[c],n,i,!0);f.isEmptyObject(l)&&L.remove(t,"handle events")}},dispatch:function(t){t=f.event.fix(t);var e,n,i,r,a,s=[],l=o.call(arguments),c=(L.get(this,"events")||{})[t.type]||[],d=f.event.special[t.type]||{};if(l[0]=t,t.delegateTarget=this,!d.preDispatch||!1!==d.preDispatch.call(this,t)){for(s=f.event.handlers.call(this,t,c),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,n=0;(a=r.handlers[n++])&&!t.isImmediatePropagationStopped();)t.rnamespace&&!t.rnamespace.test(a.namespace)||(t.handleObj=a,t.data=a.data,void 0!==(i=((f.event.special[a.origType]||{}).handle||a.handler).apply(r.elem,l))&&!1===(t.result=i)&&(t.preventDefault(),t.stopPropagation()));return d.postDispatch&&d.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,o,r,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&("click"!==t.type||isNaN(t.button)||t.button<1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==t.type)){for(i=[],n=0;s>n;n++)void 0===i[o=(r=e[n]).selector+" "]&&(i[o]=r.needsContext?f(o,this).index(l)>-1:f.find(o,this,null,[l]).length),i[o]&&i.push(r);i.length&&a.push({elem:l,handlers:i})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,o,r,a=e.button;return null==t.pageX&&null!=e.clientX&&(r=(n=t.target.ownerDocument||i).body,t.pageX=e.clientX+((o=n.documentElement)&&o.scrollLeft||r&&r.scrollLeft||0)-(o&&o.clientLeft||r&&r.clientLeft||0),t.pageY=e.clientY+(o&&o.scrollTop||r&&r.scrollTop||0)-(o&&o.clientTop||r&&r.clientTop||0)),t.which||void 0===a||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[f.expando])return t;var e,n,o,r=t.type,a=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=nt.test(r)?this.mouseHooks:et.test(r)?this.keyHooks:{}),o=s.props?this.props.concat(s.props):this.props,t=new f.Event(a),e=o.length;e--;)t[n=o[e]]=a[n];return t.target||(t.target=i),3===t.target.nodeType&&(t.target=t.target.parentNode),s.filter?s.filter(t,a):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==at()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===at()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&f.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return f.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},f.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},f.Event=function(t,e){return this instanceof f.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?ot:rt):this.type=t,e&&f.extend(this,e),this.timeStamp=t&&t.timeStamp||f.now(),void(this[f.expando]=!0)):new f.Event(t,e)},f.Event.prototype={constructor:f.Event,isDefaultPrevented:rt,isPropagationStopped:rt,isImmediatePropagationStopped:rt,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=ot,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=ot,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=ot,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},f.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){f.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=t.relatedTarget,o=t.handleObj;return i&&(i===this||f.contains(this,i))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),f.fn.extend({on:function(t,e,n,i){return st(this,t,e,n,i)},one:function(t,e,n,i){return st(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,f(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(o in t)this.off(o,e,t[o]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=rt),this.each(function(){f.event.remove(this,t,n,e)})}});var lt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ct=/<script|<style|<link/i,dt=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^true\/(.*)/,ht=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ft(t,e){return f.nodeName(t,"table")&&f.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function pt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function gt(t){var e=ut.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function mt(t,e){var n,i,o,r,a,s,l,c;if(1===e.nodeType){if(L.hasData(t)&&(r=L.access(t),a=L.set(e,r),c=r.events))for(o in delete a.handle,a.events={},c)for(n=0,i=c[o].length;i>n;n++)f.event.add(e,o,c[o][n]);B.hasData(t)&&(s=B.access(t),l=f.extend({},s),B.set(e,l))}}function vt(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Y.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function yt(t,e,n,i){e=r.apply([],e);var o,a,s,l,c,d,h=0,p=t.length,g=p-1,m=e[0],v=f.isFunction(m);if(v||p>1&&"string"==typeof m&&!u.checkClone&&dt.test(m))return t.each(function(o){var r=t.eq(o);v&&(e[0]=m.call(this,o,r.html())),yt(r,e,n,i)});if(p&&(a=(o=tt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===o.childNodes.length&&(o=a),a||i)){for(l=(s=f.map(J(o,"script"),pt)).length;p>h;h++)c=o,h!==g&&(c=f.clone(c,!0,!0),l&&f.merge(s,J(c,"script"))),n.call(t[h],c,h);if(l)for(d=s[s.length-1].ownerDocument,f.map(s,gt),h=0;l>h;h++)K.test((c=s[h]).type||"")&&!L.access(c,"globalEval")&&f.contains(d,c)&&(c.src?f._evalUrl&&f._evalUrl(c.src):f.globalEval(c.textContent.replace(ht,"")))}return t}function bt(t,e,n){for(var i,o=e?f.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||f.cleanData(J(i)),i.parentNode&&(n&&f.contains(i.ownerDocument,i)&&Q(J(i,"script")),i.parentNode.removeChild(i));return t}f.extend({htmlPrefilter:function(t){return t.replace(lt,"<$1></$2>")},clone:function(t,e,n){var i,o,r,a,s=t.cloneNode(!0),l=f.contains(t.ownerDocument,t);if(!(u.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||f.isXMLDoc(t)))for(a=J(s),i=0,o=(r=J(t)).length;o>i;i++)vt(r[i],a[i]);if(e)if(n)for(r=r||J(t),a=a||J(s),i=0,o=r.length;o>i;i++)mt(r[i],a[i]);else mt(t,s);return(a=J(s,"script")).length>0&&Q(a,!l&&J(t,"script")),s},cleanData:function(t){for(var e,n,i,o=f.event.special,r=0;void 0!==(n=t[r]);r++)if(O(n)){if(e=n[L.expando]){if(e.events)for(i in e.events)o[i]?f.event.remove(n,i):f.removeEvent(n,i,e.handle);n[L.expando]=void 0}n[B.expando]&&(n[B.expando]=void 0)}}}),f.fn.extend({domManip:yt,detach:function(t){return bt(this,t,!0)},remove:function(t){return bt(this,t)},text:function(t){return I(this,function(t){return void 0===t?f.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return yt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ft(this,t).appendChild(t)})},prepend:function(){return yt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=ft(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return yt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(f.cleanData(J(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return f.clone(this,t,e)})},html:function(t){return I(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!ct.test(t)&&!X[(G.exec(t)||["",""])[1].toLowerCase()]){t=f.htmlPrefilter(t);try{for(;i>n;n++)1===(e=this[n]||{}).nodeType&&(f.cleanData(J(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return yt(this,arguments,function(e){var n=this.parentNode;f.inArray(this,t)<0&&(f.cleanData(J(this)),n&&n.replaceChild(e,this))},t)}}),f.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){f.fn[t]=function(t){for(var n,i=[],o=f(t),r=o.length-1,s=0;r>=s;s++)n=s===r?this:this.clone(!0),f(o[s])[e](n),a.apply(i,n.get());return this.pushStack(i)}});var wt,xt={HTML:"block",BODY:"block"};function Dt(t,e){var n=f(e.createElement(t)).appendTo(e.body),i=f.css(n[0],"display");return n.detach(),i}function Ct(t){var e=i,n=xt[t];return n||("none"!==(n=Dt(t,e))&&n||((e=(wt=(wt||f("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement))[0].contentDocument).write(),e.close(),n=Dt(t,e),wt.detach()),xt[t]=n),n}var _t=/^margin/,St=new RegExp("^("+U+")(?!px)[a-z%]+$","i"),kt=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},Tt=function(t,e,n,i){var o,r,a={};for(r in e)a[r]=t.style[r],t.style[r]=e[r];for(r in o=n.apply(t,i||[]),e)t.style[r]=a[r];return o},At=i.documentElement;function Pt(t,e,n){var i,o,r,a,s=t.style;return""!==(a=(n=n||kt(t))?n.getPropertyValue(e)||n[e]:void 0)&&void 0!==a||f.contains(t.ownerDocument,t)||(a=f.style(t,e)),n&&!u.pixelMarginRight()&&St.test(a)&&_t.test(e)&&(i=s.width,o=s.minWidth,r=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=o,s.maxWidth=r),void 0!==a?a+"":a}function Et(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}!function(){var e,n,o,r,a=i.createElement("div"),s=i.createElement("div");if(s.style){function l(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",s.innerHTML="",At.appendChild(a);var i=t.getComputedStyle(s);e="1%"!==i.top,r="2px"===i.marginLeft,n="4px"===i.width,s.style.marginRight="50%",o="4px"===i.marginRight,At.removeChild(a)}s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",u.clearCloneStyle="content-box"===s.style.backgroundClip,a.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",a.appendChild(s),f.extend(u,{pixelPosition:function(){return l(),e},boxSizingReliable:function(){return null==n&&l(),n},pixelMarginRight:function(){return null==n&&l(),o},reliableMarginLeft:function(){return null==n&&l(),r},reliableMarginRight:function(){var e,n=s.appendChild(i.createElement("div"));return n.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",s.style.width="1px",At.appendChild(a),e=!parseFloat(t.getComputedStyle(n).marginRight),At.removeChild(a),s.removeChild(n),e}})}}();var Mt=/^(none|table(?!-c[ea]).+)/,Rt={position:"absolute",visibility:"hidden",display:"block"},Nt={letterSpacing:"0",fontWeight:"400"},It=["Webkit","O","Moz","ms"],Ot=i.createElement("div").style;function Ht(t){if(t in Ot)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=It.length;n--;)if((t=It[n]+e)in Ot)return t}function Lt(t,e,n){var i=$.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function Bt(t,e,n,i,o){for(var r=n===(i?"border":"content")?4:"width"===e?1:0,a=0;4>r;r+=2)"margin"===n&&(a+=f.css(t,n+W[r],!0,o)),i?("content"===n&&(a-=f.css(t,"padding"+W[r],!0,o)),"margin"!==n&&(a-=f.css(t,"border"+W[r]+"Width",!0,o))):(a+=f.css(t,"padding"+W[r],!0,o),"padding"!==n&&(a+=f.css(t,"border"+W[r]+"Width",!0,o)));return a}function Ft(t,e,n){var i=!0,o="width"===e?t.offsetWidth:t.offsetHeight,r=kt(t),a="border-box"===f.css(t,"boxSizing",!1,r);if(0>=o||null==o){if((0>(o=Pt(t,e,r))||null==o)&&(o=t.style[e]),St.test(o))return o;i=a&&(u.boxSizingReliable()||o===t.style[e]),o=parseFloat(o)||0}return o+Bt(t,e,n||(a?"border":"content"),i,r)+"px"}function jt(t,e){for(var n,i,o,r=[],a=0,s=t.length;s>a;a++)(i=t[a]).style&&(r[a]=L.get(i,"olddisplay"),n=i.style.display,e?(r[a]||"none"!==n||(i.style.display=""),""===i.style.display&&q(i)&&(r[a]=L.access(i,"olddisplay",Ct(i.nodeName)))):(o=q(i),"none"===n&&o||L.set(i,"olddisplay",o?n:f.css(i,"display"))));for(a=0;s>a;a++)(i=t[a]).style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?r[a]||"":"none"));return t}function zt(t,e,n,i,o){return new zt.prototype.init(t,e,n,i,o)}f.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=Pt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,a,s=f.camelCase(e),l=t.style;return e=f.cssProps[s]||(f.cssProps[s]=Ht(s)||s),a=f.cssHooks[e]||f.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(o=a.get(t,!1,i))?o:l[e]:("string"==(r=typeof n)&&(o=$.exec(n))&&o[1]&&(n=V(t,e,o),r="number"),void(null!=n&&n==n&&("number"===r&&(n+=o&&o[3]||(f.cssNumber[s]?"":"px")),u.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,i))||(l[e]=n))))}},css:function(t,e,n,i){var o,r,a,s=f.camelCase(e);return e=f.cssProps[s]||(f.cssProps[s]=Ht(s)||s),(a=f.cssHooks[e]||f.cssHooks[s])&&"get"in a&&(o=a.get(t,!0,n)),void 0===o&&(o=Pt(t,e,i)),"normal"===o&&e in Nt&&(o=Nt[e]),""===n||n?(r=parseFloat(o),!0===n||isFinite(r)?r||0:o):o}}),f.each(["height","width"],function(t,e){f.cssHooks[e]={get:function(t,n,i){return n?Mt.test(f.css(t,"display"))&&0===t.offsetWidth?Tt(t,Rt,function(){return Ft(t,e,i)}):Ft(t,e,i):void 0},set:function(t,n,i){var o,r=i&&kt(t),a=i&&Bt(t,e,i,"border-box"===f.css(t,"boxSizing",!1,r),r);return a&&(o=$.exec(n))&&"px"!==(o[3]||"px")&&(t.style[e]=n,n=f.css(t,e)),Lt(0,n,a)}}}),f.cssHooks.marginLeft=Et(u.reliableMarginLeft,function(t,e){return e?(parseFloat(Pt(t,"marginLeft"))||t.getBoundingClientRect().left-Tt(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px":void 0}),f.cssHooks.marginRight=Et(u.reliableMarginRight,function(t,e){return e?Tt(t,{display:"inline-block"},Pt,[t,"marginRight"]):void 0}),f.each({margin:"",padding:"",border:"Width"},function(t,e){f.cssHooks[t+e]={expand:function(n){for(var i=0,o={},r="string"==typeof n?n.split(" "):[n];4>i;i++)o[t+W[i]+e]=r[i]||r[i-2]||r[0];return o}},_t.test(t)||(f.cssHooks[t+e].set=Lt)}),f.fn.extend({css:function(t,e){return I(this,function(t,e,n){var i,o,r={},a=0;if(f.isArray(e)){for(i=kt(t),o=e.length;o>a;a++)r[e[a]]=f.css(t,e[a],!1,i);return r}return void 0!==n?f.style(t,e,n):f.css(t,e)},t,e,arguments.length>1)},show:function(){return jt(this,!0)},hide:function(){return jt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){q(this)?f(this).show():f(this).hide()})}}),f.Tween=zt,(zt.prototype={constructor:zt,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||f.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(f.cssNumber[n]?"":"px")},cur:function(){var t=zt.propHooks[this.prop];return t&&t.get?t.get(this):zt.propHooks._default.get(this)},run:function(t){var e,n=zt.propHooks[this.prop];return this.pos=e=this.options.duration?f.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):zt.propHooks._default.set(this),this}}).init.prototype=zt.prototype,(zt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=f.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){f.fx.step[t.prop]?f.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[f.cssProps[t.prop]]&&!f.cssHooks[t.prop]?t.elem[t.prop]=t.now:f.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=zt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},f.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},f.fx=zt.prototype.init,f.fx.step={};var Ut,$t,Wt=/^(?:toggle|show|hide)$/,qt=/queueHooks$/;function Vt(){return t.setTimeout(function(){Ut=void 0}),Ut=f.now()}function Yt(t,e){var n,i=0,o={height:t};for(e=e?1:0;4>i;i+=2-e)o["margin"+(n=W[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function Gt(t,e,n){for(var i,o=(Kt.tweeners[e]||[]).concat(Kt.tweeners["*"]),r=0,a=o.length;a>r;r++)if(i=o[r].call(n,e,t))return i}function Kt(t,e,n){var i,o,r=0,a=Kt.prefilters.length,s=f.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var e=Ut||Vt(),n=Math.max(0,c.startTime+c.duration-e),i=1-(n/c.duration||0),r=0,a=c.tweens.length;a>r;r++)c.tweens[r].run(i);return s.notifyWith(t,[c,i,n]),1>i&&a?n:(s.resolveWith(t,[c]),!1)},c=s.promise({elem:t,props:f.extend({},e),opts:f.extend(!0,{specialEasing:{},easing:f.easing._default},n),originalProperties:e,originalOptions:n,startTime:Ut||Vt(),duration:n.duration,tweens:[],createTween:function(e,n){var i=f.Tween(t,c.opts,e,n,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var n=0,i=e?c.tweens.length:0;if(o)return this;for(o=!0;i>n;n++)c.tweens[n].run(1);return e?(s.notifyWith(t,[c,1,0]),s.resolveWith(t,[c,e])):s.rejectWith(t,[c,e]),this}}),d=c.props;for(function(t,e){var n,i,o,r,a;for(n in t)if(o=e[i=f.camelCase(n)],f.isArray(r=t[n])&&(o=r[1],r=t[n]=r[0]),n!==i&&(t[i]=r,delete t[n]),(a=f.cssHooks[i])&&"expand"in a)for(n in r=a.expand(r),delete t[i],r)n in t||(t[n]=r[n],e[n]=o);else e[i]=o}(d,c.opts.specialEasing);a>r;r++)if(i=Kt.prefilters[r].call(c,t,d,c.opts))return f.isFunction(i.stop)&&(f._queueHooks(c.elem,c.opts.queue).stop=f.proxy(i.stop,i)),i;return f.map(d,Gt,c),f.isFunction(c.opts.start)&&c.opts.start.call(t,c),f.fx.timer(f.extend(l,{elem:t,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}f.Animation=f.extend(Kt,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return V(n.elem,t,$.exec(e),n),n}]},tweener:function(t,e){f.isFunction(t)?(e=t,t=["*"]):t=t.match(R);for(var n,i=0,o=t.length;o>i;i++)(Kt.tweeners[n=t[i]]=Kt.tweeners[n]||[]).unshift(e)},prefilters:[function(t,e,n){var i,o,r,a,s,l,c,d=this,u={},h=t.style,p=t.nodeType&&q(t),g=L.get(t,"fxshow");for(i in n.queue||(null==(s=f._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,d.always(function(){d.always(function(){s.unqueued--,f.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===("none"===(c=f.css(t,"display"))?L.get(t,"olddisplay")||Ct(t.nodeName):c)&&"none"===f.css(t,"float")&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",d.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),e)if(Wt.exec(o=e[i])){if(delete e[i],r=r||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!g||void 0===g[i])continue;p=!0}u[i]=g&&g[i]||f.style(t,i)}else c=void 0;if(f.isEmptyObject(u))"inline"===("none"===c?Ct(t.nodeName):c)&&(h.display=c);else for(i in g?"hidden"in g&&(p=g.hidden):g=L.access(t,"fxshow",{}),r&&(g.hidden=!p),p?f(t).show():d.done(function(){f(t).hide()}),d.done(function(){var e;for(e in L.remove(t,"fxshow"),u)f.style(t,e,u[e])}),u)a=Gt(p?g[i]:0,i,d),i in g||(g[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],prefilter:function(t,e){e?Kt.prefilters.unshift(t):Kt.prefilters.push(t)}}),f.speed=function(t,e,n){var i=t&&"object"==typeof t?f.extend({},t):{complete:n||!n&&e||f.isFunction(t)&&t,duration:t,easing:n&&e||e&&!f.isFunction(e)&&e};return i.duration=f.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in f.fx.speeds?f.fx.speeds[i.duration]:f.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){f.isFunction(i.old)&&i.old.call(this),i.queue&&f.dequeue(this,i.queue)},i},f.fn.extend({fadeTo:function(t,e,n,i){return this.filter(q).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var o=f.isEmptyObject(t),r=f.speed(e,n,i),a=function(){var e=Kt(this,f.extend({},t),r);(o||L.get(this,"finish"))&&e.stop(!0)};return a.finish=a,o||!1===r.queue?this.each(a):this.queue(r.queue,a)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,o=null!=t&&t+"queueHooks",r=f.timers,a=L.get(this);if(o)a[o]&&a[o].stop&&i(a[o]);else for(o in a)a[o]&&a[o].stop&&qt.test(o)&&i(a[o]);for(o=r.length;o--;)r[o].elem!==this||null!=t&&r[o].queue!==t||(r[o].anim.stop(n),e=!1,r.splice(o,1));!e&&n||f.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=L.get(this),i=n[t+"queue"],o=n[t+"queueHooks"],r=f.timers,a=i?i.length:0;for(n.finish=!0,f.queue(this,t,[]),o&&o.stop&&o.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;a>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),f.each(["toggle","show","hide"],function(t,e){var n=f.fn[e];f.fn[e]=function(t,i,o){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(Yt(e,!0),t,i,o)}}),f.each({slideDown:Yt("show"),slideUp:Yt("hide"),slideToggle:Yt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){f.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),f.timers=[],f.fx.tick=function(){var t,e=0,n=f.timers;for(Ut=f.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||f.fx.stop(),Ut=void 0},f.fx.timer=function(t){f.timers.push(t),t()?f.fx.start():f.timers.pop()},f.fx.interval=13,f.fx.start=function(){$t||($t=t.setInterval(f.fx.tick,f.fx.interval))},f.fx.stop=function(){t.clearInterval($t),$t=null},f.fx.speeds={slow:600,fast:200,_default:400},f.fn.delay=function(e,n){return e=f.fx&&f.fx.speeds[e]||e,this.queue(n=n||"fx",function(n,i){var o=t.setTimeout(n,e);i.stop=function(){t.clearTimeout(o)}})},function(){var t=i.createElement("input"),e=i.createElement("select"),n=e.appendChild(i.createElement("option"));t.type="checkbox",u.checkOn=""!==t.value,u.optSelected=n.selected,e.disabled=!0,u.optDisabled=!n.disabled,(t=i.createElement("input")).value="t",t.type="radio",u.radioValue="t"===t.value}();var Xt,Jt=f.expr.attrHandle;f.fn.extend({attr:function(t,e){return I(this,f.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){f.removeAttr(this,t)})}}),f.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?f.prop(t,e,n):(1===r&&f.isXMLDoc(t)||(e=e.toLowerCase(),o=f.attrHooks[e]||(f.expr.match.bool.test(e)?Xt:void 0)),void 0!==n?null===n?void f.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):o&&"get"in o&&null!==(i=o.get(t,e))?i:null==(i=f.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!u.radioValue&&"radio"===e&&f.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i,o=0,r=e&&e.match(R);if(r&&1===t.nodeType)for(;n=r[o++];)i=f.propFix[n]||n,f.expr.match.bool.test(n)&&(t[i]=!1),t.removeAttribute(n)}}),Xt={set:function(t,e,n){return!1===e?f.removeAttr(t,n):t.setAttribute(n,n),n}},f.each(f.expr.match.bool.source.match(/\w+/g),function(t,e){var n=Jt[e]||f.find.attr;Jt[e]=function(t,e,i){var o,r;return i||(r=Jt[e],Jt[e]=o,o=null!=n(t,e,i)?e.toLowerCase():null,Jt[e]=r),o}});var Qt=/^(?:input|select|textarea|button)$/i,Zt=/^(?:a|area)$/i;f.fn.extend({prop:function(t,e){return I(this,f.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[f.propFix[t]||t]})}}),f.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&f.isXMLDoc(t)||(o=f.propHooks[e=f.propFix[e]||e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=f.find.attr(t,"tabindex");return e?parseInt(e,10):Qt.test(t.nodeName)||Zt.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),u.optSelected||(f.propHooks.selected={get:function(t){return null},set:function(t){}}),f.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){f.propFix[this.toLowerCase()]=this});var te=/[\t\r\n\f]/g;function ee(t){return t.getAttribute&&t.getAttribute("class")||""}f.fn.extend({addClass:function(t){var e,n,i,o,r,a,s,l=0;if(f.isFunction(t))return this.each(function(e){f(this).addClass(t.call(this,e,ee(this)))});if("string"==typeof t&&t)for(e=t.match(R)||[];n=this[l++];)if(o=ee(n),i=1===n.nodeType&&(" "+o+" ").replace(te," ")){for(a=0;r=e[a++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");o!==(s=f.trim(i))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,i,o,r,a,s,l=0;if(f.isFunction(t))return this.each(function(e){f(this).removeClass(t.call(this,e,ee(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof t&&t)for(e=t.match(R)||[];n=this[l++];)if(o=ee(n),i=1===n.nodeType&&(" "+o+" ").replace(te," ")){for(a=0;r=e[a++];)for(;i.indexOf(" "+r+" ")>-1;)i=i.replace(" "+r+" "," ");o!==(s=f.trim(i))&&n.setAttribute("class",s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):f.isFunction(t)?this.each(function(n){f(this).toggleClass(t.call(this,n,ee(this),e),e)}):this.each(function(){var e,i,o,r;if("string"===n)for(i=0,o=f(this),r=t.match(R)||[];e=r[i++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ee(this))&&L.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":L.get(this,"__className__")||""))})},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ee(n)+" ").replace(te," ").indexOf(e)>-1)return!0;return!1}});var ne=/\r/g,ie=/[\x20\t\r\n\f]+/g;f.fn.extend({val:function(t){var e,n,i,o=this[0];return arguments.length?(i=f.isFunction(t),this.each(function(n){var o;1===this.nodeType&&(null==(o=i?t.call(this,n,f(this).val()):t)?o="":"number"==typeof o?o+="":f.isArray(o)&&(o=f.map(o,function(t){return null==t?"":t+""})),(e=f.valHooks[this.type]||f.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,o,"value")||(this.value=o))})):o?(e=f.valHooks[o.type]||f.valHooks[o.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(o,"value"))?n:"string"==typeof(n=o.value)?n.replace(ne,""):null==n?"":n:void 0}}),f.extend({valHooks:{option:{get:function(t){var e=f.find.attr(t,"value");return null!=e?e:f.trim(f.text(t)).replace(ie," ")}},select:{get:function(t){for(var e,n,i=t.options,o=t.selectedIndex,r="select-one"===t.type||0>o,a=r?null:[],s=r?o+1:i.length,l=0>o?s:r?o:0;s>l;l++)if(((n=i[l]).selected||l===o)&&(u.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!f.nodeName(n.parentNode,"optgroup"))){if(e=f(n).val(),r)return e;a.push(e)}return a},set:function(t,e){for(var n,i,o=t.options,r=f.makeArray(e),a=o.length;a--;)((i=o[a]).selected=f.inArray(f.valHooks.option.get(i),r)>-1)&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),f.each(["radio","checkbox"],function(){f.valHooks[this]={set:function(t,e){return f.isArray(e)?t.checked=f.inArray(f(t).val(),e)>-1:void 0}},u.checkOn||(f.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var oe=/^(?:focusinfocus|focusoutblur)$/;f.extend(f.event,{trigger:function(e,n,o,r){var a,s,l,c,u,h,p,g=[o||i],m=d.call(e,"type")?e.type:e,v=d.call(e,"namespace")?e.namespace.split("."):[];if(s=l=o=o||i,3!==o.nodeType&&8!==o.nodeType&&!oe.test(m+f.event.triggered)&&(m.indexOf(".")>-1&&(m=(v=m.split(".")).shift(),v.sort()),u=m.indexOf(":")<0&&"on"+m,(e=e[f.expando]?e:new f.Event(m,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=v.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=o),n=null==n?[e]:f.makeArray(n,[e]),p=f.event.special[m]||{},r||!p.trigger||!1!==p.trigger.apply(o,n))){if(!r&&!p.noBubble&&!f.isWindow(o)){for(oe.test((c=p.delegateType||m)+m)||(s=s.parentNode);s;s=s.parentNode)g.push(s),l=s;l===(o.ownerDocument||i)&&g.push(l.defaultView||l.parentWindow||t)}for(a=0;(s=g[a++])&&!e.isPropagationStopped();)e.type=a>1?c:p.bindType||m,(h=(L.get(s,"events")||{})[e.type]&&L.get(s,"handle"))&&h.apply(s,n),(h=u&&s[u])&&h.apply&&O(s)&&(e.result=h.apply(s,n),!1===e.result&&e.preventDefault());return e.type=m,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(g.pop(),n)||!O(o)||u&&f.isFunction(o[m])&&!f.isWindow(o)&&((l=o[u])&&(o[u]=null),f.event.triggered=m,o[m](),f.event.triggered=void 0,l&&(o[u]=l)),e.result}},simulate:function(t,e,n){var i=f.extend(new f.Event,n,{type:t,isSimulated:!0});f.event.trigger(i,null,e)}}),f.fn.extend({trigger:function(t,e){return this.each(function(){f.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?f.event.trigger(t,e,n,!0):void 0}}),f.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){f.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),f.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),u.focusin="onfocusin"in t,u.focusin||f.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){f.event.simulate(e,t.target,f.event.fix(t))};f.event.special[e]={setup:function(){var i=this.ownerDocument||this,o=L.access(i,e);o||i.addEventListener(t,n,!0),L.access(i,e,(o||0)+1)},teardown:function(){var i=this.ownerDocument||this,o=L.access(i,e)-1;o?L.access(i,e,o):(i.removeEventListener(t,n,!0),L.remove(i,e))}}});var re=t.location,ae=f.now(),se=/\?/;f.parseJSON=function(t){return JSON.parse(t+"")},f.parseXML=function(e){var n;if(!e||"string"!=typeof e)return null;try{n=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||f.error("Invalid XML: "+e),n};var le=/#.*$/,ce=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,ue=/^(?:GET|HEAD)$/,he=/^\/\//,fe={},pe={},ge="*/".concat("*"),me=i.createElement("a");function ve(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,o=0,r=e.toLowerCase().match(R)||[];if(f.isFunction(n))for(;i=r[o++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function ye(t,e,n,i){var o={},r=t===pe;function a(s){var l;return o[s]=!0,f.each(t[s]||[],function(t,s){var c=s(e,n,i);return"string"!=typeof c||r||o[c]?r?!(l=c):void 0:(e.dataTypes.unshift(c),a(c),!1)}),l}return a(e.dataTypes[0])||!o["*"]&&a("*")}function be(t,e){var n,i,o=f.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i||(i={}))[n]=e[n]);return i&&f.extend(!0,t,i),t}me.href=re.href,f.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:re.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(re.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ge,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":f.parseJSON,"text xml":f.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?be(be(t,f.ajaxSettings),e):be(f.ajaxSettings,t)},ajaxPrefilter:ve(fe),ajaxTransport:ve(pe),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0);var o,r,a,s,l,c,d,u,h=f.ajaxSetup({},n=n||{}),p=h.context||h,g=h.context&&(p.nodeType||p.jquery)?f(p):f.event,m=f.Deferred(),v=f.Callbacks("once memory"),y=h.statusCode||{},b={},w={},x=0,D="canceled",C={readyState:0,getResponseHeader:function(t){var e;if(2===x){if(!s)for(s={};e=de.exec(a);)s[e[1].toLowerCase()]=e[2];e=s[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return x||(t=w[n]=w[n]||t,b[t]=e),this},overrideMimeType:function(t){return x||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>x)for(e in t)y[e]=[y[e],t[e]];else C.always(t[C.status]);return this},abort:function(t){var e=t||D;return o&&o.abort(e),_(0,e),this}};if(m.promise(C).complete=v.add,C.success=C.done,C.error=C.fail,h.url=((e||h.url||re.href)+"").replace(le,"").replace(he,re.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=f.trim(h.dataType||"*").toLowerCase().match(R)||[""],null==h.crossDomain){c=i.createElement("a");try{c.href=h.url,c.href=c.href,h.crossDomain=me.protocol+"//"+me.host!=c.protocol+"//"+c.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=f.param(h.data,h.traditional)),ye(fe,h,n,C),2===x)return C;for(u in(d=f.event&&h.global)&&0==f.active++&&f.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ue.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(se.test(r)?"&":"?")+h.data,delete h.data),!1===h.cache&&(h.url=ce.test(r)?r.replace(ce,"$1_="+ae++):r+(se.test(r)?"&":"?")+"_="+ae++)),h.ifModified&&(f.lastModified[r]&&C.setRequestHeader("If-Modified-Since",f.lastModified[r]),f.etag[r]&&C.setRequestHeader("If-None-Match",f.etag[r])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ge+"; q=0.01":""):h.accepts["*"]),h.headers)C.setRequestHeader(u,h.headers[u]);if(h.beforeSend&&(!1===h.beforeSend.call(p,C,h)||2===x))return C.abort();for(u in D="abort",{success:1,error:1,complete:1})C[u](h[u]);if(o=ye(pe,h,n,C)){if(C.readyState=1,d&&g.trigger("ajaxSend",[C,h]),2===x)return C;h.async&&h.timeout>0&&(l=t.setTimeout(function(){C.abort("timeout")},h.timeout));try{x=1,o.send(b,_)}catch(t){if(!(2>x))throw t;_(-1,t)}}else _(-1,"No Transport");function _(e,n,i,s){var c,u,b,w,D,_=n;2!==x&&(x=2,l&&t.clearTimeout(l),o=void 0,a=s||"",C.readyState=e>0?4:0,c=e>=200&&300>e||304===e,i&&(w=function(t,e,n){for(var i,o,r,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in s)if(s[o]&&s[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}a||(a=o)}r=r||a}return r?(r!==l[0]&&l.unshift(r),n[r]):void 0}(h,C,i)),w=function(t,e,n,i){var o,r,a,s,l,c={},d=t.dataTypes.slice();if(d[1])for(a in t.converters)c[a.toLowerCase()]=t.converters[a];for(r=d.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=d.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(a=c[l+" "+r]||c["* "+r]))for(o in c)if((s=o.split(" "))[1]===r&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[o]:!0!==c[o]&&(r=s[0],d.unshift(s[1]));break}if(!0!==a)if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(h,w,C,c),c?(h.ifModified&&((D=C.getResponseHeader("Last-Modified"))&&(f.lastModified[r]=D),(D=C.getResponseHeader("etag"))&&(f.etag[r]=D)),204===e||"HEAD"===h.type?_="nocontent":304===e?_="notmodified":(_=w.state,u=w.data,c=!(b=w.error))):(b=_,!e&&_||(_="error",0>e&&(e=0))),C.status=e,C.statusText=(n||_)+"",c?m.resolveWith(p,[u,_,C]):m.rejectWith(p,[C,_,b]),C.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[C,h,c?u:b]),v.fireWith(p,[C,_]),d&&(g.trigger("ajaxComplete",[C,h]),--f.active||f.event.trigger("ajaxStop")))}return C},getJSON:function(t,e,n){return f.get(t,e,n,"json")},getScript:function(t,e){return f.get(t,void 0,e,"script")}}),f.each(["get","post"],function(t,e){f[e]=function(t,n,i,o){return f.isFunction(n)&&(o=o||i,i=n,n=void 0),f.ajax(f.extend({url:t,type:e,dataType:o,data:n,success:i},f.isPlainObject(t)&&t))}}),f._evalUrl=function(t){return f.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},f.fn.extend({wrapAll:function(t){var e;return f.isFunction(t)?this.each(function(e){f(this).wrapAll(t.call(this,e))}):(this[0]&&(e=f(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return f.isFunction(t)?this.each(function(e){f(this).wrapInner(t.call(this,e))}):this.each(function(){var e=f(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=f.isFunction(t);return this.each(function(n){f(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,"body")||f(this).replaceWith(this.childNodes)}).end()}}),f.expr.filters.hidden=function(t){return!f.expr.filters.visible(t)},f.expr.filters.visible=function(t){return t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0};var we=/%20/g,xe=/\[\]$/,De=/\r?\n/g,Ce=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;function Se(t,e,n,i){var o;if(f.isArray(e))f.each(e,function(e,o){n||xe.test(t)?i(t,o):Se(t+"["+("object"==typeof o&&null!=o?e:"")+"]",o,n,i)});else if(n||"object"!==f.type(e))i(t,e);else for(o in e)Se(t+"["+o+"]",e[o],n,i)}f.param=function(t,e){var n,i=[],o=function(t,e){e=f.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=f.ajaxSettings&&f.ajaxSettings.traditional),f.isArray(t)||t.jquery&&!f.isPlainObject(t))f.each(t,function(){o(this.name,this.value)});else for(n in t)Se(n,t[n],e,o);return i.join("&").replace(we,"+")},f.fn.extend({serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=f.prop(this,"elements");return t?f.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!f(this).is(":disabled")&&_e.test(this.nodeName)&&!Ce.test(t)&&(this.checked||!Y.test(t))}).map(function(t,e){var n=f(this).val();return null==n?null:f.isArray(n)?f.map(n,function(t){return{name:e.name,value:t.replace(De,"\r\n")}}):{name:e.name,value:n.replace(De,"\r\n")}}).get()}}),f.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var ke={0:200,1223:204},Te=f.ajaxSettings.xhr();u.cors=!!Te&&"withCredentials"in Te,u.ajax=Te=!!Te,f.ajaxTransport(function(e){var n,i;return u.cors||Te&&!e.crossDomain?{send:function(o,r){var a,s=e.xhr();if(s.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)s[a]=e.xhrFields[a];for(a in e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),e.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest"),o)s.setRequestHeader(a,o[a]);n=function(t){return function(){n&&(n=i=s.onload=s.onerror=s.onabort=s.onreadystatechange=null,"abort"===t?s.abort():"error"===t?"number"!=typeof s.status?r(0,"error"):r(s.status,s.statusText):r(ke[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),i=s.onerror=n("error"),void 0!==s.onabort?s.onabort=i:s.onreadystatechange=function(){4===s.readyState&&t.setTimeout(function(){n&&i()})},n=n("abort");try{s.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}:void 0}),f.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return f.globalEval(t),t}}}),f.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),f.ajaxTransport("script",function(t){var e,n;if(t.crossDomain)return{send:function(o,r){e=f("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),i.head.appendChild(e[0])},abort:function(){n&&n()}}});var Ae=[],Pe=/(=)\?(?=&|$)|\?\?/;f.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ae.pop()||f.expando+"_"+ae++;return this[t]=!0,t}}),f.ajaxPrefilter("json jsonp",function(e,n,i){var o,r,a,s=!1!==e.jsonp&&(Pe.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(o=e.jsonpCallback=f.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pe,"$1"+o):!1!==e.jsonp&&(e.url+=(se.test(e.url)?"&":"?")+e.jsonp+"="+o),e.converters["script json"]=function(){return a||f.error(o+" was not called"),a[0]},e.dataTypes[0]="json",r=t[o],t[o]=function(){a=arguments},i.always(function(){void 0===r?f(t).removeProp(o):t[o]=r,e[o]&&(e.jsonpCallback=n.jsonpCallback,Ae.push(o)),a&&f.isFunction(r)&&r(a[0]),a=r=void 0}),"script"):void 0}),f.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||i;var o=C.exec(t),r=!n&&[];return o?[e.createElement(o[1])]:(o=tt([t],e,r),r&&r.length&&f(r).remove(),f.merge([],o.childNodes))};var Ee=f.fn.load;function Me(t){return f.isWindow(t)?t:9===t.nodeType&&t.defaultView}f.fn.load=function(t,e,n){if("string"!=typeof t&&Ee)return Ee.apply(this,arguments);var i,o,r,a=this,s=t.indexOf(" ");return s>-1&&(i=f.trim(t.slice(s)),t=t.slice(0,s)),f.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),a.length>0&&f.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,a.html(i?f("<div>").append(f.parseHTML(t)).find(i):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},f.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){f.fn[e]=function(t){return this.on(e,t)}}),f.expr.filters.animated=function(t){return f.grep(f.timers,function(e){return t===e.elem}).length},f.offset={setOffset:function(t,e,n){var i,o,r,a,s,l,c=f.css(t,"position"),d=f(t),u={};"static"===c&&(t.style.position="relative"),s=d.offset(),r=f.css(t,"top"),l=f.css(t,"left"),("absolute"===c||"fixed"===c)&&(r+l).indexOf("auto")>-1?(a=(i=d.position()).top,o=i.left):(a=parseFloat(r)||0,o=parseFloat(l)||0),f.isFunction(e)&&(e=e.call(t,n,f.extend({},s))),null!=e.top&&(u.top=e.top-s.top+a),null!=e.left&&(u.left=e.left-s.left+o),"using"in e?e.using.call(t,u):d.css(u)}},f.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){f.offset.setOffset(this,t,e)});var e,n,i=this[0],o={top:0,left:0},r=i&&i.ownerDocument;return r?f.contains(e=r.documentElement,i)?(o=i.getBoundingClientRect(),n=Me(r),{top:o.top+n.pageYOffset-e.clientTop,left:o.left+n.pageXOffset-e.clientLeft}):o:void 0},position:function(){if(this[0]){var t,e,n=this[0],i={top:0,left:0};return"fixed"===f.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),f.nodeName(t[0],"html")||(i=t.offset()),i.top+=f.css(t[0],"borderTopWidth",!0),i.left+=f.css(t[0],"borderLeftWidth",!0)),{top:e.top-i.top-f.css(n,"marginTop",!0),left:e.left-i.left-f.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===f.css(t,"position");)t=t.offsetParent;return t||At})}}),f.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;f.fn[t]=function(i){return I(this,function(t,i,o){var r=Me(t);return void 0===o?r?r[e]:t[i]:void(r?r.scrollTo(n?r.pageXOffset:o,n?o:r.pageYOffset):t[i]=o)},t,i,arguments.length)}}),f.each(["top","left"],function(t,e){f.cssHooks[e]=Et(u.pixelPosition,function(t,n){return n?(n=Pt(t,e),St.test(n)?f(t).position()[e]+"px":n):void 0})}),f.each({Height:"height",Width:"width"},function(t,e){f.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){f.fn[i]=function(i,o){var r=arguments.length&&(n||"boolean"!=typeof i),a=n||(!0===i||!0===o?"margin":"border");return I(this,function(e,n,i){var o;return f.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?f.css(e,n,a):f.style(e,n,i,a)},e,r?i:void 0,r,null)}})}),f.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},size:function(){return this.length}}),f.fn.andSelf=f.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return f});var Re=t.jQuery,Ne=t.$;return f.noConflict=function(e){return t.$===f&&(t.$=Ne),e&&t.jQuery===f&&(t.jQuery=Re),f},e||(t.jQuery=t.$=f),f}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");function _init(){$.AdminLTE.layout={activate:function(){var t=this;t.fix(),t.fixSidebar(),$(window,".wrapper").resize(function(){t.fix(),t.fixSidebar()})},fix:function(){var t=$(".main-header").outerHeight()+$(".main-footer").outerHeight(),e=$(window).height(),n=$(".sidebar").height();if($("body").hasClass("fixed"))$(".content-wrapper, .right-side").css("min-height",e-$(".main-footer").outerHeight());else{var i;e>=n?($(".content-wrapper, .right-side").css("min-height",e-t),i=e-t):($(".content-wrapper, .right-side").css("min-height",n),i=n);var o=$($.AdminLTE.options.controlSidebarOptions.selector);void 0!==o&&o.height()>i&&$(".content-wrapper, .right-side").css("min-height",o.height())}},fixSidebar:function(){return $("body").hasClass("fixed")?(void 0===$.fn.slimScroll&&console&&console.error("Error: the fixed layout requires the slimscroll plugin!"),void($.AdminLTE.options.sidebarSlimScroll&&void 0!==$.fn.slimScroll&&($(".sidebar").slimScroll({destroy:!0}).height("auto"),$(".sidebar").slimscroll({height:$(window).height()-$(".main-header").height()+"px",color:"rgba(0,0,0,0.2)",size:"3px"})))):void(void 0!==$.fn.slimScroll&&$(".sidebar").slimScroll({destroy:!0}).height("auto"))}},$.AdminLTE.pushMenu={activate:function(t){var e=$.AdminLTE.options.screenSizes;$(t).on("click",function(t){t.preventDefault(),$(window).width()>e.sm-1?$("body").toggleClass("sidebar-collapse"):$("body").hasClass("sidebar-open")?($("body").removeClass("sidebar-open"),$("body").removeClass("sidebar-collapse")):$("body").addClass("sidebar-open")}),$(".content-wrapper").click(function(){$(window).width()<=e.sm-1&&$("body").hasClass("sidebar-open")&&$("body").removeClass("sidebar-open")}),($.AdminLTE.options.sidebarExpandOnHover||$("body").hasClass("fixed")&&$("body").hasClass("sidebar-mini"))&&this.expandOnHover()},expandOnHover:function(){var t=this,e=$.AdminLTE.options.screenSizes.sm-1;$(".main-sidebar").hover(function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-collapse")&&$(window).width()>e&&t.expand()},function(){$("body").hasClass("sidebar-mini")&&$("body").hasClass("sidebar-expanded-on-hover")&&$(window).width()>e&&t.collapse()})},expand:function(){$("body").removeClass("sidebar-collapse").addClass("sidebar-expanded-on-hover")},collapse:function(){$("body").hasClass("sidebar-expanded-on-hover")&&$("body").removeClass("sidebar-expanded-on-hover").addClass("sidebar-collapse")}},$.AdminLTE.tree=function(t){var e=this,n=$.AdminLTE.options.animationSpeed;$("li a",$(t)).on("click",function(t){var i=$(this),o=i.next();if(o.is(".treeview-menu")&&o.is(":visible"))o.slideUp(n,function(){o.removeClass("menu-open")}),o.parent("li").removeClass("active");else if(o.is(".treeview-menu")&&!o.is(":visible")){var r=i.parents("ul").first();r.find("ul:visible").slideUp(n).removeClass("menu-open");var a=i.parent("li");o.slideDown(n,function(){o.addClass("menu-open"),r.find("li.active").removeClass("active"),a.addClass("active"),e.layout.fix()})}o.is(".treeview-menu")&&t.preventDefault()})},$.AdminLTE.controlSidebar={activate:function(){var t=this,e=$.AdminLTE.options.controlSidebarOptions,n=$(e.selector);$(e.toggleBtnSelector).on("click",function(i){i.preventDefault(),n.hasClass("control-sidebar-open")||$("body").hasClass("control-sidebar-open")?t.close(n,e.slide):t.open(n,e.slide)});var i=$(".control-sidebar-bg");t._fix(i),$("body").hasClass("fixed")?t._fixForFixed(n):$(".content-wrapper, .right-side").height()<n.height()&&t._fixForContent(n)},open:function(t,e){e?t.addClass("control-sidebar-open"):$("body").addClass("control-sidebar-open")},close:function(t,e){e?t.removeClass("control-sidebar-open"):$("body").removeClass("control-sidebar-open")},_fix:function(t){var e=this;$("body").hasClass("layout-boxed")?(t.css("position","absolute"),t.height($(".wrapper").height()),$(window).resize(function(){e._fix(t)})):t.css({position:"fixed",height:"auto"})},_fixForFixed:function(t){t.css({position:"fixed","max-height":"100%",overflow:"auto","padding-bottom":"50px"})},_fixForContent:function(t){$(".content-wrapper, .right-side").css("min-height",t.height())}},$.AdminLTE.boxWidget={selectors:$.AdminLTE.options.boxWidgetOptions.boxWidgetSelectors,icons:$.AdminLTE.options.boxWidgetOptions.boxWidgetIcons,animationSpeed:$.AdminLTE.options.animationSpeed,activate:function(t){var e=this;t||(t=document),$(t).find(e.selectors.collapse).on("click",function(t){t.preventDefault(),e.collapse($(this))}),$(t).find(e.selectors.remove).on("click",function(t){t.preventDefault(),e.remove($(this))})},collapse:function(t){var e=this,n=t.parents(".box").first(),i=n.find("> .box-body, > .box-footer");n.hasClass("collapsed-box")?(t.children(":first").removeClass(e.icons.open).addClass(e.icons.collapse),i.slideDown(e.animationSpeed,function(){n.removeClass("collapsed-box")})):(t.children(":first").removeClass(e.icons.collapse).addClass(e.icons.open),i.slideUp(e.animationSpeed,function(){n.addClass("collapsed-box")}))},remove:function(t){t.parents(".box").first().slideUp(this.animationSpeed)}}}if(function(t){"use strict";var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||3<e[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(t){"use strict";t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;return t(this).one("bsTransitionEnd",function(){n=!0}),setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=function(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.4.1",n.TRANSITION_DURATION=150,n.prototype.close=function(e){var i=t(this),o=i.attr("data-target");o||(o=(o=i.attr("href"))&&o.replace(/.*(?=#[^\s]*$)/,"")),o="#"===o?[]:o;var r=t(document).find(o);function a(){r.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),r.length||(r=i.closest(".alert")),r.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(r.removeClass("in"),t.support.transition&&r.hasClass("fade")?r.one("bsTransitionEnd",a).emulateTransitionEnd(n.TRANSITION_DURATION):a())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.isLoading=!1};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.button");o||i.data("bs.button",o=new e(this,"object"==typeof n&&n)),"toggle"==n?o.toggle():n&&o.setState(n)})}e.VERSION="3.4.1",e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",r=i.data();e+="Text",null==r.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,i.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},e.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=n,t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var i=t(e.target).closest(".btn");n.call(i,"toggle"),t(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.carousel"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),a="string"==typeof n?n:r.slide;o||i.data("bs.carousel",o=new e(this,r)),"number"==typeof n?o.to(n):a?o[a]():r.interval&&o.pause().cycle()})}e.VERSION="3.4.1",e.TRANSITION_DURATION=600,e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},e.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},e.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);return("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap?e:this.$items.eq((n+("prev"==t?-1:1))%this.$items.length)},e.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(n<t?"next":"prev",this.$items.eq(t))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){if(!this.sliding)return this.slide("next")},e.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},e.prototype.slide=function(n,i){var o=this.$element.find(".item.active"),r=i||this.getItemForDirection(n,o),a=this.interval,s="next"==n?"left":"right",l=this;if(r.hasClass("active"))return this.sliding=!1;var c=r[0],d=t.Event("slide.bs.carousel",{relatedTarget:c,direction:s});if(this.$element.trigger(d),!d.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var u=t(this.$indicators.children()[this.getItemIndex(r)]);u&&u.addClass("active")}var h=t.Event("slid.bs.carousel",{relatedTarget:c,direction:s});return t.support.transition&&this.$element.hasClass("slide")?(r.addClass(n),o.addClass(s),r.addClass(s),o.one("bsTransitionEnd",function(){r.removeClass([n,s].join(" ")).addClass("active"),o.removeClass(["active",s].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(h)},0)}).emulateTransitionEnd(e.TRANSITION_DURATION)):(o.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger(h)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=n,t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(e){var i=t(this),o=i.attr("href");o&&(o=o.replace(/.*(?=#[^\s]+$)/,""));var r=i.attr("data-target")||o,a=t(document).find(r);if(a.hasClass("carousel")){var s=t.extend({},a.data(),i.data()),l=i.attr("data-slide-to");l&&(s.interval=!1),n.call(a,s),l&&a.data("bs.carousel").to(l),e.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.$trigger=t('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(document).find(i)}function i(n){return this.each(function(){var i=t(this),o=i.data("bs.collapse"),r=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);!o&&r.toggle&&/show|hide/.test(n)&&(r.toggle=!1),o||i.data("bs.collapse",o=new e(this,r)),"string"==typeof n&&o[n]()})}e.VERSION="3.4.1",e.TRANSITION_DURATION=350,e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,o=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(o&&o.length&&(n=o.data("bs.collapse"))&&n.transitioning)){var r=t.Event("show.bs.collapse");if(this.$element.trigger(r),!r.isDefaultPrevented()){o&&o.length&&(i.call(o,"hide"),n||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return s.call(this);var l=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(s,this)).emulateTransitionEnd(e.TRANSITION_DURATION)[a](this.$element[0][l])}}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=t.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]()),this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!t.support.transition)return o.call(this);this.$element[i](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(e.TRANSITION_DURATION)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},e.prototype.getParent=function(){return t(document).find(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(e,i){var o=t(i);this.addAriaAndCollapsedClass(n(o),o)},this)).end()},e.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("in");t.attr("aria-expanded",n),e.toggleClass("collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=i,t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var o=t(this);o.attr("data-target")||e.preventDefault();var r=n(o),a=r.data("bs.collapse")?"toggle":o.data();i.call(r,a)})}(jQuery),function(t){"use strict";var e='[data-toggle="dropdown"]',n=function(e){t(e).on("click.bs.dropdown",this.toggle)};function i(e){var n=e.attr("data-target");n||(n=(n=e.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i="#"!==n?t(document).find(n):null;return i&&i.length?i:e.parent()}function o(n){n&&3===n.which||(t(".dropdown-backdrop").remove(),t(e).each(function(){var e=t(this),o=i(e),r={relatedTarget:this};o.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",r)),n.isDefaultPrevented()||(e.attr("aria-expanded","false"),o.removeClass("open").trigger(t.Event("hidden.bs.dropdown",r)))))}))}n.VERSION="3.4.1",n.prototype.toggle=function(e){var n=t(this);if(!n.is(".disabled, :disabled")){var r=i(n),a=r.hasClass("open");if(o(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",o);var s={relatedTarget:this};if(r.trigger(e=t.Event("show.bs.dropdown",s)),e.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger(t.Event("shown.bs.dropdown",s))}return!1}},n.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var o=t(this);if(n.preventDefault(),n.stopPropagation(),!o.is(".disabled, :disabled")){var r=i(o),a=r.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&r.find(e).trigger("focus"),o.trigger("click");var s=r.find(".dropdown-menu li:not(.disabled):visible a");if(s.length){var l=s.index(n.target);38==n.which&&0<l&&l--,40==n.which&&l<s.length-1&&l++,~l||(l=0),s.eq(l).trigger("focus")}}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),o=i.data("bs.dropdown");o||i.data("bs.dropdown",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.dropdown.Constructor=n,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",e,n.prototype.toggle).on("keydown.bs.dropdown.data-api",e,n.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",n.prototype.keydown)}(jQuery),function(t){"use strict";var e=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.fixedContent=".navbar-fixed-top, .navbar-fixed-bottom",this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,i){return this.each(function(){var o=t(this),r=o.data("bs.modal"),a=t.extend({},e.DEFAULTS,o.data(),"object"==typeof n&&n);r||o.data("bs.modal",r=new e(this,a)),"string"==typeof n?r[n](i):a.show&&r.show(i)})}e.VERSION="3.4.1",e.TRANSITION_DURATION=300,e.BACKDROP_TRANSITION_DURATION=150,e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},e.prototype.show=function(n){var i=this,o=t.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),i.$element.addClass("in"),i.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:n});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(r)}).emulateTransitionEnd(e.TRANSITION_DURATION):i.$element.trigger("focus").trigger(r)}))},e.prototype.hide=function(n){n&&n.preventDefault(),n=t.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(e.TRANSITION_DURATION):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},e.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(n){var i=this,o=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),this.$backdrop.addClass("in"),!n)return;r?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),n&&n()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(e.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},e.prototype.handleUpdate=function(){this.adjustDialog()},e.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},e.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},e.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},e.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"";var n=this.scrollbarWidth;this.bodyIsOverflowing&&(this.$body.css("padding-right",e+n),t(this.fixedContent).each(function(e,i){var o=i.style.paddingRight,r=t(i).css("padding-right");t(i).data("padding-right",o).css("padding-right",parseFloat(r)+n+"px")}))},e.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad),t(this.fixedContent).each(function(e,n){var i=t(n).data("padding-right");t(n).removeData("padding-right"),n.style.paddingRight=i||""})},e.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=n,t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),o=i.attr("href"),r=i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,""),a=t(document).find(r),s=a.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},a.data(),i.data());i.is("a")&&e.preventDefault(),a.one("show.bs.modal",function(t){t.isDefaultPrevented()||a.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),n.call(a,s,this)})}(jQuery),function(t){"use strict";var e=["sanitize","whiteList","sanitizeFn"],n=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],i=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,o=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i;function r(e,r){var a=e.nodeName.toLowerCase();if(-1!==t.inArray(a,r))return-1===t.inArray(a,n)||Boolean(e.nodeValue.match(i)||e.nodeValue.match(o));for(var s=t(r).filter(function(t,e){return e instanceof RegExp}),l=0,c=s.length;l<c;l++)if(a.match(s[l]))return!0;return!1}function a(e,n,i){if(0===e.length)return e;if(i&&"function"==typeof i)return i(e);if(!document.implementation||!document.implementation.createHTMLDocument)return e;var o=document.implementation.createHTMLDocument("sanitization");o.body.innerHTML=e;for(var a=t.map(n,function(t,e){return e}),s=t(o.body).find("*"),l=0,c=s.length;l<c;l++){var d=s[l],u=d.nodeName.toLowerCase();if(-1!==t.inArray(u,a))for(var h=t.map(d.attributes,function(t){return t}),f=[].concat(n["*"]||[],n[u]||[]),p=0,g=h.length;p<g;p++)r(h[p],f)||d.removeAttribute(h[p].nodeName);else d.parentNode.removeChild(d)}return o.body.innerHTML}var s=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};s.VERSION="3.4.1",s.TRANSITION_DURATION=150,s.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0},sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]}},s.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(document).find(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),r=o.length;r--;){var a=o[r];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseleave":"focusout";this.$element.on(("hover"==a?"mouseenter":"focusin")+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},s.prototype.getDefaults=function(){return s.DEFAULTS},s.prototype.getOptions=function(n){var i=this.$element.data();for(var o in i)i.hasOwnProperty(o)&&-1!==t.inArray(o,e)&&delete i[o];return(n=t.extend({},this.getDefaults(),i,n)).delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.sanitize&&(n.template=a(n.template,n.whiteList,n.sanitizeFn)),n},s.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},s.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("in")||"in"==n.hoverState)n.hoverState="in";else{if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},s.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},s.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue()){if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)}},s.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var n=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!n)return;var i=this,o=this.tip(),r=this.getUID(this.type);this.setContent(),o.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&o.addClass("fade");var a="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,l=/\s?auto?\s?/i,c=l.test(a);c&&(a=a.replace(l,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(a).data("bs."+this.type,this),this.options.container?o.appendTo(t(document).find(this.options.container)):o.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var d=this.getPosition(),u=o[0].offsetWidth,h=o[0].offsetHeight;if(c){var f=a,p=this.getPosition(this.$viewport);a="bottom"==a&&d.bottom+h>p.bottom?"top":"top"==a&&d.top-h<p.top?"bottom":"right"==a&&d.right+u>p.width?"left":"left"==a&&d.left-u<p.left?"right":a,o.removeClass(f).addClass(a)}var g=this.getCalculatedOffset(a,d,u,h);this.applyPlacement(g,a);var m=function(){var t=i.hoverState;i.$element.trigger("shown.bs."+i.type),i.hoverState=null,"out"==t&&i.leave(i)};t.support.transition&&this.$tip.hasClass("fade")?o.one("bsTransitionEnd",m).emulateTransitionEnd(s.TRANSITION_DURATION):m()}},s.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,r=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),s=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),e.top+=a,e.left+=s,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;"top"==n&&c!=r&&(e.top=e.top+r-c);var d=this.getViewportAdjustedDelta(n,e,l,c);d.left?e.left+=d.left:e.top+=d.top;var u=/top|bottom/.test(n),h=u?2*d.left-o+l:2*d.top-r+c,f=u?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(h,i[0][f],u)},s.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},s.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();this.options.html?(this.options.sanitize&&(e=a(e,this.options.whiteList,this.options.sanitizeFn)),t.find(".tooltip-inner").html(e)):t.find(".tooltip-inner").text(e),t.removeClass("fade in top bottom left right")},s.prototype.hide=function(e){var n=this,i=t(this.$tip),o=t.Event("hide.bs."+this.type);function r(){"in"!=n.hoverState&&i.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(s.TRANSITION_DURATION):r(),this.hoverState=null,this},s.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},s.prototype.hasContent=function(){return this.getTitle()},s.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var r=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:r?null:e.offset(),s={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},l=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,s,l,a)},s.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},s.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var r=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var s=e.top-r-a.scroll,l=e.top+r-a.scroll+i;s<a.top?o.top=a.top-s:l>a.top+a.height&&(o.top=a.top+a.height-l)}else{var c=e.left-r,d=e.left+r+n;c<a.left?o.left=a.left-c:d>a.right&&(o.left=a.left+a.width-d)}return o},s.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},s.prototype.getUID=function(t){for(;t+=~~(1e6*Math.random()),document.getElementById(t););return t},s.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},s.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},s.prototype.enable=function(){this.enabled=!0},s.prototype.disable=function(){this.enabled=!1},s.prototype.toggleEnabled=function(){this.enabled=!this.enabled},s.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("in")?n.leave(n):n.enter(n)},s.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})},s.prototype.sanitizeHtml=function(t){return a(t,this.options.whiteList,this.options.sanitizeFn)};var l=t.fn.tooltip;t.fn.tooltip=function(e){return this.each(function(){var n=t(this),i=n.data("bs.tooltip"),o="object"==typeof e&&e;!i&&/destroy|hide/.test(e)||(i||n.data("bs.tooltip",i=new s(this,o)),"string"==typeof e&&i[e]())})},t.fn.tooltip.Constructor=s,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=l,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.4.1",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype)).constructor=e).prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();if(this.options.html){var i=typeof n;this.options.sanitize&&(e=this.sanitizeHtml(e),"string"===i&&(n=this.sanitizeHtml(n))),t.find(".popover-title").html(e),t.find(".popover-content").children().detach().end()["string"===i?"html":"append"](n)}else t.find(".popover-title").text(e),t.find(".popover-content").children().detach().end().text(n);t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.popover"),r="object"==typeof n&&n;!o&&/destroy|hide/.test(n)||(o||i.data("bs.popover",o=new e(this,r)),"string"==typeof n&&o[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(n).is(document.body)?t(window):t(n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy");o||i.data("bs.scrollspy",o=new e(this,"object"==typeof n&&n)),"string"==typeof n&&o[n]()})}e.VERSION="3.4.1",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,r=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=e)return a!=(t=r[r.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=r[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(r[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=t(this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]').parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";var e=function(e){this.element=t(e)};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new e(this)),"string"==typeof n&&o[n]()})}e.VERSION="3.4.1",e.TRANSITION_DURATION=150,e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.data("target");if(i||(i=(i=e.attr("href"))&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var o=n.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(r),e.trigger(a),!a.isDefaultPrevented()&&!r.isDefaultPrevented()){var s=t(document).find(i);this.activate(e.closest("li"),n),this.activate(s,s.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},e.prototype.activate=function(n,i,o){var r=i.find("> .active"),a=o&&t.support.transition&&(r.length&&r.hasClass("fade")||!!i.find("> .fade").length);function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?n.addClass("in"):n.removeClass("fade"),n.parent(".dropdown-menu").length&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}r.length&&a?r.one("bsTransitionEnd",s).emulateTransitionEnd(e.TRANSITION_DURATION):s(),r.removeClass("in")};var i=t.fn.tab;t.fn.tab=n,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(e){e.preventDefault(),n.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i);var o=this.options.target===e.DEFAULTS.target?t(this.options.target):t(document).find(this.options.target);this.$target=o.on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(n){return this.each(function(){var i=t(this),o=i.data("bs.affix");o||i.data("bs.affix",o=new e(this,"object"==typeof n&&n)),"string"==typeof n&&o[n]()})}e.VERSION="3.4.1",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),r=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=r.top)&&"bottom":!(o+a<=t-i)&&"bottom";var s=null==this.affixed;return null!=n&&o<=n?"top":null!=i&&t-i<=(s?o:r.top)+(s?a:e)&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=this.$element.height(),i=this.options.offset,o=i.top,r=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(r=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof r&&(r=i.bottom(this.$element));var s=this.getState(a,n,o,r);if(this.affixed!=s){null!=this.unpin&&this.$element.css("top","");var l="affix"+(s?"-"+s:""),c=t.Event(l+".bs.affix");if(this.$element.trigger(c),c.isDefaultPrevented())return;this.affixed=s,this.unpin="bottom"==s?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(l).trigger(l.replace("affix","affixed")+".bs.affix")}"bottom"==s&&this.$element.offset({top:a-n-r})}};var i=t.fn.affix;t.fn.affix=n,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),n.call(e,i)})})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n,e,e.document)}:t(jQuery,window,document)}(function(t,e,n,i){function o(e){var n,i,r={};t.each(e,function(t){(n=t.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(i=t.replace(n[0],n[2].toLowerCase()),r[i]=t,"o"===n[1]&&o(e[t]))}),e._hungarianMap=r}function r(e,n,a){var s;e._hungarianMap||o(e),t.each(n,function(o){(s=e._hungarianMap[o])===i||!a&&n[s]!==i||("o"===s.charAt(0)?(n[s]||(n[s]={}),t.extend(!0,n[s],n[o]),r(e[s],n[s],a)):n[s]=n[o])})}function a(t){var e=Vt.defaults.oLanguage,n=e.sDecimal;if(n&&jt(n),t){var i=t.sZeroRecords;!t.sEmptyTable&&i&&"No data available in table"===e.sEmptyTable&&Mt(t,t,"sZeroRecords","sEmptyTable"),!t.sLoadingRecords&&i&&"Loading..."===e.sLoadingRecords&&Mt(t,t,"sZeroRecords","sLoadingRecords"),t.sInfoThousands&&(t.sThousands=t.sInfoThousands),(t=t.sDecimal)&&n!==t&&jt(t)}}function s(t){if(ce(t,"ordering","bSort"),ce(t,"orderMulti","bSortMulti"),ce(t,"orderClasses","bSortClasses"),ce(t,"orderCellsTop","bSortCellsTop"),ce(t,"order","aaSorting"),ce(t,"orderFixed","aaSortingFixed"),ce(t,"paging","bPaginate"),ce(t,"pagingType","sPaginationType"),ce(t,"pageLength","iDisplayLength"),ce(t,"searching","bFilter"),"boolean"==typeof t.sScrollX&&(t.sScrollX=t.sScrollX?"100%":""),"boolean"==typeof t.scrollX&&(t.scrollX=t.scrollX?"100%":""),t=t.aoSearchCols)for(var e=0,n=t.length;e<n;e++)t[e]&&r(Vt.models.oSearch,t[e])}function l(e){ce(e,"orderable","bSortable"),ce(e,"orderData","aDataSort"),ce(e,"orderSequence","asSorting"),ce(e,"orderDataType","sortDataType");var n=e.aDataSort;"number"==typeof n&&!t.isArray(n)&&(e.aDataSort=[n])}function c(n){if(!Vt.__browser){var i={};Vt.__browser=i;var o=t("<div/>").css({position:"fixed",top:0,left:-1*t(e).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(t("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(t("<div/>").css({width:"100%",height:10}))).appendTo("body"),r=o.children(),a=r.children();i.barWidth=r[0].offsetWidth-r[0].clientWidth,i.bScrollOversize=100===a[0].offsetWidth&&100!==r[0].clientWidth,i.bScrollbarLeft=1!==Math.round(a.offset().left),i.bBounding=!!o[0].getBoundingClientRect().width,o.remove()}t.extend(n.oBrowser,Vt.__browser),n.oScroll.iBarWidth=Vt.__browser.barWidth}function d(t,e,n,o,r,a){var s,l=!1;for(n!==i&&(s=n,l=!0);o!==r;)t.hasOwnProperty(o)&&(s=l?e(s,t[o],o,t):t[o],l=!0,o+=a);return s}function u(e,i){var o=e.aoColumns.length,r=t.extend({},Vt.models.oColumn,r=Vt.defaults.column,{nTh:i||n.createElement("th"),sTitle:r.sTitle?r.sTitle:i?i.innerHTML:"",aDataSort:r.aDataSort?r.aDataSort:[o],mData:r.mData?r.mData:o,idx:o});e.aoColumns.push(r),(r=e.aoPreSearchCols)[o]=t.extend({},Vt.models.oSearch,r[o]),h(e,o,t(i).data())}function h(e,n,o){var a=e.oClasses,s=t((n=e.aoColumns[n]).nTh);if(!n.sWidthOrig){n.sWidthOrig=s.attr("width")||null;var c=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);c&&(n.sWidthOrig=c[1])}o!==i&&null!==o&&(l(o),r(Vt.defaults.column,o,!0),o.mDataProp!==i&&!o.mData&&(o.mData=o.mDataProp),o.sType&&(n._sManualType=o.sType),o.className&&!o.sClass&&(o.sClass=o.className),o.sClass&&s.addClass(o.sClass),t.extend(n,o),Mt(n,o,"sWidth","sWidthOrig"),o.iDataSort!==i&&(n.aDataSort=[o.iDataSort]),Mt(n,o,"aDataSort"));var d=n.mData,u=S(d),h=n.mRender?S(n.mRender):null;o=function(t){return"string"==typeof t&&-1!==t.indexOf("@")},n._bAttrSrc=t.isPlainObject(d)&&(o(d.sort)||o(d.type)||o(d.filter)),n._setter=null,n.fnGetData=function(t,e,n){var o=u(t,e,i,n);return h&&e?h(o,e,t,n):o},n.fnSetData=function(t,e,n){return k(d)(t,e,n)},"number"!=typeof d&&(e._rowReadObject=!0),e.oFeatures.bSort||(n.bSortable=!1,s.addClass(a.sSortableNone)),e=-1!==t.inArray("asc",n.asSorting),o=-1!==t.inArray("desc",n.asSorting),n.bSortable&&(e||o)?e&&!o?(n.sSortingClass=a.sSortableAsc,n.sSortingClassJUI=a.sSortJUIAscAllowed):!e&&o?(n.sSortingClass=a.sSortableDesc,n.sSortingClassJUI=a.sSortJUIDescAllowed):(n.sSortingClass=a.sSortable,n.sSortingClassJUI=a.sSortJUI):(n.sSortingClass=a.sSortableNone,n.sSortingClassJUI="")}function f(t){if(!1!==t.oFeatures.bAutoWidth){var e=t.aoColumns;gt(t);for(var n=0,i=e.length;n<i;n++)e[n].nTh.style.width=e[n].sWidth}(""!==(e=t.oScroll).sY||""!==e.sX)&&ft(t),Ot(t,null,"column-sizing",[t])}function p(t,e){var n=v(t,"bVisible");return"number"==typeof n[e]?n[e]:null}function g(e,n){var i=v(e,"bVisible");return-1!==(i=t.inArray(n,i))?i:null}function m(e){var n=0;return t.each(e.aoColumns,function(e,i){i.bVisible&&"none"!==t(i.nTh).css("display")&&n++}),n}function v(e,n){var i=[];return t.map(e.aoColumns,function(t,e){t[n]&&i.push(e)}),i}function y(t){var e,n,o,r,a,s,l,c,d,u=t.aoColumns,h=t.aoData,f=Vt.ext.type.detect;for(e=0,n=u.length;e<n;e++)if(d=[],!(l=u[e]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(o=0,r=f.length;o<r;o++){for(a=0,s=h.length;a<s&&(d[a]===i&&(d[a]=D(t,a,e,"type")),(c=f[o](d[a],t))||o===f.length-1)&&"html"!==c;a++);if(c){l.sType=c;break}}l.sType||(l.sType="string")}}function b(e,n,o,r){var a,s,l,c,d,h,f=e.aoColumns;if(n)for(a=n.length-1;0<=a;a--){var p=(h=n[a]).targets!==i?h.targets:h.aTargets;for(t.isArray(p)||(p=[p]),s=0,l=p.length;s<l;s++)if("number"==typeof p[s]&&0<=p[s]){for(;f.length<=p[s];)u(e);r(p[s],h)}else if("number"==typeof p[s]&&0>p[s])r(f.length+p[s],h);else if("string"==typeof p[s])for(c=0,d=f.length;c<d;c++)("_all"==p[s]||t(f[c].nTh).hasClass(p[s]))&&r(c,h)}if(o)for(a=0,e=o.length;a<e;a++)r(a,o[a])}function w(e,n,o,r){var a=e.aoData.length,s=t.extend(!0,{},Vt.models.oRow,{src:o?"dom":"data",idx:a});s._aData=n,e.aoData.push(s);for(var l=e.aoColumns,c=0,d=l.length;c<d;c++)l[c].sType=null;return e.aiDisplayMaster.push(a),(n=e.rowIdFn(n))!==i&&(e.aIds[n]=s),(o||!e.oFeatures.bDeferRender)&&R(e,a,o,r),a}function x(e,n){var i;return n instanceof t||(n=t(n)),n.map(function(t,n){return i=M(e,n),w(e,i.data,n,i.cells)})}function D(t,e,n,o){var r=t.iDraw,a=t.aoColumns[n],s=t.aoData[e]._aData,l=a.sDefaultContent,c=a.fnGetData(s,o,{settings:t,row:e,col:n});if(c===i)return t.iDrawError!=r&&null===l&&(Et(t,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+e+", column "+n,4),t.iDrawError=r),l;if(c!==s&&null!==c||null===l||o===i){if("function"==typeof c)return c.call(s)}else c=l;return null===c&&"display"==o?"":c}function C(t,e,n,i){t.aoColumns[n].fnSetData(t.aoData[e]._aData,i,{settings:t,row:e,col:n})}function _(e){return t.map(e.match(/(\\.|[^\.])+/g)||[""],function(t){return t.replace(/\\\./g,".")})}function S(e){if(t.isPlainObject(e)){var n={};return t.each(e,function(t,e){e&&(n[t]=S(e))}),function(t,e,o,r){var a=n[e]||n._;return a!==i?a(t,e,o,r):t}}if(null===e)return function(t){return t};if("function"==typeof e)return function(t,n,i,o){return e(t,n,i,o)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var o=function(e,n,r){var a,s;if(""!==r)for(var l=0,c=(s=_(r)).length;l<c;l++){if(r=s[l].match(de),a=s[l].match(ue),r){if(s[l]=s[l].replace(de,""),""!==s[l]&&(e=e[s[l]]),a=[],s.splice(0,l+1),s=s.join("."),t.isArray(e))for(l=0,c=e.length;l<c;l++)a.push(o(e[l],n,s));e=""===(e=r[0].substring(1,r[0].length-1))?a:a.join(e);break}if(a)s[l]=s[l].replace(ue,""),e=e[s[l]]();else{if(null===e||e[s[l]]===i)return i;e=e[s[l]]}}return e};return function(t,n){return o(t,n,e)}}return function(t){return t[e]}}function k(e){if(t.isPlainObject(e))return k(e._);if(null===e)return function(){};if("function"==typeof e)return function(t,n,i){e(t,"set",n,i)};if("string"==typeof e&&(-1!==e.indexOf(".")||-1!==e.indexOf("[")||-1!==e.indexOf("("))){var n=function(e,o,r){var a;a=(r=_(r))[r.length-1];for(var s,l,c=0,d=r.length-1;c<d;c++){if(s=r[c].match(de),l=r[c].match(ue),s){if(r[c]=r[c].replace(de,""),e[r[c]]=[],(a=r.slice()).splice(0,c+1),s=a.join("."),t.isArray(o))for(l=0,d=o.length;l<d;l++)n(a={},o[l],s),e[r[c]].push(a);else e[r[c]]=o;return}l&&(r[c]=r[c].replace(ue,""),e=e[r[c]](o)),null!==e[r[c]]&&e[r[c]]!==i||(e[r[c]]={}),e=e[r[c]]}a.match(ue)?e[a.replace(ue,"")](o):e[a.replace(de,"")]=o};return function(t,i){return n(t,i,e)}}return function(t,n){t[e]=n}}function T(t){return oe(t.aoData,"_aData")}function A(t){t.aoData.length=0,t.aiDisplayMaster.length=0,t.aiDisplay.length=0,t.aIds={}}function P(t,e,n){for(var o=-1,r=0,a=t.length;r<a;r++)t[r]==e?o=r:t[r]>e&&t[r]--;-1!=o&&n===i&&t.splice(o,1)}function E(t,e,n,o){var r,a=t.aoData[e],s=function(n,i){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=D(t,e,i,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==a.src)){var l=a.anCells;if(l)if(o!==i)s(l[o],o);else for(n=0,r=l.length;n<r;n++)s(l[n],n)}else a._aData=M(t,a,o,o===i?i:a._aData).data;if(a._aSortData=null,a._aFilterData=null,s=t.aoColumns,o!==i)s[o].sType=null;else{for(n=0,r=s.length;n<r;n++)s[n].sType=null;N(t,a)}}function M(e,n,o,r){var a,s,l,c=[],d=n.firstChild,u=0,h=e.aoColumns,f=e._rowReadObject,p=(r=r!==i?r:f?{}:[],function(t,e){if("string"==typeof t){var n=t.indexOf("@");-1!==n&&(n=t.substring(n+1),k(t)(r,e.getAttribute(n)))}}),g=function(e){o!==i&&o!==u||(s=h[u],l=t.trim(e.innerHTML),s&&s._bAttrSrc?(k(s.mData._)(r,l),p(s.mData.sort,e),p(s.mData.type,e),p(s.mData.filter,e)):f?(s._setter||(s._setter=k(s.mData)),s._setter(r,l)):r[u]=l),u++};if(d)for(;d;)"TD"!=(a=d.nodeName.toUpperCase())&&"TH"!=a||(g(d),c.push(d)),d=d.nextSibling;else for(d=0,a=(c=n.anCells).length;d<a;d++)g(c[d]);return(n=n.firstChild?n:n.nTr)&&(n=n.getAttribute("id"))&&k(e.rowId)(r,n),{data:r,cells:c}}function R(e,i,o,r){var a,s,l,c,d,u,h=e.aoData[i],f=h._aData,p=[];if(null===h.nTr){for(a=o||n.createElement("tr"),h.nTr=a,h.anCells=p,a._DT_RowIndex=i,N(e,h),c=0,d=e.aoColumns.length;c<d;c++)l=e.aoColumns[c],(s=(u=!o)?n.createElement(l.sCellType):r[c])._DT_CellIndex={row:i,column:c},p.push(s),!u&&(o&&!l.mRender&&l.mData===c||t.isPlainObject(l.mData)&&l.mData._===c+".display")||(s.innerHTML=D(e,i,c,"display")),l.sClass&&(s.className+=" "+l.sClass),l.bVisible&&!o?a.appendChild(s):!l.bVisible&&o&&s.parentNode.removeChild(s),l.fnCreatedCell&&l.fnCreatedCell.call(e.oInstance,s,D(e,i,c),f,i,c);Ot(e,"aoRowCreatedCallback",null,[a,f,i,p])}h.nTr.setAttribute("role","row")}function N(e,n){var i=n.nTr,o=n._aData;if(i){var r=e.rowIdFn(o);r&&(i.id=r),o.DT_RowClass&&(r=o.DT_RowClass.split(" "),n.__rowc=n.__rowc?le(n.__rowc.concat(r)):r,t(i).removeClass(n.__rowc.join(" ")).addClass(o.DT_RowClass)),o.DT_RowAttr&&t(i).attr(o.DT_RowAttr),o.DT_RowData&&t(i).data(o.DT_RowData)}}function I(e){var n,i,o,r,a,s=e.nTHead,l=e.nTFoot,c=0===t("th, td",s).length,d=e.oClasses,u=e.aoColumns;for(c&&(r=t("<tr/>").appendTo(s)),n=0,i=u.length;n<i;n++)o=t((a=u[n]).nTh).addClass(a.sClass),c&&o.appendTo(r),e.oFeatures.bSort&&(o.addClass(a.sSortingClass),!1!==a.bSortable&&(o.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),_t(e,a.nTh,n))),a.sTitle!=o[0].innerHTML&&o.html(a.sTitle),Lt(e,"header")(e,o,a,d);if(c&&F(e.aoHeader,s),t(s).find(">tr").attr("role","row"),t(s).find(">tr>th, >tr>td").addClass(d.sHeaderTH),t(l).find(">tr>th, >tr>td").addClass(d.sFooterTH),null!==l)for(n=0,i=(e=e.aoFooter[0]).length;n<i;n++)(a=u[n]).nTf=e[n].cell,a.sClass&&t(a.nTf).addClass(a.sClass)}function O(e,n,o){var r,a,s,l,c=[],d=[],u=e.aoColumns.length;if(n){for(o===i&&(o=!1),r=0,a=n.length;r<a;r++){for(c[r]=n[r].slice(),c[r].nTr=n[r].nTr,s=u-1;0<=s;s--)!e.aoColumns[s].bVisible&&!o&&c[r].splice(s,1);d.push([])}for(r=0,a=c.length;r<a;r++){if(e=c[r].nTr)for(;s=e.firstChild;)e.removeChild(s);for(s=0,n=c[r].length;s<n;s++)if(l=u=1,d[r][s]===i){for(e.appendChild(c[r][s].cell),d[r][s]=1;c[r+u]!==i&&c[r][s].cell==c[r+u][s].cell;)d[r+u][s]=1,u++;for(;c[r][s+l]!==i&&c[r][s].cell==c[r][s+l].cell;){for(o=0;o<u;o++)d[r+o][s+l]=1;l++}t(c[r][s].cell).attr("rowspan",u).attr("colspan",l)}}}}function H(e){var n=Ot(e,"aoPreDrawCallback","preDraw",[e]);if(-1!==t.inArray(!1,n))ut(e,!1);else{n=[];var o=0,r=e.asStripeClasses,a=r.length,s=e.oLanguage,l=e.iInitDisplayStart,c="ssp"==Bt(e),d=e.aiDisplay;e.bDrawing=!0,l!==i&&-1!==l&&(e._iDisplayStart=c?l:l>=e.fnRecordsDisplay()?0:l,e.iInitDisplayStart=-1),l=e._iDisplayStart;var u=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,ut(e,!1);else if(c){if(!e.bDestroying&&!U(e))return}else e.iDraw++;if(0!==d.length)for(s=c?e.aoData.length:u,c=c?0:l;c<s;c++){var h=d[c],f=e.aoData[h];null===f.nTr&&R(e,h);var p=f.nTr;if(0!==a){var g=r[o%a];f._sRowStripe!=g&&(t(p).removeClass(f._sRowStripe).addClass(g),f._sRowStripe=g)}Ot(e,"aoRowCallback",null,[p,f._aData,o,c,h]),n.push(p),o++}else o=s.sZeroRecords,1==e.iDraw&&"ajax"==Bt(e)?o=s.sLoadingRecords:s.sEmptyTable&&0===e.fnRecordsTotal()&&(o=s.sEmptyTable),n[0]=t("<tr/>",{class:a?r[0]:""}).append(t("<td />",{valign:"top",colSpan:m(e),class:e.oClasses.sRowEmpty}).html(o))[0];Ot(e,"aoHeaderCallback","header",[t(e.nTHead).children("tr")[0],T(e),l,u,d]),Ot(e,"aoFooterCallback","footer",[t(e.nTFoot).children("tr")[0],T(e),l,u,d]),(r=t(e.nTBody)).children().detach(),r.append(t(n)),Ot(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}}function L(t,e){var n=t.oFeatures,i=n.bFilter;n.bSort&&xt(t),i?Y(t,t.oPreviousSearch):t.aiDisplay=t.aiDisplayMaster.slice(),!0!==e&&(t._iDisplayStart=0),t._drawHold=e,H(t),t._drawHold=!1}function B(e){var n=e.oClasses,i=t(e.nTable),o=(i=t("<div/>").insertBefore(i),e.oFeatures),r=t("<div/>",{id:e.sTableId+"_wrapper",class:n.sWrapper+(e.nTFoot?"":" "+n.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=r[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,s,l,c,d,u,h=e.sDom.split(""),f=0;f<h.length;f++){if(a=null,"<"==(s=h[f])){if(l=t("<div/>")[0],"'"==(c=h[f+1])||'"'==c){for(d="",u=2;h[f+u]!=c;)d+=h[f+u],u++;"H"==d?d=n.sJUIHeader:"F"==d&&(d=n.sJUIFooter),-1!=d.indexOf(".")?(c=d.split("."),l.id=c[0].substr(1,c[0].length-1),l.className=c[1]):"#"==d.charAt(0)?l.id=d.substr(1,d.length-1):l.className=d,f+=u}r.append(l),r=t(l)}else if(">"==s)r=r.parent();else if("l"==s&&o.bPaginate&&o.bLengthChange)a=st(e);else if("f"==s&&o.bFilter)a=V(e);else if("r"==s&&o.bProcessing)a=dt(e);else if("t"==s)a=ht(e);else if("i"==s&&o.bInfo)a=et(e);else if("p"==s&&o.bPaginate)a=lt(e);else if(0!==Vt.ext.feature.length)for(u=0,c=(l=Vt.ext.feature).length;u<c;u++)if(s==l[u].cFeature){a=l[u].fnInit(e);break}a&&((l=e.aanFeatures)[s]||(l[s]=[]),l[s].push(a),r.append(a))}i.replaceWith(r),e.nHolding=null}function F(e,n){var i,o,r,a,s,l,c,d,u,h,f=t(n).children("tr");for(e.splice(0,e.length),r=0,l=f.length;r<l;r++)e.push([]);for(r=0,l=f.length;r<l;r++)for(o=(i=f[r]).firstChild;o;){if("TD"==o.nodeName.toUpperCase()||"TH"==o.nodeName.toUpperCase()){for(d=1*o.getAttribute("colspan"),u=1*o.getAttribute("rowspan"),d=d&&0!==d&&1!==d?d:1,u=u&&0!==u&&1!==u?u:1,a=0,s=e[r];s[a];)a++;for(c=a,h=1===d,s=0;s<d;s++)for(a=0;a<u;a++)e[r+a][c+s]={cell:o,unique:h},e[r+a].nTr=i}o=o.nextSibling}}function j(t,e,n){var i=[];n||(n=t.aoHeader,e&&F(n=[],e)),e=0;for(var o=n.length;e<o;e++)for(var r=0,a=n[e].length;r<a;r++)!n[e][r].unique||i[r]&&t.bSortCellsTop||(i[r]=n[e][r].cell);return i}function z(e,n,i){if(Ot(e,"aoServerParams","serverParams",[n]),n&&t.isArray(n)){var o={},r=/(.*?)\[\]$/;t.each(n,function(t,e){var n=e.name.match(r);n?(o[n=n[0]]||(o[n]=[]),o[n].push(e.value)):o[e.name]=e.value}),n=o}var a,s=e.ajax,l=e.oInstance,c=function(t){Ot(e,null,"xhr",[e,t,e.jqXHR]),i(t)};if(t.isPlainObject(s)&&s.data){var d="function"==typeof(a=s.data)?a(n,e):a;n="function"==typeof a&&d?d:t.extend(!0,n,d),delete s.data}d={data:n,success:function(t){var n=t.error||t.sError;n&&Et(e,0,n),e.json=t,c(t)},dataType:"json",cache:!1,type:e.sServerMethod,error:function(n,i){var o=Ot(e,null,"xhr",[e,null,e.jqXHR]);-1===t.inArray(!0,o)&&("parsererror"==i?Et(e,0,"Invalid JSON response",1):4===n.readyState&&Et(e,0,"Ajax error",7)),ut(e,!1)}},e.oAjaxData=n,Ot(e,null,"preXhr",[e,n]),e.fnServerData?e.fnServerData.call(l,e.sAjaxSource,t.map(n,function(t,e){return{name:e,value:t}}),c,e):e.sAjaxSource||"string"==typeof s?e.jqXHR=t.ajax(t.extend(d,{url:s||e.sAjaxSource})):"function"==typeof s?e.jqXHR=s.call(l,n,c,e):(e.jqXHR=t.ajax(t.extend(d,s)),s.data=a)}function U(t){return!t.bAjaxDataGet||(t.iDraw++,ut(t,!0),z(t,$(t),function(e){W(t,e)}),!1)}function $(e){var n,i,o,r,a=e.aoColumns,s=a.length,l=e.oFeatures,c=e.oPreviousSearch,d=e.aoPreSearchCols,u=[],h=wt(e);n=e._iDisplayStart,i=!1!==l.bPaginate?e._iDisplayLength:-1;var f=function(t,e){u.push({name:t,value:e})};f("sEcho",e.iDraw),f("iColumns",s),f("sColumns",oe(a,"sName").join(",")),f("iDisplayStart",n),f("iDisplayLength",i);var p={draw:e.iDraw,columns:[],order:[],start:n,length:i,search:{value:c.sSearch,regex:c.bRegex}};for(n=0;n<s;n++)r=d[n],p.columns.push({data:i="function"==typeof(o=a[n]).mData?"function":o.mData,name:o.sName,searchable:o.bSearchable,orderable:o.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),f("mDataProp_"+n,i),l.bFilter&&(f("sSearch_"+n,r.sSearch),f("bRegex_"+n,r.bRegex),f("bSearchable_"+n,o.bSearchable)),l.bSort&&f("bSortable_"+n,o.bSortable);return l.bFilter&&(f("sSearch",c.sSearch),f("bRegex",c.bRegex)),l.bSort&&(t.each(h,function(t,e){p.order.push({column:e.col,dir:e.dir}),f("iSortCol_"+t,e.col),f("sSortDir_"+t,e.dir)}),f("iSortingCols",h.length)),null===(a=Vt.ext.legacy.ajax)?e.sAjaxSource?u:p:a?u:p}function W(t,e){var n=q(t,e),o=e.sEcho!==i?e.sEcho:e.draw,r=e.iTotalRecords!==i?e.iTotalRecords:e.recordsTotal,a=e.iTotalDisplayRecords!==i?e.iTotalDisplayRecords:e.recordsFiltered;if(o){if(1*o<t.iDraw)return;t.iDraw=1*o}for(A(t),t._iRecordsTotal=parseInt(r,10),t._iRecordsDisplay=parseInt(a,10),o=0,r=n.length;o<r;o++)w(t,n[o]);t.aiDisplay=t.aiDisplayMaster.slice(),t.bAjaxDataGet=!1,H(t),t._bInitComplete||rt(t,e),t.bAjaxDataGet=!0,ut(t,!1)}function q(e,n){var o=t.isPlainObject(e.ajax)&&e.ajax.dataSrc!==i?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===o?n.aaData||n[o]:""!==o?S(o)(n):n}function V(e){var i=e.sTableId,o=e.oLanguage,r=e.oPreviousSearch,a=e.aanFeatures,s='<input type="search" class="'+(c=e.oClasses).sFilterInput+'"/>',l=(l=o.sSearch).match(/_INPUT_/)?l.replace("_INPUT_",s):l+s,c=t("<div/>",{id:a.f?null:i+"_filter",class:c.sFilter}).append(t("<label/>").append(l)),d=(a=function(){var t=this.value?this.value:"";t!=r.sSearch&&(Y(e,{sSearch:t,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),e._iDisplayStart=0,H(e))},s=null!==e.searchDelay?e.searchDelay:"ssp"===Bt(e)?400:0,t("input",c).val(r.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",s?me(a,s):a).on("keypress.DT",function(t){if(13==t.keyCode)return!1}).attr("aria-controls",i));return t(e.nTable).on("search.dt.DT",function(t,i){if(e===i)try{d[0]!==n.activeElement&&d.val(r.sSearch)}catch(t){}}),c[0]}function Y(t,e,n){var o=t.oPreviousSearch,r=t.aoPreSearchCols,a=function(t){o.sSearch=t.sSearch,o.bRegex=t.bRegex,o.bSmart=t.bSmart,o.bCaseInsensitive=t.bCaseInsensitive};if(y(t),"ssp"!=Bt(t)){for(X(t,e.sSearch,n,e.bEscapeRegex!==i?!e.bEscapeRegex:e.bRegex,e.bSmart,e.bCaseInsensitive),a(e),e=0;e<r.length;e++)K(t,r[e].sSearch,e,r[e].bEscapeRegex!==i?!r[e].bEscapeRegex:r[e].bRegex,r[e].bSmart,r[e].bCaseInsensitive);G(t)}else a(e);t.bFiltered=!0,Ot(t,null,"search",[t])}function G(e){for(var n,i,o=Vt.ext.search,r=e.aiDisplay,a=0,s=o.length;a<s;a++){for(var l=[],c=0,d=r.length;c<d;c++)o[a](e,(n=e.aoData[i=r[c]])._aFilterData,i,n._aData,c)&&l.push(i);r.length=0,t.merge(r,l)}}function K(t,e,n,i,o,r){if(""!==e){var a=[],s=t.aiDisplay;for(i=J(e,i,o,r),o=0;o<s.length;o++)i.test(e=t.aoData[s[o]]._aFilterData[n])&&a.push(s[o]);t.aiDisplay=a}}function X(t,e,n,i,o,r){o=J(e,i,o,r);var a,s=t.oPreviousSearch.sSearch,l=t.aiDisplayMaster;if(r=[],0!==Vt.ext.search.length&&(n=!0),a=Q(t),0>=e.length)t.aiDisplay=l.slice();else{for((a||n||i||s.length>e.length||0!==e.indexOf(s)||t.bSorted)&&(t.aiDisplay=l.slice()),e=t.aiDisplay,n=0;n<e.length;n++)o.test(t.aoData[e[n]]._sFilterRow)&&r.push(e[n]);t.aiDisplay=r}}function J(e,n,i,o){return e=n?e:he(e),i&&(e="^(?=.*?"+t.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(t){if('"'===t.charAt(0)){var e=t.match(/^"(.*)"$/);t=e?e[1]:t}return t.replace('"',"")}).join(")(?=.*?")+").*$"),RegExp(e,o?"i":"")}function Q(t){var e,n,i,o,r,a,s,l,c=t.aoColumns,d=Vt.ext.type.search;for(e=!1,n=0,o=t.aoData.length;n<o;n++)if(!(l=t.aoData[n])._aFilterData){for(a=[],i=0,r=c.length;i<r;i++)(e=c[i]).bSearchable?(s=D(t,n,i,"filter"),d[e.sType]&&(s=d[e.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(fe.innerHTML=s,s=pe?fe.textContent:fe.innerText),s.replace&&(s=s.replace(/[\r\n\u2028]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),e=!0}return e}function Z(t){return{search:t.sSearch,smart:t.bSmart,regex:t.bRegex,caseInsensitive:t.bCaseInsensitive}}function tt(t){return{sSearch:t.search,bSmart:t.smart,bRegex:t.regex,bCaseInsensitive:t.caseInsensitive}}function et(e){var n=e.sTableId,i=e.aanFeatures.i,o=t("<div/>",{class:e.oClasses.sInfo,id:i?null:n+"_info"});return i||(e.aoDrawCallback.push({fn:nt,sName:"information"}),o.attr("role","status").attr("aria-live","polite"),t(e.nTable).attr("aria-describedby",n+"_info")),o[0]}function nt(e){var n=e.aanFeatures.i;if(0!==n.length){var i=e.oLanguage,o=e._iDisplayStart+1,r=e.fnDisplayEnd(),a=e.fnRecordsTotal(),s=e.fnRecordsDisplay(),l=s?i.sInfo:i.sInfoEmpty;s!==a&&(l+=" "+i.sInfoFiltered),l=it(e,l+=i.sInfoPostFix),null!==(i=i.fnInfoCallback)&&(l=i.call(e.oInstance,e,o,r,a,s,l)),t(n).html(l)}}function it(t,e){var n=t.fnFormatNumber,i=t._iDisplayStart+1,o=t._iDisplayLength,r=t.fnRecordsDisplay(),a=-1===o;return e.replace(/_START_/g,n.call(t,i)).replace(/_END_/g,n.call(t,t.fnDisplayEnd())).replace(/_MAX_/g,n.call(t,t.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(t,r)).replace(/_PAGE_/g,n.call(t,a?1:Math.ceil(i/o))).replace(/_PAGES_/g,n.call(t,a?1:Math.ceil(r/o)))}function ot(t){var e,n,i,o=t.iInitDisplayStart,r=t.aoColumns;n=t.oFeatures;var a=t.bDeferLoading;if(t.bInitialised){for(B(t),I(t),O(t,t.aoHeader),O(t,t.aoFooter),ut(t,!0),n.bAutoWidth&&gt(t),e=0,n=r.length;e<n;e++)(i=r[e]).sWidth&&(i.nTh.style.width=bt(i.sWidth));Ot(t,null,"preInit",[t]),L(t),("ssp"!=(r=Bt(t))||a)&&("ajax"==r?z(t,[],function(n){var i=q(t,n);for(e=0;e<i.length;e++)w(t,i[e]);t.iInitDisplayStart=o,L(t),ut(t,!1),rt(t,n)}):(ut(t,!1),rt(t)))}else setTimeout(function(){ot(t)},200)}function rt(t,e){t._bInitComplete=!0,(e||t.oInit.aaData)&&f(t),Ot(t,null,"plugin-init",[t,e]),Ot(t,"aoInitComplete","init",[t,e])}function at(t,e){var n=parseInt(e,10);t._iDisplayLength=n,Ht(t),Ot(t,null,"length",[t,n])}function st(e){for(var n=e.oClasses,i=e.sTableId,o=(a=t.isArray((r=e.aLengthMenu)[0]))?r[0]:r,r=a?r[1]:r,a=t("<select/>",{name:i+"_length","aria-controls":i,class:n.sLengthSelect}),s=0,l=o.length;s<l;s++)a[0][s]=new Option("number"==typeof r[s]?e.fnFormatNumber(r[s]):r[s],o[s]);var c=t("<div><label/></div>").addClass(n.sLength);return e.aanFeatures.l||(c[0].id=i+"_length"),c.children().append(e.oLanguage.sLengthMenu.replace("_MENU_",a[0].outerHTML)),t("select",c).val(e._iDisplayLength).on("change.DT",function(){at(e,t(this).val()),H(e)}),t(e.nTable).on("length.dt.DT",function(n,i,o){e===i&&t("select",c).val(o)}),c[0]}function lt(e){var n=Vt.ext.pager[r=e.sPaginationType],i="function"==typeof n,o=function(t){H(t)},r=t("<div/>").addClass(e.oClasses.sPaging+r)[0],a=e.aanFeatures;return i||n.fnInit(e,r,o),a.p||(r.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(t){if(i){var e,r=t._iDisplayStart,s=t._iDisplayLength,l=t.fnRecordsDisplay(),c=(r=(c=-1===s)?0:Math.ceil(r/s),s=c?1:Math.ceil(l/s),l=n(r,s),0);for(e=a.p.length;c<e;c++)Lt(t,"pageButton")(t,a.p[c],c,l,r,s)}else n.fnUpdate(t,o)},sName:"pagination"})),r}function ct(t,e,n){var i=t._iDisplayStart,o=t._iDisplayLength,r=t.fnRecordsDisplay();return 0===r||-1===o?i=0:"number"==typeof e?(i=e*o)>r&&(i=0):"first"==e?i=0:"previous"==e?0>(i=0<=o?i-o:0)&&(i=0):"next"==e?i+o<r&&(i+=o):"last"==e?i=Math.floor((r-1)/o)*o:Et(t,0,"Unknown paging action: "+e,5),e=t._iDisplayStart!==i,t._iDisplayStart=i,e&&(Ot(t,null,"page",[t]),n&&H(t)),e}function dt(e){return t("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function ut(e,n){e.oFeatures.bProcessing&&t(e.aanFeatures.r).css("display",n?"block":"none"),Ot(e,null,"processing",[e,n])}function ht(e){(u=t(e.nTable)).attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var i=n.sX,o=n.sY,r=e.oClasses,a=u.children("caption"),s=a.length?a[0]._captionSide:null,l=t(u[0].cloneNode(!1)),c=t(u[0].cloneNode(!1)),d=u.children("tfoot");d.length||(d=null),l=t("<div/>",{class:r.sScrollWrapper}).append(t("<div/>",{class:r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?i?bt(i):null:"100%"}).append(t("<div/>",{class:r.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?a:null).append(u.children("thead"))))).append(t("<div/>",{class:r.sScrollBody}).css({position:"relative",overflow:"auto",width:i?bt(i):null}).append(u)),d&&l.append(t("<div/>",{class:r.sScrollFoot}).css({overflow:"hidden",border:0,width:i?i?bt(i):null:"100%"}).append(t("<div/>",{class:r.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===s?a:null).append(u.children("tfoot")))));var u,h=(u=l.children())[0],f=(r=u[1],d?u[2]:null);return i&&t(r).on("scroll.DT",function(){var t=this.scrollLeft;h.scrollLeft=t,d&&(f.scrollLeft=t)}),t(r).css(o&&n.bCollapse?"max-height":"height",o),e.nScrollHead=h,e.nScrollBody=r,e.nScrollFoot=f,e.aoDrawCallback.push({fn:ft,sName:"scrolling"}),l[0]}function ft(e){var n,o,r,a,s,l,c=(h=e.oScroll).sX,d=h.sXInner,u=h.sY,h=h.iBarWidth,g=t(e.nScrollHead),m=g[0].style,v=(n=g.children("div"))[0].style,y=n.children("table"),b=t(n=e.nScrollBody),w=n.style,x=t(e.nScrollFoot).children("div"),D=x.children("table"),C=t(e.nTHead),_=t(e.nTable),S=_[0],k=S.style,T=e.nTFoot?t(e.nTFoot):null,A=e.oBrowser,P=A.bScrollOversize,E=oe(e.aoColumns,"nTh"),M=[],R=[],N=[],I=[],O=function(t){(t=t.style).paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0};e.scrollBarVis!==(r=n.scrollHeight>n.clientHeight)&&e.scrollBarVis!==i?(e.scrollBarVis=r,f(e)):(e.scrollBarVis=r,_.children("thead, tfoot").remove(),T&&(a=T.clone().prependTo(_),o=T.find("tr"),a=a.find("tr")),s=C.clone().prependTo(_),C=C.find("tr"),r=s.find("tr"),s.find("th, td").removeAttr("tabindex"),c||(w.width="100%",g[0].style.width="100%"),t.each(j(e,s),function(t,n){l=p(e,t),n.style.width=e.aoColumns[l].sWidth}),T&&pt(function(t){t.style.width=""},a),g=_.outerWidth(),""===c?(k.width="100%",P&&(_.find("tbody").height()>n.offsetHeight||"scroll"==b.css("overflow-y"))&&(k.width=bt(_.outerWidth()-h)),g=_.outerWidth()):""!==d&&(k.width=bt(d),g=_.outerWidth()),pt(O,r),pt(function(e){N.push(e.innerHTML),M.push(bt(t(e).css("width")))},r),pt(function(e,n){-1!==t.inArray(e,E)&&(e.style.width=M[n])},C),t(r).height(0),T&&(pt(O,a),pt(function(e){I.push(e.innerHTML),R.push(bt(t(e).css("width")))},a),pt(function(t,e){t.style.width=R[e]},o),t(a).height(0)),pt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+N[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=M[e]},r),T&&pt(function(t,e){t.innerHTML='<div class="dataTables_sizing">'+I[e]+"</div>",t.childNodes[0].style.height="0",t.childNodes[0].style.overflow="hidden",t.style.width=R[e]},a),_.outerWidth()<g?(o=n.scrollHeight>n.offsetHeight||"scroll"==b.css("overflow-y")?g+h:g,P&&(n.scrollHeight>n.offsetHeight||"scroll"==b.css("overflow-y"))&&(k.width=bt(o-h)),(""===c||""!==d)&&Et(e,1,"Possible column misalignment",6)):o="100%",w.width=bt(o),m.width=bt(o),T&&(e.nScrollFoot.style.width=bt(o)),!u&&P&&(w.height=bt(S.offsetHeight+h)),c=_.outerWidth(),y[0].style.width=bt(c),v.width=bt(c),d=_.height()>n.clientHeight||"scroll"==b.css("overflow-y"),v[u="padding"+(A.bScrollbarLeft?"Left":"Right")]=d?h+"px":"0px",T&&(D[0].style.width=bt(c),x[0].style.width=bt(c),x[0].style[u]=d?h+"px":"0px"),_.children("colgroup").insertBefore(_.children("thead")),b.trigger("scroll"),!e.bSorted&&!e.bFiltered||e._drawHold||(n.scrollTop=0))}function pt(t,e,n){for(var i,o,r=0,a=0,s=e.length;a<s;){for(i=e[a].firstChild,o=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?t(i,o,r):t(i,r),r++),i=i.nextSibling,o=n?o.nextSibling:null;a++}}function gt(n){var i,o,r=n.nTable,a=n.aoColumns,s=(x=n.oScroll).sY,l=x.sX,c=x.sXInner,d=a.length,u=v(n,"bVisible"),h=t("th",n.nTHead),g=r.getAttribute("width"),y=r.parentNode,b=!1,w=n.oBrowser,x=w.bScrollOversize;for((i=r.style.width)&&-1!==i.indexOf("%")&&(g=i),i=0;i<u.length;i++)null!==(o=a[u[i]]).sWidth&&(o.sWidth=mt(o.sWidthOrig,y),b=!0);if(x||!b&&!l&&!s&&d==m(n)&&d==h.length)for(i=0;i<d;i++)null!==(u=p(n,i))&&(a[u].sWidth=bt(h.eq(i).width()));else{(d=t(r).clone().css("visibility","hidden").removeAttr("id")).find("tbody tr").remove();var D=t("<tr/>").appendTo(d.find("tbody"));for(d.find("thead, tfoot").remove(),d.append(t(n.nTHead).clone()).append(t(n.nTFoot).clone()),d.find("tfoot th, tfoot td").css("width",""),h=j(n,d.find("thead")[0]),i=0;i<u.length;i++)h[i].style.width=null!==(o=a[u[i]]).sWidthOrig&&""!==o.sWidthOrig?bt(o.sWidthOrig):"",o.sWidthOrig&&l&&t(h[i]).append(t("<div/>").css({width:o.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(i=0;i<u.length;i++)o=a[b=u[i]],t(vt(n,b)).clone(!1).append(o.sContentPadding).appendTo(D);for(t("[name]",d).removeAttr("name"),o=t("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(d).appendTo(y),l&&c?d.width(c):l?(d.css("width","auto"),d.removeAttr("width"),d.width()<y.clientWidth&&g&&d.width(y.clientWidth)):s?d.width(y.clientWidth):g&&d.width(g),i=s=0;i<u.length;i++)c=(y=t(h[i])).outerWidth()-y.width(),s+=y=w.bBounding?Math.ceil(h[i].getBoundingClientRect().width):y.outerWidth(),a[u[i]].sWidth=bt(y-c);r.style.width=bt(s),o.remove()}g&&(r.style.width=bt(g)),!g&&!l||n._reszEvt||(r=function(){t(e).on("resize.DT-"+n.sInstance,me(function(){f(n)}))},x?setTimeout(r,1e3):r(),n._reszEvt=!0)}function mt(e,i){if(!e)return 0;var o=t("<div/>").css("width",bt(e)).appendTo(i||n.body),r=o[0].offsetWidth;return o.remove(),r}function vt(e,n){var i=yt(e,n);if(0>i)return null;var o=e.aoData[i];return o.nTr?o.anCells[n]:t("<td/>").html(D(e,i,n,"display"))[0]}function yt(t,e){for(var n,i=-1,o=-1,r=0,a=t.aoData.length;r<a;r++)(n=(n=(n=D(t,r,e,"display")+"").replace(ge,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,o=r);return o}function bt(t){return null===t?"0px":"number"==typeof t?0>t?"0px":t+"px":t.match(/\d$/)?t+"px":t}function wt(e){var n,o,r,a,s,l,c=[],d=e.aoColumns;o=t.isPlainObject(n=e.aaSortingFixed);var u=[];for(r=function(e){e.length&&!t.isArray(e[0])?u.push(e):t.merge(u,e)},t.isArray(n)&&r(n),o&&n.pre&&r(n.pre),r(e.aaSorting),o&&n.post&&r(n.post),e=0;e<u.length;e++)for(n=0,o=(r=d[l=u[e][0]].aDataSort).length;n<o;n++)s=d[a=r[n]].sType||"string",u[e]._idx===i&&(u[e]._idx=t.inArray(u[e][1],d[a].asSorting)),c.push({src:l,col:a,dir:u[e][1],index:u[e]._idx,type:s,formatter:Vt.ext.type.order[s+"-pre"]});return c}function xt(t){var e,n,i,o,r=[],a=Vt.ext.type.order,s=t.aoData,l=0,c=t.aiDisplayMaster;for(y(t),e=0,n=(o=wt(t)).length;e<n;e++)(i=o[e]).formatter&&l++,kt(t,i.col);if("ssp"!=Bt(t)&&0!==o.length){for(e=0,n=c.length;e<n;e++)r[c[e]]=e;c.sort(l===o.length?function(t,e){var n,i,a,l,c=o.length,d=s[t]._aSortData,u=s[e]._aSortData;for(a=0;a<c;a++)if(0!=(n=(n=d[(l=o[a]).col])<(i=u[l.col])?-1:n>i?1:0))return"asc"===l.dir?n:-n;return(n=r[t])<(i=r[e])?-1:n>i?1:0}:function(t,e){var n,i,l,c,d=o.length,u=s[t]._aSortData,h=s[e]._aSortData;for(l=0;l<d;l++)if(n=u[(c=o[l]).col],i=h[c.col],0!==(n=(c=a[c.type+"-"+c.dir]||a["string-"+c.dir])(n,i)))return n;return(n=r[t])<(i=r[e])?-1:n>i?1:0})}t.bSorted=!0}function Dt(t){for(var e,n,i=t.aoColumns,o=wt(t),r=(t=t.oLanguage.oAria,0),a=i.length;r<a;r++){var s=(n=i[r]).asSorting;e=n.sTitle.replace(/<.*?>/g,"");var l=n.nTh;l.removeAttribute("aria-sort"),n.bSortable&&(0<o.length&&o[0].col==r?(l.setAttribute("aria-sort","asc"==o[0].dir?"ascending":"descending"),n=s[o[0].index+1]||s[0]):n=s[0],e+="asc"===n?t.sSortAscending:t.sSortDescending),l.setAttribute("aria-label",e)}}function Ct(e,n,o,r){var a=e.aaSorting,s=e.aoColumns[n].asSorting,l=function(e,n){var o=e._idx;return o===i&&(o=t.inArray(e[1],s)),o+1<s.length?o+1:n?null:0};"number"==typeof a[0]&&(a=e.aaSorting=[a]),o&&e.oFeatures.bSortMulti?-1!==(o=t.inArray(n,oe(a,"0")))?(null===(n=l(a[o],!0))&&1===a.length&&(n=0),null===n?a.splice(o,1):(a[o][1]=s[n],a[o]._idx=n)):(a.push([n,s[0],0]),a[a.length-1]._idx=0):a.length&&a[0][0]==n?(n=l(a[0]),a.length=1,a[0][1]=s[n],a[0]._idx=n):(a.length=0,a.push([n,s[0]]),a[0]._idx=0),L(e),"function"==typeof r&&r(e)}function _t(t,e,n,i){var o=t.aoColumns[n];Nt(e,{},function(e){!1!==o.bSortable&&(t.oFeatures.bProcessing?(ut(t,!0),setTimeout(function(){Ct(t,n,e.shiftKey,i),"ssp"!==Bt(t)&&ut(t,!1)},0)):Ct(t,n,e.shiftKey,i))})}function St(e){var n,i=e.aLastSort,o=e.oClasses.sSortColumn,r=wt(e),a=e.oFeatures;if(a.bSort&&a.bSortClasses){for(a=0,n=i.length;a<n;a++)t(oe(e.aoData,"anCells",i[a].src)).removeClass(o+(2>a?a+1:3));for(a=0,n=r.length;a<n;a++)t(oe(e.aoData,"anCells",r[a].src)).addClass(o+(2>a?a+1:3))}e.aLastSort=r}function kt(t,e){var n,i=t.aoColumns[e],o=Vt.ext.order[i.sSortDataType];o&&(n=o.call(t.oInstance,t,e,g(t,e)));for(var r,a=Vt.ext.type.order[i.sType+"-pre"],s=0,l=t.aoData.length;s<l;s++)(i=t.aoData[s])._aSortData||(i._aSortData=[]),(!i._aSortData[e]||o)&&(r=o?n[s]:D(t,s,e,"sort"),i._aSortData[e]=a?a(r):r)}function Tt(e){if(e.oFeatures.bStateSave&&!e.bDestroying){var n={time:+new Date,start:e._iDisplayStart,length:e._iDisplayLength,order:t.extend(!0,[],e.aaSorting),search:Z(e.oPreviousSearch),columns:t.map(e.aoColumns,function(t,n){return{visible:t.bVisible,search:Z(e.aoPreSearchCols[n])}})};Ot(e,"aoStateSaveParams","stateSaveParams",[e,n]),e.oSavedState=n,e.fnStateSaveCallback.call(e.oInstance,e,n)}}function At(e,n,o){var r,a,s=e.aoColumns;if(n=function(n){if(n&&n.time){var l=Ot(e,"aoStateLoadParams","stateLoadParams",[e,n]);if(-1===t.inArray(!1,l)&&!(0<(l=e.iStateDuration)&&n.time<+new Date-1e3*l||n.columns&&s.length!==n.columns.length)){if(e.oLoadedState=t.extend(!0,{},n),n.start!==i&&(e._iDisplayStart=n.start,e.iInitDisplayStart=n.start),n.length!==i&&(e._iDisplayLength=n.length),n.order!==i&&(e.aaSorting=[],t.each(n.order,function(t,n){e.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==i&&t.extend(e.oPreviousSearch,tt(n.search)),n.columns)for(r=0,a=n.columns.length;r<a;r++)(l=n.columns[r]).visible!==i&&(s[r].bVisible=l.visible),l.search!==i&&t.extend(e.aoPreSearchCols[r],tt(l.search));Ot(e,"aoStateLoaded","stateLoaded",[e,n])}}o()},e.oFeatures.bStateSave){var l=e.fnStateLoadCallback.call(e.oInstance,e,n);l!==i&&n(l)}else o()}function Pt(e){var n=Vt.settings;return-1!==(e=t.inArray(e,oe(n,"nTable")))?n[e]:null}function Et(t,n,i,o){if(i="DataTables warning: "+(t?"table id="+t.sTableId+" - ":"")+i,o&&(i+=". For more information about this error, please see http://datatables.net/tn/"+o),n)e.console&&console.log&&console.log(i);else if(n=(n=Vt.ext).sErrMode||n.errMode,t&&Ot(t,null,"error",[t,o,i]),"alert"==n)alert(i);else{if("throw"==n)throw Error(i);"function"==typeof n&&n(t,o,i)}}function Mt(e,n,o,r){t.isArray(o)?t.each(o,function(i,o){t.isArray(o)?Mt(e,n,o[0],o[1]):Mt(e,n,o)}):(r===i&&(r=o),n[o]!==i&&(e[r]=n[o]))}function Rt(e,n,i){var o,r;for(r in n)n.hasOwnProperty(r)&&(t.isPlainObject(o=n[r])?(t.isPlainObject(e[r])||(e[r]={}),t.extend(!0,e[r],o)):e[r]=i&&"data"!==r&&"aaData"!==r&&t.isArray(o)?o.slice():o);return e}function Nt(e,n,i){t(e).on("click.DT",n,function(n){t(e).blur(),i(n)}).on("keypress.DT",n,function(t){13===t.which&&(t.preventDefault(),i(t))}).on("selectstart.DT",function(){return!1})}function It(t,e,n,i){n&&t[e].push({fn:n,sName:i})}function Ot(e,n,i,o){var r=[];return n&&(r=t.map(e[n].slice().reverse(),function(t){return t.fn.apply(e.oInstance,o)})),null!==i&&(n=t.Event(i+".dt"),t(e.nTable).trigger(n,o),r.push(n.result)),r}function Ht(t){var e=t._iDisplayStart,n=t.fnDisplayEnd(),i=t._iDisplayLength;e>=n&&(e=n-i),e-=e%i,(-1===i||0>e)&&(e=0),t._iDisplayStart=e}function Lt(e,n){var i=e.renderer,o=Vt.ext.renderer[n];return t.isPlainObject(i)&&i[n]?o[i[n]]||o._:"string"==typeof i&&o[i]||o._}function Bt(t){return t.oFeatures.bServerSide?"ssp":t.ajax||t.sAjaxSource?"ajax":"dom"}function Ft(t,e){var n=[],i=(n=Ae.numbers_length,Math.floor(n/2));return e<=n?n=ae(0,e):t<=i?((n=ae(0,n-2)).push("ellipsis"),n.push(e-1)):(t>=e-1-i?n=ae(e-(n-2),e):((n=ae(t-i+2,t+i-1)).push("ellipsis"),n.push(e-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function jt(e){t.each({num:function(t){return Pe(t,e)},"num-fmt":function(t){return Pe(t,e,Qt)},"html-num":function(t){return Pe(t,e,Kt)},"html-num-fmt":function(t){return Pe(t,e,Kt,Qt)}},function(t,n){Ut.type.order[t+e+"-pre"]=n,t.match(/^html\-/)&&(Ut.type.search[t+e]=Ut.type.search.html)})}function zt(t){return function(){var e=[Pt(this[Vt.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return Vt.ext.internal[t].apply(this,e)}}var Ut,$t,Wt,qt,Vt=function(e){this.$=function(t,e){return this.api(!0).$(t,e)},this._=function(t,e){return this.api(!0).rows(t,e).data()},this.api=function(t){return new $t(t?Pt(this[Ut.iApiIndex]):this)},this.fnAddData=function(e,n){var o=this.api(!0),r=t.isArray(e)&&(t.isArray(e[0])||t.isPlainObject(e[0]))?o.rows.add(e):o.row.add(e);return(n===i||n)&&o.draw(),r.flatten().toArray()},this.fnAdjustColumnSizing=function(t){var e=this.api(!0).columns.adjust(),n=e.settings()[0],o=n.oScroll;t===i||t?e.draw(!1):(""!==o.sX||""!==o.sY)&&ft(n)},this.fnClearTable=function(t){var e=this.api(!0).clear();(t===i||t)&&e.draw()},this.fnClose=function(t){this.api(!0).row(t).child.hide()},this.fnDeleteRow=function(t,e,n){var o=this.api(!0),r=(t=o.rows(t)).settings()[0],a=r.aoData[t[0][0]];return t.remove(),e&&e.call(this,r,a),(n===i||n)&&o.draw(),a},this.fnDestroy=function(t){this.api(!0).destroy(t)},this.fnDraw=function(t){this.api(!0).draw(t)},this.fnFilter=function(t,e,n,o,r,a){r=this.api(!0),null===e||e===i?r.search(t,n,o,a):r.column(e).search(t,n,o,a),r.draw()},this.fnGetData=function(t,e){var n=this.api(!0);if(t!==i){var o=t.nodeName?t.nodeName.toLowerCase():"";return e!==i||"td"==o||"th"==o?n.cell(t,e).data():n.row(t).data()||null}return n.data().toArray()},this.fnGetNodes=function(t){var e=this.api(!0);return t!==i?e.row(t).node():e.rows().nodes().flatten().toArray()},this.fnGetPosition=function(t){var e=this.api(!0),n=t.nodeName.toUpperCase();return"TR"==n?e.row(t).index():"TD"==n||"TH"==n?[(t=e.cell(t).index()).row,t.columnVisible,t.column]:null},this.fnIsOpen=function(t){return this.api(!0).row(t).child.isShown()},this.fnOpen=function(t,e,n){return this.api(!0).row(t).child(e,n).show().child()[0]},this.fnPageChange=function(t,e){var n=this.api(!0).page(t);(e===i||e)&&n.draw(!1)},this.fnSetColumnVis=function(t,e,n){t=this.api(!0).column(t).visible(e),(n===i||n)&&t.columns.adjust().draw()},this.fnSettings=function(){return Pt(this[Ut.iApiIndex])},this.fnSort=function(t){this.api(!0).order(t).draw()},this.fnSortListener=function(t,e,n){this.api(!0).order.listener(t,e,n)},this.fnUpdate=function(t,e,n,o,r){var a=this.api(!0);return n===i||null===n?a.row(e).data(t):a.cell(e,n).data(t),(r===i||r)&&a.columns.adjust(),(o===i||o)&&a.draw(),0},this.fnVersionCheck=Ut.fnVersionCheck;var n=this,o=e===i,d=this.length;for(var f in o&&(e={}),this.oApi=this.internal=Ut.internal,Vt.ext.internal)f&&(this[f]=zt(f));return this.each(function(){var f,p={},g=1<d?Rt(p,e,!0):e,m=0,v=(p=this.getAttribute("id"),!1),y=Vt.defaults,D=t(this);if("table"!=this.nodeName.toLowerCase())Et(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{s(y),l(y.column),r(y,y,!0),r(y.column,y.column,!0),r(y,t.extend(g,D.data()),!0);var C=Vt.settings;for(m=0,f=C.length;m<f;m++){var _=C[m];if(_.nTable==this||_.nTHead&&_.nTHead.parentNode==this||_.nTFoot&&_.nTFoot.parentNode==this){if(o||(g.bRetrieve!==i?g.bRetrieve:y.bRetrieve))return _.oInstance;if(g.bDestroy!==i?g.bDestroy:y.bDestroy){_.oInstance.fnDestroy();break}return void Et(_,0,"Cannot reinitialise DataTable",3)}if(_.sTableId==this.id){C.splice(m,1);break}}null!==p&&""!==p||(this.id=p="DataTables_Table_"+Vt.ext._unique++);var k=t.extend(!0,{},Vt.models.oSettings,{sDestroyWidth:D[0].style.width,sInstance:p,sTableId:p});k.nTable=this,k.oApi=n.internal,k.oInit=g,C.push(k),k.oInstance=1===n.length?n:D.dataTable(),s(g),a(g.oLanguage),g.aLengthMenu&&!g.iDisplayLength&&(g.iDisplayLength=t.isArray(g.aLengthMenu[0])?g.aLengthMenu[0][0]:g.aLengthMenu[0]),g=Rt(t.extend(!0,{},y),g),Mt(k.oFeatures,g,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),Mt(k,g,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),Mt(k.oScroll,g,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),Mt(k.oLanguage,g,"fnInfoCallback"),It(k,"aoDrawCallback",g.fnDrawCallback,"user"),It(k,"aoServerParams",g.fnServerParams,"user"),It(k,"aoStateSaveParams",g.fnStateSaveParams,"user"),It(k,"aoStateLoadParams",g.fnStateLoadParams,"user"),It(k,"aoStateLoaded",g.fnStateLoaded,"user"),It(k,"aoRowCallback",g.fnRowCallback,"user"),It(k,"aoRowCreatedCallback",g.fnCreatedRow,"user"),It(k,"aoHeaderCallback",g.fnHeaderCallback,"user"),It(k,"aoFooterCallback",g.fnFooterCallback,"user"),It(k,"aoInitComplete",g.fnInitComplete,"user"),It(k,"aoPreDrawCallback",g.fnPreDrawCallback,"user"),k.rowIdFn=S(g.rowId),c(k);var T=k.oClasses;t.extend(T,Vt.ext.classes,g.oClasses),D.addClass(T.sTable),k.iInitDisplayStart===i&&(k.iInitDisplayStart=g.iDisplayStart,k._iDisplayStart=g.iDisplayStart),null!==g.iDeferLoading&&(k.bDeferLoading=!0,p=t.isArray(g.iDeferLoading),k._iRecordsDisplay=p?g.iDeferLoading[0]:g.iDeferLoading,k._iRecordsTotal=p?g.iDeferLoading[1]:g.iDeferLoading);var A=k.oLanguage;t.extend(!0,A,g.oLanguage),A.sUrl&&(t.ajax({dataType:"json",url:A.sUrl,success:function(e){a(e),r(y.oLanguage,e),t.extend(!0,A,e),ot(k)},error:function(){ot(k)}}),v=!0),null===g.asStripeClasses&&(k.asStripeClasses=[T.sStripeOdd,T.sStripeEven]),p=k.asStripeClasses;var P=D.children("tbody").find("tr").eq(0);if(-1!==t.inArray(!0,t.map(p,function(t){return P.hasClass(t)}))&&(t("tbody tr",this).removeClass(p.join(" ")),k.asDestroyStripes=p.slice()),p=[],0!==(C=this.getElementsByTagName("thead")).length&&(F(k.aoHeader,C[0]),p=j(k)),null===g.aoColumns)for(C=[],m=0,f=p.length;m<f;m++)C.push(null);else C=g.aoColumns;for(m=0,f=C.length;m<f;m++)u(k,p?p[m]:null);if(b(k,g.aoColumnDefs,C,function(t,e){h(k,t,e)}),P.length){var E=function(t,e){return null!==t.getAttribute("data-"+e)?e:null};t(P[0]).children("th, td").each(function(t,e){var n=k.aoColumns[t];if(n.mData===t){var o=E(e,"sort")||E(e,"order"),r=E(e,"filter")||E(e,"search");null===o&&null===r||(n.mData={_:t+".display",sort:null!==o?t+".@data-"+o:i,type:null!==o?t+".@data-"+o:i,filter:null!==r?t+".@data-"+r:i},h(k,t))}})}var M=k.oFeatures;p=function(){if(g.aaSorting===i)for(m=0,f=(e=k.aaSorting).length;m<f;m++)e[m][1]=k.aoColumns[m].asSorting[0];St(k),M.bSort&&It(k,"aoDrawCallback",function(){if(k.bSorted){var e=wt(k),n={};t.each(e,function(t,e){n[e.src]=e.dir}),Ot(k,null,"order",[k,e,n]),Dt(k)}}),It(k,"aoDrawCallback",function(){(k.bSorted||"ssp"===Bt(k)||M.bDeferRender)&&St(k)},"sc");var e=D.children("caption").each(function(){this._captionSide=t(this).css("caption-side")}),n=D.children("thead");if(0===n.length&&(n=t("<thead/>").appendTo(D)),k.nTHead=n[0],0===(n=D.children("tbody")).length&&(n=t("<tbody/>").appendTo(D)),k.nTBody=n[0],0===(n=D.children("tfoot")).length&&e.length>0&&(""!==k.oScroll.sX||""!==k.oScroll.sY)&&(n=t("<tfoot/>").appendTo(D)),0===n.length||0===n.children().length?D.addClass(T.sNoFooter):n.length>0&&(k.nTFoot=n[0],F(k.aoFooter,k.nTFoot)),g.aaData)for(m=0;m<g.aaData.length;m++)w(k,g.aaData[m]);else(k.bDeferLoading||"dom"==Bt(k))&&x(k,t(k.nTBody).children("tr"));k.aiDisplay=k.aiDisplayMaster.slice(),k.bInitialised=!0,!1===v&&ot(k)},g.bStateSave?(M.bStateSave=!0,It(k,"aoDrawCallback",Tt,"state_save"),At(k,g,p)):p()}}),n=null,this},Yt={},Gt=/[\r\n\u2028]/g,Kt=/<.*?>/g,Xt=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,Jt=RegExp("(\\/|\\.|\\*|\\+|\\?|\\||\\(|\\)|\\[|\\]|\\{|\\}|\\\\|\\$|\\^|\\-)","g"),Qt=/[',$\xa3\u20ac\xa5%\u2009\u202F\u20BD\u20a9\u20BArfk\u0243\u039e]/gi,Zt=function(t){return!t||!0===t||"-"===t},te=function(t){var e=parseInt(t,10);return!isNaN(e)&&isFinite(t)?e:null},ee=function(t,e){return Yt[e]||(Yt[e]=RegExp(he(e),"g")),"string"==typeof t&&"."!==e?t.replace(/\./g,"").replace(Yt[e],"."):t},ne=function(t,e,n){var i="string"==typeof t;return!!Zt(t)||(e&&i&&(t=ee(t,e)),n&&i&&(t=t.replace(Qt,"")),!isNaN(parseFloat(t))&&isFinite(t))},ie=function(t,e,n){return!!Zt(t)||(Zt(t)||"string"==typeof t)&&!!ne(t.replace(Kt,""),e,n)||null},oe=function(t,e,n){var o=[],r=0,a=t.length;if(n!==i)for(;r<a;r++)t[r]&&t[r][e]&&o.push(t[r][e][n]);else for(;r<a;r++)t[r]&&o.push(t[r][e]);return o},re=function(t,e,n,o){var r=[],a=0,s=e.length;if(o!==i)for(;a<s;a++)t[e[a]][n]&&r.push(t[e[a]][n][o]);else for(;a<s;a++)r.push(t[e[a]][n]);return r},ae=function(t,e){var n,o=[];e===i?(e=0,n=t):(n=e,e=t);for(var r=e;r<n;r++)o.push(r);return o},se=function(t){for(var e=[],n=0,i=t.length;n<i;n++)t[n]&&e.push(t[n]);return e},le=function(t){var e;t:{if(!(2>t.length))for(var n=(e=t.slice().sort())[0],i=1,o=e.length;i<o;i++){if(e[i]===n){e=!1;break t}n=e[i]}e=!0}if(e)return t.slice();e=[],o=t.length;var r,a=0;i=0;t:for(;i<o;i++){for(n=t[i],r=0;r<a;r++)if(e[r]===n)continue t;e.push(n),a++}return e};Vt.util={throttle:function(t,e){var n,o,r=e!==i?e:200;return function(){var e=this,a=+new Date,s=arguments;n&&a<n+r?(clearTimeout(o),o=setTimeout(function(){n=i,t.apply(e,s)},r)):(n=a,t.apply(e,s))}},escapeRegex:function(t){return t.replace(Jt,"\\$1")}};var ce=function(t,e,n){t[e]!==i&&(t[n]=t[e])},de=/\[.*?\]$/,ue=/\(\)$/,he=Vt.util.escapeRegex,fe=t("<div>")[0],pe=fe.textContent!==i,ge=/<.*?>/g,me=Vt.util.throttle,ve=[],ye=Array.prototype;Vt.Api=$t=function(e,n){if(!(this instanceof $t))return new $t(e,n);var i=[],o=function(e){(e=function(e){var n,i,o=Vt.settings,r=t.map(o,function(t){return t.nTable});return e?e.nTable&&e.oApi?[e]:e.nodeName&&"table"===e.nodeName.toLowerCase()?-1!==(n=t.inArray(e,r))?[o[n]]:null:e&&"function"==typeof e.settings?e.settings().toArray():("string"==typeof e?i=t(e):e instanceof t&&(i=e),i?i.map(function(){return-1!==(n=t.inArray(this,r))?o[n]:null}).toArray():void 0):[]}(e))&&i.push.apply(i,e)};if(t.isArray(e))for(var r=0,a=e.length;r<a;r++)o(e[r]);else o(e);this.context=le(i),n&&t.merge(this,n),this.selector={rows:null,cols:null,opts:null},$t.extend(this,this,ve)},t.extend($t.prototype,{any:function(){return 0!==this.count()},concat:ye.concat,context:[],count:function(){return this.flatten().length},each:function(t){for(var e=0,n=this.length;e<n;e++)t.call(this,this[e],e,this);return this},eq:function(t){var e=this.context;return e.length>t?new $t(e[t],this[t]):null},filter:function(t){var e=[];if(ye.filter)e=ye.filter.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)t.call(this,this[n],n,this)&&e.push(this[n]);return new $t(this.context,e)},flatten:function(){var t=[];return new $t(this.context,t.concat.apply(t,this.toArray()))},join:ye.join,indexOf:ye.indexOf||function(t,e){for(var n=e||0,i=this.length;n<i;n++)if(this[n]===t)return n;return-1},iterator:function(t,e,n,o){var r,a,s,l,c,d,u,h=[],f=this.context,p=this.selector;for("string"==typeof t&&(o=n,n=e,e=t,t=!1),a=0,s=f.length;a<s;a++){var g=new $t(f[a]);if("table"===e)(r=n.call(g,f[a],a))!==i&&h.push(r);else if("columns"===e||"rows"===e)(r=n.call(g,f[a],this[a],a))!==i&&h.push(r);else if("column"===e||"column-rows"===e||"row"===e||"cell"===e)for(u=this[a],"column-rows"===e&&(d=Ce(f[a],p.opts)),l=0,c=u.length;l<c;l++)r=u[l],(r="cell"===e?n.call(g,f[a],r.row,r.column,a,l):n.call(g,f[a],r,a,l,d))!==i&&h.push(r)}return h.length||o?((e=(t=new $t(f,t?h.concat.apply([],h):h)).selector).rows=p.rows,e.cols=p.cols,e.opts=p.opts,t):this},lastIndexOf:ye.lastIndexOf||function(t,e){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(t){var e=[];if(ye.map)e=ye.map.call(this,t,this);else for(var n=0,i=this.length;n<i;n++)e.push(t.call(this,this[n],n));return new $t(this.context,e)},pluck:function(t){return this.map(function(e){return e[t]})},pop:ye.pop,push:ye.push,reduce:ye.reduce||function(t,e){return d(this,t,e,0,this.length,1)},reduceRight:ye.reduceRight||function(t,e){return d(this,t,e,this.length-1,-1,-1)},reverse:ye.reverse,selector:null,shift:ye.shift,slice:function(){return new $t(this.context,this)},sort:ye.sort,splice:ye.splice,toArray:function(){return ye.slice.call(this)},to$:function(){return t(this)},toJQuery:function(){return t(this)},unique:function(){return new $t(this.context,le(this))},unshift:ye.unshift}),$t.extend=function(t,e,n){if(n.length&&e&&(e instanceof $t||e.__dt_wrapper)){var i,o,r,a=function(t,e,n){return function(){var i=e.apply(t,arguments);return $t.extend(i,i,n.methodExt),i}};for(i=0,o=n.length;i<o;i++)e[(r=n[i]).name]="function"===r.type?a(t,r.val,r):"object"===r.type?{}:r.val,e[r.name].__dt_wrapper=!0,$t.extend(t,e[r.name],r.propExt)}},$t.register=Wt=function(e,n){if(t.isArray(e))for(var i=0,o=e.length;i<o;i++)$t.register(e[i],n);else{var r,a,s=e.split("."),l=ve;for(i=0,o=s.length;i<o;i++){var c;r=(a=-1!==s[i].indexOf("()"))?s[i].replace("()",""):s[i];t:{c=0;for(var d=l.length;c<d;c++)if(l[c].name===r){c=l[c];break t}c=null}c||l.push(c={name:r,val:{},methodExt:[],propExt:[],type:"object"}),i===o-1?(c.val=n,c.type="function"==typeof n?"function":t.isPlainObject(n)?"object":"other"):l=a?c.methodExt:c.propExt}}},$t.registerPlural=qt=function(e,n,o){$t.register(e,o),$t.register(n,function(){var e=o.apply(this,arguments);return e===this?this:e instanceof $t?e.length?t.isArray(e[0])?new $t(e.context,e[0]):e[0]:i:e})},Wt("tables()",function(e){var n;if(e){n=$t;var i=this.context;if("number"==typeof e)e=[i[e]];else{var o=t.map(i,function(t){return t.nTable});e=t(o).filter(e).map(function(){var e=t.inArray(this,o);return i[e]}).toArray()}n=new n(e)}else n=this;return n}),Wt("table()",function(t){var e=(t=this.tables(t)).context;return e.length?new $t(e[0]):t}),qt("tables().nodes()","table().node()",function(){return this.iterator("table",function(t){return t.nTable},1)}),qt("tables().body()","table().body()",function(){return this.iterator("table",function(t){return t.nTBody},1)}),qt("tables().header()","table().header()",function(){return this.iterator("table",function(t){return t.nTHead},1)}),qt("tables().footer()","table().footer()",function(){return this.iterator("table",function(t){return t.nTFoot},1)}),qt("tables().containers()","table().container()",function(){return this.iterator("table",function(t){return t.nTableWrapper},1)}),Wt("draw()",function(t){return this.iterator("table",function(e){"page"===t?H(e):("string"==typeof t&&(t="full-hold"!==t),L(e,!1===t))})}),Wt("page()",function(t){return t===i?this.page.info().page:this.iterator("table",function(e){ct(e,t)})}),Wt("page.info()",function(){if(0===this.context.length)return i;var t=this.context[0],e=t._iDisplayStart,n=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),r=-1===n;return{page:r?0:Math.floor(e/n),pages:r?1:Math.ceil(o/n),start:e,end:t.fnDisplayEnd(),length:n,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===Bt(t)}}),Wt("page.len()",function(t){return t===i?0!==this.context.length?this.context[0]._iDisplayLength:i:this.iterator("table",function(e){at(e,t)})});var be=function(t,e,n){if(n){var i=new $t(t);i.one("draw",function(){n(i.ajax.json())})}if("ssp"==Bt(t))L(t,e);else{ut(t,!0);var o=t.jqXHR;o&&4!==o.readyState&&o.abort(),z(t,[],function(n){A(t);for(var i=0,o=(n=q(t,n)).length;i<o;i++)w(t,n[i]);L(t,e),ut(t,!1)})}};Wt("ajax.json()",function(){var t=this.context;if(0<t.length)return t[0].json}),Wt("ajax.params()",function(){var t=this.context;if(0<t.length)return t[0].oAjaxData}),Wt("ajax.reload()",function(t,e){return this.iterator("table",function(n){be(n,!1===e,t)})}),Wt("ajax.url()",function(e){var n=this.context;return e===i?0===n.length?i:(n=n[0]).ajax?t.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){t.isPlainObject(n.ajax)?n.ajax.url=e:n.ajax=e})}),Wt("ajax.url().load()",function(t,e){return this.iterator("table",function(n){be(n,!1===e,t)})});var we=function(e,n,o,r,a){var s,l,c,d,u,h,f=[];for(c=typeof n,n&&"string"!==c&&"function"!==c&&n.length!==i||(n=[n]),c=0,d=n.length;c<d;c++)for(u=0,h=(l=n[c]&&n[c].split&&!n[c].match(/[\[\(:]/)?n[c].split(","):[n[c]]).length;u<h;u++)(s=o("string"==typeof l[u]?t.trim(l[u]):l[u]))&&s.length&&(f=f.concat(s));if((e=Ut.selector[e]).length)for(c=0,d=e.length;c<d;c++)f=e[c](r,a,f);return le(f)},xe=function(e){return e||(e={}),e.filter&&e.search===i&&(e.search=e.filter),t.extend({search:"none",order:"current",page:"all"},e)},De=function(t){for(var e=0,n=t.length;e<n;e++)if(0<t[e].length)return t[0]=t[e],t[0].length=1,t.length=1,t.context=[t.context[e]],t;return t.length=0,t},Ce=function(e,n){var i,o,r,a=[],s=e.aiDisplay;r=e.aiDisplayMaster;var l=n.search;if(i=n.order,o=n.page,"ssp"==Bt(e))return"removed"===l?[]:ae(0,r.length);if("current"==o)for(i=e._iDisplayStart,o=e.fnDisplayEnd();i<o;i++)a.push(s[i]);else if("current"==i||"applied"==i){if("none"==l)a=r.slice();else if("applied"==l)a=s.slice();else if("removed"==l){var c={};for(i=0,o=s.length;i<o;i++)c[s[i]]=null;a=t.map(r,function(t){return c.hasOwnProperty(t)?null:t})}}else if("index"==i||"original"==i)for(i=0,o=e.aoData.length;i<o;i++)"none"==l?a.push(i):(-1===(r=t.inArray(i,s))&&"removed"==l||0<=r&&"applied"==l)&&a.push(i);return a};Wt("rows()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=xe(n);var o=this.iterator("table",function(o){var r,a=n;return we("row",e,function(e){var n=te(e),s=o.aoData;if(null!==n&&!a)return[n];if(r||(r=Ce(o,a)),null!==n&&-1!==t.inArray(n,r))return[n];if(null===e||e===i||""===e)return r;if("function"==typeof e)return t.map(r,function(t){var n=s[t];return e(t,n._aData,n.nTr)?t:null});if(e.nodeName){var l=e._DT_CellIndex;return(n=e._DT_RowIndex)!==i?s[n]&&s[n].nTr===e?[n]:[]:l?s[l.row]&&s[l.row].nTr===e.parentNode?[l.row]:[]:(n=t(e).closest("*[data-dt-row]")).length?[n.data("dt-row")]:[]}return"string"==typeof e&&"#"===e.charAt(0)&&(n=o.aIds[e.replace(/^#/,"")])!==i?[n.idx]:(n=se(re(o.aoData,r,"nTr")),t(n).filter(e).map(function(){return this._DT_RowIndex}).toArray())},o,a)},1);return o.selector.rows=e,o.selector.opts=n,o}),Wt("rows().nodes()",function(){return this.iterator("row",function(t,e){return t.aoData[e].nTr||i},1)}),Wt("rows().data()",function(){return this.iterator(!0,"rows",function(t,e){return re(t.aoData,e,"_aData")},1)}),qt("rows().cache()","row().cache()",function(t){return this.iterator("row",function(e,n){var i=e.aoData[n];return"search"===t?i._aFilterData:i._aSortData},1)}),qt("rows().invalidate()","row().invalidate()",function(t){return this.iterator("row",function(e,n){E(e,n,t)})}),qt("rows().indexes()","row().index()",function(){return this.iterator("row",function(t,e){return e},1)}),qt("rows().ids()","row().id()",function(t){for(var e=[],n=this.context,i=0,o=n.length;i<o;i++)for(var r=0,a=this[i].length;r<a;r++){var s=n[i].rowIdFn(n[i].aoData[this[i][r]]._aData);e.push((!0===t?"#":"")+s)}return new $t(n,e)}),qt("rows().remove()","row().remove()",function(){var t=this;return this.iterator("row",function(e,n,o){var r,a,s,l,c,d=e.aoData,u=d[n];for(d.splice(n,1),r=0,a=d.length;r<a;r++)if(c=(s=d[r]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=r),null!==c)for(s=0,l=c.length;s<l;s++)c[s]._DT_CellIndex.row=r;P(e.aiDisplayMaster,n),P(e.aiDisplay,n),P(t[o],n,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,Ht(e),(n=e.rowIdFn(u._aData))!==i&&delete e.aIds[n]}),this.iterator("table",function(t){for(var e=0,n=t.aoData.length;e<n;e++)t.aoData[e].idx=e}),this}),Wt("rows.add()",function(e){var n=this.iterator("table",function(t){var n,i,o,r=[];for(i=0,o=e.length;i<o;i++)(n=e[i]).nodeName&&"TR"===n.nodeName.toUpperCase()?r.push(x(t,n)[0]):r.push(w(t,n));return r},1),i=this.rows(-1);return i.pop(),t.merge(i,n),i}),Wt("row()",function(t,e){return De(this.rows(t,e))}),Wt("row().data()",function(e){var n=this.context;if(e===i)return n.length&&this.length?n[0].aoData[this[0]]._aData:i;var o=n[0].aoData[this[0]];return o._aData=e,t.isArray(e)&&o.nTr.id&&k(n[0].rowId)(e,o.nTr.id),E(n[0],this[0],"data"),this}),Wt("row().node()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]].nTr||null}),Wt("row.add()",function(e){e instanceof t&&e.length&&(e=e[0]);var n=this.iterator("table",function(t){return e.nodeName&&"TR"===e.nodeName.toUpperCase()?x(t,e)[0]:w(t,e)});return this.row(n[0])});var _e=function(t,e){var n=t.context;n.length&&(n=n[0].aoData[e!==i?e:t[0]])&&n._details&&(n._details.remove(),n._detailsShow=i,n._details=i)},Se=function(t,e){var n=t.context;if(n.length&&t.length){var i=n[0].aoData[t[0]];if(i._details){(i._detailsShow=e)?i._details.insertAfter(i.nTr):i._details.detach();var o=n[0],r=new $t(o),a=o.aoData;r.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details"),0<oe(a,"_details").length&&(r.on("draw.dt.DT_details",function(t,e){o===e&&r.rows({page:"current"}).eq(0).each(function(t){(t=a[t])._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on("column-visibility.dt.DT_details",function(t,e){if(o===e)for(var n,i=m(e),r=0,s=a.length;r<s;r++)(n=a[r])._details&&n._details.children("td[colspan]").attr("colspan",i)}),r.on("destroy.dt.DT_details",function(t,e){if(o===e)for(var n=0,i=a.length;n<i;n++)a[n]._details&&_e(r,n)}))}}};Wt("row().child()",function(e,n){var o=this.context;if(e===i)return o.length&&this.length?o[0].aoData[this[0]]._details:i;if(!0===e)this.child.show();else if(!1===e)_e(this);else if(o.length&&this.length){var r=o[0],a=(o=o[0].aoData[this[0]],[]),s=function(e,n){if(t.isArray(e)||e instanceof t)for(var i=0,o=e.length;i<o;i++)s(e[i],n);else e.nodeName&&"tr"===e.nodeName.toLowerCase()?a.push(e):(i=t("<tr><td/></tr>").addClass(n),t("td",i).addClass(n).html(e)[0].colSpan=m(r),a.push(i[0]))};s(e,n),o._details&&o._details.detach(),o._details=t(a),o._detailsShow&&o._details.insertAfter(o.nTr)}return this}),Wt(["row().child.show()","row().child().show()"],function(){return Se(this,!0),this}),Wt(["row().child.hide()","row().child().hide()"],function(){return Se(this,!1),this}),Wt(["row().child.remove()","row().child().remove()"],function(){return _e(this),this}),Wt("row().child.isShown()",function(){var t=this.context;return t.length&&this.length&&t[0].aoData[this[0]]._detailsShow||!1});var ke=/^([^:]+):(name|visIdx|visible)$/,Te=function(t,e,n,i,o){n=[],i=0;for(var r=o.length;i<r;i++)n.push(D(t,o[i],e));return n};Wt("columns()",function(e,n){e===i?e="":t.isPlainObject(e)&&(n=e,e=""),n=xe(n);var o=this.iterator("table",function(i){var o=e,r=n,a=i.aoColumns,s=oe(a,"sName"),l=oe(a,"nTh");return we("column",o,function(e){var n=te(e);if(""===e)return ae(a.length);if(null!==n)return[n>=0?n:a.length+n];if("function"==typeof e){var o=Ce(i,r);return t.map(a,function(t,n){return e(n,Te(i,n,0,0,o),l[n])?n:null})}var c="string"==typeof e?e.match(ke):"";if(c)switch(c[2]){case"visIdx":case"visible":if((n=parseInt(c[1],10))<0){var d=t.map(a,function(t,e){return t.bVisible?e:null});return[d[d.length+n]]}return[p(i,n)];case"name":return t.map(s,function(t,e){return t===c[1]?e:null});default:return[]}return e.nodeName&&e._DT_CellIndex?[e._DT_CellIndex.column]:(n=t(l).filter(e).map(function(){return t.inArray(this,l)}).toArray()).length||!e.nodeName?n:(n=t(e).closest("*[data-dt-column]")).length?[n.data("dt-column")]:[]},i,r)},1);return o.selector.cols=e,o.selector.opts=n,o}),qt("columns().header()","column().header()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTh},1)}),qt("columns().footer()","column().footer()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].nTf},1)}),qt("columns().data()","column().data()",function(){return this.iterator("column-rows",Te,1)}),qt("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(t,e){return t.aoColumns[e].mData},1)}),qt("columns().cache()","column().cache()",function(t){return this.iterator("column-rows",function(e,n,i,o,r){return re(e.aoData,r,"search"===t?"_aFilterData":"_aSortData",n)},1)}),qt("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(t,e,n,i,o){return re(t.aoData,o,"anCells",e)},1)}),qt("columns().visible()","column().visible()",function(e,n){var o=this,r=this.iterator("column",function(n,o){if(e===i)return n.aoColumns[o].bVisible;var r,a,s,l=n.aoColumns,c=l[o],d=n.aoData;if(e!==i&&c.bVisible!==e){if(e){var u=t.inArray(!0,oe(l,"bVisible"),o+1);for(r=0,a=d.length;r<a;r++)l=d[r].anCells,(s=d[r].nTr)&&s.insertBefore(l[o],l[u]||null)}else t(oe(n.aoData,"anCells",o)).detach();c.bVisible=e}});return e!==i&&this.iterator("table",function(r){O(r,r.aoHeader),O(r,r.aoFooter),r.aiDisplay.length||t(r.nTBody).find("td[colspan]").attr("colspan",m(r)),Tt(r),o.iterator("column",function(t,i){Ot(t,null,"column-visibility",[t,i,e,n])}),(n===i||n)&&o.columns.adjust()}),r}),qt("columns().indexes()","column().index()",function(t){return this.iterator("column",function(e,n){return"visible"===t?g(e,n):n},1)}),Wt("columns.adjust()",function(){return this.iterator("table",function(t){f(t)},1)}),Wt("column.index()",function(t,e){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===t||"toData"===t)return p(n,e);if("fromData"===t||"toVisible"===t)return g(n,e)}}),Wt("column()",function(t,e){return De(this.columns(t,e))}),Wt("cells()",function(e,n,o){if(t.isPlainObject(e)&&(e.row===i?(o=e,e=null):(o=n,n=null)),t.isPlainObject(n)&&(o=n,n=null),null===n||n===i)return this.iterator("table",function(n){var r,a,s,l,c,d,u,h=e,f=xe(o),p=n.aoData,g=Ce(n,f),m=se(re(p,g,"anCells")),v=t([].concat.apply([],m)),y=n.aoColumns.length;return we("cell",h,function(e){var o="function"==typeof e;if(null===e||e===i||o){for(a=[],s=0,l=g.length;s<l;s++)for(r=g[s],c=0;c<y;c++)d={row:r,column:c},o?(u=p[r],e(d,D(n,r,c),u.anCells?u.anCells[c]:null)&&a.push(d)):a.push(d);return a}return t.isPlainObject(e)?e.column!==i&&e.row!==i&&-1!==t.inArray(e.row,g)?[e]:[]:(o=v.filter(e).map(function(t,e){return{row:e._DT_CellIndex.row,column:e._DT_CellIndex.column}}).toArray()).length||!e.nodeName?o:(u=t(e).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},n,f)});var r,a,s,l,c=this.columns(n,u=o?{page:o.page,order:o.order,search:o.search}:{}),d=this.rows(e,u),u=this.iterator("table",function(t,e){var n=[];for(r=0,a=d[e].length;r<a;r++)for(s=0,l=c[e].length;s<l;s++)n.push({row:d[e][r],column:c[e][s]});return n},1);return u=o&&o.selected?this.cells(u,o):u,t.extend(u.selector,{cols:n,rows:e,opts:o}),u}),qt("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(t,e,n){return(t=t.aoData[e])&&t.anCells?t.anCells[n]:i},1)}),Wt("cells().data()",function(){return this.iterator("cell",function(t,e,n){return D(t,e,n)},1)}),qt("cells().cache()","cell().cache()",function(t){return t="search"===t?"_aFilterData":"_aSortData",this.iterator("cell",function(e,n,i){return e.aoData[n][t][i]},1)}),qt("cells().render()","cell().render()",function(t){return this.iterator("cell",function(e,n,i){return D(e,n,i,t)},1)}),qt("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(t,e,n){return{row:e,column:n,columnVisible:g(t,n)}},1)}),qt("cells().invalidate()","cell().invalidate()",function(t){return this.iterator("cell",function(e,n,i){E(e,n,t,i)})}),Wt("cell()",function(t,e,n){return De(this.cells(t,e,n))}),Wt("cell().data()",function(t){var e=this.context,n=this[0];return t===i?e.length&&n.length?D(e[0],n[0].row,n[0].column):i:(C(e[0],n[0].row,n[0].column,t),E(e[0],n[0].row,"data",n[0].column),this)}),Wt("order()",function(e,n){var o=this.context;return e===i?0!==o.length?o[0].aaSorting:i:("number"==typeof e?e=[[e,n]]:e.length&&!t.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),Wt("order.listener()",function(t,e,n){return this.iterator("table",function(i){_t(i,t,e,n)})}),Wt("order.fixed()",function(e){var n;return e?this.iterator("table",function(n){n.aaSortingFixed=t.extend(!0,{},e)}):t.isArray(n=(n=this.context).length?n[0].aaSortingFixed:i)?{pre:n}:n}),Wt(["columns().order()","column().order()"],function(e){var n=this;return this.iterator("table",function(i,o){var r=[];t.each(n[o],function(t,n){r.push([n,e])}),i.aaSorting=r})}),Wt("search()",function(e,n,o,r){var a=this.context;return e===i?0!==a.length?a[0].oPreviousSearch.sSearch:i:this.iterator("table",function(i){i.oFeatures.bFilter&&Y(i,t.extend({},i.oPreviousSearch,{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===r||r}),1)})}),qt("columns().search()","column().search()",function(e,n,o,r){return this.iterator("column",function(a,s){var l=a.aoPreSearchCols;if(e===i)return l[s].sSearch;a.oFeatures.bFilter&&(t.extend(l[s],{sSearch:e+"",bRegex:null!==n&&n,bSmart:null===o||o,bCaseInsensitive:null===r||r}),Y(a,a.oPreviousSearch,1))})}),Wt("state()",function(){return this.context.length?this.context[0].oSavedState:null}),Wt("state.clear()",function(){return this.iterator("table",function(t){t.fnStateSaveCallback.call(t.oInstance,t,{})})}),Wt("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),Wt("state.save()",function(){return this.iterator("table",function(t){Tt(t)})}),Vt.versionCheck=Vt.fnVersionCheck=function(t){for(var e,n,i=Vt.version.split("."),o=0,r=(t=t.split(".")).length;o<r;o++)if((e=parseInt(i[o],10)||0)!==(n=parseInt(t[o],10)||0))return e>n;return!0},Vt.isDataTable=Vt.fnIsDataTable=function(e){var n=t(e).get(0),i=!1;return e instanceof Vt.Api||(t.each(Vt.settings,function(e,o){var r=o.nScrollHead?t("table",o.nScrollHead)[0]:null,a=o.nScrollFoot?t("table",o.nScrollFoot)[0]:null;o.nTable!==n&&r!==n&&a!==n||(i=!0)}),i)},Vt.tables=Vt.fnTables=function(e){var n=!1;t.isPlainObject(e)&&(n=e.api,e=e.visible);var i=t.map(Vt.settings,function(n){if(!e||e&&t(n.nTable).is(":visible"))return n.nTable});return n?new $t(i):i},Vt.camelToHungarian=r,Wt("$()",function(e,n){var i=this.rows(n).nodes();return i=t(i),t([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),t.each(["on","one","off"],function(e,n){Wt(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=t.map(e[0].split(/\s/),function(t){return t.match(/\.dt\b/)?t:t+".dt"}).join(" ");var i=t(this.tables().nodes());return i[n].apply(i,e),this})}),Wt("clear()",function(){return this.iterator("table",function(t){A(t)})}),Wt("settings()",function(){return new $t(this.context,this.context)}),Wt("init()",function(){var t=this.context;return t.length?t[0].oInit:null}),Wt("data()",function(){return this.iterator("table",function(t){return oe(t.aoData,"_aData")}).flatten()}),Wt("destroy()",function(n){return n=n||!1,this.iterator("table",function(i){var o,r=i.nTableWrapper.parentNode,a=i.oClasses,s=i.nTable,l=i.nTBody,c=i.nTHead,d=i.nTFoot,u=t(s),h=(l=t(l),t(i.nTableWrapper)),f=t.map(i.aoData,function(t){return t.nTr});i.bDestroying=!0,Ot(i,"aoDestroyCallback","destroy",[i]),n||new $t(i).columns().visible(!0),h.off(".DT").find(":not(tbody *)").off(".DT"),t(e).off(".DT-"+i.sInstance),s!=c.parentNode&&(u.children("thead").detach(),u.append(c)),d&&s!=d.parentNode&&(u.children("tfoot").detach(),u.append(d)),i.aaSorting=[],i.aaSortingFixed=[],St(i),t(f).removeClass(i.asStripeClasses.join(" ")),t("th, td",c).removeClass(a.sSortable+" "+a.sSortableAsc+" "+a.sSortableDesc+" "+a.sSortableNone),l.children().detach(),l.append(f),u[c=n?"remove":"detach"](),h[c](),!n&&r&&(r.insertBefore(s,i.nTableReinsertBefore),u.css("width",i.sDestroyWidth).removeClass(a.sTable),(o=i.asDestroyStripes.length)&&l.children().each(function(e){t(this).addClass(i.asDestroyStripes[e%o])})),-1!==(r=t.inArray(i,Vt.settings))&&Vt.settings.splice(r,1)})}),t.each(["column","row","cell"],function(t,e){Wt(e+"s().every()",function(t){var n=this.selector.opts,o=this;return this.iterator(e,function(r,a,s,l,c){t.call(o[e](a,"cell"===e?s:n,"cell"===e?n:i),a,s,l,c)})})}),Wt("i18n()",function(e,n,o){var r=this.context[0];return(e=S(e)(r.oLanguage))===i&&(e=n),o!==i&&t.isPlainObject(e)&&(e=e[o]!==i?e[o]:e._),e.replace("%d",o)}),Vt.version="1.10.20",Vt.settings=[],Vt.models={},Vt.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},Vt.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},Vt.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},Vt.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(t){try{return JSON.parse((-1===t.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+t.sInstance+"_"+location.pathname))}catch(t){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(t,e){try{(-1===t.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+t.sInstance+"_"+location.pathname,JSON.stringify(e))}catch(t){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:t.extend({},Vt.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},o(Vt.defaults),Vt.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},o(Vt.defaults.column),Vt.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:i,oAjaxData:i,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==Bt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==Bt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var t=this._iDisplayLength,e=this._iDisplayStart,n=e+t,i=this.aiDisplay.length,o=this.oFeatures,r=o.bPaginate;return o.bServerSide?!1===r||-1===t?e+i:Math.min(e+t,this._iRecordsDisplay):!r||n>i||-1===t?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},Vt.ext=Ut={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:Vt.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:Vt.version},t.extend(Ut,{afnFiltering:Ut.search,aTypes:Ut.type.detect,ofnSearch:Ut.type.search,oSort:Ut.type.order,afnSortData:Ut.order,aoFeatures:Ut.feature,oApi:Ut.internal,oStdClasses:Ut.classes,oPagination:Ut.pager}),t.extend(Vt.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ae=Vt.ext.pager;t.extend(Ae,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(t,e){return[Ft(t,e)]},simple_numbers:function(t,e){return["previous",Ft(t,e),"next"]},full_numbers:function(t,e){return["first","previous",Ft(t,e),"next","last"]},first_last_numbers:function(t,e){return["first",Ft(t,e),"last"]},_numbers:Ft,numbers_length:7}),t.extend(!0,Vt.ext.renderer,{pageButton:{_:function(e,o,r,a,s,l){var c,d,u,h=e.oClasses,f=e.oLanguage.oPaginate,p=e.oLanguage.oAria.paginate||{},g=0,m=function(n,i){var o,a,u,v,y=h.sPageButtonDisabled,b=function(t){ct(e,t.data.action,!0)};for(o=0,a=i.length;o<a;o++)if(t.isArray(v=i[o]))u=t("<"+(v.DT_el||"div")+"/>").appendTo(n),m(u,v);else{switch(c=null,d=v,u=e.iTabIndex,v){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":c=f.sFirst,0===s&&(u=-1,d=d+" "+y);break;case"previous":c=f.sPrevious,0===s&&(u=-1,d=d+" "+y);break;case"next":c=f.sNext,s===l-1&&(u=-1,d=d+" "+y);break;case"last":c=f.sLast,s===l-1&&(u=-1,d=d+" "+y);break;default:c=v+1,d=s===v?h.sPageButtonActive:""}null!==c&&(Nt(u=t("<a>",{class:h.sPageButton+" "+d,"aria-controls":e.sTableId,"aria-label":p[v],"data-dt-idx":g,tabindex:u,id:0===r&&"string"==typeof v?e.sTableId+"_"+v:null}).html(c).appendTo(n),{action:v},b),g++)}};try{u=t(o).find(n.activeElement).data("dt-idx")}catch(t){}m(t(o).empty(),a),u!==i&&t(o).find("[data-dt-idx="+u+"]").focus()}}}),t.extend(Vt.ext.type.detect,[function(t,e){var n=e.oLanguage.sDecimal;return ne(t,n)?"num"+n:null},function(t){if(t&&!(t instanceof Date)&&!Xt.test(t))return null;var e=Date.parse(t);return null!==e&&!isNaN(e)||Zt(t)?"date":null},function(t,e){var n=e.oLanguage.sDecimal;return ne(t,n,!0)?"num-fmt"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ie(t,n)?"html-num"+n:null},function(t,e){var n=e.oLanguage.sDecimal;return ie(t,n,!0)?"html-num-fmt"+n:null},function(t){return Zt(t)||"string"==typeof t&&-1!==t.indexOf("<")?"html":null}]),t.extend(Vt.ext.type.search,{html:function(t){return Zt(t)?t:"string"==typeof t?t.replace(Gt," ").replace(Kt,""):""},string:function(t){return Zt(t)?t:"string"==typeof t?t.replace(Gt," "):t}});var Pe=function(t,e,n,i){return 0===t||t&&"-"!==t?(e&&(t=ee(t,e)),t.replace&&(n&&(t=t.replace(n,"")),i&&(t=t.replace(i,""))),1*t):-1/0};t.extend(Ut.type.order,{"date-pre":function(t){return t=Date.parse(t),isNaN(t)?-1/0:t},"html-pre":function(t){return Zt(t)?"":t.replace?t.replace(/<.*?>/g,"").toLowerCase():t+""},"string-pre":function(t){return Zt(t)?"":"string"==typeof t?t.toLowerCase():t.toString?t.toString():""},"string-asc":function(t,e){return t<e?-1:t>e?1:0},"string-desc":function(t,e){return t<e?1:t>e?-1:0}}),jt(""),t.extend(!0,Vt.ext.renderer,{header:{_:function(e,n,i,o){t(e.nTable).on("order.dt.DT",function(t,r,a,s){e===r&&(t=i.idx,n.removeClass(i.sSortingClass+" "+o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[t]?o.sSortAsc:"desc"==s[t]?o.sSortDesc:i.sSortingClass))})},jqueryui:function(e,n,i,o){t("<div/>").addClass(o.sSortJUIWrapper).append(n.contents()).append(t("<span/>").addClass(o.sSortIcon+" "+i.sSortingClassJUI)).appendTo(n),t(e.nTable).on("order.dt.DT",function(t,r,a,s){e===r&&(t=i.idx,n.removeClass(o.sSortAsc+" "+o.sSortDesc).addClass("asc"==s[t]?o.sSortAsc:"desc"==s[t]?o.sSortDesc:i.sSortingClass),n.find("span."+o.sSortIcon).removeClass(o.sSortJUIAsc+" "+o.sSortJUIDesc+" "+o.sSortJUI+" "+o.sSortJUIAscAllowed+" "+o.sSortJUIDescAllowed).addClass("asc"==s[t]?o.sSortJUIAsc:"desc"==s[t]?o.sSortJUIDesc:i.sSortingClassJUI))})}}});var Ee=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):t};return Vt.render={number:function(t,e,n,i,o){return{display:function(r){if("number"!=typeof r&&"string"!=typeof r)return r;var a=0>r?"-":"",s=parseFloat(r);return isNaN(s)?Ee(r):(s=s.toFixed(n),r=Math.abs(s),s=parseInt(r,10),r=n?e+(r-s).toFixed(n).substring(2):"",a+(i||"")+s.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)+r+(o||""))}}},text:function(){return{display:Ee,filter:Ee}}},t.extend(Vt.ext.internal,{_fnExternApiFunc:zt,_fnBuildAjax:z,_fnAjaxUpdate:U,_fnAjaxParameters:$,_fnAjaxUpdateDraw:W,_fnAjaxDataSrc:q,_fnAddColumn:u,_fnColumnOptions:h,_fnAdjustColumnSizing:f,_fnVisibleToColumnIndex:p,_fnColumnIndexToVisible:g,_fnVisbleColumns:m,_fnGetColumns:v,_fnColumnTypes:y,_fnApplyColumnDefs:b,_fnHungarianMap:o,_fnCamelToHungarian:r,_fnLanguageCompat:a,_fnBrowserDetect:c,_fnAddData:w,_fnAddTr:x,_fnNodeToDataIndex:function(t,e){return e._DT_RowIndex!==i?e._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,n,i){return t.inArray(i,e.aoData[n].anCells)},_fnGetCellData:D,_fnSetCellData:C,_fnSplitObjNotation:_,_fnGetObjectDataFn:S,_fnSetObjectDataFn:k,_fnGetDataMaster:T,_fnClearTable:A,_fnDeleteIndex:P,_fnInvalidate:E,_fnGetRowElements:M,_fnCreateTr:R,_fnBuildHead:I,_fnDrawHead:O,_fnDraw:H,_fnReDraw:L,_fnAddOptionsHtml:B,_fnDetectHeader:F,_fnGetUniqueThs:j,_fnFeatureHtmlFilter:V,_fnFilterComplete:Y,_fnFilterCustom:G,_fnFilterColumn:K,_fnFilter:X,_fnFilterCreateSearch:J,_fnEscapeRegex:he,_fnFilterData:Q,_fnFeatureHtmlInfo:et,_fnUpdateInfo:nt,_fnInfoMacros:it,_fnInitialise:ot,_fnInitComplete:rt,_fnLengthChange:at,_fnFeatureHtmlLength:st,_fnFeatureHtmlPaginate:lt,_fnPageChange:ct,_fnFeatureHtmlProcessing:dt,_fnProcessingDisplay:ut,_fnFeatureHtmlTable:ht,_fnScrollDraw:ft,_fnApplyToChildren:pt,_fnCalculateColumnWidths:gt,_fnThrottle:me,_fnConvertToWidth:mt,_fnGetWidestNode:vt,_fnGetMaxLenString:yt,_fnStringToCss:bt,_fnSortFlatten:wt,_fnSort:xt,_fnSortAria:Dt,_fnSortListener:Ct,_fnSortAttachListener:_t,_fnSortingClasses:St,_fnSortData:kt,_fnSaveState:Tt,_fnLoadState:At,_fnSettingsFromNode:Pt,_fnLog:Et,_fnMap:Mt,_fnBindAction:Nt,_fnCallbackReg:It,_fnCallbackFire:Ot,_fnLengthOverflow:Ht,_fnRenderer:Lt,_fnDataSource:Bt,_fnRowAttributes:N,_fnExtend:Rt,_fnCalculateEnd:function(){}}),t.fn.dataTable=Vt,Vt.$=t,t.fn.dataTableSettings=Vt.settings,t.fn.dataTableExt=Vt.ext,t.fn.DataTable=function(e){return t(this).dataTable(e).api()},t.each(Vt,function(e,n){t.fn.DataTable[e]=n}),t.fn.dataTable}),function(t){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return t(e,window,document)}):"object"==typeof exports?module.exports=function(e,n){return e||(e=window),n&&n.fn.dataTable||(n=require("datatables.net")(e,n).$),t(n,0,e.document)}:t(jQuery,window,document)}(function(t,e,n,i){var o=t.fn.dataTable;return t.extend(!0,o.defaults,{dom:"<'row'<'col-sm-6'l><'col-sm-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-5'i><'col-sm-7'p>>",renderer:"bootstrap"}),t.extend(o.ext.classes,{sWrapper:"dataTables_wrapper form-inline dt-bootstrap",sFilterInput:"form-control input-sm",sLengthSelect:"form-control input-sm",sProcessing:"dataTables_processing panel panel-default"}),o.ext.renderer.pageButton.bootstrap=function(e,r,a,s,l,c){var d,u,h,f=new o.Api(e),p=e.oClasses,g=e.oLanguage.oPaginate,m=e.oLanguage.oAria.paginate||{},v=0,y=function(n,i){var o,r,s,h,b=function(e){e.preventDefault(),!t(e.currentTarget).hasClass("disabled")&&f.page()!=e.data.action&&f.page(e.data.action).draw("page")};for(o=0,r=i.length;o<r;o++)if(t.isArray(h=i[o]))y(n,h);else{switch(u=d="",h){case"ellipsis":d="&#x2026;",u="disabled";break;case"first":d=g.sFirst,u=h+(0<l?"":" disabled");break;case"previous":d=g.sPrevious,u=h+(0<l?"":" disabled");break;case"next":d=g.sNext,u=h+(l<c-1?"":" disabled");break;case"last":d=g.sLast,u=h+(l<c-1?"":" disabled");break;default:d=h+1,u=l===h?"active":""}d&&(s=t("<li>",{class:p.sPageButton+" "+u,id:0===a&&"string"==typeof h?e.sTableId+"_"+h:null}).append(t("<a>",{href:"#","aria-controls":e.sTableId,"aria-label":m[h],"data-dt-idx":v,tabindex:e.iTabIndex}).html(d)).appendTo(n),e.oApi._fnBindAction(s,{action:h},b),v++)}};try{h=t(r).find(n.activeElement).data("dt-idx")}catch(t){}y(t(r).empty().html('<ul class="pagination"/>').children("ul"),s),h!==i&&t(r).find("[data-dt-idx="+h+"]").focus()},o}),yii=function(t){var e={reloadableScripts:[],clickableSelector:'a, button, input[type="submit"], input[type="button"], input[type="reset"], input[type="image"]',changeableSelector:"select, input, textarea",getCsrfParam:function(){return t("meta[name=csrf-param]").attr("content")},getCsrfToken:function(){return t("meta[name=csrf-token]").attr("content")},setCsrfToken:function(e,n){t("meta[name=csrf-param]").attr("content",e),t("meta[name=csrf-token]").attr("content",n)},refreshCsrfToken:function(){var n=e.getCsrfToken();n&&t('form input[name="'+e.getCsrfParam()+'"]').val(n)},confirm:function(t,e,n){confirm(t)?!e||e():!n||n()},handleAction:function(n){var i=n.data("method"),o=n.closest("form"),r=n.attr("href"),a=n.data("params");if(void 0!==i){var s=!o.length;if(s){r&&r.match(/(^\/|:\/\/)/)||(r=window.location.href),(o=t('<form method="'+i+'"></form>')).attr("action",r);var l=n.attr("target");if(l&&o.attr("target",l),i.match(/(get|post)/i)||(o.append('<input name="_method" value="'+i+'" type="hidden">'),i="POST"),!i.match(/(get|head|options)/i)){var c=e.getCsrfParam();c&&o.append('<input name="'+c+'" value="'+e.getCsrfToken()+'" type="hidden">')}o.hide().appendTo("body")}var d=o.data("yiiActiveForm");d&&(d.submitObject=n),a&&t.isPlainObject(a)&&t.each(a,function(t,e){o.append('<input name="'+t+'" value="'+e+'" type="hidden">')});var u=o.attr("method");o.attr("method",i);var h=null;r&&"#"!=r&&(h=o.attr("action"),o.attr("action",r)),o.trigger("submit"),null!=h&&o.attr("action",h),o.attr("method",u),a&&t.isPlainObject(a)&&t.each(a,function(e,n){t('input[name="'+e+'"]',o).remove()}),s&&o.remove()}else r&&"#"!=r?window.location=r:n.is(":submit")&&o.length&&o.trigger("submit")},getQueryParams:function(t){var e=t.indexOf("?");if(e<0)return{};for(var n=t.substring(e+1).split("&"),i=0,o={};i<n.length;i++)n[i]=n[i].split("="),o[decodeURIComponent(n[i][0])]=decodeURIComponent(n[i][1]);return o},initModule:function(n){(void 0===n.isActive||n.isActive)&&(t.isFunction(n.init)&&n.init(),t.each(n,function(){t.isPlainObject(this)&&e.initModule(this)}))},init:function(){var n,i,o;t.ajaxPrefilter(function(t,n,i){!t.crossDomain&&e.getCsrfParam()&&i.setRequestHeader("X-CSRF-Token",e.getCsrfToken())}),e.refreshCsrfToken(),t(document).ajaxComplete(function(t,e,n){var i=e.getResponseHeader("X-Redirect");i&&(window.location=i)}),n=location.protocol+"//"+location.host,i=t("script[src]").map(function(){return"/"===this.src.charAt(0)?n+this.src:this.src}).toArray(),t.ajaxPrefilter("script",function(o,r,a){if("jsonp"!=o.dataType){var s="/"===o.url.charAt(0)?n+o.url:o.url;-1===t.inArray(s,i)?i.push(s):-1!==t.inArray(s,t.map(e.reloadableScripts,function(t){return"/"===t.charAt(0)?n+t:t}))||a.abort()}}),t(document).ajaxComplete(function(n,i,o){var r=[];t("link[rel=stylesheet]").each(function(){-1===t.inArray(this.href,e.reloadableScripts)&&(-1==t.inArray(this.href,r)?r.push(this.href):t(this).remove())})}),o=function(n){var i=t(this),o=i.data("method"),r=i.data("confirm");return void 0===o&&void 0===r||(void 0!==r?e.confirm(r,function(){e.handleAction(i)}):e.handleAction(i),n.stopImmediatePropagation(),!1)},t(document).on("click.yii",e.clickableSelector,o).on("change.yii",e.changeableSelector,o)}};return e}(jQuery),jQuery(document).ready(function(){yii.initModule(yii)}),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");if($.AdminLTE={},$.AdminLTE.options={navbarMenuSlimscroll:!0,navbarMenuSlimscrollWidth:"3px",navbarMenuHeight:"200px",animationSpeed:500,sidebarToggleSelector:"[data-toggle='offcanvas']",sidebarPushMenu:!0,sidebarSlimScroll:!0,sidebarExpandOnHover:!1,enableBoxRefresh:!0,enableBSToppltip:!0,BSTooltipSelector:"[data-toggle='tooltip']",enableFastclick:!0,enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0},enableBoxWidget:!0,boxWidgetOptions:{boxWidgetIcons:{collapse:"fa-minus",open:"fa-plus",remove:"fa-times"},boxWidgetSelectors:{remove:'[data-widget="remove"]',collapse:'[data-widget="collapse"]'}},directChat:{enable:!0,contactToggleSelector:'[data-widget="chat-pane-toggle"]'},colors:{lightBlue:"#3c8dbc",red:"#f56954",green:"#00a65a",aqua:"#00c0ef",yellow:"#f39c12",blue:"#0073b7",navy:"#001F3F",teal:"#39CCCC",olive:"#3D9970",lime:"#01FF70",orange:"#FF851B",fuchsia:"#F012BE",purple:"#8E24AA",maroon:"#D81B60",black:"#222222",gray:"#d2d6de"},screenSizes:{xs:480,sm:768,md:992,lg:1200}},$(function(){"undefined"!=typeof AdminLTEOptions&&$.extend(!0,$.AdminLTE.options,AdminLTEOptions);var t=$.AdminLTE.options;_init(),$.AdminLTE.layout.activate(),$.AdminLTE.tree(".sidebar"),t.enableControlSidebar&&$.AdminLTE.controlSidebar.activate(),t.navbarMenuSlimscroll&&void 0!==$.fn.slimscroll&&$(".navbar .menu").slimscroll({height:t.navbarMenuHeight,alwaysVisible:!1,size:t.navbarMenuSlimscrollWidth}).css("width","100%"),t.sidebarPushMenu&&$.AdminLTE.pushMenu.activate(t.sidebarToggleSelector),t.enableBSToppltip&&$("body").tooltip({selector:t.BSTooltipSelector}),t.enableBoxWidget&&$.AdminLTE.boxWidget.activate(),t.enableFastclick&&"undefined"!=typeof FastClick&&FastClick.attach(document.body),t.directChat.enable&&$(t.directChat.contactToggleSelector).on("click",function(){$(this).parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")}),$('.btn-group[data-toggle="btn-toggle"]').each(function(){var t=$(this);$(this).find(".btn").on("click",function(e){t.find(".btn.active").removeClass("active"),$(this).addClass("active"),e.preventDefault()})})}),function(t){t.fn.boxRefresh=function(e){var n=t.extend({trigger:".refresh-btn",source:"",onLoadStart:function(t){},onLoadDone:function(t){}},e),i=t('<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>');return this.each(function(){if(""!==n.source){var e=t(this);e.find(n.trigger).first().on("click",function(t){t.preventDefault(),function(t){t.append(i),n.onLoadStart.call(t)}(e),e.find(".box-body").load(n.source,function(){var t;(t=e).find(i).remove(),n.onLoadDone.call(t)})})}else console&&console.log("Please specify a source first - boxRefresh()")})}}(jQuery),function(t){t.fn.activateBox=function(){t.AdminLTE.boxWidget.activate(this)}}(jQuery),function(t){t.fn.todolist=function(e){var n=t.extend({onCheck:function(t){},onUncheck:function(t){}},e);return this.each(function(){void 0!==t.fn.iCheck?(t("input",this).on("ifChecked",function(e){var i=t(this).parents("li").first();i.toggleClass("done"),n.onCheck.call(i)}),t("input",this).on("ifUnchecked",function(e){var i=t(this).parents("li").first();i.toggleClass("done"),n.onUncheck.call(i)})):t("input",this).on("change",function(e){var i=t(this).parents("li").first();i.toggleClass("done"),n.onCheck.call(i)})})}}(jQuery),function(e){e.fn.extend({slimScroll:function(n){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},n);return this.each(function(){var o,r,a,s,l,c,d,u,h="<div></div>",f=30,p=!1,g=e(this);if(g.parent().hasClass(i.wrapperClass)){var m=g.scrollTop();if(x=g.siblings("."+i.barClass),w=g.siblings("."+i.railClass),S(),e.isPlainObject(n)){if("height"in n&&"auto"==n.height){g.parent().css("height","auto"),g.css("height","auto");var v=g.parent().parent().height();g.parent().css("height",v),g.css("height",v)}else if("height"in n){var y=n.height;g.parent().css("height",y),g.css("height",y)}if("scrollTo"in n)m=parseInt(i.scrollTo);else if("scrollBy"in n)m+=parseInt(i.scrollBy);else if("destroy"in n)return x.remove(),w.remove(),void g.unwrap();_(m,!1,!0)}}else if(!(e.isPlainObject(n)&&"destroy"in n)){i.height="auto"==i.height?g.parent().height():i.height;var b=e(h).addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});g.css({overflow:"hidden",width:i.width,height:i.height});var w=e(h).addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),x=e(h).addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),D="right"==i.position?{right:i.distance}:{left:i.distance};w.css(D),x.css(D),g.wrap(b),g.parent().append(x),g.parent().append(w),i.railDraggable&&x.bind("mousedown",function(n){var i=e(document);return a=!0,t=parseFloat(x.css("top")),pageY=n.pageY,i.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),_(0,x.position().top,!1)}),i.bind("mouseup.slimscroll",function(t){a=!1,T(),i.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(t){return t.stopPropagation(),t.preventDefault(),!1}),w.hover(function(){k()},function(){T()}),x.hover(function(){r=!0},function(){r=!1}),g.hover(function(){o=!0,k(),T()},function(){o=!1,T()}),g.bind("touchstart",function(t,e){t.originalEvent.touches.length&&(l=t.originalEvent.touches[0].pageY)}),g.bind("touchmove",function(t){p||t.originalEvent.preventDefault(),t.originalEvent.touches.length&&(_((l-t.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),l=t.originalEvent.touches[0].pageY)}),S(),"bottom"===i.start?(x.css({top:g.outerHeight()-x.outerHeight()}),_(0,!0)):"top"!==i.start&&(_(e(i.start).position().top,null,!0),i.alwaysVisible||x.hide()),window.addEventListener?(this.addEventListener("DOMMouseScroll",C,!1),this.addEventListener("mousewheel",C,!1)):document.attachEvent("onmousewheel",C)}function C(t){if(o){var n=0;(t=t||window.event).wheelDelta&&(n=-t.wheelDelta/120),t.detail&&(n=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(g.parent())&&_(n,!0),t.preventDefault&&!p&&t.preventDefault(),p||(t.returnValue=!1)}}function _(t,e,n){p=!1;var o=t,r=g.outerHeight()-x.outerHeight();if(e&&(o=parseInt(x.css("top"))+t*parseInt(i.wheelStep)/100*x.outerHeight(),o=Math.min(Math.max(o,0),r),o=t>0?Math.ceil(o):Math.floor(o),x.css({top:o+"px"})),o=(d=parseInt(x.css("top"))/(g.outerHeight()-x.outerHeight()))*(g[0].scrollHeight-g.outerHeight()),n){var a=(o=t)/g[0].scrollHeight*g.outerHeight();a=Math.min(Math.max(a,0),r),x.css({top:a+"px"})}g.scrollTop(o),g.trigger("slimscrolling",~~o),k(),T()}function S(){c=Math.max(g.outerHeight()/g[0].scrollHeight*g.outerHeight(),f),x.css({height:c+"px"});var t=c==g.outerHeight()?"none":"block";x.css({display:t})}function k(){S(),clearTimeout(s),d==~~d?(p=i.allowPageScroll,u!=d&&g.trigger("slimscroll",0==~~d?"top":"bottom")):p=!1,u=d,c>=g.outerHeight()?p=!0:(x.stop(!0,!0).fadeIn("fast"),i.railVisible&&w.stop(!0,!0).fadeIn("fast"))}function T(){i.alwaysVisible||(s=setTimeout(function(){i.disableFadeOut&&o||r||a||(x.fadeOut("slow"),w.fadeOut("slow"))},1e3))}}),this}}),e.fn.extend({slimscroll:e.fn.slimScroll})}(jQuery),function(t){var e=t(window).width();t("#megamenu-items").mouseover(function(){t(this).hasClass("hoverblock")||t(this).find("a").tab("show")}),t("#megamenu-items").click(function(t){t.stopPropagation()}),t("#megamenu-items").on("shown.bs.collapse",function(){t(".esmenu .menu-icon").removeClass("fa-pulse")}),t("#megamenu-items").on("show.bs.collapse",function(){t(".esmenu .menu-icon").addClass("fa-pulse")}),t(".esmenu .nav-pills > li ").hover(function(){t(this).find("a").tab("show")}),e<991?(t(".esmenu ul.nav-pills a").bind("click",function(e){t(".menu-sub-items .tab-pane:visible").hide(),e.preventDefault(),t(this.hash).show()}),t(".esmenu .close").click(function(){t(".esmenu .tab-pane").css("display","none")})):t(".esmenu .nav-pills > li ").hover(function(){t(this).find("a").tab("show")})}(jQuery),function(t){"use strict";var e=function(t,e){this.cinit("clickover",t,e)};e.prototype=t.extend({},t.fn.popover.Constructor.prototype,{constructor:e,cinit:function(e,n,i){this.attr={},this.attr.me=(10*Math.random()+"").replace(/\D/g,""),this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me,i||(i={}),i.trigger="manual",this.init(e,n,i),this.$element.on("click",this.options.selector,t.proxy(this.clickery,this))},clickery:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),this.options.width&&this.tip().width(this.options.width),this.options.height&&this.tip().height(this.options.height),this.options.tip_id&&this.tip().attr("id",this.options.tip_id),this.options.class_name&&this.tip().addClass(this.options.class_name),this[this.isShown()?"hide":"show"](),this.isShown()){var n=this;this.options.global_close&&t("body").on(this.attr.click_event_ns,function(t){n.tip().has(t.target).length||n.clickery()}),this.options.esc_close&&t(document).bind("keyup.clickery",function(t){27==t.keyCode&&n.clickery()}),!this.options.allow_multiple&&t("[data-clickover-open=1]").each(function(){t(this).data("clickover")&&t(this).data("clickover").clickery()}),this.$element.attr("data-clickover-open",1),this.tip().on("click",'[data-dismiss="clickover"]',t.proxy(this.clickery,this)),this.options.auto_close&&this.options.auto_close>0&&(this.attr.tid=setTimeout(t.proxy(this.clickery,this),this.options.auto_close)),"function"==typeof this.options.onShown&&this.options.onShown.call(this),this.$element.trigger("shown")}else this.$element.removeAttr("data-clickover-open"),this.options.esc_close&&t(document).unbind("keyup.clickery"),t("body").off(this.attr.click_event_ns),"number"==typeof this.attr.tid&&(clearTimeout(this.attr.tid),delete this.attr.tid),"function"==typeof this.options.onHidden&&this.options.onHidden.call(this),this.$element.trigger("hidden")},isShown:function(){return this.tip().hasClass("in")},resetPosition:function(){var t,e,n,i,o,r,a;if(this.hasContent()&&this.enabled){switch(t=this.tip(),r="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(r),n=this.getPosition(e),i=t[0].offsetWidth,o=t[0].offsetHeight,e?r.split(" ")[1]:r){case"bottom":a={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":a={top:n.top-o,left:n.left+n.width/2-i/2};break;case"left":a={top:n.top+n.height/2-o/2,left:n.left-i};break;case"right":a={top:n.top+n.height/2-o/2,left:n.left+n.width}}t.css(a)}},debughide:function(){var t=(new Date).toString();console.log(t+": clickover hide"),this.hide()}}),t.fn.clickover=function(n){return this.each(function(){var i=t(this),o=i.data("clickover");o||i.data("clickover",o=new e(this,"object"==typeof n&&n)),"string"==typeof n&&o[n]()})},t.fn.clickover.Constructor=e,t.fn.clickover.defaults=t.extend({},t.fn.popover.defaults,{trigger:"manual",auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:"clickover",allow_multiple:0})}(window.jQuery),function(t,e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e(require("jquery")):t.bootbox=e(t.jQuery)}(this,function t(e,n){"use strict";var i={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog' style='margin:12% auto'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close' data-dismiss='modal' aria-hidden='true'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",textarea:"<textarea class='bootbox-input bootbox-input-textarea form-control'></textarea>",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>",date:"<input class='bootbox-input bootbox-input-date form-control' autocomplete=off type='date' />",time:"<input class='bootbox-input bootbox-input-time form-control' autocomplete=off type='time' />",number:"<input class='bootbox-input bootbox-input-number form-control' autocomplete=off type='number' />",password:"<input class='bootbox-input bootbox-input-password form-control' autocomplete='off' type='password' />"}},o={locale:"en",backdrop:"static",animate:!0,className:null,closeButton:!0,show:!0,container:"body"},r={};function a(t){var e=f[o.locale];return e?e[t]:f.en[t]}function s(t,n,i){t.stopPropagation(),t.preventDefault(),e.isFunction(i)&&!1===i.call(n,t)||n.modal("hide")}function l(t,n){var i=0;e.each(t,function(t,e){n(t,e,i++)})}function c(t,n,i){return e.extend(!0,{},t,function(t,e){var n=t.length,i={};if(n<1||n>2)throw new Error("Invalid argument length");return 2===n||"string"==typeof t[0]?(i[e[0]]=t[0],i[e[1]]=t[1]):i=t[0],i}(n,i))}function d(t,e,n,i){return h(c({className:"bootbox-"+t,buttons:u.apply(null,e)},i,n),e)}function u(){for(var t={},e=0,n=arguments.length;e<n;e++){var i=arguments[e],o=i.toLowerCase(),r=i.toUpperCase();t[o]={label:a(r)}}return t}function h(t,e){var i={};return l(e,function(t,e){i[e]=!0}),l(t.buttons,function(t){if(i[t]===n)throw new Error("button key "+t+" is not allowed (options are "+e.join("\n")+")")}),t}r.alert=function(){var t;if((t=d("alert",["ok"],["message","callback"],arguments)).callback&&!e.isFunction(t.callback))throw new Error("alert requires callback property to be a function when provided");return t.buttons.ok.callback=t.onEscape=function(){return!e.isFunction(t.callback)||t.callback.call(this)},r.dialog(t)},r.confirm=function(){var t;if((t=d("confirm",["cancel","confirm"],["message","callback"],arguments)).buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,!1)},t.buttons.confirm.callback=function(){return t.callback.call(this,!0)},!e.isFunction(t.callback))throw new Error("confirm requires a callback");return r.dialog(t)},r.prompt=function(){var t,o,a,s,d,f,p;if(s=e(i.form),o={className:"bootbox-prompt",buttons:u("cancel","confirm"),value:"",inputType:"text"},f=(t=h(c(o,arguments,["title","callback"]),["cancel","confirm"])).show===n||t.show,t.message=s,t.buttons.cancel.callback=t.onEscape=function(){return t.callback.call(this,null)},t.buttons.confirm.callback=function(){var n;switch(t.inputType){case"text":case"textarea":case"email":case"select":case"date":case"time":case"number":case"password":n=d.val();break;case"checkbox":var i=d.find("input:checked");n=[],l(i,function(t,i){n.push(e(i).val())})}return t.callback.call(this,n)},t.show=!1,!t.title)throw new Error("prompt requires a title");if(!e.isFunction(t.callback))throw new Error("prompt requires a callback");if(!i.inputs[t.inputType])throw new Error("invalid prompt type");switch(d=e(i.inputs[t.inputType]),t.inputType){case"text":case"textarea":case"email":case"date":case"time":case"number":case"password":d.val(t.value);break;case"select":var g={};if(!e.isArray(p=t.inputOptions||[]))throw new Error("Please pass an array of input options");if(!p.length)throw new Error("prompt with select requires options");l(p,function(t,i){var o=d;if(i.value===n||i.text===n)throw new Error("given options in wrong format");i.group&&(g[i.group]||(g[i.group]=e("<optgroup/>").attr("label",i.group)),o=g[i.group]),o.append("<option value='"+i.value+"'>"+i.text+"</option>")}),l(g,function(t,e){d.append(e)}),d.val(t.value);break;case"checkbox":var m=e.isArray(t.value)?t.value:[t.value];if(!(p=t.inputOptions||[]).length)throw new Error("prompt with checkbox requires options");if(!p[0].value||!p[0].text)throw new Error("given options in wrong format");d=e("<div/>"),l(p,function(n,o){var r=e(i.inputs[t.inputType]);r.find("input").attr("value",o.value),r.find("label").append(o.text),l(m,function(t,e){e===o.value&&r.find("input").prop("checked",!0)}),d.append(r)})}return t.placeholder&&d.attr("placeholder",t.placeholder),t.pattern&&d.attr("pattern",t.pattern),t.maxlength&&d.attr("maxlength",t.maxlength),s.append(d),s.on("submit",function(t){t.preventDefault(),t.stopPropagation(),a.find(".btn-primary").click()}),(a=r.dialog(t)).off("shown.bs.modal"),a.on("shown.bs.modal",function(){d.focus()}),!0===f&&a.modal("show"),a},r.dialog=function(t){t=function(t){var n,i;if("object"!=typeof t)throw new Error("Please supply an object of options");if(!t.message)throw new Error("Please specify a message");return(t=e.extend({},o,t)).buttons||(t.buttons={}),i=function(t){var e,n=0;for(e in t)n++;return n}(n=t.buttons),l(n,function(t,o,r){if(e.isFunction(o)&&(o=n[t]={callback:o}),"object"!==e.type(o))throw new Error("button with key "+t+" must be an object");o.label||(o.label=t),o.className||(o.className=i<=2&&r===i-1?"btn-primary":"btn-default")}),t}(t);var r=e(i.dialog),a=r.find(".modal-dialog"),c=r.find(".modal-body"),d=t.buttons,u="",h={onEscape:t.onEscape};if(e.fn.modal===n)throw new Error("$.fn.modal is not defined; please double check you have included the Bootstrap JavaScript library. See http://getbootstrap.com/javascript/ for more details.");if(l(d,function(t,e){u+="<button data-bb-handler='"+t+"' type='button' class='btn "+e.className+"'>"+e.label+"</button>",h[t]=e.callback}),c.find(".bootbox-body").html(t.message),!0===t.animate&&r.addClass("fade"),t.className&&r.addClass(t.className),"large"===t.size?a.addClass("modal-lg"):"small"===t.size&&a.addClass("modal-sm"),t.title&&c.before(i.header),t.closeButton){var f=e(i.closeButton);t.title?r.find(".modal-header").prepend(f):f.css("margin-top","-10px").prependTo(c)}return t.title&&r.find(".modal-title").html(t.title),u.length&&(c.after(i.footer),r.find(".modal-footer").html(u)),r.on("hidden.bs.modal",function(t){t.target===this&&r.remove()}),r.on("shown.bs.modal",function(){r.find(".btn-primary:first").focus()}),"static"!==t.backdrop&&r.on("click.dismiss.bs.modal",function(t){r.children(".modal-backdrop").length&&(t.currentTarget=r.children(".modal-backdrop").get(0)),t.target===t.currentTarget&&r.trigger("escape.close.bb")}),r.on("escape.close.bb",function(t){h.onEscape&&s(t,r,h.onEscape)}),r.on("click",".modal-footer button",function(t){var n=e(this).data("bb-handler");s(t,r,h[n])}),r.on("click",".bootbox-close-button",function(t){s(t,r,h.onEscape)}),r.on("keyup",function(t){27===t.which&&r.trigger("escape.close.bb")}),e(t.container).append(r),r.modal({backdrop:!!t.backdrop&&"static",keyboard:!1,show:!1}),t.show&&r.modal("show"),r},r.setDefaults=function(){var t={};2===arguments.length?t[arguments[0]]=arguments[1]:t=arguments[0],e.extend(o,t)},r.hideAll=function(){return e(".bootbox").modal("hide"),r};var f={bg_BG:{OK:"\u041e\u043a",CANCEL:"\u041e\u0442\u043a\u0430\u0437",CONFIRM:"\u041f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0430\u0432\u0430\u043c"},br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},cs:{OK:"OK",CANCEL:"Zru\u0161it",CONFIRM:"Potvrdit"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},el:{OK:"\u0395\u03bd\u03c4\u03ac\u03be\u03b5\u03b9",CANCEL:"\u0391\u03ba\u03cd\u03c1\u03c9\u03c3\u03b7",CONFIRM:"\u0395\u03c0\u03b9\u03b2\u03b5\u03b2\u03b1\u03af\u03c9\u03c3\u03b7"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},et:{OK:"OK",CANCEL:"Katkesta",CONFIRM:"OK"},fa:{OK:"\u0642\u0628\u0648\u0644",CANCEL:"\u0644\u063a\u0648",CONFIRM:"\u062a\u0627\u06cc\u06cc\u062f"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},he:{OK:"\u05d0\u05d9\u05e9\u05d5\u05e8",CANCEL:"\u05d1\u05d9\u05d8\u05d5\u05dc",CONFIRM:"\u05d0\u05d9\u05e9\u05d5\u05e8"},hu:{OK:"OK",CANCEL:"M\xe9gsem",CONFIRM:"Meger\u0151s\xedt"},hr:{OK:"OK",CANCEL:"Odustani",CONFIRM:"Potvrdi"},id:{OK:"OK",CANCEL:"Batal",CONFIRM:"OK"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},ja:{OK:"OK",CANCEL:"\u30ad\u30e3\u30f3\u30bb\u30eb",CONFIRM:"\u78ba\u8a8d"},lt:{OK:"Gerai",CANCEL:"At\u0161aukti",CONFIRM:"Patvirtinti"},lv:{OK:"Labi",CANCEL:"Atcelt",CONFIRM:"Apstiprin\u0101t"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierd\u017a"},pt:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Confirmar"},ru:{OK:"OK",CANCEL:"\u041e\u0442\u043c\u0435\u043d\u0430",CONFIRM:"\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c"},sq:{OK:"OK",CANCEL:"Anulo",CONFIRM:"Prano"},sv:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},th:{OK:"\u0e15\u0e01\u0e25\u0e07",CANCEL:"\u0e22\u0e01\u0e40\u0e25\u0e34\u0e01",CONFIRM:"\u0e22\u0e37\u0e19\u0e22\u0e31\u0e19"},tr:{OK:"Tamam",CANCEL:"\u0130ptal",CONFIRM:"Onayla"},zh_CN:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u786e\u8ba4"},zh_TW:{OK:"OK",CANCEL:"\u53d6\u6d88",CONFIRM:"\u78ba\u8a8d"}};return r.addLocale=function(t,n){return e.each(["OK","CANCEL","CONFIRM"],function(t,e){if(!n[e])throw new Error("Please supply a translation for '"+e+"'")}),f[t]={OK:n.OK,CANCEL:n.CANCEL,CONFIRM:n.CONFIRM},r},r.removeLocale=function(t){return delete f[t],r},r.setLocale=function(t){return r.setDefaults("locale",t)},r.init=function(n){return t(n||e)},r}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment")}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment")}catch(t){}}())}):(t=t||self).Chart=e(t.moment)}(this,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t;var e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(t,e){return t(e={exports:{}}),e.exports}(function(t){var n={};for(var i in e)e.hasOwnProperty(i)&&(n[e[i]]=i);var o=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in o)if(o.hasOwnProperty(r)){if(!("channels"in o[r]))throw new Error("missing channels property: "+r);if(!("labels"in o[r]))throw new Error("missing channel labels property: "+r);if(o[r].labels.length!==o[r].channels)throw new Error("channel and label counts mismatch: "+r);var a=o[r].channels,s=o[r].labels;delete o[r].channels,delete o[r].labels,Object.defineProperty(o[r],"channels",{value:a}),Object.defineProperty(o[r],"labels",{value:s})}o.rgb.hsl=function(t){var e,n,i=t[0]/255,o=t[1]/255,r=t[2]/255,a=Math.min(i,o,r),s=Math.max(i,o,r),l=s-a;return s===a?e=0:i===s?e=(o-r)/l:o===s?e=2+(r-i)/l:r===s&&(e=4+(i-o)/l),(e=Math.min(60*e,360))<0&&(e+=360),n=(a+s)/2,[e,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]},o.rgb.hsv=function(t){var e,n,i,o,r,a=t[0]/255,s=t[1]/255,l=t[2]/255,c=Math.max(a,s,l),d=c-Math.min(a,s,l),u=function(t){return(c-t)/6/d+.5};return 0===d?o=r=0:(r=d/c,e=u(a),n=u(s),i=u(l),a===c?o=i-n:s===c?o=1/3+e-i:l===c&&(o=2/3+n-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*r,100*c]},o.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2];return[o.rgb.hsl(t)[0],1/255*Math.min(e,Math.min(n,i))*100,100*(i=1-1/255*Math.max(e,Math.max(n,i)))]},o.rgb.cmyk=function(t){var e,n=t[0]/255,i=t[1]/255,o=t[2]/255;return[100*((1-n-(e=Math.min(1-n,1-i,1-o)))/(1-e)||0),100*((1-i-e)/(1-e)||0),100*((1-o-e)/(1-e)||0),100*e]},o.rgb.keyword=function(t){var i=n[t];if(i)return i;var o,r,a,s=1/0;for(var l in e)if(e.hasOwnProperty(l)){var c=(r=t,a=e[l],Math.pow(r[0]-a[0],2)+Math.pow(r[1]-a[1],2)+Math.pow(r[2]-a[2],2));c<s&&(s=c,o=l)}return o},o.keyword.rgb=function(t){return e[t]},o.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;return[100*(.4124*(e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*e+.7152*n+.0722*i),100*(.0193*e+.1192*n+.9505*i)]},o.rgb.lab=function(t){var e=o.rgb.xyz(t),n=e[0],i=e[1],r=e[2];return i/=100,r/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116))]},o.hsl.rgb=function(t){var e,n,i,o,r,a=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[r=255*l,r,r];e=2*l-(n=l<.5?l*(1+s):l+s-l*s),o=[0,0,0];for(var c=0;c<3;c++)(i=a+1/3*-(c-1))<0&&i++,i>1&&i--,o[c]=255*(r=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e);return o},o.hsl.hsv=function(t){var e=t[0],n=t[1]/100,i=t[2]/100,o=n,r=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,o*=r<=1?r:2-r,[e,100*(0===i?2*o/(r+o):2*n/(i+n)),(i+n)/2*100]},o.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,o=Math.floor(e)%6,r=e-Math.floor(e),a=255*i*(1-n),s=255*i*(1-n*r),l=255*i*(1-n*(1-r));switch(i*=255,o){case 0:return[i,l,a];case 1:return[s,i,a];case 2:return[a,i,l];case 3:return[a,s,i];case 4:return[l,a,i];case 5:return[i,a,s]}},o.hsv.hsl=function(t){var e,n,i,o=t[0],r=t[1]/100,a=t[2]/100,s=Math.max(a,.01);return i=(2-r)*a,n=r*s,[o,100*(n=(n/=(e=(2-r)*s)<=1?e:2-e)||0),100*(i/=2)]},o.hwb.rgb=function(t){var e,n,i,o,r,a,s,l=t[0]/360,c=t[1]/100,d=t[2]/100,u=c+d;switch(u>1&&(c/=u,d/=u),i=6*l-(e=Math.floor(6*l)),0!=(1&e)&&(i=1-i),o=c+i*((n=1-d)-c),e){default:case 6:case 0:r=n,a=o,s=c;break;case 1:r=o,a=n,s=c;break;case 2:r=c,a=n,s=o;break;case 3:r=c,a=o,s=n;break;case 4:r=o,a=c,s=n;break;case 5:r=n,a=c,s=o}return[255*r,255*a,255*s]},o.cmyk.rgb=function(t){var e=t[1]/100,n=t[2]/100,i=t[3]/100;return[255*(1-Math.min(1,t[0]/100*(1-i)+i)),255*(1-Math.min(1,e*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(t){var e,n,i,o=t[0]/100,r=t[1]/100,a=t[2]/100;return n=-.9689*o+1.8758*r+.0415*a,i=.0557*o+-.204*r+1.057*a,e=(e=3.2406*o+-1.5372*r+-.4986*a)>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(e=Math.min(Math.max(0,e),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},o.xyz.lab=function(t){var e=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,e=(e/=95.047)>.008856?Math.pow(e,1/3):7.787*e+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(e-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.lab.xyz=function(t){var e,n,i;e=t[1]/500+(n=(t[0]+16)/116),i=n-t[2]/200;var o=Math.pow(n,3),r=Math.pow(e,3),a=Math.pow(i,3);return n=o>.008856?o:(n-16/116)/7.787,e=r>.008856?r:(e-16/116)/7.787,i=a>.008856?a:(i-16/116)/7.787,[e*=95.047,n*=100,i*=108.883]},o.lab.lch=function(t){var e,n=t[0],i=t[1],o=t[2];return(e=360*Math.atan2(o,i)/2/Math.PI)<0&&(e+=360),[n,Math.sqrt(i*i+o*o),e]},o.lch.lab=function(t){var e,n=t[1];return e=t[2]/360*2*Math.PI,[t[0],n*Math.cos(e),n*Math.sin(e)]},o.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:o.rgb.hsv(t)[2];if(0===(r=Math.round(r/50)))return 30;var a=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(a+=60),a},o.hsv.ansi16=function(t){return o.rgb.ansi16(o.hsv.rgb(t),t[2])},o.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];return e===n&&n===i?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},o.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),[e=e/10.5*255,e,e];var n=.5*(1+~~(t>50));return[(1&e)*n*255,(e>>1&1)*n*255,(e>>2&1)*n*255]},o.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}var n;return t-=16,[Math.floor(t/36)/5*255,Math.floor((n=t%36)/6)/5*255,n%6/5*255]},o.rgb.hex=function(t){var e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},o.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},o.rgb.hcg=function(t){var e,n=t[0]/255,i=t[1]/255,o=t[2]/255,r=Math.max(Math.max(n,i),o),a=Math.min(Math.min(n,i),o),s=r-a;return e=s<=0?0:r===n?(i-o)/s%6:r===i?2+(o-n)/s:4+(n-i)/s+4,e/=6,[360*(e%=1),100*s,100*(s<1?a/(1-s):0)]},o.hsl.hcg=function(t){var e,n=t[1]/100,i=t[2]/100,o=0;return(e=i<.5?2*n*i:2*n*(1-i))<1&&(o=(i-.5*e)/(1-e)),[t[0],100*e,100*o]},o.hsv.hcg=function(t){var e=t[2]/100,n=t[1]/100*e,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},o.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];var o,r=[0,0,0],a=e%1*6,s=a%1,l=1-s;switch(Math.floor(a)){case 0:r[0]=1,r[1]=s,r[2]=0;break;case 1:r[0]=l,r[1]=1,r[2]=0;break;case 2:r[0]=0,r[1]=1,r[2]=s;break;case 3:r[0]=0,r[1]=l,r[2]=1;break;case 4:r[0]=s,r[1]=0,r[2]=1;break;default:r[0]=1,r[1]=0,r[2]=l}return[255*(n*r[0]+(o=(1-n)*i)),255*(n*r[1]+o),255*(n*r[2]+o)]},o.hcg.hsv=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e),i=0;return n>0&&(i=e/n),[t[0],100*i,100*n]},o.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[t[0],100*i,100*n]},o.hcg.hwb=function(t){var e=t[1]/100,n=e+t[2]/100*(1-e);return[t[0],100*(n-e),100*(1-n)]},o.hwb.hcg=function(t){var e=1-t[2]/100,n=e-t[1]/100,i=0;return n<1&&(i=(e-n)/(1-n)),[t[0],100*n,100*i]},o.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},o.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},o.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},o.gray.hsl=o.gray.hsv=function(t){return[0,0,t[0]]},o.gray.hwb=function(t){return[0,100,t[0]]},o.gray.cmyk=function(t){return[0,0,0,t[0]]},o.gray.lab=function(t){return[t[0],0,0]},o.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}});function i(t){var e=function(){for(var t={},e=Object.keys(n),i=e.length,o=0;o<i;o++)t[e[o]]={distance:-1,parent:null};return t}(),i=[t];for(e[t].distance=0;i.length;)for(var o=i.pop(),r=Object.keys(n[o]),a=r.length,s=0;s<a;s++){var l=r[s],c=e[l];-1===c.distance&&(c.distance=e[o].distance+1,c.parent=o,i.unshift(l))}return e}function o(t,e){return function(n){return e(t(n))}}function r(t,e){for(var i=[e[t].parent,t],r=n[e[t].parent][t],a=e[t].parent;e[a].parent;)i.unshift(e[a].parent),r=o(n[e[a].parent][a],r),a=e[a].parent;return r.conversion=i,r}var a={};Object.keys(n).forEach(function(t){a[t]={},Object.defineProperty(a[t],"channels",{value:n[t].channels}),Object.defineProperty(a[t],"labels",{value:n[t].labels});var e=function(t){for(var e=i(t),n={},o=Object.keys(e),a=o.length,s=0;s<a;s++){var l=o[s];null!==e[l].parent&&(n[l]=r(l,e))}return n}(t);Object.keys(e).forEach(function(n){var i=e[n];a[t][n]=function(t){var e=function(e){if(null==e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,o=0;o<i;o++)n[o]=Math.round(n[o]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(i),a[t][n].raw=function(t){var e=function(e){return null==e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(i)})});var s=a,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},c={getRgba:d,getHsla:u,getRgb:function(t){var e=d(t);return e&&e.slice(0,3)},getHsl:function(t){var e=u(t);return e&&e.slice(0,3)},getHwb:h,getAlpha:function(t){var e=d(t);return e?e[3]:(e=u(t))?e[3]:(e=h(t))?e[3]:void 0},hexString:function(t,e){return e=void 0!==e&&3===t.length?e:t[3],"#"+v(t[0])+v(t[1])+v(t[2])+(e>=0&&e<1?v(Math.round(255*e)):"")},rgbString:function(t,e){return e<1||t[3]&&t[3]<1?f(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"},rgbaString:f,percentString:function(t,e){return e<1||t[3]&&t[3]<1?p(t,e):"rgb("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%)"},percentaString:p,hslString:function(t,e){return e<1||t[3]&&t[3]<1?g(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"},hslaString:g,hwbString:function(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"},keyword:function(t){return y[t.slice(0,3)]}};function d(t){if(t){var e=[0,0,0],n=1,i=t.match(/^#([a-fA-F0-9]{3,4})$/i),o="";if(i){o=(i=i[1])[3];for(var r=0;r<e.length;r++)e[r]=parseInt(i[r]+i[r],16);o&&(n=Math.round(parseInt(o+o,16)/255*100)/100)}else if(i=t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(o=i[2],i=i[1],r=0;r<e.length;r++)e[r]=parseInt(i.slice(2*r,2*r+2),16);o&&(n=Math.round(parseInt(o,16)/255*100)/100)}else if(i=t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=parseInt(i[r+1]);n=parseFloat(i[4])}else if(i=t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(r=0;r<e.length;r++)e[r]=Math.round(2.55*parseFloat(i[r+1]));n=parseFloat(i[4])}else if(i=t.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(e=l[i[1]]))return}for(r=0;r<e.length;r++)e[r]=m(e[r],0,255);return n=n||0==n?m(n,0,1):1,e[3]=n,e}}function u(t){if(t){var e=t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[m(parseInt(e[1]),0,360),m(parseFloat(e[2]),0,100),m(parseFloat(e[3]),0,100),m(isNaN(n)?1:n,0,1)]}}}function h(t){if(t){var e=t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(e){var n=parseFloat(e[4]);return[m(parseInt(e[1]),0,360),m(parseFloat(e[2]),0,100),m(parseFloat(e[3]),0,100),m(isNaN(n)?1:n,0,1)]}}}function f(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function p(t,e){return"rgba("+Math.round(t[0]/255*100)+"%, "+Math.round(t[1]/255*100)+"%, "+Math.round(t[2]/255*100)+"%, "+(e||t[3]||1)+")"}function g(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function m(t,e,n){return Math.min(Math.max(e,t),n)}function v(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}var y={};for(var b in l)y[l[b]]=b;var w=function(t){return t instanceof w?t:this instanceof w?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof t?(e=c.getRgba(t))?this.setValues("rgb",e):(e=c.getHsla(t))?this.setValues("hsl",e):(e=c.getHwb(t))&&this.setValues("hwb",e):"object"==typeof t&&(void 0!==(e=t).r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e)))):new w(t);var e};w.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t=(t%=360)<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return c.hexString(this.values.rgb)},rgbString:function(){return c.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return c.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return c.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return c.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return c.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return c.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return c.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb;return(299*t[0]+587*t[1]+114*t[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=t,i=void 0===e?.5:e,o=2*i-1,r=this.alpha()-n.alpha(),a=((o*r==-1?o:(o+r)/(1+o*r))+1)/2,s=1-a;return this.rgb(a*this.red()+s*n.red(),a*this.green()+s*n.green(),a*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new w,i=this.values,o=n.values;for(var r in i)i.hasOwnProperty(r)&&("[object Array]"===(e={}.toString.call(t=i[r]))?o[r]=t.slice(0):"[object Number]"===e?o[r]=t:console.error("unexpected color value:",t));return n}},w.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},w.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},w.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},w.prototype.setValues=function(t,e){var n,i,o=this.values,r=this.spaces,a=this.maxes,l=1;if(this.valid=!0,"alpha"===t)l=e;else if(e.length)o[t]=e.slice(0,t.length),l=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)o[t][n]=e[t.charAt(n)];l=e.a}else if(void 0!==e[r[t][0]]){var c=r[t];for(n=0;n<t.length;n++)o[t][n]=e[c[n]];l=e.alpha}if(o.alpha=Math.max(0,Math.min(1,void 0===l?o.alpha:l)),"alpha"===t)return!1;for(n=0;n<t.length;n++)i=Math.max(0,Math.min(a[t][n],o[t][n])),o[t][n]=Math.round(i);for(var d in r)d!==t&&(o[d]=s[t][d](o[t]));return!0},w.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},w.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=w);var x,D=w,C={noop:function(){},uid:(x=0,function(){return x++}),isNullOrUndef:function(t){return null==t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return void 0===t?e:t},valueAtIndexOrDefault:function(t,e,n){return C.valueOrDefault(C.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var o,r,a;if(C.isArray(t))if(r=t.length,i)for(o=r-1;o>=0;o--)e.call(n,t[o],o);else for(o=0;o<r;o++)e.call(n,t[o],o);else if(C.isObject(t))for(r=(a=Object.keys(t)).length,o=0;o<r;o++)e.call(n,t[a[o]],a[o])},arrayEquals:function(t,e){var n,i,o,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=e[n],(o=t[n])instanceof Array&&r instanceof Array){if(!C.arrayEquals(o,r))return!1}else if(o!==r)return!1;return!0},clone:function(t){if(C.isArray(t))return t.map(C.clone);if(C.isObject(t)){for(var e={},n=Object.keys(t),i=n.length,o=0;o<i;++o)e[n[o]]=C.clone(t[n[o]]);return e}return t},_merger:function(t,e,n,i){var o=e[t],r=n[t];C.isObject(o)&&C.isObject(r)?C.merge(o,r,i):e[t]=C.clone(r)},_mergerIf:function(t,e,n){var i=e[t],o=n[t];C.isObject(i)&&C.isObject(o)?C.mergeIf(i,o):e.hasOwnProperty(t)||(e[t]=C.clone(o))},merge:function(t,e,n){var i,o,r,a,s,l=C.isArray(e)?e:[e],c=l.length;if(!C.isObject(t))return t;for(i=(n=n||{}).merger||C._merger,o=0;o<c;++o)if(C.isObject(e=l[o]))for(s=0,a=(r=Object.keys(e)).length;s<a;++s)i(r[s],t,e,n);return t},mergeIf:function(t,e){return C.merge(t,e,{merger:C._mergerIf})},extend:Object.assign||function(t){return C.merge(t,[].slice.call(arguments,1),{merger:function(t,e,n){e[t]=n[t]}})},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=C.inherits,t&&C.extend(n.prototype,t),n.__super__=e.prototype,n},_deprecated:function(t,e,n,i){void 0!==e&&console.warn(t+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},_=C;C.callCallback=C.callback,C.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},C.getValueOrDefault=C.valueOrDefault,C.getValueAtIndexOrDefault=C.valueAtIndexOrDefault;var S={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*(Math.PI/2))},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*--t))},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2==(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-S.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*S.easeInBounce(2*t):.5*S.easeOutBounce(2*t-1)+.5}},k={effects:S};_.easingEffects=S;var T=Math.PI,A=T/180,P=2*T,E=T/2,M=T/4,R=2*T/3,N={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,o,r){if(r){var a=Math.min(r,o/2,i/2),s=e+a,l=n+a,c=e+i-a,d=n+o-a;t.moveTo(e,l),s<c&&l<d?(t.arc(s,l,a,-T,-E),t.arc(c,l,a,-E,0),t.arc(c,d,a,0,E),t.arc(s,d,a,E,T)):s<c?(t.moveTo(s,n),t.arc(c,l,a,-E,E),t.arc(s,l,a,E,T+E)):l<d?(t.arc(s,l,a,-T,0),t.arc(s,d,a,0,T)):t.arc(s,l,a,-T,T),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,o)},drawPoint:function(t,e,n,i,o,r){var a,s,l,c,d,u=(r||0)*A;if(e&&"object"==typeof e&&("[object HTMLImageElement]"===(a=e.toString())||"[object HTMLCanvasElement]"===a))return t.save(),t.translate(i,o),t.rotate(u),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,o,n,0,P),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(u)*n,o-Math.cos(u)*n),u+=R,t.lineTo(i+Math.sin(u)*n,o-Math.cos(u)*n),u+=R,t.lineTo(i+Math.sin(u)*n,o-Math.cos(u)*n),t.closePath();break;case"rectRounded":c=n-(d=.516*n),s=Math.cos(u+M)*c,l=Math.sin(u+M)*c,t.arc(i-s,o-l,d,u-T,u-E),t.arc(i+l,o-s,d,u-E,u),t.arc(i+s,o+l,d,u,u+E),t.arc(i-l,o+s,d,u+E,u+T),t.closePath();break;case"rect":if(!r){c=Math.SQRT1_2*n,t.rect(i-c,o-c,2*c,2*c);break}u+=M;case"rectRot":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,o-l),t.lineTo(i+l,o-s),t.lineTo(i+s,o+l),t.lineTo(i-l,o+s),t.closePath();break;case"crossRot":u+=M;case"cross":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,o-l),t.lineTo(i+s,o+l),t.moveTo(i+l,o-s),t.lineTo(i-l,o+s);break;case"star":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,o-l),t.lineTo(i+s,o+l),t.moveTo(i+l,o-s),t.lineTo(i-l,o+s),u+=M,s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,o-l),t.lineTo(i+s,o+l),t.moveTo(i+l,o-s),t.lineTo(i-l,o+s);break;case"line":s=Math.cos(u)*n,l=Math.sin(u)*n,t.moveTo(i-s,o-l),t.lineTo(i+s,o+l);break;case"dash":t.moveTo(i,o),t.lineTo(i+Math.cos(u)*n,o+Math.sin(u)*n)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){return t.x>e.left-1e-6&&t.x<e.right+1e-6&&t.y>e.top-1e-6&&t.y<e.bottom+1e-6},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var o=n.steppedLine;if(o){if("middle"===o){var r=(e.x+n.x)/2;t.lineTo(r,i?n.y:e.y),t.lineTo(r,i?e.y:n.y)}else"after"===o&&!i||"after"!==o&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}else n.tension?t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):t.lineTo(n.x,n.y)}},I=N;_.clear=N.clear,_.drawRoundedRectangle=function(t){t.beginPath(),N.roundedRect.apply(N,arguments)};var O={_set:function(t,e){return _.merge(this[t]||(this[t]={}),e)}};O._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var H=O,L=_.valueOrDefault,B={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,o;return _.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,o=+t.left||0):e=n=i=o=+t||0,{top:e,right:n,bottom:i,left:o,height:e+i,width:o+n}},_parseFont:function(t){var e=H.global,n=L(t.fontSize,e.defaultFontSize),i={family:L(t.fontFamily,e.defaultFontFamily),lineHeight:_.options.toLineHeight(L(t.lineHeight,e.defaultLineHeight),n),size:n,style:L(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return i.string=function(t){return!t||_.isNullOrUndef(t.size)||_.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(i),i},resolve:function(t,e,n,i){var o,r,a,s=!0;for(o=0,r=t.length;o<r;++o)if(void 0!==(a=t[o])&&(void 0!==e&&"function"==typeof a&&(a=a(e),s=!1),void 0!==n&&_.isArray(a)&&(a=a[n],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}},F={_factorize:function(t){var e,n=[],i=Math.sqrt(t);for(e=1;e<i;e++)t%e==0&&(n.push(e),n.push(t/e));return i===(0|i)&&n.push(i),n.sort(function(t,e){return t-e}).pop(),n},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e);return t===Math.pow(10,n)?n:e}},j=F;_.log10=F.log10;var z=_,U=I,$=B,W=j;z.easing=k,z.canvas=U,z.options=$,z.math=W,z.rtl={getRtlAdapter:function(t,e,n){return t?function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}}(e,n):{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},overrideTextDirection:function(t,e){var n,i;"ltr"!==e&&"rtl"!==e||(i=[(n=t.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)},restoreTextDirection:function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}};var q=function(t){z.extend(this,t),this.initialize.apply(this,arguments)};z.extend(q.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=z.extend({},t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,o=e._view;return n&&1!==t?(o||(o=e._view={}),i||(i=e._start={}),function(t,e,n,i){var o,r,a,s,l,c,d,u,h,f=Object.keys(n);for(o=0,r=f.length;o<r;++o)if(c=n[a=f[o]],e.hasOwnProperty(a)||(e[a]=c),(s=e[a])!==c&&"_"!==a[0]){if(t.hasOwnProperty(a)||(t[a]=s),(d=typeof c)==typeof(l=t[a]))if("string"===d){if((u=D(l)).valid&&(h=D(c)).valid){e[a]=h.mix(u,i).rgbString();continue}}else if(z.isFinite(l)&&z.isFinite(c)){e[a]=l+(c-l)*i;continue}e[a]=c}}(i,o,n,t),e):(e._view=z.extend({},n),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return z.isNumber(this._model.x)&&z.isNumber(this._model.y)}}),q.extend=z.inherits;var V=q,Y=V.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),G=Y;Object.defineProperty(Y.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(Y.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),H._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:z.noop,onComplete:z.noop}});var K={animations:[],request:null,addAnimation:function(t,e,n,i){var o,r,a=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),o=0,r=a.length;o<r;++o)if(a[o].chart===t)return void(a[o]=e);a.push(e),1===a.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=z.findIndex(this.animations,function(e){return e.chart===t});-1!==e&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=z.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var t,e,n,i,o=this.animations,r=0;r<o.length;)e=(t=o[r]).chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),z.callback(t.render,[e,t],e),z.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(z.callback(t.onAnimationComplete,[t],e),e.animating=!1,o.splice(r,1)):++r}},X=z.options.resolve,J=["push","pop","shift","splice","unshift"];function Q(t,e){var n=t._chartjs;if(n){var i=n.listeners,o=i.indexOf(e);-1!==o&&i.splice(o,1),i.length>0||(J.forEach(function(e){delete t[e]}),delete t._chartjs)}}var Z=function(t,e){this.initialize(t,e)};z.extend(Z.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this.getMeta(),e=this.chart,n=e.scales,i=this.getDataset(),o=e.options.scales;null!==t.xAxisID&&t.xAxisID in n&&!i.xAxisID||(t.xAxisID=i.xAxisID||o.xAxes[0].id),null!==t.yAxisID&&t.yAxisID in n&&!i.yAxisID||(t.yAxisID=i.yAxisID||o.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Q(this._data,this)},createMetaDataset:function(){var t=this.datasetElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(t){var e=this.dataElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index,_index:t})},addElements:function(){var t,e,n=this.getMeta(),i=this.getDataset().data||[],o=n.data;for(t=0,e=i.length;t<e;++t)o[t]=o[t]||this.createMetaData(t);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t,e,n=this,i=n.getDataset(),o=i.data||(i.data=[]);n._data!==o&&(n._data&&Q(n._data,n),o&&Object.isExtensible(o)&&(e=n,(t=o)._chartjs?t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),J.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),o=i.apply(this,e);return z.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),o}})}))),n._data=o),n.resyncElements()},_configure:function(){this._config=z.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(t,e,n){"_meta"!==t&&"data"!==t&&z._merger(t,e,n)}})},_update:function(t){this._configure(),this._cachedDataOpts=null,this.update(t)},update:z.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,o=0;o<i;++o)n[o].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},getStyle:function(t){var e,n=this.getMeta(),i=n.dataset;return this._configure(),!1!==(e=i&&void 0===t?this._resolveDatasetElementOptions(i||{}):this._resolveDataElementOptions(n.data[t=t||0]||{},t)).fill&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var n,i,o,r,a=this,s=a.chart,l=a._config,c=t.custom||{},d=s.options.elements[a.datasetElementType.prototype._type]||{},u=a._datasetElementOptions,h={},f={chart:s,dataset:a.getDataset(),datasetIndex:a.index,hover:e};for(n=0,i=u.length;n<i;++n)o=u[n],r=e?"hover"+o.charAt(0).toUpperCase()+o.slice(1):o,h[o]=X([c[r],l[r],d[r]],f);return h},_resolveDataElementOptions:function(t,e){var n=this,i=t&&t.custom,o=n._cachedDataOpts;if(o&&!i)return o;var r,a,s,l,c=n.chart,d=n._config,u=c.options.elements[n.dataElementType.prototype._type]||{},h=n._dataElementOptions,f={},p={chart:c,dataIndex:e,dataset:n.getDataset(),datasetIndex:n.index},g={cacheable:!i};if(i=i||{},z.isArray(h))for(a=0,s=h.length;a<s;++a)f[l=h[a]]=X([i[l],d[l],u[l]],p,e,g);else for(a=0,s=(r=Object.keys(h)).length;a<s;++a)f[l=r[a]]=X([i[l],d[h[l]],d[l],u[l]],p,e,g);return g.cacheable&&(n._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(t){z.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},o=t._model,r=z.getHoverColor;t.$previousStyle={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderWidth:o.borderWidth},o.backgroundColor=X([i.hoverBackgroundColor,e.hoverBackgroundColor,r(o.backgroundColor)],void 0,n),o.borderColor=X([i.hoverBorderColor,e.hoverBorderColor,r(o.borderColor)],void 0,n),o.borderWidth=X([i.hoverBorderWidth,e.hoverBorderWidth,o.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,n,i,o,r,a=this.getMeta().dataset,s={};if(a){for(r=a._model,o=this._resolveDatasetElementOptions(a,!0),t=0,e=(i=Object.keys(o)).length;t<e;++t)s[n=i[t]]=r[n],r[n]=o[n];a.$previousStyle=s}},resyncElements:function(){var t=this.getMeta(),e=this.getDataset().data,n=t.data.length,i=e.length;i<n?t.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),Z.extend=z.inherits;var tt=Z,et=2*Math.PI;function nt(t,e){var n=e.startAngle,i=e.endAngle,o=e.pixelMargin,r=o/e.outerRadius,a=e.x,s=e.y;t.beginPath(),t.arc(a,s,e.outerRadius,n-r,i+r),e.innerRadius>o?t.arc(a,s,e.innerRadius-o,i+(r=o/e.innerRadius),n-r,!0):t.arc(a,s,o,i+Math.PI/2,n-Math.PI/2),t.closePath(),t.clip()}H._set("global",{elements:{arc:{backgroundColor:H.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var it=V.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=z.getAngleFromPoint(n,{x:t,y:e}),o=i.angle,r=i.distance,a=n.startAngle,s=n.endAngle;s<a;)s+=et;for(;o>s;)o-=et;for(;o<a;)o+=et;return o>=a&&o<=s&&r>=n.innerRadius&&r<=n.outerRadius}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,o={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/et)};if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,o.fullCircles){for(o.endAngle=o.startAngle+et,e.beginPath(),e.arc(o.x,o.y,o.outerRadius,o.startAngle,o.endAngle),e.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),e.closePath(),t=0;t<o.fullCircles;++t)e.fill();o.endAngle=o.startAngle+n.circumference%et}e.beginPath(),e.arc(o.x,o.y,o.outerRadius,o.startAngle,o.endAngle),e.arc(o.x,o.y,o.innerRadius,o.endAngle,o.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&function(t,e,n){var i="inner"===e.borderAlign;i?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),n.fullCircles&&function(t,e,n,i){var o,r=n.endAngle;for(i&&(n.endAngle=n.startAngle+et,nt(t,n),n.endAngle=r,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=et,n.fullCircles--)),t.beginPath(),t.arc(n.x,n.y,n.innerRadius,n.startAngle+et,n.startAngle,!0),o=0;o<n.fullCircles;++o)t.stroke();for(t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.startAngle+et),o=0;o<n.fullCircles;++o)t.stroke()}(t,e,n,i),i&&nt(t,n),t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),t.stroke()}(e,n,o),e.restore()}}),ot=z.valueOrDefault,rt=H.global.defaultColor;H._set("global",{elements:{line:{tension:.4,backgroundColor:rt,borderWidth:3,borderColor:rt,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var at=V.extend({_type:"line",draw:function(){var t,e,n,i=this,o=i._view,r=i._chart.ctx,a=o.spanGaps,s=i._children.slice(),l=H.global,c=l.elements.line,d=-1,u=i._loop;if(s.length){if(i._loop){for(t=0;t<s.length;++t)if(e=z.previousItem(s,t),!s[t]._view.skip&&e._view.skip){s=s.slice(t).concat(s.slice(0,t)),u=a;break}u&&s.push(s[0])}for(r.save(),r.lineCap=o.borderCapStyle||c.borderCapStyle,r.setLineDash&&r.setLineDash(o.borderDash||c.borderDash),r.lineDashOffset=ot(o.borderDashOffset,c.borderDashOffset),r.lineJoin=o.borderJoinStyle||c.borderJoinStyle,r.lineWidth=ot(o.borderWidth,c.borderWidth),r.strokeStyle=o.borderColor||l.defaultColor,r.beginPath(),(n=s[0]._view).skip||(r.moveTo(n.x,n.y),d=0),t=1;t<s.length;++t)n=s[t]._view,e=-1===d?z.previousItem(s,t):s[d],n.skip||(d!==t-1&&!a||-1===d?r.moveTo(n.x,n.y):z.canvas.lineTo(r,e._view,n),d=t);u&&r.closePath(),r.stroke(),r.restore()}}}),st=z.valueOrDefault,lt=H.global.defaultColor;function ct(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}H._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:lt,borderColor:lt,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var dt=V.extend({_type:"point",inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ct,inXRange:ct,inYRange:function(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius},getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,o=e.rotation,r=e.radius,a=e.x,s=e.y,l=H.global,c=l.defaultColor;e.skip||(void 0===t||z.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||c,n.lineWidth=st(e.borderWidth,l.elements.point.borderWidth),n.fillStyle=e.backgroundColor||c,z.canvas.drawPoint(n,i,r,a,s,o))}}),ut=H.global.defaultColor;function ht(t){return t&&void 0!==t.width}function ft(t){var e,n,i,o,r;return ht(t)?(e=t.x-(r=t.width/2),n=t.x+r,i=Math.min(t.y,t.base),o=Math.max(t.y,t.base)):(r=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-r,o=t.y+r),{left:e,top:i,right:n,bottom:o}}function pt(t,e,n){return t===e?n:t===n?e:t}function gt(t,e,n){var i=null===e,o=null===n,r=!(!t||i&&o)&&ft(t);return r&&(i||e>=r.left&&e<=r.right)&&(o||n>=r.top&&n<=r.bottom)}H._set("global",{elements:{rectangle:{backgroundColor:ut,borderColor:ut,borderSkipped:"bottom",borderWidth:0}}});var mt={},vt=at,yt=dt,bt=V.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,n=function(t){var e=ft(t),n=e.right-e.left,i=e.bottom-e.top,o=function(t,e,n){var i,o,r,a,s=t.borderWidth,l=function(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=pt(e,"left","right")):t.base<t.y&&(e=pt(e,"bottom","top")),n[e]=!0,n):n}(t);return z.isObject(s)?(i=+s.top||0,o=+s.right||0,r=+s.bottom||0,a=+s.left||0):i=o=r=a=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||o<0?0:o>e?e:o,b:l.bottom||r<0?0:r>n?n:r,l:l.left||a<0?0:a>e?e:a}}(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+o.l,y:e.top+o.t,w:n-o.l-o.r,h:i-o.t-o.b}}}(e),i=n.outer,o=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),i.w===o.w&&i.h===o.h||(t.save(),t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.fillStyle=e.borderColor,t.rect(o.x,o.y,o.w,o.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return gt(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return ht(n)?gt(n,t,null):gt(n,null,e)},inXRange:function(t){return gt(this._view,t,null)},inYRange:function(t){return gt(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return ht(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return ht(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}});mt.Arc=it,mt.Line=vt,mt.Point=yt,mt.Rectangle=bt;var wt=z._deprecated,xt=z.valueOrDefault;H._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),H._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var Dt=tt.extend({dataElementType:mt.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,n=this;tt.prototype.initialize.apply(n,arguments),(t=n.getMeta()).stack=n.getDataset().stack,t.bar=!0,e=n._getIndexScale().options,wt("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),wt("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),wt("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),wt("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),wt("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),e=0,n=i.length;e<n;++e)this.updateElement(i[e],e,t)},updateElement:function(t,e,n){var i=this,o=i.getMeta(),r=i.getDataset(),a=i._resolveDataElementOptions(t,e);t._xScale=i.getScaleForId(o.xAxisID),t._yScale=i.getScaleForId(o.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderSkipped:a.borderSkipped,borderWidth:a.borderWidth,datasetLabel:r.label,label:i.chart.data.labels[e]},z.isArray(r.data[e])&&(t._model.borderSkipped=null),i._updateElementGeometry(t,e,n,a),t.pivot()},_updateElementGeometry:function(t,e,n,i){var o=this,r=t._model,a=o._getValueScale(),s=a.getBasePixel(),l=a.isHorizontal(),c=o._ruler||o.getRuler(),d=o.calculateBarValuePixels(o.index,e,i),u=o.calculateBarIndexPixels(o.index,e,c,i);r.horizontal=l,r.base=n?s:d.base,r.x=l?n?s:d.head:u.center,r.y=l?u.center:n?s:d.head,r.height=l?u.size:void 0,r.width=l?void 0:u.size},_getStacks:function(t){var e,n,i=this._getIndexScale(),o=i._getMatchingVisibleMetas(this._type),r=i.options.stacked,a=o.length,s=[];for(e=0;e<a&&(n=o[e],(!1===r||-1===s.indexOf(n.stack)||void 0===r&&void 0===n.stack)&&s.push(n.stack),n.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return-1===i?n.length-1:i},getRuler:function(){var t,e,n=this._getIndexScale(),i=[];for(t=0,e=this.getMeta().data.length;t<e;++t)i.push(n.getPixelForValue(null,t,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(t,e,n){var i,o,r,a,s,l,c,d=this.chart,u=this._getValueScale(),h=u.isHorizontal(),f=d.data.datasets,p=u._getMatchingVisibleMetas(this._type),g=u._parseValue(f[t].data[e]),m=n.minBarLength,v=u.options.stacked,y=this.getMeta().stack,b=void 0===g.start?0:g.max>=0&&g.min>=0?g.min:g.max,w=void 0===g.start?g.end:g.max>=0&&g.min>=0?g.max-g.min:g.min-g.max,x=p.length;if(v||void 0===v&&void 0!==y)for(i=0;i<x&&(o=p[i]).index!==t;++i)o.stack===y&&(r=void 0===(c=u._parseValue(f[o.index].data[e])).start?c.end:c.min>=0&&c.max>=0?c.max:c.min,(g.min<0&&r<0||g.max>=0&&r>0)&&(b+=r));return a=u.getPixelForValue(b),l=(s=u.getPixelForValue(b+w))-a,void 0!==m&&Math.abs(l)<m&&(l=m,s=w>=0&&!h||w<0&&h?a-m:a+m),{size:l,base:a,head:s,center:s+l/2}},calculateBarIndexPixels:function(t,e,n,i){var o="flex"===i.barThickness?function(t,e,n){var i,o=e.pixels,r=o[t],a=t>0?o[t-1]:null,s=t<o.length-1?o[t+1]:null,l=n.categoryPercentage;return null===a&&(a=r-(null===s?e.end-e.start:s-r)),null===s&&(s=r+r-a),i=r-(r-Math.min(a,s))/2*l,{chunk:Math.abs(s-a)/2*l/e.stackCount,ratio:n.barPercentage,start:i}}(e,n,i):function(t,e,n){var i,o,r=n.barThickness,a=e.stackCount,s=e.pixels[t],l=z.isNullOrUndef(r)?function(t,e){var n,i,o,r,a=t._length;for(o=1,r=e.length;o<r;++o)a=Math.min(a,Math.abs(e[o]-e[o-1]));for(o=0,r=t.getTicks().length;o<r;++o)i=t.getPixelForTick(o),a=o>0?Math.min(a,Math.abs(i-n)):a,n=i;return a}(e.scale,e.pixels):-1;return z.isNullOrUndef(r)?(i=l*n.categoryPercentage,o=n.barPercentage):(i=r*a,o=1),{chunk:i/a,ratio:o,start:s-i/2}}(e,n,i),r=this.getStackIndex(t,this.getMeta().stack),a=o.start+o.chunk*r+o.chunk/2,s=Math.min(xt(i.maxBarThickness,1/0),o.chunk*o.ratio);return{base:a-s/2,head:a+s/2,center:a,size:s}},draw:function(){var t=this.chart,e=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),o=n.length,r=0;for(z.canvas.clipArea(t.ctx,t.chartArea);r<o;++r){var a=e._parseValue(i.data[r]);isNaN(a.min)||isNaN(a.max)||n[r].draw()}z.canvas.unclipArea(t.ctx)},_resolveDataElementOptions:function(){var t=this,e=z.extend({},tt.prototype._resolveDataElementOptions.apply(t,arguments)),n=t._getIndexScale().options,i=t._getValueScale().options;return e.barPercentage=xt(n.barPercentage,e.barPercentage),e.barThickness=xt(n.barThickness,e.barThickness),e.categoryPercentage=xt(n.categoryPercentage,e.categoryPercentage),e.maxBarThickness=xt(n.maxBarThickness,e.maxBarThickness),e.minBarLength=xt(i.minBarLength,e.minBarLength),e}}),Ct=z.valueOrDefault,_t=z.options.resolve;H._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return(e.datasets[t.datasetIndex].label||"")+": ("+t.xLabel+", "+t.yLabel+", "+e.datasets[t.datasetIndex].data[t.index].r+")"}}}});var St=tt.extend({dataElementType:mt.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,n=e.getMeta().data;z.each(n,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,o=i.getMeta(),r=t.custom||{},a=i.getScaleForId(o.xAxisID),s=i.getScaleForId(o.yAxisID),l=i._resolveDataElementOptions(t,e),c=i.getDataset().data[e],d=i.index,u=n?a.getPixelForDecimal(.5):a.getPixelForValue("object"==typeof c?c:NaN,e,d),h=n?s.getBasePixel():s.getPixelForValue(c,e,d);t._xScale=a,t._yScale=s,t._options=l,t._datasetIndex=d,t._index=e,t._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:r.skip||isNaN(u)||isNaN(h),x:u,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ct(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Ct(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Ct(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(t,e){var n=this,i=n.chart,o=n.getDataset(),r=t.custom||{},a=o.data[e]||{},s=tt.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:e,dataset:o,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=z.extend({},s)),s.radius=_t([r.radius,a.r,n._config.radius,i.options.elements.point.radius],l,e),s}}),kt=z.valueOrDefault,Tt=Math.PI,At=2*Tt,Pt=Tt/2;H._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,n,i,o=document.createElement("ul"),r=t.data,a=r.datasets,s=r.labels;if(o.setAttribute("class",t.id+"-legend"),a.length)for(e=0,n=a[0].data.length;e<n;++e)(i=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return o.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var o=t.getDatasetMeta(0),r=o.controller.getStyle(i);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,o,r=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(o=a.getDatasetMeta(n)).data[r]&&(o.data[r].hidden=!o.data[r].hidden);a.update()}},cutoutPercentage:50,rotation:-Pt,circumference:At,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return z.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Et=tt.extend({dataElementType:mt.Arc,linkScales:z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i=this,o=i.chart,r=o.chartArea,a=o.options,s=1,l=1,c=0,d=0,u=i.getMeta(),h=u.data,f=a.cutoutPercentage/100||0,p=a.circumference,g=i._getRingWeight(i.index);if(p<At){var m=a.rotation%At,v=(m+=m>=Tt?-At:m<-Tt?At:0)+p,y=Math.cos(m),b=Math.sin(m),w=Math.cos(v),x=Math.sin(v),D=m<=0&&v>=0||v>=At,C=m<=Pt&&v>=Pt||v>=At+Pt,_=m<=-Pt&&v>=-Pt||v>=Tt+Pt,S=m===-Tt||v>=Tt?-1:Math.min(y,y*f,w,w*f),k=_?-1:Math.min(b,b*f,x,x*f),T=D?1:Math.max(y,y*f,w,w*f),A=C?1:Math.max(b,b*f,x,x*f);s=(T-S)/2,l=(A-k)/2,c=-(T+S)/2,d=-(A+k)/2}for(e=0,n=h.length;e<n;++e)h[e]._options=i._resolveDataElementOptions(h[e],e);for(o.borderWidth=i.getMaxBorderWidth(),o.outerRadius=Math.max(Math.min((r.right-r.left-o.borderWidth)/s,(r.bottom-r.top-o.borderWidth)/l)/2,0),o.innerRadius=Math.max(o.outerRadius*f,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(i._getVisibleDatasetWeightTotal()||1),o.offsetX=c*o.outerRadius,o.offsetY=d*o.outerRadius,u.total=i.calculateTotal(),i.outerRadius=o.outerRadius-o.radiusLength*i._getRingWeightOffset(i.index),i.innerRadius=Math.max(i.outerRadius-o.radiusLength*g,0),e=0,n=h.length;e<n;++e)i.updateElement(h[e],e,t)},updateElement:function(t,e,n){var i=this,o=i.chart,r=o.chartArea,a=o.options,s=a.animation,l=(r.left+r.right)/2,c=(r.top+r.bottom)/2,d=a.rotation,u=a.rotation,h=i.getDataset(),f=n&&s.animateRotate?0:t.hidden?0:i.calculateCircumference(h.data[e])*(a.circumference/At),p=t._options||{};z.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,borderAlign:p.borderAlign,x:l+o.offsetX,y:c+o.offsetY,startAngle:d,endAngle:u,circumference:f,outerRadius:n&&s.animateScale?0:i.outerRadius,innerRadius:n&&s.animateScale?0:i.innerRadius,label:z.valueAtIndexOrDefault(h.label,e,o.data.labels[e])}});var g=t._model;n&&s.animateRotate||(g.startAngle=0===e?a.rotation:i.getMeta().data[e-1]._model.endAngle,g.endAngle=g.startAngle+g.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return z.each(n.data,function(n,o){t=e.data[o],isNaN(t)||n.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?At*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,o,r,a,s,l,c=0,d=this.chart;if(!t)for(e=0,n=d.data.datasets.length;e<n;++e)if(d.isDatasetVisible(e)){t=(i=d.getDatasetMeta(e)).data,e!==this.index&&(r=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)o=t[e],r?(r._configure(),a=r._resolveDataElementOptions(o,e)):a=o._options,"inner"!==a.borderAlign&&(c=(l=a.hoverBorderWidth)>(c=(s=a.borderWidth)>c?s:c)?l:c);return c},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=kt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=kt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=kt(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(kt(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});H._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),H._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Mt=Dt.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Rt=z.valueOrDefault,Nt=z.options.resolve,It=z.canvas._isPointInArea;function Ot(t,e){var n=t&&t.options.ticks||{},i=n.reverse,o=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:i?r:o,end:i?o:r}}H._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var Ht=tt.extend({datasetElementType:mt.Line,dataElementType:mt.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,n,i=this,o=i.getMeta(),r=o.dataset,a=o.data||[],s=i._config,l=i._showLine=Rt(s.showLine,i.chart.options.showLines);for(i._xScale=i.getScaleForId(o.xAxisID),i._yScale=i.getScaleForId(o.yAxisID),l&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=i._yScale,r._datasetIndex=i.index,r._children=a,r._model=i._resolveDatasetElementOptions(r),r.pivot()),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t);for(l&&0!==r._model.tension&&i.updateBezierControlPoints(),e=0,n=a.length;e<n;++e)a[e].pivot()},updateElement:function(t,e,n){var i,o,r=this,a=r.getMeta(),s=t.custom||{},l=r.getDataset(),c=r.index,d=l.data[e],u=r._xScale,h=r._yScale,f=a.dataset._model,p=r._resolveDataElementOptions(t,e);i=u.getPixelForValue("object"==typeof d?d:NaN,e,c),o=n?h.getBasePixel():r.calculatePointY(d,e,c),t._xScale=u,t._yScale=h,t._options=p,t._datasetIndex=c,t._index=e,t._model={x:i,y:o,skip:s.skip||isNaN(i)||isNaN(o),radius:p.radius,pointStyle:p.pointStyle,rotation:p.rotation,backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,tension:Rt(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:p.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,n=e._config,i=t.custom||{},o=e.chart.options,r=o.elements.line,a=tt.prototype._resolveDatasetElementOptions.apply(e,arguments);return a.spanGaps=Rt(n.spanGaps,o.spanGaps),a.tension=Rt(n.lineTension,r.tension),a.steppedLine=Nt([i.steppedLine,n.steppedLine,r.stepped]),a.clip=function(t){var e,n,i,o;return z.isObject(t)?(e=t.top,n=t.right,i=t.bottom,o=t.left):e=n=i=o=t,{top:e,right:n,bottom:i,left:o}}(Rt(n.clip,function(t,e,n){var i=a.borderWidth/2,o=Ot(t,i),r=Ot(e,i);return{top:r.end,right:o.end,bottom:r.start,left:o.start}}(e._xScale,e._yScale))),a},calculatePointY:function(t,e,n){var i,o,r,a,s,l,c=this.chart,d=this._yScale,u=0,h=0;if(d.options.stacked){for(a=+d.getRightValue(t),l=(s=c._getSortedVisibleDatasetMetas()).length,i=0;i<l&&(o=s[i]).index!==n;++i)"line"===o.type&&o.yAxisID===d.id&&((r=+d.getRightValue(c.data.datasets[o.index].data[e]))<0?h+=r||0:u+=r||0);return d.getPixelForValue(a<0?h+a:u+a)}return d.getPixelForValue(t)},updateBezierControlPoints:function(){var t,e,n,i,o=this.chart,r=this.getMeta(),a=r.dataset._model,s=o.chartArea,l=r.data||[];function c(t,e,n){return Math.max(Math.min(t,n),e)}if(a.spanGaps&&(l=l.filter(function(t){return!t._model.skip})),"monotone"===a.cubicInterpolationMode)z.splineCurveMonotone(l);else for(t=0,e=l.length;t<e;++t)n=l[t]._model,i=z.splineCurve(z.previousItem(l,t)._model,n,z.nextItem(l,t)._model,a.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(o.options.elements.line.capBezierPoints)for(t=0,e=l.length;t<e;++t)It(n=l[t]._model,s)&&(t>0&&It(l[t-1]._model,s)&&(n.controlPointPreviousX=c(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=c(n.controlPointPreviousY,s.top,s.bottom)),t<l.length-1&&It(l[t+1]._model,s)&&(n.controlPointNextX=c(n.controlPointNextX,s.left,s.right),n.controlPointNextY=c(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var t,e=this.chart,n=this.getMeta(),i=n.data||[],o=e.chartArea,r=e.canvas,a=0,s=i.length;for(this._showLine&&(z.canvas.clipArea(e.ctx,{left:!1===(t=n.dataset._model.clip).left?0:o.left-t.left,right:!1===t.right?r.width:o.right+t.right,top:!1===t.top?0:o.top-t.top,bottom:!1===t.bottom?r.height:o.bottom+t.bottom}),n.dataset.draw(),z.canvas.unclipArea(e.ctx));a<s;++a)i[a].draw(o)},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Rt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Rt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Rt(n.hoverBorderWidth,n.borderWidth),e.radius=Rt(n.hoverRadius,n.radius)}}),Lt=z.options.resolve;H._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,n,i,o=document.createElement("ul"),r=t.data,a=r.datasets,s=r.labels;if(o.setAttribute("class",t.id+"-legend"),a.length)for(e=0,n=a[0].data.length;e<n;++e)(i=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return o.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var o=t.getDatasetMeta(0),r=o.controller.getStyle(i);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[i])||o.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,o,r=e.index,a=this.chart;for(n=0,i=(a.data.datasets||[]).length;n<i;++n)(o=a.getDatasetMeta(n)).data[r].hidden=!o.data[r].hidden;a.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Bt=tt.extend({dataElementType:mt.Arc,linkScales:z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i,o=this,r=o.getDataset(),a=o.getMeta(),s=o.chart.options.startAngle||0,l=o._starts=[],c=o._angles=[],d=a.data;for(o._updateRadius(),a.count=o.countVisibleElements(),e=0,n=r.data.length;e<n;e++)l[e]=s,i=o._computeAngle(e),c[e]=i,s+=i;for(e=0,n=d.length;e<n;++e)d[e]._options=o._resolveDataElementOptions(d[e],e),o.updateElement(d[e],e,t)},_updateRadius:function(){var t=this,e=t.chart,n=e.chartArea,i=e.options,o=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(o/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,o=i.chart,r=i.getDataset(),a=o.options,s=a.animation,l=o.scale,c=o.data.labels,d=l.xCenter,u=l.yCenter,h=a.startAngle,f=t.hidden?0:l.getDistanceFromCenterForValue(r.data[e]),p=i._starts[e],g=p+(t.hidden?0:i._angles[e]),m=s.animateScale?0:l.getDistanceFromCenterForValue(r.data[e]),v=t._options||{};z.extend(t,{_datasetIndex:i.index,_index:e,_scale:l,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:d,y:u,innerRadius:0,outerRadius:n?m:f,startAngle:n&&s.animateRotate?h:p,endAngle:n&&s.animateRotate?h:g,label:z.valueAtIndexOrDefault(c,e,c[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return z.each(e.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor,o=z.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=o(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=o(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=o(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),o=e.getMeta();return isNaN(i.data[t])||o.data[t].hidden?0:Lt([e.chart.options.elements.arc.angle,2*Math.PI/n],{chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index},t)}});H._set("pie",z.clone(H.doughnut)),H._set("pie",{cutoutPercentage:0});var Ft=Et,jt=z.valueOrDefault;H._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var zt=tt.extend({datasetElementType:mt.Line,dataElementType:mt.Point,linkScales:z.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i=this,o=i.getMeta(),r=o.dataset,a=o.data||[],s=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),r._scale=s,r._datasetIndex=i.index,r._children=a,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t);for(i.updateBezierControlPoints(),e=0,n=a.length;e<n;++e)a[e].pivot()},updateElement:function(t,e,n){var i=this,o=t.custom||{},r=i.getDataset(),a=i.chart.scale,s=a.getPointPositionForValue(e,r.data[e]),l=i._resolveDataElementOptions(t,e),c=i.getMeta().dataset._model,d=n?a.xCenter:s.x,u=n?a.yCenter:s.y;t._scale=a,t._options=l,t._datasetIndex=i.index,t._index=e,t._model={x:d,y:u,skip:o.skip||isNaN(d)||isNaN(u),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:jt(o.tension,c?c.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,n=t.chart.options,i=tt.prototype._resolveDatasetElementOptions.apply(t,arguments);return i.spanGaps=jt(e.spanGaps,n.spanGaps),i.tension=jt(e.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var t,e,n,i,o=this.getMeta(),r=this.chart.chartArea,a=o.data||[];function s(t,e,n){return Math.max(Math.min(t,n),e)}for(o.dataset._model.spanGaps&&(a=a.filter(function(t){return!t._model.skip})),t=0,e=a.length;t<e;++t)n=a[t]._model,i=z.splineCurve(z.previousItem(a,t,!0)._model,n,z.nextItem(a,t,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,r.left,r.right),n.controlPointPreviousY=s(i.previous.y,r.top,r.bottom),n.controlPointNextX=s(i.next.x,r.left,r.right),n.controlPointNextY=s(i.next.y,r.top,r.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=z.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=jt(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=jt(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=jt(n.hoverBorderWidth,n.borderWidth),e.radius=jt(n.hoverRadius,n.radius)}});H._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),H._set("global",{datasets:{scatter:{showLine:!1}}});var Ut={bar:Dt,bubble:St,doughnut:Et,horizontalBar:Mt,line:Ht,polarArea:Bt,pie:Ft,radar:zt,scatter:Ht};function $t(t,e){return t.native?{x:t.x,y:t.y}:z.getRelativePosition(t,e)}function Wt(t,e){var n,i,o,r,a,s,l=t._getSortedVisibleDatasetMetas();for(i=0,r=l.length;i<r;++i)for(o=0,a=(n=l[i].data).length;o<a;++o)(s=n[o])._view.skip||e(s)}function qt(t,e){var n=[];return Wt(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function Vt(t,e,n,i){var o=Number.POSITIVE_INFINITY,r=[];return Wt(t,function(t){if(!n||t.inRange(e.x,e.y)){var a=t.getCenterPoint(),s=i(e,a);s<o?(r=[t],o=s):s===o&&r.push(t)}}),r}function Yt(t){var e=-1!==t.indexOf("x"),n=-1!==t.indexOf("y");return function(t,i){var o=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(r,2))}}function Gt(t,e,n){var i=$t(e,t);n.axis=n.axis||"x";var o=Yt(n.axis),r=n.intersect?qt(t,i):Vt(t,i,!1,o),a=[];return r.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[r[0]._index];e&&!e._view.skip&&a.push(e)}),a):[]}var Kt={modes:{single:function(t,e){var n=$t(e,t),i=[];return Wt(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:Gt,index:Gt,dataset:function(t,e,n){var i=$t(e,t);n.axis=n.axis||"xy";var o=Yt(n.axis),r=n.intersect?qt(t,i):Vt(t,i,!1,o);return r.length>0&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(t,e){return Gt(t,e,{intersect:!1})},point:function(t,e){return qt(t,$t(e,t))},nearest:function(t,e,n){var i=$t(e,t);n.axis=n.axis||"xy";var o=Yt(n.axis);return Vt(t,i,n.intersect,o)},x:function(t,e,n){var i=$t(e,t),o=[],r=!1;return Wt(t,function(t){t.inXRange(i.x)&&o.push(t),t.inRange(i.x,i.y)&&(r=!0)}),n.intersect&&!r&&(o=[]),o},y:function(t,e,n){var i=$t(e,t),o=[],r=!1;return Wt(t,function(t){t.inYRange(i.y)&&o.push(t),t.inRange(i.x,i.y)&&(r=!0)}),n.intersect&&!r&&(o=[]),o}}},Xt=z.extend;function Jt(t,e){return z.where(t,function(t){return t.pos===e})}function Qt(t,e){return t.sort(function(t,n){var i=e?n:t,o=e?t:n;return i.weight===o.weight?i.index-o.index:i.weight-o.weight})}function Zt(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function te(t,e,n){var i,o,r=n.box,a=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?r.height:r.width,t[n.pos]+=n.size,r.getPadding){var s=r.getPadding();a.top=Math.max(a.top,s.top),a.left=Math.max(a.left,s.left),a.bottom=Math.max(a.bottom,s.bottom),a.right=Math.max(a.right,s.right)}if(i=e.outerWidth-Zt(a,t,"left","right"),o=e.outerHeight-Zt(a,t,"top","bottom"),i!==t.w||o!==t.h)return t.w=i,t.h=o,n.horizontal?i!==t.w:o!==t.h}function ee(t,e){var n=e.maxPadding;return function(t){var i={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){i[t]=Math.max(e[t],n[t])}),i}(t?["left","right"]:["top","bottom"])}function ne(t,e,n){var i,o,r,a,s,l,c=[];for(i=0,o=t.length;i<o;++i)(a=(r=t[i]).box).update(r.width||e.w,r.height||e.h,ee(r.horizontal,e)),te(e,n,r)&&(l=!0,c.length&&(s=!0)),a.fullWidth||c.push(r);return s&&ne(c,e,n)||l}function ie(t,e,n){var i,o,r,a,s=n.padding,l=e.x,c=e.y;for(i=0,o=t.length;i<o;++i)a=(r=t[i]).box,r.horizontal?(a.left=a.fullWidth?s.left:e.left,a.right=a.fullWidth?n.outerWidth-s.right:e.left+e.w,a.top=c,a.bottom=c+a.height,a.width=a.right-a.left,c=a.bottom):(a.left=l,a.right=l+a.width,a.top=e.top,a.bottom=e.top+e.h,a.height=a.bottom-a.top,l=a.right);e.x=l,e.y=c}H._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var oe,re={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;-1!==n&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,o=["fullWidth","position","weight"],r=o.length,a=0;a<r;++a)n.hasOwnProperty(i=o[a])&&(e[i]=n[i])},update:function(t,e,n){if(t){var i=z.options.toPadding((t.options.layout||{}).padding),o=e-i.width,r=n-i.height,a=function(t){var e=function(t){var e,n,i,o=[];for(e=0,n=(t||[]).length;e<n;++e)o.push({index:e,box:i=t[e],pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return o}(t),n=Qt(Jt(e,"left"),!0),i=Qt(Jt(e,"right")),o=Qt(Jt(e,"top"),!0),r=Qt(Jt(e,"bottom"));return{leftAndTop:n.concat(o),rightAndBottom:i.concat(r),chartArea:Jt(e,"chartArea"),vertical:n.concat(i),horizontal:o.concat(r)}}(t.boxes),s=a.vertical,l=a.horizontal,c=Object.freeze({outerWidth:e,outerHeight:n,padding:i,availableWidth:o,vBoxMaxWidth:o/2/s.length,hBoxMaxHeight:r/2}),d=Xt({maxPadding:Xt({},i),w:o,h:r,x:i.left,y:i.top},i);!function(t,e){var n,i,o;for(n=0,i=t.length;n<i;++n)(o=t[n]).width=o.horizontal?o.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,o.height=o.horizontal&&e.hBoxMaxHeight}(s.concat(l),c),ne(s,d,c),ne(l,d,c)&&ne(s,d,c),function(t){var e=t.maxPadding;function n(n){var i=Math.max(e[n]-t[n],0);return t[n]+=i,i}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}(d),ie(a.leftAndTop,d,c),d.x+=d.w,d.y+=d.h,ie(a.rightAndBottom,d,c),t.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h},z.each(a.chartArea,function(e){var n=e.box;Xt(n,t.chartArea),n.update(d.w,d.h)})}}},ae=(oe=Object.freeze({__proto__:null,default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&oe.default||oe,se="$chartjs",le="chartjs-size-monitor",ce="chartjs-render-monitor",de=["animationstart","webkitAnimationStart"],ue={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function he(t,e){var n=z.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var fe=!!function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(t){}return t}()&&{passive:!0};function pe(t,e,n){t.addEventListener(e,n,fe)}function ge(t,e,n){t.removeEventListener(e,n,fe)}function me(t,e,n,i,o){return{type:t,chart:e,native:o||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function ve(t){var e=document.createElement("div");return e.className=t||"",e}var ye={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document;!function(t,e){var n=t[se]||(t[se]={});if(!n.containsStyles){n.containsStyles=!0,e="/* Chart.js */\n"+e;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}}(e.host?e:document.head,ae)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(this._ensureLoaded(t),function(t,e){var n=t.style,i=t.getAttribute("height"),o=t.getAttribute("width");if(t[se]={initial:{height:i,width:o,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===o||""===o){var r=he(t,"width");void 0!==r&&(t.width=r)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var a=he(t,"height");void 0!==r&&(t.height=a)}}(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[se]){var n=e[se].initial;["height","width"].forEach(function(t){var i=n[t];z.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)}),z.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[se]}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var o=n[se]||(n[se]={});pe(i,e,(o.proxies||(o.proxies={}))[t.id+"_"+e]=function(e){n(function(t,e){var n=ue[t.type]||t.type,i=z.getRelativePosition(t,e);return me(n,e,i.x,i.y,t)}(e,t))})}else!function(t,e,n){var i,o,r,a,s=t[se]||(t[se]={}),l=s.resizer=function(t){var e=ve(le),n=ve(le+"-expand"),i=ve(le+"-shrink");n.appendChild(ve()),i.appendChild(ve()),e.appendChild(n),e.appendChild(i),e._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var o=function(){e._reset(),t()};return pe(n,"scroll",o.bind(n,"expand")),pe(i,"scroll",o.bind(i,"shrink")),e}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&t.parentNode,o=i?i.clientWidth:0;e(me("resize",n)),i&&i.clientWidth<o&&n.canvas&&e(me("resize",n))}},r=!1,a=[],function(){a=Array.prototype.slice.call(arguments),o=o||this,r||(r=!0,z.requestAnimFrame.call(window,function(){r=!1,i.apply(o,a)}))}));!function(t,e){var n=t[se]||(t[se]={}),i=n.renderProxy=function(t){"chartjs-render-animation"===t.animationName&&e()};z.each(de,function(e){pe(t,e,i)}),n.reflow=!!t.offsetParent,t.classList.add(ce)}(t,function(){if(s.resizer){var e=t.parentNode;e&&e!==l.parentNode&&e.insertBefore(l,e.firstChild),l._reset()}})}(i,n,t)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"!==e){var o=((n[se]||{}).proxies||{})[t.id+"_"+e];o&&ge(i,e,o)}else!function(t){var e=t[se]||{},n=e.resizer;delete e.resizer,function(t){var e=t[se]||{},n=e.renderProxy;n&&(z.each(de,function(e){ge(t,e,n)}),delete e.renderProxy),t.classList.remove(ce)}(t),n&&n.parentNode&&n.parentNode.removeChild(n)}(i)}};z.addEvent=pe,z.removeEvent=ge;var be=z.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},ye._enabled?ye:{acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}});H._set("global",{plugins:{}});var we={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){-1===e.indexOf(t)&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,o,r,a,s,l=this.descriptors(t),c=l.length;for(i=0;i<c;++i)if("function"==typeof(s=(r=(o=l[i]).plugin)[e])&&((a=[t].concat(n||[])).push(o.options),!1===s.apply(r,a)))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],o=t&&t.config||{},r=o.options&&o.options.plugins||{};return this._plugins.concat(o.plugins||[]).forEach(function(t){if(-1===n.indexOf(t)){var e=t.id,o=r[e];!1!==o&&(!0===o&&(o=z.clone(H.global.plugins[e])),n.push(t),i.push({plugin:t,options:o||{}}))}}),e.descriptors=i,e.id=this._cacheId,i},_invalidate:function(t){delete t.$plugins}},xe={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=z.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?z.merge({},[H.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){this.defaults.hasOwnProperty(t)&&(this.defaults[t]=z.extend(this.defaults[t],e))},addScalesToLayout:function(t){z.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,re.addBox(t,e)})}},De=z.valueOrDefault,Ce=z.rtl.getRtlAdapter;H._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:z.noop,title:function(t,e){var n="",i=e.labels,o=i?i.length:0;if(t.length>0){var r=t[0];r.label?n=r.label:r.xLabel?n=r.xLabel:o>0&&r.index<o&&(n=i[r.index])}return n},afterTitle:z.noop,beforeBody:z.noop,beforeLabel:z.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),z.isNullOrUndef(t.value)?n+=t.yLabel:n+=t.value,n},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex).data[t.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:z.noop,afterBody:z.noop,beforeFooter:z.noop,footer:z.noop,afterFooter:z.noop}}});var _e={average:function(t){if(!t.length)return!1;var e,n,i=0,o=0,r=0;for(e=0,n=t.length;e<n;++e){var a=t[e];if(a&&a.hasValue()){var s=a.tooltipPosition();i+=s.x,o+=s.y,++r}}return{x:i/r,y:o/r}},nearest:function(t,e){var n,i,o,r=e.x,a=e.y,s=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var l=t[n];if(l&&l.hasValue()){var c=l.getCenterPoint(),d=z.distanceBetweenPoints(e,c);d<s&&(s=d,o=l)}}if(o){var u=o.tooltipPosition();r=u.x,a=u.y}return{x:r,y:a}}};function Se(t,e){return e&&(z.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function ke(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Te(t){var e=H.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:De(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:De(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:De(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:De(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:De(t.titleFontStyle,e.defaultFontStyle),titleFontSize:De(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:De(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:De(t.footerFontStyle,e.defaultFontStyle),footerFontSize:De(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Ae(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Pe(t){return Se([],ke(t))}var Ee=V.extend({initialize:function(){this._model=Te(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options.callbacks,n=e.beforeTitle.apply(t,arguments),i=e.title.apply(t,arguments),o=e.afterTitle.apply(t,arguments),r=[];return Se(r=Se(r=Se(r,ke(n)),ke(i)),ke(o))},getBeforeBody:function(){return Pe(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,o=[];return z.each(t,function(t){var r={before:[],lines:[],after:[]};Se(r.before,ke(i.beforeLabel.call(n,t,e))),Se(r.lines,i.label.call(n,t,e)),Se(r.after,ke(i.afterLabel.call(n,t,e))),o.push(r)}),o},getAfterBody:function(){return Pe(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),o=e.afterFooter.apply(t,arguments),r=[];return Se(r=Se(r=Se(r,ke(n)),ke(i)),ke(o))},update:function(t){var e,n,i,o,r,a,s,l,c,d,u=this,h=u._options,f=u._model,p=u._model=Te(h),g=u._active,m=u._data,v={xAlign:f.xAlign,yAlign:f.yAlign},y={x:f.x,y:f.y},b={width:f.width,height:f.height},w={x:f.caretX,y:f.caretY};if(g.length){p.opacity=1;var x=[],D=[];w=_e[h.position].call(u,g,u._eventPosition);var C=[];for(e=0,n=g.length;e<n;++e)C.push((o=void 0,r=void 0,a=void 0,s=void 0,l=void 0,c=void 0,d=void 0,o=(i=g[e])._xScale,r=i._yScale||i._scale,a=i._index,c=(l=i._chart.getDatasetMeta(s=i._datasetIndex).controller)._getIndexScale(),d=l._getValueScale(),{xLabel:o?o.getLabelForIndex(a,s):"",yLabel:r?r.getLabelForIndex(a,s):"",label:c?""+c.getLabelForIndex(a,s):"",value:d?""+d.getLabelForIndex(a,s):"",index:a,datasetIndex:s,x:i._model.x,y:i._model.y}));h.filter&&(C=C.filter(function(t){return h.filter(t,m)})),h.itemSort&&(C=C.sort(function(t,e){return h.itemSort(t,e,m)})),z.each(C,function(t){x.push(h.callbacks.labelColor.call(u,t,u._chart)),D.push(h.callbacks.labelTextColor.call(u,t,u._chart))}),p.title=u.getTitle(C,m),p.beforeBody=u.getBeforeBody(C,m),p.body=u.getBody(C,m),p.afterBody=u.getAfterBody(C,m),p.footer=u.getFooter(C,m),p.x=w.x,p.y=w.y,p.caretPadding=h.caretPadding,p.labelColors=x,p.labelTextColors=D,p.dataPoints=C,y=function(t,e,n,i){var o=t.x,r=t.y,a=t.caretPadding,s=n.xAlign,l=n.yAlign,c=t.caretSize+a,d=t.cornerRadius+a;return"right"===s?o-=e.width:"center"===s&&((o-=e.width/2)+e.width>i.width&&(o=i.width-e.width),o<0&&(o=0)),"top"===l?r+=c:r-="bottom"===l?e.height+c:e.height/2,"center"===l?"left"===s?o+=c:"right"===s&&(o-=c):"left"===s?o-=d:"right"===s&&(o+=d),{x:o,y:r}}(p,b=function(t,e){var n=t._chart.ctx,i=2*e.yPadding,o=0,r=e.body,a=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);a+=e.beforeBody.length+e.afterBody.length;var s=e.title.length,l=e.footer.length,c=e.titleFontSize,d=e.bodyFontSize,u=e.footerFontSize;i+=s*c,i+=s?(s-1)*e.titleSpacing:0,i+=s?e.titleMarginBottom:0,i+=a*d,i+=a?(a-1)*e.bodySpacing:0,i+=l?e.footerMarginTop:0,i+=l*u,i+=l?(l-1)*e.footerSpacing:0;var h=0,f=function(t){o=Math.max(o,n.measureText(t).width+h)};return n.font=z.fontString(c,e._titleFontStyle,e._titleFontFamily),z.each(e.title,f),n.font=z.fontString(d,e._bodyFontStyle,e._bodyFontFamily),z.each(e.beforeBody.concat(e.afterBody),f),h=e.displayColors?d+2:0,z.each(r,function(t){z.each(t.before,f),z.each(t.lines,f),z.each(t.after,f)}),h=0,n.font=z.fontString(u,e._footerFontStyle,e._footerFontFamily),z.each(e.footer,f),{width:o+=2*e.xPadding,height:i}}(this,p),v=function(t,e){var n,i,o,r,a,s=t._model,l=t._chart,c=t._chart.chartArea,d="center",u="center";s.y<e.height?u="top":s.y>l.height-e.height&&(u="bottom");var h=(c.left+c.right)/2,f=(c.top+c.bottom)/2;"center"===u?(n=function(t){return t<=h},i=function(t){return t>h}):(n=function(t){return t<=e.width/2},i=function(t){return t>=l.width-e.width/2}),o=function(t){return t+e.width+s.caretSize+s.caretPadding>l.width},r=function(t){return t-e.width-s.caretSize-s.caretPadding<0},a=function(t){return t<=f?"top":"bottom"},n(s.x)?(d="left",o(s.x)&&(d="center",u=a(s.y))):i(s.x)&&(d="right",r(s.x)&&(d="center",u=a(s.y)));var p=t._options;return{xAlign:p.xAlign?p.xAlign:d,yAlign:p.yAlign?p.yAlign:u}}(this,b),u._chart)}else p.opacity=0;return p.xAlign=v.xAlign,p.yAlign=v.yAlign,p.x=y.x,p.y=y.y,p.width=b.width,p.height=b.height,p.caretX=w.x,p.caretY=w.y,u._model=p,t&&h.custom&&h.custom.call(u,p),u},drawCaret:function(t,e){var n=this._chart.ctx,i=this.getCaretPosition(t,e,this._view);n.lineTo(i.x1,i.y1),n.lineTo(i.x2,i.y2),n.lineTo(i.x3,i.y3)},getCaretPosition:function(t,e,n){var i,o,r,a,s,l,c=n.caretSize,d=n.cornerRadius,u=n.xAlign,h=n.yAlign,f=t.x,p=t.y,g=e.width,m=e.height;if("center"===h)s=p+m/2,"left"===u?(o=(i=f)-c,r=i,a=s+c,l=s-c):(o=(i=f+g)+c,r=i,a=s-c,l=s+c);else if("left"===u?(i=(o=f+d+c)-c,r=o+c):"right"===u?(i=(o=f+g-d-c)-c,r=o+c):(i=(o=n.caretX)-c,r=o+c),"top"===h)s=(a=p)-c,l=a;else{s=(a=p+m)+c,l=a;var v=r;r=i,i=v}return{x1:i,x2:o,x3:r,y1:a,y2:s,y3:l}},drawTitle:function(t,e,n){var i,o,r,a=e.title,s=a.length;if(s){var l=Ce(e.rtl,e.x,e.width);for(t.x=Ae(e,e._titleAlign),n.textAlign=l.textAlign(e._titleAlign),n.textBaseline="middle",i=e.titleFontSize,o=e.titleSpacing,n.fillStyle=e.titleFontColor,n.font=z.fontString(i,e._titleFontStyle,e._titleFontFamily),r=0;r<s;++r)n.fillText(a[r],l.x(t.x),t.y+i/2),t.y+=i+o,r+1===s&&(t.y+=e.titleMarginBottom-o)}},drawBody:function(t,e,n){var i,o,r,a,s,l,c,d,u=e.bodyFontSize,h=e.bodySpacing,f=e._bodyAlign,p=e.body,g=e.displayColors,m=0,v=g?Ae(e,"left"):0,y=Ce(e.rtl,e.x,e.width),b=function(e){n.fillText(e,y.x(t.x+m),t.y+u/2),t.y+=u+h},w=y.textAlign(f);for(n.textAlign=f,n.textBaseline="middle",n.font=z.fontString(u,e._bodyFontStyle,e._bodyFontFamily),t.x=Ae(e,w),n.fillStyle=e.bodyFontColor,z.each(e.beforeBody,b),m=g&&"right"!==w?"center"===f?u/2+1:u+2:0,s=0,c=p.length;s<c;++s){for(i=p[s],r=e.labelColors[s],n.fillStyle=o=e.labelTextColors[s],z.each(i.before,b),l=0,d=(a=i.lines).length;l<d;++l){if(g){var x=y.x(v);n.fillStyle=e.legendColorBackground,n.fillRect(y.leftForLtr(x,u),t.y,u,u),n.lineWidth=1,n.strokeStyle=r.borderColor,n.strokeRect(y.leftForLtr(x,u),t.y,u,u),n.fillStyle=r.backgroundColor,n.fillRect(y.leftForLtr(y.xPlus(x,1),u-2),t.y+1,u-2,u-2),n.fillStyle=o}b(a[l])}z.each(i.after,b)}m=0,z.each(e.afterBody,b),t.y-=h},drawFooter:function(t,e,n){var i,o,r=e.footer,a=r.length;if(a){var s=Ce(e.rtl,e.x,e.width);for(t.x=Ae(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=s.textAlign(e._footerAlign),n.textBaseline="middle",i=e.footerFontSize,n.fillStyle=e.footerFontColor,n.font=z.fontString(i,e._footerFontStyle,e._footerFontFamily),o=0;o<a;++o)n.fillText(r[o],s.x(t.x),t.y+i/2),t.y+=i+e.footerSpacing}},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var o=e.xAlign,r=e.yAlign,a=t.x,s=t.y,l=i.width,c=i.height,d=e.cornerRadius;n.beginPath(),n.moveTo(a+d,s),"top"===r&&this.drawCaret(t,i),n.lineTo(a+l-d,s),n.quadraticCurveTo(a+l,s,a+l,s+d),"center"===r&&"right"===o&&this.drawCaret(t,i),n.lineTo(a+l,s+c-d),n.quadraticCurveTo(a+l,s+c,a+l-d,s+c),"bottom"===r&&this.drawCaret(t,i),n.lineTo(a+d,s+c),n.quadraticCurveTo(a,s+c,a,s+c-d),"center"===r&&"left"===o&&this.drawCaret(t,i),n.lineTo(a,s+d),n.quadraticCurveTo(a,s,a+d,s),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},o=Math.abs(e.opacity<.001)?0:e.opacity;this._options.enabled&&(e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length)&&(t.save(),t.globalAlpha=o,this.drawBackground(i,e,t,n),i.y+=e.yPadding,z.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),z.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===t.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(t,i.mode,i),i.reverse&&n._active.reverse()),(e=!z.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:t.x,y:t.y},n.update(!0),n.pivot())),e}});Ee.positioners=_e;var Me=z.valueOrDefault;function Re(){return z.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var o,r,a,s=n[t].length;for(e[t]||(e[t]=[]),o=0;o<s;++o)r=Me((a=n[t][o]).type,"xAxes"===t?"category":"linear"),o>=e[t].length&&e[t].push({}),z.merge(e[t][o],!e[t][o].type||a.type&&a.type!==e[t][o].type?[xe.getScaleDefaults(r),a]:a)}else z._merger(t,e,n,i)}})}function Ne(){return z.merge({},[].slice.call(arguments),{merger:function(t,e,n,i){var o=e[t]||{},r=n[t];"scales"===t?e[t]=Re(o,r):"scale"===t?e[t]=z.merge(o,[xe.getScaleDefaults(r.type),r]):z._merger(t,e,n,i)}})}function Ie(t,e,n){var i,o=function(t){return t.id===i};do{i=e+n++}while(z.findIndex(t,o)>=0);return i}function Oe(t){return"top"===t||"bottom"===t}function He(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}H._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var Le=function(t,e){return this.construct(t,e),this};z.extend(Le.prototype,{construct:function(t,e){var n=this;e=function(t){var e=(t=t||{}).data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=Ne(H.global,H[t.type],t.options||{}),t}(e);var i=be.acquireContext(t,e),o=i&&i.canvas,r=o&&o.height,a=o&&o.width;n.id=z.uid(),n.ctx=i,n.canvas=o,n.config=e,n.width=a,n.height=r,n.aspectRatio=r?a/r:null,n.options=e.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,Le.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&o?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return we.notify(t,"beforeInit"),z.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),we.notify(t,"afterInit"),t},clear:function(){return z.canvas.clear(this),this},stop:function(){return K.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,o=n.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(z.getMaximumWidth(i))),a=Math.max(0,Math.floor(o?r/o:z.getMaximumHeight(i)));if((e.width!==r||e.height!==a)&&(i.width=e.width=r,i.height=e.height=a,i.style.width=r+"px",i.style.height=a+"px",z.retinaScale(e,n.devicePixelRatio),!t)){var s={width:r,height:a};we.notify(e,"resize",[s]),n.onResize&&n.onResize(e,s),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;z.each(e.xAxes,function(t,n){t.id||(t.id=Ie(e.xAxes,"x-axis-",n))}),z.each(e.yAxes,function(t,n){t.id||(t.id=Ie(e.yAxes,"y-axis-",n))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},i=[],o=Object.keys(n).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&i.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),z.each(i,function(e){var i=e.options,r=i.id,a=Me(i.type,e.dtype);Oe(i.position)!==Oe(e.dposition)&&(i.position=e.dposition),o[r]=!0;var s=null;if(r in n&&n[r].type===a)(s=n[r]).options=i,s.ctx=t.ctx,s.chart=t;else{var l=xe.getScaleConstructor(a);if(!l)return;s=new l({id:r,type:a,options:i,ctx:t.ctx,chart:t}),n[s.id]=s}s.mergeTicksOptions(),e.isDefault&&(t.scale=s)}),z.each(o,function(t,e){t||delete n[e]}),t.scales=n,xe.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,n=this,i=[],o=n.data.datasets;for(t=0,e=o.length;t<e;t++){var r=o[t],a=n.getDatasetMeta(t),s=r.type||n.config.type;if(a.type&&a.type!==s&&(n.destroyDatasetMeta(t),a=n.getDatasetMeta(t)),a.type=s,a.order=r.order||0,a.index=t,a.controller)a.controller.updateIndex(t),a.controller.linkScales();else{var l=Ut[a.type];if(void 0===l)throw new Error('"'+a.type+'" is not a chart type.');a.controller=new l(n,t),i.push(a.controller)}}return i},resetElements:function(){var t=this;z.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,i=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),function(t){var e=t.options;z.each(t.scales,function(e){re.removeBox(t,e)}),e=Ne(H.global,H[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}(i),we._invalidate(i),!1!==we.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var o=i.buildOrUpdateControllers();for(e=0,n=i.data.datasets.length;e<n;e++)i.getDatasetMeta(e).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&z.each(o,function(t){t.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],we.notify(i,"afterUpdate"),i._layers.sort(He("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){var t=this;!1!==we.notify(t,"beforeLayout")&&(re.update(this,this.width,this.height),t._layers=[],z.each(t.boxes,function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())},t),t._layers.forEach(function(t,e){t._idx=e}),we.notify(t,"afterScaleUpdate"),we.notify(t,"afterLayout"))},updateDatasets:function(){if(!1!==we.notify(this,"beforeDatasetsUpdate")){for(var t=0,e=this.data.datasets.length;t<e;++t)this.updateDataset(t);we.notify(this,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this.getDatasetMeta(t),n={meta:e,index:t};!1!==we.notify(this,"beforeDatasetUpdate",[n])&&(e.controller._update(),we.notify(this,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=Me(t.duration,n&&n.duration),o=t.lazy;if(!1!==we.notify(e,"beforeRender")){var r=function(t){we.notify(e,"afterRender"),z.callback(n&&n.onComplete,[t],e)};if(n&&i){var a=new G({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=e.currentStep,i=n/e.numSteps;t.draw((0,z.easing.effects[e.easing])(i),i,n)},onAnimationProgress:n.onProgress,onAnimationComplete:r});K.addAnimation(e,a,i,o)}else e.draw(),r(new G({numSteps:0,chart:e}));return e}},draw:function(t){var e,n,i=this;if(i.clear(),z.isNullOrUndef(t)&&(t=1),i.transition(t),!(i.width<=0||i.height<=0)&&!1!==we.notify(i,"beforeDraw",[t])){for(n=i._layers,e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(i.chartArea);for(i.drawDatasets(t);e<n.length;++e)n[e].draw(i.chartArea);i._drawTooltip(t),we.notify(i,"afterDraw",[t])}},transition:function(t){for(var e=0,n=(this.data.datasets||[]).length;e<n;++e)this.isDatasetVisible(e)&&this.getDatasetMeta(e).controller.transition(t);this.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,n,i=[];for(e=0,n=(this.data.datasets||[]).length;e<n;++e)t&&!this.isDatasetVisible(e)||i.push(this.getDatasetMeta(e));return i.sort(He("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,n;if(!1!==we.notify(this,"beforeDatasetsDraw",[t])){for(n=(e=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(e[n],t);we.notify(this,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n={meta:t,index:t.index,easingValue:e};!1!==we.notify(this,"beforeDatasetDraw",[n])&&(t.controller.draw(e),we.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(t){var e=this.tooltip,n={tooltip:e,easingValue:t};!1!==we.notify(this,"beforeTooltipDraw",[n])&&(e.draw(),we.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Kt.modes.single(this,t)},getElementsAtEvent:function(t){return Kt.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Kt.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=Kt.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return Kt.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this.data.datasets[t];e._meta||(e._meta={});var n=e._meta[this.id];return n||(n=e._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e.order||0,index:t}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),z.canvas.clear(n),be.releaseContext(n.ctx),n.canvas=null,n.ctx=null),we.notify(n,"destroy"),delete Le.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Ee({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};z.each(t.options.events,function(i){be.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(be.addEventListener(t,"resize",n=function(){t.resize()}),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,z.each(e,function(e,n){be.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,o,r,a=n?"set":"remove";for(o=0,r=t.length;o<r;++o)(i=t[o])&&this.getDatasetMeta(i._datasetIndex).controller[a+"HoverStyle"](i);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+a+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,n=e.tooltip;if(!1!==we.notify(e,"beforeEvent",[t])){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),we.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e,n=this,i=n.options||{},o=i.hover;return n.lastActive=n.lastActive||[],n.active="mouseout"===t.type?[]:n.getElementsAtEventForMode(t,o.mode,o),z.callback(i.onHover||i.hover.onHover,[t.native,n.active],n),"mouseup"!==t.type&&"click"!==t.type||i.onClick&&i.onClick.call(n,t.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,o.mode,!1),n.active.length&&o.mode&&n.updateHoverStyle(n.active,o.mode,!0),e=!z.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,e}}),Le.instances={};var Be=Le;function Fe(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function je(t){this.options=t||{}}Le.Controller=Le,Le.types={},z.configMerge=Ne,z.scaleMerge=Re,z.extend(je.prototype,{formats:Fe,parse:Fe,format:Fe,add:Fe,diff:Fe,startOf:Fe,endOf:Fe,_create:function(t){return t}}),je.override=function(t){z.extend(je.prototype,t)};var ze={_date:je},Ue={formatters:{values:function(t){return z.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var o=z.log10(Math.abs(i)),r="";if(0!==t)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var a=z.log10(Math.abs(t)),s=Math.floor(a)-Math.floor(o);s=Math.max(Math.min(s,20),0),r=t.toExponential(s)}else{var l=-1*Math.floor(o);l=Math.max(Math.min(l,20),0),r=t.toFixed(l)}else r="0";return r},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(z.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},$e=z.isArray,We=z.isNullOrUndef,qe=z.valueOrDefault,Ve=z.valueAtIndexOrDefault;function Ye(t,e,n){var i,o=t.getTicks().length,r=Math.min(e,o-1),a=t.getPixelForTick(r),s=t._startPixel,l=t._endPixel;if(!(n&&(i=1===o?Math.max(a-s,l-a):0===e?(t.getPixelForTick(1)-a)/2:(a-t.getPixelForTick(r-1))/2,(a+=r<e?i:-i)<s-1e-6||a>l+1e-6)))return a}function Ge(t){return t.drawTicks?t.tickMarkLength:0}function Ke(t){var e,n;return t.display?(e=z.options._parseFont(t),n=z.options.toPadding(t.padding),e.lineHeight+n.height):0}function Xe(t,e){return z.extend(z.options._parseFont({fontFamily:qe(e.fontFamily,t.fontFamily),fontSize:qe(e.fontSize,t.fontSize),fontStyle:qe(e.fontStyle,t.fontStyle),lineHeight:qe(e.lineHeight,t.lineHeight)}),{color:z.options.resolve([e.fontColor,t.fontColor,H.global.defaultFontColor])})}function Je(t){var e=Xe(t,t.minor);return{minor:e,major:t.major.enabled?Xe(t,t.major):e}}function Qe(t){var e,n,i,o=[];for(n=0,i=t.length;n<i;++n)void 0!==(e=t[n])._index&&o.push(e);return o}function Ze(t,e,n,i){var o,r,a,s,l=qe(n,0),c=Math.min(qe(i,t.length),t.length),d=0;for(e=Math.ceil(e),i&&(e=(o=i-n)/Math.floor(o/e)),s=l;s<0;)d++,s=Math.round(l+d*e);for(r=Math.max(l,0);r<c;r++)a=t[r],r===s?(a._index=r,d++,s=Math.round(l+d*e)):delete a.label}H._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ue.formatters.values,minor:{},major:{}}});var tn=V.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){z.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,o,r,a,s,l=this,c=l.options.ticks,d=c.sampleSize;if(l.beforeUpdate(),l.maxWidth=t,l.maxHeight=e,l.margins=z.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),a=l.buildTicks()||[],(!(a=l.afterBuildTicks(a)||a)||!a.length)&&l.ticks)for(a=[],i=0,o=l.ticks.length;i<o;++i)a.push({value:l.ticks[i],major:!1});return l._ticks=a,r=l._convertTicksToLabels((s=d<a.length)?function(t,e){for(var n=[],i=t.length/d,o=0,r=t.length;o<r;o+=i)n.push(t[Math.floor(o)]);return n}(a):a),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=c.display&&(c.autoSkip||"auto"===c.source)?l._autoSkip(a):a,s&&(r=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=r,l.afterUpdate(),l.minSize},_configure:function(){var t,e,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,i=!i),n._startPixel=t,n._endPixel=e,n._reversePixels=i,n._length=e-t},afterUpdate:function(){z.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){z.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){z.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){z.callback(this.options.beforeDataLimits,[this])},determineDataLimits:z.noop,afterDataLimits:function(){z.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){z.callback(this.options.beforeBuildTicks,[this])},buildTicks:z.noop,afterBuildTicks:function(t){var e=this;return $e(t)&&t.length?z.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=z.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){z.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this.options.ticks;this.ticks=this.ticks.map(t.userCallback||t.callback,this)},afterTickToLabelConversion:function(){z.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){z.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,n,i,o,r,a,s=this,l=s.options,c=l.ticks,d=s.getTicks().length,u=c.minRotation||0,h=c.maxRotation,f=u;!s._isVisible()||!c.display||u>=h||d<=1||!s.isHorizontal()?s.labelRotation=u:(e=(t=s._getLabelSizes()).widest.width,n=t.highest.height-t.highest.offset,i=Math.min(s.maxWidth,s.chart.width-e),e+6>(o=l.offset?s.maxWidth/d:i/(d-1))&&(o=i/(d-(l.offset?.5:1)),r=s.maxHeight-Ge(l.gridLines)-c.padding-Ke(l.scaleLabel),a=Math.sqrt(e*e+n*n),f=z.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/o,1)),Math.asin(Math.min(r/a,1))-Math.asin(n/a))),f=Math.max(u,Math.min(h,f))),s.labelRotation=f)},afterCalculateTickRotation:function(){z.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){z.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.chart,i=t.options,o=i.ticks,r=i.scaleLabel,a=i.gridLines,s=t._isVisible(),l="bottom"===i.position,c=t.isHorizontal();if(c?e.width=t.maxWidth:s&&(e.width=Ge(a)+Ke(r)),c?s&&(e.height=Ge(a)+Ke(r)):e.height=t.maxHeight,o.display&&s){var d=Je(o),u=t._getLabelSizes(),h=u.first,f=u.last,p=u.widest,g=u.highest,m=.4*d.minor.lineHeight,v=o.padding;if(c){var y=0!==t.labelRotation,b=z.toRadians(t.labelRotation),w=Math.cos(b),x=Math.sin(b);e.height=Math.min(t.maxHeight,e.height+(x*p.width+w*(g.height-(y?g.offset:0))+(y?0:m))+v);var D,C,_=t.getPixelForTick(0)-t.left,S=t.right-t.getPixelForTick(t.getTicks().length-1);y?(D=l?w*h.width+x*h.offset:x*(h.height-h.offset),C=l?x*(f.height-f.offset):w*f.width+x*f.offset):(D=h.width/2,C=f.width/2),t.paddingLeft=Math.max((D-_)*t.width/(t.width-_),0)+3,t.paddingRight=Math.max((C-S)*t.width/(t.width-S),0)+3}else e.width=Math.min(t.maxWidth,e.width+(o.mirror?0:p.width+v+m)),t.paddingTop=h.height/2,t.paddingBottom=f.height/2}t.handleMargins(),c?(t.width=t._length=n.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){z.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(We(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,n,i,o=this;for(o.ticks=t.map(function(t){return t.value}),o.beforeTickToLabelConversion(),e=o.convertTicksToLabels(t)||o.ticks,o.afterTickToLabelConversion(),n=0,i=t.length;n<i;++n)t[n].label=e[n];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=function(t,e,n,i){var o,r,a,s,l,c,d,u,h,f,p,g,m,v=n.length,y=[],b=[],w=[];for(o=0;o<v;++o){if(s=n[o].label,t.font=c=(l=n[o].major?e.major:e.minor).string,d=i[c]=i[c]||{data:{},gc:[]},u=l.lineHeight,h=f=0,We(s)||$e(s)){if($e(s))for(r=0,a=s.length;r<a;++r)We(p=s[r])||$e(p)||(h=z.measureText(t,d.data,d.gc,h,p),f+=u)}else h=z.measureText(t,d.data,d.gc,h,s),f=u;y.push(h),b.push(f),w.push(u/2)}function x(t){return{width:y[t]||0,height:b[t]||0,offset:w[t]||0}}return function(t,e){z.each(i,function(t){var n,i=t.gc,o=i.length/2;if(o>e){for(n=0;n<o;++n)delete t.data[i[n]];i.splice(0,o)}})}(0,v),g=y.indexOf(Math.max.apply(null,y)),m=b.indexOf(Math.max.apply(null,b)),{first:x(0),last:x(v-1),widest:x(g),highest:x(m)}}(t.ctx,Je(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,n,i,o;return $e(t)?(e=+this.getRightValue(t[0]),n=+this.getRightValue(t[1]),i=Math.min(e,n),o=Math.max(e,n)):(e=void 0,n=t=+this.getRightValue(t),i=t,o=t),{min:i,max:o,start:e,end:n}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:z.noop,getPixelForValue:z.noop,getValueForPixel:z.noop,getPixelForTick:function(t){var e=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(e?0:1),1);return t<0||t>n-1?null:this.getPixelForDecimal(t*i+(e?i/2:0))},getPixelForDecimal:function(t){return this._reversePixels&&(t=1-t),this._startPixel+t*this._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this.min,e=this.max;return this.beginAtZero?0:t<0&&e<0?e:t>0&&e>0?t:0},_autoSkip:function(t){var e,n,i,o,r=this.options.ticks,a=r.maxTicksLimit||this._length/this._tickSize()+1,s=r.major.enabled?function(t){var e,n,i=[];for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}(t):[],l=s.length,c=s[0],d=s[l-1];if(l>a)return function(t,e,n){var i,o,r=0,a=e[0];for(n=Math.ceil(n),i=0;i<t.length;i++)o=t[i],i===a?(o._index=i,a=e[++r*n]):delete o.label}(t,s,l/a),Qe(t);if(i=function(t,e,n,i){var o,r,a,s,l=function(t){var e,n,i=t.length;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),c=(e.length-1)/i;if(!l)return Math.max(c,1);for(a=0,s=(o=z.math._factorize(l)).length-1;a<s;a++)if((r=o[a])>c)return r;return Math.max(c,1)}(s,t,0,a),l>0){for(e=0,n=l-1;e<n;e++)Ze(t,i,s[e],s[e+1]);return Ze(t,i,z.isNullOrUndef(o=l>1?(d-c)/(l-1):null)?0:c-o,c),Ze(t,i,d,z.isNullOrUndef(o)?t.length:d+o),Qe(t)}return Ze(t,i),Qe(t)},_tickSize:function(){var t=this.options.ticks,e=z.toRadians(this.labelRotation),n=Math.abs(Math.cos(e)),i=Math.abs(Math.sin(e)),o=this._getLabelSizes(),r=t.autoSkipPadding||0,a=o?o.widest.width+r:0,s=o?o.highest.height+r:0;return this.isHorizontal()?s*n>a*i?a/n:s/i:s*i<a*n?s/n:a/i},_isVisible:function(){var t,e,n,i=this.chart,o=this.options.display;if("auto"!==o)return!!o;for(t=0,e=i.data.datasets.length;t<e;++t)if(i.isDatasetVisible(t)&&((n=i.getDatasetMeta(t)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(t){var e,n,i,o,r,a,s,l,c,d,u,h,f,p,g,m,v,y=this,b=y.chart,w=y.options,x=w.gridLines,D=w.position,C=x.offsetGridLines,_=y.isHorizontal(),S=y._ticksToDraw,k=S.length+(C?1:0),T=Ge(x),A=[],P=x.drawBorder?Ve(x.lineWidth,0,0):0,E=P/2,M=z._alignPixel,R=function(t){return M(b,t,P)};for("top"===D?(e=R(y.bottom),s=y.bottom-T,c=e-E,u=R(t.top)+E,f=t.bottom):"bottom"===D?(e=R(y.top),u=t.top,f=R(t.bottom)-E,s=e+E,c=y.top+T):"left"===D?(e=R(y.right),a=y.right-T,l=e-E,d=R(t.left)+E,h=t.right):(e=R(y.left),d=t.left,h=R(t.right)-E,a=e+E,l=y.left+T),n=0;n<k;++n)We((i=S[n]||{}).label)&&n<S.length||(n===y.zeroLineIndex&&w.offset===C?(p=x.zeroLineWidth,g=x.zeroLineColor,m=x.zeroLineBorderDash||[],v=x.zeroLineBorderDashOffset||0):(p=Ve(x.lineWidth,n,1),g=Ve(x.color,n,"rgba(0,0,0,0.1)"),m=x.borderDash||[],v=x.borderDashOffset||0),void 0!==(o=Ye(y,i._index||n,C))&&(r=M(b,o,p),_?a=l=d=h=r:s=c=u=f=r,A.push({tx1:a,ty1:s,tx2:l,ty2:c,x1:d,y1:u,x2:h,y2:f,width:p,color:g,borderDash:m,borderDashOffset:v})));return A.ticksLength=k,A.borderValue=e,A},_computeLabelItems:function(){var t,e,n,i,o,r,a,s,l,c,d,u,h=this,f=h.options,p=f.ticks,g=f.position,m=p.mirror,v=h.isHorizontal(),y=h._ticksToDraw,b=Je(p),w=p.padding,x=Ge(f.gridLines),D=-z.toRadians(h.labelRotation),C=[];for("top"===g?(r=h.bottom-x-w,a=D?"left":"center"):"bottom"===g?(r=h.top+x+w,a=D?"right":"center"):"left"===g?(o=h.right-(m?0:x)-w,a=m?"left":"right"):(o=h.left+(m?0:x)+w,a=m?"right":"left"),t=0,e=y.length;t<e;++t)i=(n=y[t]).label,We(i)||(s=h.getPixelForTick(n._index||t)+p.labelOffset,c=(l=n.major?b.major:b.minor).lineHeight,d=$e(i)?i.length:1,v?(o=s,u="top"===g?((D?1:.5)-d)*c:(D?0:.5)*c):(r=s,u=(1-d)*c/2),C.push({x:o,y:r,rotation:D,label:i,font:l,textOffset:u,textAlign:a}));return C},_drawGrid:function(t){var e=this,n=e.options.gridLines;if(n.display){var i,o,r,a,s,l=e.ctx,c=e.chart,d=z._alignPixel,u=n.drawBorder?Ve(n.lineWidth,0,0):0,h=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(r=0,a=h.length;r<a;++r)i=(s=h[r]).width,o=s.color,i&&o&&(l.save(),l.lineWidth=i,l.strokeStyle=o,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(u){var f,p,g,m,v=u,y=Ve(n.lineWidth,h.ticksLength-1,1),b=h.borderValue;e.isHorizontal()?(f=d(c,e.left,v)-v/2,p=d(c,e.right,y)+y/2,g=m=b):(g=d(c,e.top,v)-v/2,m=d(c,e.bottom,y)+y/2,f=p=b),l.lineWidth=u,l.strokeStyle=Ve(n.color,0),l.beginPath(),l.moveTo(f,g),l.lineTo(p,m),l.stroke()}}},_drawLabels:function(){var t=this;if(t.options.ticks.display){var e,n,i,o,r,a,s,l,c=t.ctx,d=t._labelItems||(t._labelItems=t._computeLabelItems());for(e=0,i=d.length;e<i;++e){if(a=(r=d[e]).font,c.save(),c.translate(r.x,r.y),c.rotate(r.rotation),c.font=a.string,c.fillStyle=a.color,c.textBaseline="middle",c.textAlign=r.textAlign,l=r.textOffset,$e(s=r.label))for(n=0,o=s.length;n<o;++n)c.fillText(""+s[n],0,l),l+=a.lineHeight;else c.fillText(s,0,l);c.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,n=t.options,i=n.scaleLabel;if(i.display){var o,r,a=qe(i.fontColor,H.global.defaultFontColor),s=z.options._parseFont(i),l=z.options.toPadding(i.padding),c=s.lineHeight/2,d=n.position,u=0;if(t.isHorizontal())o=t.left+t.width/2,r="bottom"===d?t.bottom-c-l.bottom:t.top+c+l.top;else{var h="left"===d;o=h?t.left+c+l.top:t.right-c-l.top,r=t.top+t.height/2,u=h?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(o,r),e.rotate(u),e.textAlign="center",e.textBaseline="middle",e.fillStyle=a,e.font=s.string,e.fillText(i.labelString,0,0),e.restore()}},draw:function(t){this._isVisible()&&(this._drawGrid(t),this._drawTitle(),this._drawLabels())},_layers:function(){var t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:n,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:n,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,n=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter(function(i){return(!t||i.type===t)&&(n?i.xAxisID===e.id:i.yAxisID===e.id)})}});tn.prototype._draw=tn.prototype.draw;var en=tn,nn=z.isNullOrUndef,on=en.extend({determineDataLimits:function(){var t,e=this,n=e._getLabels(),i=e.options.ticks,o=i.min,r=i.max,a=0,s=n.length-1;void 0!==o&&(t=n.indexOf(o))>=0&&(a=t),void 0!==r&&(t=n.indexOf(r))>=0&&(s=t),e.minIndex=a,e.maxIndex=s,e.min=n[a],e.max=n[s]},buildTicks:function(){var t=this._getLabels(),e=this.minIndex,n=this.maxIndex;this.ticks=0===e&&n===t.length-1?t:t.slice(e,n+1)},getLabelForIndex:function(t,e){var n=this.chart;return n.getDatasetMeta(e).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[e].data[t]):this._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,n=t.ticks;en.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),n&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(n.length-(e?0:1),1))},getPixelForValue:function(t,e,n){var i,o,r,a=this;return nn(e)||nn(n)||(t=a.chart.data.datasets[n].data[e]),nn(t)||(i=a.isHorizontal()?t.x:t.y),(void 0!==i||void 0!==t&&isNaN(e))&&(o=a._getLabels(),t=z.valueOrDefault(i,t),e=-1!==(r=o.indexOf(t))?r:e,isNaN(e)&&(e=t)),a.getPixelForDecimal((e-a._startValue)/a._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange);return Math.min(Math.max(e,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});on._defaults={position:"bottom"};var rn=z.isNullOrUndef,an=en.extend({getRightValue:function(t){return"string"==typeof t?+t:en.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;if(e.beginAtZero){var n=z.sign(t.min),i=z.sign(t.max);n<0&&i<0?t.max=0:n>0&&i>0&&(t.min=0)}var o=void 0!==e.min||void 0!==e.suggestedMin,r=void 0!==e.max||void 0!==e.suggestedMax;void 0!==e.min?t.min=e.min:void 0!==e.suggestedMin&&(t.min=null===t.min?e.suggestedMin:Math.min(t.min,e.suggestedMin)),void 0!==e.max?t.max=e.max:void 0!==e.suggestedMax&&(t.max=null===t.max?e.suggestedMax:Math.max(t.max,e.suggestedMax)),o!==r&&t.min>=t.max&&(o?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,e.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this.options.ticks,n=e.stepSize,i=e.maxTicksLimit;return n?t=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(t=this._computeTickLimit(),i=i||11),i&&(t=Math.min(i,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:z.noop,buildTicks:function(){var t=this,e=t.options.ticks,n=t.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:e.min,max:e.max,precision:e.precision,stepSize:z.valueOrDefault(e.fixedStepSize,e.stepSize)},o=t.ticks=function(t,e){var n,i,o,r,a=[],s=t.stepSize,l=s||1,c=t.maxTicks-1,d=t.min,u=t.max,h=t.precision,f=e.min,p=e.max,g=z.niceNum((p-f)/c/l)*l;if(g<1e-14&&rn(d)&&rn(u))return[f,p];(r=Math.ceil(p/g)-Math.floor(f/g))>c&&(g=z.niceNum(r*g/c/l)*l),s||rn(h)?n=Math.pow(10,z._decimalPlaces(g)):(n=Math.pow(10,h),g=Math.ceil(g*n)/n),i=Math.floor(f/g)*g,o=Math.ceil(p/g)*g,s&&(!rn(d)&&z.almostWhole(d/g,g/1e3)&&(i=d),!rn(u)&&z.almostWhole(u/g,g/1e3)&&(o=u)),r=z.almostEquals(r=(o-i)/g,Math.round(r),g/1e3)?Math.round(r):Math.ceil(r),i=Math.round(i*n)/n,o=Math.round(o*n)/n,a.push(rn(d)?i:d);for(var m=1;m<r;++m)a.push(Math.round((i+m*g)*n)/n);return a.push(rn(u)?o:u),a}(i,t);t.handleDirectionalChanges(),t.max=z.max(o),t.min=z.min(o),e.reverse?(o.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),en.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,n=e.getTicks(),i=e.min,o=e.max;en.prototype._configure.call(e),e.options.offset&&n.length&&(i-=t=(o-i)/Math.max(n.length-1,1)/2,o+=t),e._startValue=i,e._endValue=o,e._valueRange=o-i}}),sn={position:"left",ticks:{callback:Ue.formatters.linear}};function ln(t,e,n,i){var o,r,a=t.options,s=function(t,e,n){var i=[n.type,void 0===a.stacked&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===t[i]&&(t[i]={pos:[],neg:[]}),t[i]}(e,0,n),l=s.pos,c=s.neg,d=i.length;for(o=0;o<d;++o)r=t._parseValue(i[o]),isNaN(r.min)||isNaN(r.max)||n.data[o].hidden||(l[o]=l[o]||0,c[o]=c[o]||0,a.relativePoints?l[o]=100:r.min<0||r.max<0?c[o]+=r.min:l[o]+=r.max)}function cn(t,e,n){var i,o,r=n.length;for(i=0;i<r;++i)o=t._parseValue(n[i]),isNaN(o.min)||isNaN(o.max)||e.data[i].hidden||(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}var dn=an.extend({determineDataLimits:function(){var t,e,n,i,o=this,r=o.options,a=o.chart.data.datasets,s=o._getMatchingVisibleMetas(),l=r.stacked,c={},d=s.length;if(o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,void 0===l)for(t=0;!l&&t<d;++t)l=void 0!==(e=s[t]).stack;for(t=0;t<d;++t)n=a[(e=s[t]).index].data,l?ln(o,c,e,n):cn(o,e,n);z.each(c,function(t){i=t.pos.concat(t.neg),o.min=Math.min(o.min,z.min(i)),o.max=Math.max(o.max,z.max(i))}),o.min=z.isFinite(o.min)&&!isNaN(o.min)?o.min:0,o.max=z.isFinite(o.max)&&!isNaN(o.max)?o.max:1,o.handleTickRangeOptions()},_computeTickLimit:function(){var t;return this.isHorizontal()?Math.ceil(this.width/40):(t=z.options._parseFont(this.options.ticks),Math.ceil(this.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){return this.getPixelForDecimal((+this.getRightValue(t)-this._startValue)/this._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}});dn._defaults=sn;var un=z.valueOrDefault,hn=z.math.log10,fn={position:"left",ticks:{callback:Ue.formatters.logarithmic}};function pn(t,e){return z.isFinite(t)&&t>=0?t:e}var gn=en.extend({determineDataLimits:function(){var t,e,n,i,o,r,a=this,s=a.options,l=a.chart,c=l.data.datasets,d=a.isHorizontal();function u(t){return d?t.xAxisID===a.id:t.yAxisID===a.id}a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,a.minNotZero=Number.POSITIVE_INFINITY;var h=s.stacked;if(void 0===h)for(t=0;t<c.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&u(e)&&void 0!==e.stack){h=!0;break}if(s.stacked||h){var f={};for(t=0;t<c.length;t++){var p=[(e=l.getDatasetMeta(t)).type,void 0===s.stacked&&void 0===e.stack?t:"",e.stack].join(".");if(l.isDatasetVisible(t)&&u(e))for(void 0===f[p]&&(f[p]=[]),o=0,r=(i=c[t].data).length;o<r;o++){var g=f[p];n=a._parseValue(i[o]),isNaN(n.min)||isNaN(n.max)||e.data[o].hidden||n.min<0||n.max<0||(g[o]=g[o]||0,g[o]+=n.max)}}z.each(f,function(t){if(t.length>0){var e=z.min(t),n=z.max(t);a.min=Math.min(a.min,e),a.max=Math.max(a.max,n)}})}else for(t=0;t<c.length;t++)if(e=l.getDatasetMeta(t),l.isDatasetVisible(t)&&u(e))for(o=0,r=(i=c[t].data).length;o<r;o++)n=a._parseValue(i[o]),isNaN(n.min)||isNaN(n.max)||e.data[o].hidden||n.min<0||n.max<0||(a.min=Math.min(n.min,a.min),a.max=Math.max(n.max,a.max),0!==n.min&&(a.minNotZero=Math.min(n.min,a.minNotZero)));a.min=z.isFinite(a.min)?a.min:null,a.max=z.isFinite(a.max)?a.max:null,a.minNotZero=z.isFinite(a.minNotZero)?a.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks;t.min=pn(e.min,t.min),t.max=pn(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(hn(t.min))-1),t.max=Math.pow(10,Math.floor(hn(t.max))+1)):(t.min=1,t.max=10)),null===t.min&&(t.min=Math.pow(10,Math.floor(hn(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(hn(t.min))+1):10),null===t.minNotZero&&(t.minNotZero=t.min>0?t.min:t.max<1?Math.pow(10,Math.floor(hn(t.max))):1)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:pn(e.min),max:pn(e.max)},o=t.ticks=function(t,e){var n,i,o=[],r=un(t.min,Math.pow(10,Math.floor(hn(e.min)))),a=Math.floor(hn(e.max)),s=Math.ceil(e.max/Math.pow(10,a));0===r?(n=Math.floor(hn(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),o.push(r),r=i*Math.pow(10,n)):(n=Math.floor(hn(r)),i=Math.floor(r/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{o.push(r),10==++i&&(i=1,l=++n>=0?1:l),r=Math.round(i*Math.pow(10,n)*l)/l}while(n<a||n===a&&i<s);var c=un(t.max,r);return o.push(c),o}(i,t);t.max=z.max(o),t.min=z.min(o),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&o.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),en.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(hn(t));return Math.floor(t/Math.pow(10,e))*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,n=0;en.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),n=un(t.options.ticks.fontSize,H.global.defaultFontSize)/t._length),t._startValue=hn(e),t._valueOffset=n,t._valueRange=(hn(t.max)-hn(e))/(1-n)},getPixelForValue:function(t){var e=this,n=0;return(t=+e.getRightValue(t))>e.min&&t>0&&(n=(hn(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(n)},getValueForPixel:function(t){var e=this,n=e.getDecimalForPixel(t);return 0===n&&0===e.min?0:Math.pow(10,e._startValue+(n-e._valueOffset)*e._valueRange)}});gn._defaults=fn;var mn=z.valueOrDefault,vn=z.valueAtIndexOrDefault,yn=z.options.resolve,bn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Ue.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}};function wn(t){var e=t.ticks;return e.display&&t.display?mn(e.fontSize,H.global.defaultFontSize)+2*e.backdropPaddingY:0}function xn(t,e,n,i,o){return t===i||t===o?{start:e-n/2,end:e+n/2}:t<i||t>o?{start:e-n,end:e}:{start:e,end:e+n}}function Dn(t){return 0===t||180===t?"center":t<180?"left":"right"}function Cn(t,e,n,i){var o,r,a=n.y+i/2;if(z.isArray(e))for(o=0,r=e.length;o<r;++o)t.fillText(e[o],n.x,a),a+=i;else t.fillText(e,n.x,a)}function _n(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function Sn(t){return z.isNumber(t)?t:0}var kn=an.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=wn(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;z.each(e.data.datasets,function(o,r){if(e.isDatasetVisible(r)){var a=e.getDatasetMeta(r);z.each(o.data,function(e,o){var r=+t.getRightValue(e);isNaN(r)||a.data[o].hidden||(n=Math.min(r,n),i=Math.max(r,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/wn(this.options))},convertTicksToLabels:function(){var t=this;an.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(function(){var e=z.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this.options;t.display&&t.pointLabels.display?function(t){var e,n,i,o=z.options._parseFont(t.options.pointLabels),r={l:0,r:t.width,t:0,b:t.height-t.paddingTop},a={};t.ctx.font=o.string,t._pointLabelSizes=[];var s,l,c,d=t.chart.data.labels.length;for(e=0;e<d;e++){i=t.getPointPosition(e,t.drawingArea+5),s=t.ctx,l=o.lineHeight,n=z.isArray(c=t.pointLabels[e])?{w:z.longestText(s,s.font,c),h:c.length*l}:{w:s.measureText(c).width,h:l},t._pointLabelSizes[e]=n;var u=t.getIndexAngle(e),h=z.toDegrees(u)%360,f=xn(h,i.x,n.w,0,180),p=xn(h,i.y,n.h,90,270);f.start<r.l&&(r.l=f.start,a.l=u),f.end>r.r&&(r.r=f.end,a.r=u),p.start<r.t&&(r.t=p.start,a.t=u),p.end>r.b&&(r.b=p.end,a.b=u)}t.setReductions(t.drawingArea,r,a)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,o=e.l/Math.sin(n.l),r=Math.max(e.r-i.width,0)/Math.sin(n.r),a=-e.t/Math.cos(n.t),s=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);o=Sn(o),r=Sn(r),a=Sn(a),s=Sn(s),i.drawingArea=Math.min(Math.floor(t-(o+r)/2),Math.floor(t-(a+s)/2)),i.setCenterPoint(o,r,a,s)},setCenterPoint:function(t,e,n,i){var o=this,r=n+o.drawingArea,a=o.height-o.paddingTop-i-o.drawingArea;o.xCenter=Math.floor((t+o.drawingArea+(o.width-e-o.drawingArea))/2+o.left),o.yCenter=Math.floor((r+a)/2+o.top+o.paddingTop)},getIndexAngle:function(t){var e=this.chart,n=(t*(360/e.data.labels.length)+((e.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(z.isNullOrUndef(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(n)*e+this.xCenter,y:Math.sin(n)*e+this.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this.min,n=this.max;return this.getPointPositionForValue(t||0,this.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0)},_drawGrid:function(){var t,e,n,i=this,o=i.ctx,r=i.options,a=r.gridLines,s=r.angleLines,l=mn(s.lineWidth,a.lineWidth),c=mn(s.color,a.color);if(r.pointLabels.display&&function(t){var e=t.ctx,n=t.options,i=n.pointLabels,o=wn(n),r=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),a=z.options._parseFont(i);e.save(),e.font=a.string,e.textBaseline="middle";for(var s=t.chart.data.labels.length-1;s>=0;s--){var l=t.getPointPosition(s,r+(0===s?o/2:0)+5),c=vn(i.fontColor,s,H.global.defaultFontColor);e.fillStyle=c;var d=t.getIndexAngle(s),u=z.toDegrees(d);e.textAlign=Dn(u),_n(u,t._pointLabelSizes[s],l),Cn(e,t.pointLabels[s],l,a.lineHeight)}e.restore()}(i),a.display&&z.each(i.ticks,function(t,n){0!==n&&(e=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(t,e,n,i){var o,r=t.ctx,a=e.circular,s=t.chart.data.labels.length,l=vn(e.color,i-1),c=vn(e.lineWidth,i-1);if((a||s)&&l&&c){if(r.save(),r.strokeStyle=l,r.lineWidth=c,r.setLineDash&&(r.setLineDash(e.borderDash||[]),r.lineDashOffset=e.borderDashOffset||0),r.beginPath(),a)r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{o=t.getPointPosition(0,n),r.moveTo(o.x,o.y);for(var d=1;d<s;d++)o=t.getPointPosition(d,n),r.lineTo(o.x,o.y)}r.closePath(),r.stroke(),r.restore()}}(i,a,e,n))}),s.display&&l&&c){for(o.save(),o.lineWidth=l,o.strokeStyle=c,o.setLineDash&&(o.setLineDash(yn([s.borderDash,a.borderDash,[]])),o.lineDashOffset=yn([s.borderDashOffset,a.borderDashOffset,0])),t=i.chart.data.labels.length-1;t>=0;t--)e=i.getDistanceFromCenterForValue(r.ticks.reverse?i.min:i.max),n=i.getPointPosition(t,e),o.beginPath(),o.moveTo(i.xCenter,i.yCenter),o.lineTo(n.x,n.y),o.stroke();o.restore()}},_drawLabels:function(){var t=this,e=t.ctx,n=t.options.ticks;if(n.display){var i,o,r=t.getIndexAngle(0),a=z.options._parseFont(n),s=mn(n.fontColor,H.global.defaultFontColor);e.save(),e.font=a.string,e.translate(t.xCenter,t.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",z.each(t.ticks,function(r,l){(0!==l||n.reverse)&&(i=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]),n.showLabelBackdrop&&(o=e.measureText(r).width,e.fillStyle=n.backdropColor,e.fillRect(-o/2-n.backdropPaddingX,-i-a.size/2-n.backdropPaddingY,o+2*n.backdropPaddingX,a.size+2*n.backdropPaddingY)),e.fillStyle=s,e.fillText(r,0,-i))}),e.restore()}},_drawTitle:z.noop});kn._defaults=bn;var Tn=z._deprecated,An=z.options.resolve,Pn=z.valueOrDefault,En=Number.MIN_SAFE_INTEGER||-9007199254740991,Mn=Number.MAX_SAFE_INTEGER||9007199254740991,Rn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Nn=Object.keys(Rn);function In(t,e){return t-e}function On(t){return z.valueOrDefault(t.time.min,t.ticks.min)}function Hn(t){return z.valueOrDefault(t.time.max,t.ticks.max)}function Ln(t,e,n,i){var o=function(t,e,n){for(var i,o,r,a=0,s=t.length-1;a>=0&&a<=s;){if(o=t[(i=a+s>>1)-1]||null,r=t[i],!o)return{lo:null,hi:r};if(r[e]<n)a=i+1;else{if(!(o[e]>n))return{lo:o,hi:r};s=i-1}}return{lo:r,hi:null}}(t,e,n),r=o.lo?o.hi?o.lo:t[t.length-2]:t[0],a=o.lo?o.hi?o.hi:t[t.length-1]:t[1],s=a[e]-r[e];return r[i]+(a[i]-r[i])*(s?(n-r[e])/s:0)}function Bn(t,e){var n=t._adapter,i=t.options.time,o=i.parser,r=o||i.format,a=e;return"function"==typeof o&&(a=o(a)),z.isFinite(a)||(a="string"==typeof r?n.parse(a,r):n.parse(a)),null!==a?+a:(o||"function"!=typeof r||(a=r(e),z.isFinite(a)||(a=n.parse(a))),a)}function Fn(t,e){if(z.isNullOrUndef(e))return null;var n=t.options.time,i=Bn(t,t.getRightValue(e));return null===i?i:(n.round&&(i=+t._adapter.startOf(i,n.round)),i)}function jn(t,e,n,i){var o,r,a,s=Nn.length;for(o=Nn.indexOf(t);o<s-1;++o)if(a=(r=Rn[Nn[o]]).steps?r.steps:Mn,r.common&&Math.ceil((n-e)/(a*r.size))<=i)return Nn[o];return Nn[s-1]}function zn(t,e,n){var i,o,r=[],a={},s=e.length;for(i=0;i<s;++i)a[o=e[i]]=i,r.push({value:o,major:!1});return 0!==s&&n?function(t,e,n,i){var o,r,a=t._adapter,s=+a.startOf(e[0].value,i),l=e[e.length-1].value;for(o=s;o<=l;o=+a.add(o,1,i))(r=n[o])>=0&&(e[r].major=!0);return e}(t,r,a,n):r}var Un=en.extend({initialize:function(){this.mergeTicksOptions(),en.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,n=e.time||(e.time={}),i=t._adapter=new ze._date(e.adapters.date);return Tn("time scale",n.format,"time.format","time.parser"),Tn("time scale",n.min,"time.min","ticks.min"),Tn("time scale",n.max,"time.max","ticks.max"),z.mergeIf(n.displayFormats,i.formats()),en.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),en.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,o,r,a,s=this,l=s.chart,c=s._adapter,d=s.options,u=d.time.unit||"day",h=Mn,f=En,p=[],g=[],m=[],v=s._getLabels();for(t=0,n=v.length;t<n;++t)m.push(Fn(s,v[t]));for(t=0,n=(l.data.datasets||[]).length;t<n;++t)if(l.isDatasetVisible(t))if(z.isObject((o=l.data.datasets[t].data)[0]))for(g[t]=[],e=0,i=o.length;e<i;++e)r=Fn(s,o[e]),p.push(r),g[t][e]=r;else g[t]=m.slice(0),a||(p=p.concat(m),a=!0);else g[t]=[];m.length&&(h=Math.min(h,m[0]),f=Math.max(f,m[m.length-1])),p.length&&(p=n>1?function(t){var e,n,i,o={},r=[];for(e=0,n=t.length;e<n;++e)o[i=t[e]]||(o[i]=!0,r.push(i));return r}(p).sort(In):p.sort(In),h=Math.min(h,p[0]),f=Math.max(f,p[p.length-1])),h=Fn(s,On(d))||h,f=Fn(s,Hn(d))||f,h=h===Mn?+c.startOf(Date.now(),u):h,f=f===En?+c.endOf(Date.now(),u)+1:f,s.min=Math.min(h,f),s.max=Math.max(h+1,f),s._table=[],s._timestamps={data:p,datasets:g,labels:m}},buildTicks:function(){var t,e,n,i=this,o=i.min,r=i.max,a=i.options,s=a.ticks,l=a.time,c=i._timestamps,d=[],u=i.getLabelCapacity(o),h=s.source,f=a.distribution;for(c="data"===h||"auto"===h&&"series"===f?c.data:"labels"===h?c.labels:function(t,e,n,i){var o,r=t._adapter,a=t.options,s=a.time,l=s.unit||jn(s.minUnit,e,n,i),c=An([s.stepSize,s.unitStepSize,1]),d="week"===l&&s.isoWeekday,u=e,h=[];if(d&&(u=+r.startOf(u,"isoWeek",d)),u=+r.startOf(u,d?"day":l),r.diff(n,e,l)>1e5*c)throw e+" and "+n+" are too far apart with stepSize of "+c+" "+l;for(o=u;o<n;o=+r.add(o,c,l))h.push(o);return o!==n&&"ticks"!==a.bounds||h.push(o),h}(i,o,r,u),"ticks"===a.bounds&&c.length&&(o=c[0],r=c[c.length-1]),o=Fn(i,On(a))||o,r=Fn(i,Hn(a))||r,t=0,e=c.length;t<e;++t)(n=c[t])>=o&&n<=r&&d.push(n);return i.min=o,i.max=r,i._unit=l.unit||(s.autoSkip?jn(l.minUnit,i.min,i.max,u):function(t,e,n,i,o){var r,a;for(r=Nn.length-1;r>=Nn.indexOf(n);r--)if(Rn[a=Nn[r]].common&&t._adapter.diff(o,i,a)>=e-1)return a;return Nn[n?Nn.indexOf(n):0]}(i,d.length,l.minUnit,i.min,i.max)),i._majorUnit=s.major.enabled&&"year"!==i._unit?function(t){for(var e=Nn.indexOf(i._unit)+1,n=Nn.length;e<n;++e)if(Rn[Nn[e]].common)return Nn[e]}():void 0,i._table=function(t,e,n,i){if("linear"===f||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var o,r,a,s,l,c=[],d=[e];for(o=0,r=t.length;o<r;++o)(s=t[o])>e&&s<n&&d.push(s);for(d.push(n),o=0,r=d.length;o<r;++o)l=d[o+1],s=d[o],void 0!==(a=d[o-1])&&void 0!==l&&Math.round((l+a)/2)===s||c.push({time:s,pos:o/(r-1)});return c}(i._timestamps.data,o,r),i._offsets=function(t,e,n,i,o){var r,a,s=0,l=0;return o.offset&&e.length&&(r=Ln(t,"time",e[0],"pos"),s=1===e.length?1-r:(Ln(t,"time",e[1],"pos")-r)/2,a=Ln(t,"time",e[e.length-1],"pos"),l=1===e.length?a:(a-Ln(t,"time",e[e.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(i._table,d,0,0,a),s.reverse&&d.reverse(),zn(i,d,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,o=n.chart.data,r=n.options.time,a=o.labels&&t<o.labels.length?o.labels[t]:"",s=o.datasets[e].data[t];return z.isObject(s)&&(a=n.getRightValue(s)),r.tooltipFormat?i.format(Bn(n,a),r.tooltipFormat):"string"==typeof a?a:i.format(Bn(n,a),r.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var o=this.options,r=o.time.displayFormats,a=this._majorUnit,s=r[a],l=n[e],c=o.ticks,d=a&&s&&l&&l.major,u=this._adapter.format(t,i||(d?s:r[this._unit])),h=d?c.major:c.minor,f=An([h.callback,h.userCallback,c.callback,c.userCallback]);return f?f(u,e,n):u},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this._offsets,n=Ln(this._table,"time",t,"pos");return this.getPixelForDecimal((e.start+n)*e.factor)},getPixelForValue:function(t,e,n){var i=null;if(void 0!==e&&void 0!==n&&(i=this._timestamps.datasets[n][e]),null===i&&(i=Fn(this,t)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this._offsets,n=this.getDecimalForPixel(t)/e.factor-e.end,i=Ln(this._table,"pos",n,"time");return this._adapter._create(i)},_getLabelSize:function(t){var e=this.options.ticks,n=this.ctx.measureText(t).width,i=z.toRadians(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(i),r=Math.sin(i),a=Pn(e.fontSize,H.global.defaultFontSize);return{w:n*o+a*r,h:n*r+a*o}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,n=e.options.time,i=n.displayFormats,o=i[n.unit]||i.millisecond,r=e.tickFormatFunction(t,0,zn(e,[t],e._majorUnit),o),a=e._getLabelSize(r),s=Math.floor(e.isHorizontal()?e.width/a.w:e.height/a.h);return e.options.offset&&s--,s>0?s:1}});Un._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var $n={category:on,linear:dn,logarithmic:gn,radialLinear:kn,time:Un},Wn={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};ze._date.override("function"==typeof t?{_id:"moment",formats:function(){return Wn},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,i){return t(e).add(n,i).valueOf()},diff:function(e,n,i){return t(e).diff(t(n),i)},startOf:function(e,n,i){return e=t(e),"isoWeek"===n?e.isoWeekday(i).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),H._set("global",{plugins:{filler:{propagate:!0}}});var qn={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),o=i&&n.isDatasetVisible(e)&&i.dataset._children||[],r=o.length||0;return r?function(t,e){return e<r&&o[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return z.isArray(e)?function(t,n){return e[n]}:function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}};function Vn(t,e,n){var i,o=t._model||{},r=o.fill;if(void 0===r&&(r=!!o.backgroundColor),!1===r||null===r)return!1;if(!0===r)return"origin";if(i=parseFloat(r,10),isFinite(i)&&Math.floor(i)===i)return"-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function Yn(t){return(t.el._scale||{}).getPointPositionForValue?function(t){var e,n,i,o,r,a=t.el._scale,s=a.options,l=a.chart.data.labels.length,c=t.fill,d=[];if(!l)return null;for(e=s.ticks.reverse?a.max:a.min,n=s.ticks.reverse?a.min:a.max,i=a.getPointPositionForValue(0,e),o=0;o<l;++o)r="start"===c||"end"===c?a.getPointPositionForValue(o,"start"===c?e:n):a.getBasePosition(o),s.gridLines.circular&&(r.cx=i.x,r.cy=i.y,r.angle=a.getIndexAngle(o)-Math.PI/2),d.push(r);return d}(t):function(t){var e,n=t.el._model||{},i=t.el._scale||{},o=t.fill,r=null;if(isFinite(o))return null;if("start"===o?r=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===o?r=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?r=n.scaleZero:i.getBasePixel&&(r=i.getBasePixel()),null!=r){if(void 0!==r.x&&void 0!==r.y)return r;if(z.isFinite(r))return{x:(e=i.isHorizontal())?r:null,y:e?null:r}}return null}(t)}function Gn(t,e,n){var i,o=t[e].fill,r=[e];if(!n)return o;for(;!1!==o&&-1===r.indexOf(o);){if(!isFinite(o))return o;if(!(i=t[o]))return!1;if(i.visible)return o;r.push(o),o=i.fill}return!1}function Kn(t){var e=t.fill,n="dataset";return!1===e?null:(isFinite(e)||(n="boundary"),qn[n](t))}function Xn(t){return t&&!t.skip}function Jn(t,e,n,i,o){var r,a,s,l;if(i&&o){for(t.moveTo(e[0].x,e[0].y),r=1;r<i;++r)z.canvas.lineTo(t,e[r-1],e[r]);if(void 0===n[0].angle)for(t.lineTo(n[o-1].x,n[o-1].y),r=o-1;r>0;--r)z.canvas.lineTo(t,n[r],n[r-1],!0);else for(a=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-a,2)+Math.pow(n[0].y-s,2)),r=o-1;r>0;--r)t.arc(a,s,l,n[r].angle,n[r-1].angle,!0)}}function Qn(t,e,n,i,o,r){var a,s,l,c,d,u,h,f,p=e.length,g=i.spanGaps,m=[],v=[],y=0,b=0;for(t.beginPath(),a=0,s=p;a<s;++a)d=n(c=e[l=a%p]._view,l,i),u=Xn(c),h=Xn(d),r&&void 0===f&&u&&(s=p+(f=a+1)),u&&h?(y=m.push(c),b=v.push(d)):y&&b&&(g?(u&&m.push(c),h&&v.push(d)):(Jn(t,m,v,y,b),y=b=0,m=[],v=[]));Jn(t,m,v,y,b),t.closePath(),t.fillStyle=o,t.fill()}var Zn={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,o,r,a=(t.data.datasets||[]).length,s=e.propagate,l=[];for(i=0;i<a;++i)r=null,(o=(n=t.getDatasetMeta(i)).dataset)&&o._model&&o instanceof mt.Line&&(r={visible:t.isDatasetVisible(i),fill:Vn(o,i,a),chart:t,el:o}),n.$filler=r,l.push(r);for(i=0;i<a;++i)(r=l[i])&&(r.fill=Gn(l,i,s),r.boundary=Yn(r),r.mapper=Kn(r))},beforeDatasetsDraw:function(t){var e,n,i,o,r,a,s,l=t._getSortedVisibleDatasetMetas(),c=t.ctx;for(n=l.length-1;n>=0;--n)(e=l[n].$filler)&&e.visible&&(o=(i=e.el)._view,r=i._children||[],a=e.mapper,s=o.backgroundColor||H.global.defaultColor,a&&s&&r.length&&(z.canvas.clipArea(c,t.chartArea),Qn(c,r,a,o,s,i._loop),z.canvas.unclipArea(c)))}},ti=z.rtl.getRtlAdapter,ei=z.noop,ni=z.valueOrDefault;function ii(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}H._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,o=i.getDatasetMeta(n);o.hidden=null===o.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.options.legend||{},i=n.labels&&n.labels.usePointStyle;return t._getSortedDatasetMetas().map(function(n){var o=n.controller.getStyle(i?0:void 0);return{text:e[n.index].label,fillStyle:o.backgroundColor,hidden:!t.isDatasetVisible(n.index),lineCap:o.borderCapStyle,lineDash:o.borderDash,lineDashOffset:o.borderDashOffset,lineJoin:o.borderJoinStyle,lineWidth:o.borderWidth,strokeStyle:o.borderColor,pointStyle:o.pointStyle,rotation:o.rotation,datasetIndex:n.index}},this)}}},legendCallback:function(t){var e,n,i,o=document.createElement("ul"),r=t.data.datasets;for(o.setAttribute("class",t.id+"-legend"),e=0,n=r.length;e<n;e++)(i=o.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=r[e].backgroundColor,r[e].label&&i.appendChild(document.createTextNode(r[e].label));return o.outerHTML}});var oi=V.extend({initialize:function(t){z.extend(this,t),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:ei,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ei,beforeSetDimensions:ei,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:ei,beforeBuildLabels:ei,buildLabels:function(){var t=this,e=t.options.labels||{},n=z.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:ei,beforeFit:ei,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,o=t.ctx,r=z.options._parseFont(n),a=r.size,s=t.legendHitBoxes=[],l=t.minSize,c=t.isHorizontal();if(c?(l.width=t.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=t.maxHeight),i){if(o.font=r.string,c){var d=t.lineWidths=[0],u=0;o.textAlign="left",o.textBaseline="middle",z.each(t.legendItems,function(t,e){var i=ii(n,a)+a/2+o.measureText(t.text).width;(0===e||d[d.length-1]+i+2*n.padding>l.width)&&(u+=a+n.padding,d[d.length-(e>0?0:1)]=0),s[e]={left:0,top:0,width:i,height:a},d[d.length-1]+=i+n.padding}),l.height+=u}else{var h=n.padding,f=t.columnWidths=[],p=t.columnHeights=[],g=n.padding,m=0,v=0;z.each(t.legendItems,function(t,e){var i=ii(n,a)+a/2+o.measureText(t.text).width;e>0&&v+a+2*h>l.height&&(g+=m+n.padding,f.push(m),p.push(v),m=0,v=0),m=Math.max(m,i),v+=a+h,s[e]={left:0,top:0,width:i,height:a}}),g+=m,f.push(m),p.push(v),l.width+=g}t.width=l.width,t.height=l.height}else t.width=l.width=t.height=l.height=0},afterFit:ei,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=H.global,o=i.defaultColor,r=i.elements.line,a=t.height,s=t.columnHeights,l=t.width,c=t.lineWidths;if(e.display){var d,u=ti(e.rtl,t.left,t.minSize.width),h=t.ctx,f=ni(n.fontColor,i.defaultFontColor),p=z.options._parseFont(n),g=p.size;h.textAlign=u.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=p.string;var m=ii(n,g),v=t.legendHitBoxes,y=function(t,i){switch(e.align){case"start":return n.padding;case"end":return t-i;default:return(t-i+n.padding)/2}},b=t.isHorizontal();d=b?{x:t.left+y(l,c[0]),y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+y(a,s[0]),line:0},z.rtl.overrideTextDirection(t.ctx,e.textDirection);var w=g+n.padding;z.each(t.legendItems,function(e,i){var f=h.measureText(e.text).width,p=m+g/2+f,x=d.x,D=d.y;u.setWidth(t.minSize.width),b?i>0&&x+p+n.padding>t.left+t.minSize.width&&(D=d.y+=w,d.line++,x=d.x=t.left+y(l,c[d.line])):i>0&&D+w>t.top+t.minSize.height&&(x=d.x=x+t.columnWidths[d.line]+n.padding,d.line++,D=d.y=t.top+y(a,s[d.line]));var C=u.x(x);!function(t,e,i){if(!(isNaN(m)||m<=0)){h.save();var a=ni(i.lineWidth,r.borderWidth);if(h.fillStyle=ni(i.fillStyle,o),h.lineCap=ni(i.lineCap,r.borderCapStyle),h.lineDashOffset=ni(i.lineDashOffset,r.borderDashOffset),h.lineJoin=ni(i.lineJoin,r.borderJoinStyle),h.lineWidth=a,h.strokeStyle=ni(i.strokeStyle,o),h.setLineDash&&h.setLineDash(ni(i.lineDash,r.borderDash)),n&&n.usePointStyle){var s=m*Math.SQRT2/2,l=u.xPlus(t,m/2);z.canvas.drawPoint(h,i.pointStyle,s,l,e+g/2,i.rotation)}else h.fillRect(u.leftForLtr(t,m),e,m,g),0!==a&&h.strokeRect(u.leftForLtr(t,m),e,m,g);h.restore()}}(C,D,e),v[i].left=u.leftForLtr(C,v[i].width),v[i].top=D,function(t,e,n,i){var o=g/2,r=u.xPlus(C,m+o),a=e+o;h.fillText(n.text,r,a),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(r,a),h.lineTo(u.xPlus(r,i),a),h.stroke())}(0,D,e,f),b?d.x+=p+n.padding:d.y+=w}),z.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var n,i,o,r=this;if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)for(o=r.legendHitBoxes,n=0;n<o.length;++n)if(t>=(i=o[n]).left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return r.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,o="mouseup"===t.type?"click":t.type;if("mousemove"===o){if(!i.onHover&&!i.onLeave)return}else{if("click"!==o)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===o?e&&i.onClick&&i.onClick.call(n,t.native,e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t.native,n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t.native,e))}});function ri(t,e){var n=new oi({ctx:t.ctx,options:e,chart:t});re.configure(t,n,e),re.addBox(t,n),t.legend=n}var ai={id:"legend",_element:oi,beforeInit:function(t){var e=t.options.legend;e&&ri(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(z.mergeIf(e,H.global.legend),n?(re.configure(t,n,e),n.options=e):ri(t,e)):n&&(re.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},si=z.noop;H._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var li=V.extend({initialize:function(t){z.extend(this,t),this.legendHitBoxes=[]},beforeUpdate:si,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:si,beforeSetDimensions:si,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:si,beforeBuildLabels:si,buildLabels:si,afterBuildLabels:si,beforeFit:si,fit:function(){var t,e=this,n=e.options,i=e.minSize={},o=e.isHorizontal();n.display?(t=(z.isArray(n.text)?n.text.length:1)*z.options._parseFont(n).lineHeight+2*n.padding,e.width=i.width=o?e.maxWidth:t,e.height=i.height=o?t:e.maxHeight):e.width=i.width=e.height=i.height=0},afterFit:si,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,o,r,a=z.options._parseFont(n),s=a.lineHeight,l=s/2+n.padding,c=0,d=t.top,u=t.left,h=t.bottom,f=t.right;e.fillStyle=z.valueOrDefault(n.fontColor,H.global.defaultFontColor),e.font=a.string,t.isHorizontal()?(o=u+(f-u)/2,r=d+l,i=f-u):(o="left"===n.position?u+l:f-l,r=d+(h-d)/2,i=h-d,c=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(o,r),e.rotate(c),e.textAlign="center",e.textBaseline="middle";var p=n.text;if(z.isArray(p))for(var g=0,m=0;m<p.length;++m)e.fillText(p[m],0,g,i),g+=s;else e.fillText(p,0,0,i);e.restore()}}});function ci(t,e){var n=new li({ctx:t.ctx,options:e,chart:t});re.configure(t,n,e),re.addBox(t,n),t.titleBlock=n}var di={},ui=Zn,hi=ai,fi={id:"title",_element:li,beforeInit:function(t){var e=t.options.title;e&&ci(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(z.mergeIf(e,H.global.title),n?(re.configure(t,n,e),n.options=e):ci(t,e)):n&&(re.removeBox(t,n),delete t.titleBlock)}};for(var pi in di.filler=ui,di.legend=hi,di.title=fi,Be.helpers=z,function(){function t(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),-1!==t.indexOf("%")&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return null!=t&&"none"!==t}function n(n,i,o){var r=document.defaultView,a=z._getParentNode(n),s=r.getComputedStyle(n)[i],l=r.getComputedStyle(a)[i],c=e(s),d=e(l),u=Number.POSITIVE_INFINITY;return c||d?Math.min(c?t(s,n,o):u,d?t(l,a,o):u):"none"}z.where=function(t,e){if(z.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return z.each(t,function(t){e(t)&&n.push(t)}),n},z.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,o=t.length;i<o;++i)if(e.call(n,t[i],i,t))return i;return-1},z.findNextWhere=function(t,e,n){z.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var o=t[i];if(e(o))return o}},z.findPreviousWhere=function(t,e,n){z.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var o=t[i];if(e(o))return o}},z.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},z.almostEquals=function(t,e,n){return Math.abs(t-e)<n},z.almostWhole=function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t},z.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},z.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},z.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1},z.toRadians=function(t){return t*(Math.PI/180)},z.toDegrees=function(t){return t*(180/Math.PI)},z._decimalPlaces=function(t){if(z.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},z.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,o=Math.sqrt(n*n+i*i),r=Math.atan2(i,n);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:o}},z.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},z.aliasPixel=function(t){return t%2==0?0:.5},z._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,o=n/2;return Math.round((e-o)*i)/i+o},z.splineCurve=function(t,e,n,i){var o=t.skip?e:t,r=e,a=n.skip?e:n,s=Math.sqrt(Math.pow(r.x-o.x,2)+Math.pow(r.y-o.y,2)),l=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),c=s/(s+l),d=l/(s+l),u=i*(c=isNaN(c)?0:c),h=i*(d=isNaN(d)?0:d);return{previous:{x:r.x-u*(a.x-o.x),y:r.y-u*(a.y-o.y)},next:{x:r.x+h*(a.x-o.x),y:r.y+h*(a.y-o.y)}}},z.EPSILON=Number.EPSILON||1e-14,z.splineCurveMonotone=function(t){var e,n,i,o,r,a,s,l,c,d=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),u=d.length;for(e=0;e<u;++e)if(!(i=d[e]).model.skip){if(n=e>0?d[e-1]:null,(o=e<u-1?d[e+1]:null)&&!o.model.skip){var h=o.model.x-i.model.x;i.deltaK=0!==h?(o.model.y-i.model.y)/h:0}i.mK=!n||n.model.skip?i.deltaK:!o||o.model.skip?n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?0:(n.deltaK+i.deltaK)/2}for(e=0;e<u-1;++e)o=d[e+1],(i=d[e]).model.skip||o.model.skip||(z.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=o.mK=0:(r=i.mK/i.deltaK,a=o.mK/i.deltaK,(l=Math.pow(r,2)+Math.pow(a,2))<=9||(s=3/Math.sqrt(l),i.mK=r*s*i.deltaK,o.mK=a*s*i.deltaK)));for(e=0;e<u;++e)(i=d[e]).model.skip||(n=e>0?d[e-1]:null,o=e<u-1?d[e+1]:null,n&&!n.model.skip&&(i.model.controlPointPreviousX=i.model.x-(c=(i.model.x-n.model.x)/3),i.model.controlPointPreviousY=i.model.y-c*i.mK),o&&!o.model.skip&&(i.model.controlPointNextX=i.model.x+(c=(o.model.x-i.model.x)/3),i.model.controlPointNextY=i.model.y+c*i.mK))},z.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},z.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},z.niceNum=function(t,e){var n=Math.floor(z.log10(t)),i=t/Math.pow(10,n);return(e?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},z.requestAnimFrame="undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)},z.getRelativePosition=function(t,e){var n,i,o=t.originalEvent||t,r=t.target||t.srcElement,a=r.getBoundingClientRect(),s=o.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=o.clientX,i=o.clientY);var l=parseFloat(z.getStyle(r,"padding-left")),c=parseFloat(z.getStyle(r,"padding-top")),d=parseFloat(z.getStyle(r,"padding-right")),u=parseFloat(z.getStyle(r,"padding-bottom")),h=a.bottom-a.top-c-u;return{x:n=Math.round((n-a.left-l)/(a.right-a.left-l-d)*r.width/e.currentDevicePixelRatio),y:i=Math.round((i-a.top-c)/h*r.height/e.currentDevicePixelRatio)}},z.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},z.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},z._calculatePadding=function(t,e,n){return(e=z.getStyle(t,e)).indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},z._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},z.getMaximumWidth=function(t){var e=z._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=n-z._calculatePadding(e,"padding-left",n)-z._calculatePadding(e,"padding-right",n),o=z.getConstraintWidth(t);return isNaN(o)?i:Math.min(i,o)},z.getMaximumHeight=function(t){var e=z._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=n-z._calculatePadding(e,"padding-top",n)-z._calculatePadding(e,"padding-bottom",n),o=z.getConstraintHeight(t);return isNaN(o)?i:Math.min(i,o)},z.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},z.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,o=t.height,r=t.width;i.height=o*n,i.width=r*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=o+"px",i.style.width=r+"px")}},z.fontString=function(t,e,n){return e+" "+t+"px "+n},z.longestText=function(t,e,n,i){var o=(i=i||{}).data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(o=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var a,s,l,c,d,u=0,h=n.length;for(a=0;a<h;a++)if(null!=(c=n[a])&&!0!==z.isArray(c))u=z.measureText(t,o,r,u,c);else if(z.isArray(c))for(s=0,l=c.length;s<l;s++)null==(d=c[s])||z.isArray(d)||(u=z.measureText(t,o,r,u,d));var f=r.length/2;if(f>n.length){for(a=0;a<f;a++)delete o[r[a]];r.splice(0,f)}return u},z.measureText=function(t,e,n,i,o){var r=e[o];return r||(r=e[o]=t.measureText(o).width,n.push(o)),r>i&&(i=r),i},z.numberOfLabelLines=function(t){var e=1;return z.each(t,function(t){z.isArray(t)&&t.length>e&&(e=t.length)}),e},z.color=D?function(t){return t instanceof CanvasGradient&&(t=H.global.defaultColor),D(t)}:function(t){return console.error("Color.js not found!"),t},z.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:z.color(t).saturate(.5).darken(.1).rgbString()}}(),Be._adapters=ze,Be.Animation=G,Be.animationService=K,Be.controllers=Ut,Be.DatasetController=tt,Be.defaults=H,Be.Element=V,Be.elements=mt,Be.Interaction=Kt,Be.layouts=re,Be.platform=be,Be.plugins=we,Be.Scale=en,Be.scaleService=xe,Be.Ticks=Ue,Be.Tooltip=Ee,Be.helpers.each($n,function(t,e){Be.scaleService.registerScaleType(e,t,t._defaults)}),di)di.hasOwnProperty(pi)&&Be.plugins.register(di[pi]);Be.platform.initialize();var gi=Be;return"undefined"!=typeof window&&(window.Chart=Be),Be.Chart=Be,Be.Legend=di.legend._element,Be.Title=di.title._element,Be.pluginService=Be.plugins,Be.PluginBase=Be.Element.extend({}),Be.canvasHelpers=Be.helpers.canvas,Be.layoutService=Be.layouts,Be.LinearScaleBase=an,Be.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){Be[t]=function(e,n){return new Be(e,Be.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),gi}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,e;function n(){return t.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function o(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){return void 0===t}function a(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var n,i=[];for(n=0;n<t.length;++n)i.push(e(t[n],n));return i}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function u(t,e,n,i){return ke(t,e,n,i,!0).utc()}function h(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function f(t){if(null==t._isValid){var n=h(t),i=e.call(n.parsedDateParts,function(t){return null!=t}),o=!isNaN(t._d.getTime())&&n.overflow<0&&!n.empty&&!n.invalidMonth&&!n.invalidWeekday&&!n.weekdayMismatch&&!n.nullInput&&!n.invalidFormat&&!n.userInvalidated&&(!n.meridiem||n.meridiem&&i);if(t._strict&&(o=o&&0===n.charsLeftOver&&0===n.unusedTokens.length&&void 0===n.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return o;t._isValid=o}return t._isValid}function p(t){var e=u(NaN);return null!=t?d(h(e),t):h(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};var g=n.momentProperties=[];function m(t,e){var n,i,o;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=h(e)),r(e._locale)||(t._locale=e._locale),0<g.length)for(n=0;n<g.length;n++)r(o=e[i=g[n]])||(t[i]=o);return t}var v=!1;function y(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,n.updateOffset(this),v=!1)}function b(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function w(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function x(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=w(e)),n}function D(t,e,n){var i,o=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),a=0;for(i=0;i<o;i++)(n&&t[i]!==e[i]||!n&&x(t[i])!==x(e[i]))&&a++;return a+r}function C(t){!1===n.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function _(t,e){var i=!0;return d(function(){if(null!=n.deprecationHandler&&n.deprecationHandler(null,t),i){for(var o,r=[],a=0;a<arguments.length;a++){if(o="","object"==typeof arguments[a]){for(var s in o+="\n["+a+"] ",arguments[0])o+=s+": "+arguments[0][s]+", ";o=o.slice(0,-2)}else o=arguments[a];r.push(o)}C(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),i=!1}return e.apply(this,arguments)},e)}var S,k={};function T(t,e){null!=n.deprecationHandler&&n.deprecationHandler(t,e),k[t]||(C(e),k[t]=!0)}function A(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function P(t,e){var n,i=d({},t);for(n in e)c(e,n)&&(o(t[n])&&o(e[n])?(i[n]={},d(i[n],t[n]),d(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&o(t[n])&&(i[n]=d({},i[n]));return i}function E(t){null!=t&&this.set(t)}n.suppressDeprecationWarnings=!1,n.deprecationHandler=null,S=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var M={};function R(t,e){var n=t.toLowerCase();M[n]=M[n+"s"]=M[e]=t}function N(t){return"string"==typeof t?M[t]||M[t.toLowerCase()]:void 0}function I(t){var e,n,i={};for(n in t)c(t,n)&&(e=N(n))&&(i[e]=t[n]);return i}var O={};function H(t,e){O[t]=e}function L(t,e,n){var i=""+Math.abs(t);return(0<=t?n?"+":"":"-")+Math.pow(10,Math.max(0,e-i.length)).toString().substr(1)+i}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},z={};function U(t,e,n,i){var o=i;"string"==typeof i&&(o=function(){return this[i]()}),t&&(z[t]=o),e&&(z[e[0]]=function(){return L(o.apply(this,arguments),e[1],e[2])}),n&&(z[n]=function(){return this.localeData().ordinal(o.apply(this,arguments),t)})}function $(t,e){return t.isValid()?(e=W(e,t.localeData()),j[e]=j[e]||function(t){var e,n,i,o=t.match(B);for(e=0,n=o.length;e<n;e++)o[e]=z[o[e]]?z[o[e]]:(i=o[e]).match(/\[[\s\S]/)?i.replace(/^\[|\]$/g,""):i.replace(/\\/g,"");return function(e){var i,r="";for(i=0;i<n;i++)r+=A(o[i])?o[i].call(e,t):o[i];return r}}(e),j[e](t)):t.localeData().invalidDate()}function W(t,e){var n=5;function i(t){return e.longDateFormat(t)||t}for(F.lastIndex=0;0<=n&&F.test(t);)t=t.replace(F,i),F.lastIndex=0,n-=1;return t}var q=/\d/,V=/\d\d/,Y=/\d{3}/,G=/\d{4}/,K=/[+-]?\d{6}/,X=/\d\d?/,J=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,Z=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,nt=/\d+/,it=/[+-]?\d+/,ot=/Z|[+-]\d\d:?\d\d/gi,rt=/Z|[+-]\d\d(?::?\d\d)?/gi,at=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,st={};function lt(t,e,n){st[t]=A(e)?e:function(t,i){return t&&n?n:e}}function ct(t,e){return c(st,t)?st[t](e._strict,e._locale):new RegExp(dt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,i,o){return e||n||i||o})))}function dt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ut={};function ht(t,e){var n,i=e;for("string"==typeof t&&(t=[t]),a(e)&&(i=function(t,n){n[e]=x(t)}),n=0;n<t.length;n++)ut[t[n]]=i}function ft(t,e){ht(t,function(t,n,i,o){i._w=i._w||{},e(t,i._w,i,o)})}var pt=0,gt=1,mt=2,vt=3,yt=4,bt=5,wt=6,xt=7,Dt=8;function Ct(t){return _t(t)?366:365}function _t(t){return t%4==0&&t%100!=0||t%400==0}U("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),R("year","y"),H("year",1),lt("Y",it),lt("YY",X,V),lt("YYYY",tt,G),lt("YYYYY",et,K),lt("YYYYYY",et,K),ht(["YYYYY","YYYYYY"],pt),ht("YYYY",function(t,e){e[pt]=2===t.length?n.parseTwoDigitYear(t):x(t)}),ht("YY",function(t,e){e[pt]=n.parseTwoDigitYear(t)}),ht("Y",function(t,e){e[pt]=parseInt(t,10)}),n.parseTwoDigitYear=function(t){return x(t)+(68<x(t)?1900:2e3)};var St,kt=Tt("FullYear",!0);function Tt(t,e){return function(i){return null!=i?(Pt(this,t,i),n.updateOffset(this,e),this):At(this,t)}}function At(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&_t(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),Et(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function Et(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=(e%12+12)%12;return t+=(e-n)/12,1===n?_t(t)?29:28:31-n%7%2}St=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),U("MMMM",0,0,function(t){return this.localeData().months(this,t)}),R("month","M"),H("month",8),lt("M",X),lt("MM",X,V),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),ht(["M","MM"],function(t,e){e[gt]=x(t)-1}),ht(["MMM","MMMM"],function(t,e,n,i){var o=n._locale.monthsParse(t,i,n._strict);null!=o?e[gt]=o:h(n).invalidMonth=t});var Mt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Nt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function It(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=x(e);else if(!a(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),Et(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Ot(t){return null!=t?(It(this,t),n.updateOffset(this,!0),this):At(this,"Month")}var Ht=at,Lt=at;function Bt(){function t(t,e){return e.length-t.length}var e,n,i=[],o=[],r=[];for(e=0;e<12;e++)n=u([2e3,e]),i.push(this.monthsShort(n,"")),o.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(i.sort(t),o.sort(t),r.sort(t),e=0;e<12;e++)i[e]=dt(i[e]),o[e]=dt(o[e]);for(e=0;e<24;e++)r[e]=dt(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ft(t){var e;if(t<100&&0<=t){var n=Array.prototype.slice.call(arguments);n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)}else e=new Date(Date.UTC.apply(null,arguments));return e}function jt(t,e,n){var i=7+e-n;return-(7+Ft(t,0,i).getUTCDay()-e)%7+i-1}function zt(t,e,n,i,o){var r,a,s=1+7*(e-1)+(7+n-i)%7+jt(t,i,o);return a=s<=0?Ct(r=t-1)+s:s>Ct(t)?(r=t+1,s-Ct(t)):(r=t,s),{year:r,dayOfYear:a}}function Ut(t,e,n){var i,o,r=jt(t.year(),e,n),a=Math.floor((t.dayOfYear()-r-1)/7)+1;return a<1?i=a+$t(o=t.year()-1,e,n):a>$t(t.year(),e,n)?(i=a-$t(t.year(),e,n),o=t.year()+1):(o=t.year(),i=a),{week:i,year:o}}function $t(t,e,n){var i=jt(t,e,n),o=jt(t+1,e,n);return(Ct(t)-i+o)/7}function Wt(t,e){return t.slice(e,7).concat(t.slice(0,e))}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),R("week","w"),R("isoWeek","W"),H("week",5),H("isoWeek",5),lt("w",X),lt("ww",X,V),lt("W",X),lt("WW",X,V),ft(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=x(t)}),U("d",0,"do","day"),U("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),U("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),U("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),R("day","d"),R("weekday","e"),R("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),lt("d",X),lt("e",X),lt("E",X),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),ft(["dd","ddd","dddd"],function(t,e,n,i){var o=n._locale.weekdaysParse(t,i,n._strict);null!=o?e.d=o:h(n).invalidWeekday=t}),ft(["d","e","E"],function(t,e,n,i){e[i]=x(t)});var qt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Vt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Yt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Gt=at,Kt=at,Xt=at;function Jt(){function t(t,e){return e.length-t.length}var e,n,i,o,r,a=[],s=[],l=[],c=[];for(e=0;e<7;e++)n=u([2e3,1]).day(e),i=this.weekdaysMin(n,""),o=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(i),s.push(o),l.push(r),c.push(i),c.push(o),c.push(r);for(a.sort(t),s.sort(t),l.sort(t),c.sort(t),e=0;e<7;e++)s[e]=dt(s[e]),l[e]=dt(l[e]),c[e]=dt(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Zt(t,e){U(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function te(t,e){return e._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Qt),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Qt.apply(this)+L(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Qt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),Zt("a",!0),Zt("A",!1),R("hour","h"),H("hour",13),lt("a",te),lt("A",te),lt("H",X),lt("h",X),lt("k",X),lt("HH",X,V),lt("hh",X,V),lt("kk",X,V),lt("hmm",J),lt("hmmss",Q),lt("Hmm",J),lt("Hmmss",Q),ht(["H","HH"],vt),ht(["k","kk"],function(t,e,n){var i=x(t);e[vt]=24===i?0:i}),ht(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),ht(["h","hh"],function(t,e,n){e[vt]=x(t),h(n).bigHour=!0}),ht("hmm",function(t,e,n){var i=t.length-2;e[vt]=x(t.substr(0,i)),e[yt]=x(t.substr(i)),h(n).bigHour=!0}),ht("hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[vt]=x(t.substr(0,i)),e[yt]=x(t.substr(i,2)),e[bt]=x(t.substr(o)),h(n).bigHour=!0}),ht("Hmm",function(t,e,n){var i=t.length-2;e[vt]=x(t.substr(0,i)),e[yt]=x(t.substr(i))}),ht("Hmmss",function(t,e,n){var i=t.length-4,o=t.length-2;e[vt]=x(t.substr(0,i)),e[yt]=x(t.substr(i,2)),e[bt]=x(t.substr(o))});var ee,ne=Tt("Hours",!0),ie={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Rt,monthsShort:Nt,week:{dow:0,doy:6},weekdays:qt,weekdaysMin:Yt,weekdaysShort:Vt,meridiemParse:/[ap]\.?m?\.?/i},oe={},re={};function ae(t){return t?t.toLowerCase().replace("_","-"):t}function se(t){var e=null;if(!oe[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ee._abbr,require("./locale/"+t),le(e)}catch(t){}return oe[t]}function le(t,e){var n;return t&&((n=r(e)?de(t):ce(t,e))?ee=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ee._abbr}function ce(t,e){if(null===e)return delete oe[t],null;var n,i=ie;if(e.abbr=t,null!=oe[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=oe[t]._config;else if(null!=e.parentLocale)if(null!=oe[e.parentLocale])i=oe[e.parentLocale]._config;else{if(null==(n=se(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;i=n._config}return oe[t]=new E(P(i,e)),re[t]&&re[t].forEach(function(t){ce(t.name,t.config)}),le(t),oe[t]}function de(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ee;if(!i(t)){if(e=se(t))return e;t=[t]}return function(t){for(var e,n,i,o,r=0;r<t.length;){for(e=(o=ae(t[r]).split("-")).length,n=(n=ae(t[r+1]))?n.split("-"):null;0<e;){if(i=se(o.slice(0,e).join("-")))return i;if(n&&n.length>=e&&D(o,n,!0)>=e-1)break;e--}r++}return ee}(t)}function ue(t){var e,n=t._a;return n&&-2===h(t).overflow&&(e=n[gt]<0||11<n[gt]?gt:n[mt]<1||n[mt]>Et(n[pt],n[gt])?mt:n[vt]<0||24<n[vt]||24===n[vt]&&(0!==n[yt]||0!==n[bt]||0!==n[wt])?vt:n[yt]<0||59<n[yt]?yt:n[bt]<0||59<n[bt]?bt:n[wt]<0||999<n[wt]?wt:-1,h(t)._overflowDayOfYear&&(e<pt||mt<e)&&(e=mt),h(t)._overflowWeeks&&-1===e&&(e=xt),h(t)._overflowWeekday&&-1===e&&(e=Dt),h(t).overflow=e),t}function he(t,e,n){return null!=t?t:null!=e?e:n}function fe(t){var e,i,o,r,a,s=[];if(!t._d){var l,c;for(l=t,c=new Date(n.now()),o=l._useUTC?[c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()]:[c.getFullYear(),c.getMonth(),c.getDate()],t._w&&null==t._a[mt]&&null==t._a[gt]&&function(t){var e,n,i,o,r,a,s,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,a=4,n=he(e.GG,t._a[pt],Ut(Te(),1,4).year),i=he(e.W,1),((o=he(e.E,1))<1||7<o)&&(l=!0);else{r=t._locale._week.dow,a=t._locale._week.doy;var c=Ut(Te(),r,a);n=he(e.gg,t._a[pt],c.year),i=he(e.w,c.week),null!=e.d?((o=e.d)<0||6<o)&&(l=!0):null!=e.e?(o=e.e+r,(e.e<0||6<e.e)&&(l=!0)):o=r}i<1||i>$t(n,r,a)?h(t)._overflowWeeks=!0:null!=l?h(t)._overflowWeekday=!0:(s=zt(n,i,o,r,a),t._a[pt]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(a=he(t._a[pt],o[pt]),(t._dayOfYear>Ct(a)||0===t._dayOfYear)&&(h(t)._overflowDayOfYear=!0),i=Ft(a,0,t._dayOfYear),t._a[gt]=i.getUTCMonth(),t._a[mt]=i.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=o[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[vt]&&0===t._a[yt]&&0===t._a[bt]&&0===t._a[wt]&&(t._nextDay=!0,t._a[vt]=0),t._d=(t._useUTC?Ft:function(t,e,n,i,o,r,a){var s;return t<100&&0<=t?(s=new Date(t+400,e,n,i,o,r,a),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,i,o,r,a),s}).apply(null,s),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[vt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(h(t).weekdayMismatch=!0)}}var pe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],be=/^\/?Date\((\-?\d+)/i;function we(t){var e,n,i,o,r,a,s=t._i,l=pe.exec(s)||ge.exec(s);if(l){for(h(t).iso=!0,e=0,n=ve.length;e<n;e++)if(ve[e][1].exec(l[1])){o=ve[e][0],i=!1!==ve[e][2];break}if(null==o)return void(t._isValid=!1);if(l[3]){for(e=0,n=ye.length;e<n;e++)if(ye[e][1].exec(l[3])){r=(l[2]||" ")+ye[e][0];break}if(null==r)return void(t._isValid=!1)}if(!i&&null!=r)return void(t._isValid=!1);if(l[4]){if(!me.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=o+(r||"")+(a||""),_e(t)}else t._isValid=!1}var xe=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,De={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ce(t){var e,n,i,o=xe.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(o){var r=function(t,e,n,i,o,r){var a=[function(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}(t),Nt.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(o,10)];return r&&a.push(parseInt(r,10)),a}(o[4],o[3],o[2],o[5],o[6],o[7]);if(n=r,i=t,(e=o[1])&&Vt.indexOf(e)!==new Date(n[0],n[1],n[2]).getDay()&&(h(i).weekdayMismatch=!0,!(i._isValid=!1)))return;t._a=r,t._tzm=function(t,e,n){if(t)return De[t];if(e)return 0;var i=parseInt(n,10),o=i%100;return(i-o)/100*60+o}(o[8],o[9],o[10]),t._d=Ft.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),h(t).rfc2822=!0}else t._isValid=!1}function _e(t){if(t._f!==n.ISO_8601)if(t._f!==n.RFC_2822){t._a=[],h(t).empty=!0;var e,i,o,r,a,s,l,d,u=""+t._i,f=u.length,p=0;for(o=W(t._f,t._locale).match(B)||[],e=0;e<o.length;e++)(i=(u.match(ct(r=o[e],t))||[])[0])&&(0<(a=u.substr(0,u.indexOf(i))).length&&h(t).unusedInput.push(a),u=u.slice(u.indexOf(i)+i.length),p+=i.length),z[r]?(i?h(t).empty=!1:h(t).unusedTokens.push(r),s=r,d=t,null!=(l=i)&&c(ut,s)&&ut[s](l,d._a,d,s)):t._strict&&!i&&h(t).unusedTokens.push(r);h(t).charsLeftOver=f-p,0<u.length&&h(t).unusedInput.push(u),t._a[vt]<=12&&!0===h(t).bigHour&&0<t._a[vt]&&(h(t).bigHour=void 0),h(t).parsedDateParts=t._a.slice(0),h(t).meridiem=t._meridiem,t._a[vt]=function(t,e,n){var i;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):(null!=t.isPM&&((i=t.isPM(n))&&e<12&&(e+=12),i||12!==e||(e=0)),e)}(t._locale,t._a[vt],t._meridiem),fe(t),ue(t)}else Ce(t);else we(t)}function Se(t){var e,c,u,g,v=t._i,w=t._f;return t._locale=t._locale||de(t._l),null===v||void 0===w&&""===v?p({nullInput:!0}):("string"==typeof v&&(t._i=v=t._locale.preparse(v)),b(v)?new y(ue(v)):(s(v)?t._d=v:i(w)?function(t){var e,n,i,o,r;if(0===t._f.length)return h(t).invalidFormat=!0,t._d=new Date(NaN);for(o=0;o<t._f.length;o++)r=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[o],_e(e),f(e)&&(r+=h(e).charsLeftOver,r+=10*h(e).unusedTokens.length,h(e).score=r,(null==i||r<i)&&(i=r,n=e));d(t,n||e)}(t):w?_e(t):r(c=(e=t)._i)?e._d=new Date(n.now()):s(c)?e._d=new Date(c.valueOf()):"string"==typeof c?null===(g=be.exec((u=e)._i))?(we(u),!1===u._isValid&&(delete u._isValid,Ce(u),!1===u._isValid&&(delete u._isValid,n.createFromInputFallback(u)))):u._d=new Date(+g[1]):i(c)?(e._a=l(c.slice(0),function(t){return parseInt(t,10)}),fe(e)):o(c)?function(t){if(!t._d){var e=I(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),fe(t)}}(e):a(c)?e._d=new Date(c):n.createFromInputFallback(e),f(t)||(t._d=null),t))}function ke(t,e,n,r,a){var s,l={};return!0!==n&&!1!==n||(r=n,n=void 0),(o(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=a,l._l=n,l._i=t,l._f=e,l._strict=r,(s=new y(ue(Se(l))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Te(t,e,n,i){return ke(t,e,n,i,!1)}n.createFromInputFallback=_("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),n.ISO_8601=function(){},n.RFC_2822=function(){};var Ae=_("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:p()}),Pe=_("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Te.apply(null,arguments);return this.isValid()&&t.isValid()?this<t?this:t:p()});function Ee(t,e){var n,o;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Te();for(n=e[0],o=1;o<e.length;++o)e[o].isValid()&&!e[o][t](n)||(n=e[o]);return n}var Me=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Re(t){var e=I(t),n=e.year||0,i=e.quarter||0,o=e.month||0,r=e.week||e.isoWeek||0,a=e.day||0,s=e.hour||0,l=e.minute||0,c=e.second||0,d=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===St.call(Me,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,i=0;i<Me.length;++i)if(t[Me[i]]){if(n)return!1;parseFloat(t[Me[i]])!==x(t[Me[i]])&&(n=!0)}return!0}(e),this._milliseconds=+d+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*r,this._months=+o+3*i+12*n,this._data={},this._locale=de(),this._bubble()}function Ne(t){return t instanceof Re}function Ie(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Oe(t,e){U(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+L(~~(t/60),2)+e+L(~~t%60,2)})}Oe("Z",":"),Oe("ZZ",""),lt("Z",rt),lt("ZZ",rt),ht(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(rt,t)});var He=/([\+\-]|\d\d)/gi;function Le(t,e){var n=(e||"").match(t);if(null===n)return null;var i=((n[n.length-1]||[])+"").match(He)||["-",0,0],o=60*i[1]+x(i[2]);return 0===o?0:"+"===i[0]?o:-o}function Be(t,e){var i,o;return e._isUTC?(i=e.clone(),o=(b(t)||s(t)?t.valueOf():Te(t).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+o),n.updateOffset(i,!1),i):Te(t).local()}function Fe(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function je(){return!!this.isValid()&&this._isUTC&&0===this._offset}n.updateOffset=function(){};var ze=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ue=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function $e(t,e){var n,i,o,r=t,s=null;return Ne(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(r={},e?r[e]=t:r.milliseconds=t):(s=ze.exec(t))?(n="-"===s[1]?-1:1,r={y:0,d:x(s[mt])*n,h:x(s[vt])*n,m:x(s[yt])*n,s:x(s[bt])*n,ms:x(Ie(1e3*s[wt]))*n}):(s=Ue.exec(t))?r={y:We(s[2],n="-"===s[1]?-1:1),M:We(s[3],n),w:We(s[4],n),d:We(s[5],n),h:We(s[6],n),m:We(s[7],n),s:We(s[8],n)}:null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(o=function(t,e){var n;return t.isValid()&&e.isValid()?(e=Be(e,t),t.isBefore(e)?n=qe(t,e):((n=qe(e,t)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}(Te(r.from),Te(r.to)),(r={}).ms=o.milliseconds,r.M=o.months),i=new Re(r),Ne(t)&&c(t,"_locale")&&(i._locale=t._locale),i}function We(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function qe(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ve(t,e){return function(n,i){var o;return null===i||isNaN(+i)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=i,i=o),Ye(this,$e(n="string"==typeof n?+n:n,i),t),this}}function Ye(t,e,i,o){var r=e._milliseconds,a=Ie(e._days),s=Ie(e._months);t.isValid()&&(o=null==o||o,s&&It(t,At(t,"Month")+s*i),a&&Pt(t,"Date",At(t,"Date")+a*i),r&&t._d.setTime(t._d.valueOf()+r*i),o&&n.updateOffset(t,a||s))}$e.fn=Re.prototype,$e.invalid=function(){return $e(NaN)};var Ge=Ve(1,"add"),Ke=Ve(-1,"subtract");function Xe(t,e){var n=12*(e.year()-t.year())+(e.month()-t.month()),i=t.clone().add(n,"months");return-(n+(e-i<0?(e-i)/(i-t.clone().add(n-1,"months")):(e-i)/(t.clone().add(n+1,"months")-i)))||0}function Je(t){var e;return void 0===t?this._locale._abbr:(null!=(e=de(t))&&(this._locale=e),this)}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Qe=_("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function Ze(){return this._locale}var tn=126227808e5;function en(t,e){return(t%e+e)%e}function nn(t,e,n){return t<100&&0<=t?new Date(t+400,e,n)-tn:new Date(t,e,n).valueOf()}function on(t,e,n){return t<100&&0<=t?Date.UTC(t+400,e,n)-tn:Date.UTC(t,e,n)}function rn(t,e){U(0,[t,t.length],0,e)}function an(t,e,n,i,o){var r;return null==t?Ut(this,i,o).year:((r=$t(t,i,o))<e&&(e=r),(function(t,e,n,i,o){var r=zt(t,e,n,i,o),a=Ft(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}).call(this,t,e,n,i,o))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),rn("gggg","weekYear"),rn("ggggg","weekYear"),rn("GGGG","isoWeekYear"),rn("GGGGG","isoWeekYear"),R("weekYear","gg"),R("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),lt("G",it),lt("g",it),lt("GG",X,V),lt("gg",X,V),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",et,K),lt("ggggg",et,K),ft(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=x(t)}),ft(["gg","GG"],function(t,e,i,o){e[o]=n.parseTwoDigitYear(t)}),U("Q",0,"Qo","quarter"),R("quarter","Q"),H("quarter",7),lt("Q",q),ht("Q",function(t,e){e[gt]=3*(x(t)-1)}),U("D",["DD",2],"Do","date"),R("date","D"),H("date",9),lt("D",X),lt("DD",X,V),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),ht(["D","DD"],mt),ht("Do",function(t,e){e[mt]=x(t.match(X)[0])});var sn=Tt("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),R("dayOfYear","DDD"),H("dayOfYear",4),lt("DDD",Z),lt("DDDD",Y),ht(["DDD","DDDD"],function(t,e,n){n._dayOfYear=x(t)}),U("m",["mm",2],0,"minute"),R("minute","m"),H("minute",14),lt("m",X),lt("mm",X,V),ht(["m","mm"],yt);var ln=Tt("Minutes",!1);U("s",["ss",2],0,"second"),R("second","s"),H("second",15),lt("s",X),lt("ss",X,V),ht(["s","ss"],bt);var cn,dn=Tt("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),R("millisecond","ms"),H("millisecond",16),lt("S",Z,q),lt("SS",Z,V),lt("SSS",Z,Y),cn="SSSS";cn.length<=9;cn+="S")lt(cn,nt);function un(t,e){e[wt]=x(1e3*("0."+t))}for(cn="S";cn.length<=9;cn+="S")ht(cn,un);var hn=Tt("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var fn=y.prototype;function pn(t){return t}fn.add=Ge,fn.calendar=function(t,e){var i=t||Te(),o=Be(i,this).startOf("day"),r=n.calendarFormat(this,o)||"sameElse",a=e&&(A(e[r])?e[r].call(this,i):e[r]);return this.format(a||this.localeData().calendar(r,this,Te(i)))},fn.clone=function(){return new y(this)},fn.diff=function(t,e,n){var i,o,r;if(!this.isValid())return NaN;if(!(i=Be(t,this)).isValid())return NaN;switch(o=6e4*(i.utcOffset()-this.utcOffset()),e=N(e)){case"year":r=Xe(this,i)/12;break;case"month":r=Xe(this,i);break;case"quarter":r=Xe(this,i)/3;break;case"second":r=(this-i)/1e3;break;case"minute":r=(this-i)/6e4;break;case"hour":r=(this-i)/36e5;break;case"day":r=(this-i-o)/864e5;break;case"week":r=(this-i-o)/6048e5;break;default:r=this-i}return n?r:w(r)},fn.endOf=function(t){var e;if(void 0===(t=N(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?on:nn;switch(t){case"year":e=i(this.year()+1,0,1)-1;break;case"quarter":e=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=i(this.year(),this.month()+1,1)-1;break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-en(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-en(e,1e3)-1}return this._d.setTime(e),n.updateOffset(this,!0),this},fn.format=function(t){t||(t=this.isUtc()?n.defaultFormatUtc:n.defaultFormat);var e=$(this,t);return this.localeData().postformat(e)},fn.from=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||Te(t).isValid())?$e({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},fn.fromNow=function(t){return this.from(Te(),t)},fn.to=function(t,e){return this.isValid()&&(b(t)&&t.isValid()||Te(t).isValid())?$e({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},fn.toNow=function(t){return this.to(Te(),t)},fn.get=function(t){return A(this[t=N(t)])?this[t]():this},fn.invalidAt=function(){return h(this).overflow},fn.isAfter=function(t,e){var n=b(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},fn.isBefore=function(t,e){var n=b(t)?t:Te(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},fn.isBetween=function(t,e,n,i){var o=b(t)?t:Te(t),r=b(e)?e:Te(e);return!!(this.isValid()&&o.isValid()&&r.isValid())&&("("===(i=i||"()")[0]?this.isAfter(o,n):!this.isBefore(o,n))&&(")"===i[1]?this.isBefore(r,n):!this.isAfter(r,n))},fn.isSame=function(t,e){var n,i=b(t)?t:Te(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=N(e)||"millisecond")?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},fn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},fn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},fn.isValid=function(){return f(this)},fn.lang=Qe,fn.locale=Je,fn.localeData=Ze,fn.max=Pe,fn.min=Ae,fn.parsingFlags=function(){return d({},h(this))},fn.set=function(t,e){if("object"==typeof t)for(var n=function(t){var e=[];for(var n in t)e.push({unit:n,priority:O[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=I(t)),i=0;i<n.length;i++)this[n[i].unit](t[n[i].unit]);else if(A(this[t=N(t)]))return this[t](e);return this},fn.startOf=function(t){var e;if(void 0===(t=N(t))||"millisecond"===t||!this.isValid())return this;var i=this._isUTC?on:nn;switch(t){case"year":e=i(this.year(),0,1);break;case"quarter":e=i(this.year(),this.month()-this.month()%3,1);break;case"month":e=i(this.year(),this.month(),1);break;case"week":e=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=i(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=en(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=en(e,6e4);break;case"second":e=this._d.valueOf(),e-=en(e,1e3)}return this._d.setTime(e),n.updateOffset(this,!0),this},fn.subtract=Ke,fn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},fn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},fn.toDate=function(){return new Date(this.valueOf())},fn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||9999<n.year()?$(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):A(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(n,"Z")):$(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},fn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(n+i+"-MM-DD[T]HH:mm:ss.SSS"+e+'[")]')},fn.toJSON=function(){return this.isValid()?this.toISOString():null},fn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},fn.unix=function(){return Math.floor(this.valueOf()/1e3)},fn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},fn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},fn.year=kt,fn.isLeapYear=function(){return _t(this.year())},fn.weekYear=function(t){return an.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},fn.isoWeekYear=function(t){return an.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},fn.quarter=fn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},fn.month=Ot,fn.daysInMonth=function(){return Et(this.year(),this.month())},fn.week=fn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},fn.isoWeek=fn.isoWeeks=function(t){var e=Ut(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},fn.weeksInYear=function(){var t=this.localeData()._week;return $t(this.year(),t.dow,t.doy)},fn.isoWeeksInYear=function(){return $t(this.year(),1,4)},fn.date=sn,fn.day=fn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(e=t,n=this.localeData(),t="string"!=typeof e?e:isNaN(e)?"number"==typeof(e=n.weekdaysParse(e))?e:null:parseInt(e,10),this.add(t-i,"d")):i},fn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},fn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null==t)return this.day()||7;var e,n,i=(e=t,n=this.localeData(),"string"==typeof e?n.weekdaysParse(e)%7||7:isNaN(e)?null:e);return this.day(this.day()%7?i:i-7)},fn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},fn.hour=fn.hours=ne,fn.minute=fn.minutes=ln,fn.second=fn.seconds=dn,fn.millisecond=fn.milliseconds=hn,fn.utcOffset=function(t,e,i){var o,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null==t)return this._isUTC?r:Fe(this);if("string"==typeof t){if(null===(t=Le(rt,t)))return this}else Math.abs(t)<16&&!i&&(t*=60);return!this._isUTC&&e&&(o=Fe(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),r!==t&&(!e||this._changeInProgress?Ye(this,$e(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,n.updateOffset(this,!0),this._changeInProgress=null)),this},fn.utc=function(t){return this.utcOffset(0,t)},fn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},fn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Le(ot,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},fn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Te(t).utcOffset():0,(this.utcOffset()-t)%60==0)},fn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},fn.isLocal=function(){return!!this.isValid()&&!this._isUTC},fn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},fn.isUtc=je,fn.isUTC=je,fn.zoneAbbr=function(){return this._isUTC?"UTC":""},fn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},fn.dates=_("dates accessor is deprecated. Use date instead.",sn),fn.months=_("months accessor is deprecated. Use month instead",Ot),fn.years=_("years accessor is deprecated. Use year instead",kt),fn.zone=_("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),fn.isDSTShifted=_("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),(t=Se(t))._a){var e=t._isUTC?u(t._a):Te(t._a);this._isDSTShifted=this.isValid()&&0<D(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var gn=E.prototype;function mn(t,e,n,i){var o=de(),r=u().set(i,e);return o[n](r,t)}function vn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return mn(t,e,n,"month");var i,o=[];for(i=0;i<12;i++)o[i]=mn(t,i,n,"month");return o}function yn(t,e,n,i){"boolean"==typeof t?a(e)&&(n=e,e=void 0):(e=t,t=!1,a(n=e)&&(n=e,e=void 0)),e=e||"";var o,r=de(),s=t?r._week.dow:0;if(null!=n)return mn(e,(n+s)%7,i,"day");var l=[];for(o=0;o<7;o++)l[o]=mn(e,(o+s)%7,i,"day");return l}gn.calendar=function(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return A(i)?i.call(e,n):i},gn.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},gn.invalidDate=function(){return this._invalidDate},gn.ordinal=function(t){return this._ordinal.replace("%d",t)},gn.preparse=pn,gn.postformat=pn,gn.relativeTime=function(t,e,n,i){var o=this._relativeTime[n];return A(o)?o(t,e,n,i):o.replace(/%d/i,t)},gn.pastFuture=function(t,e){var n=this._relativeTime[0<t?"future":"past"];return A(n)?n(e):n.replace(/%s/i,e)},gn.set=function(t){var e,n;for(n in t)A(e=t[n])?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gn.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Mt).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},gn.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Mt.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gn.monthsParse=function(t,e,n){var i,o,r;if(this._monthsParseExact)return(function(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)r=u([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(o=St.call(this._shortMonthsParse,a))?o:null:-1!==(o=St.call(this._longMonthsParse,a))?o:null:"MMM"===e?-1!==(o=St.call(this._shortMonthsParse,a))?o:-1!==(o=St.call(this._longMonthsParse,a))?o:null:-1!==(o=St.call(this._longMonthsParse,a))?o:-1!==(o=St.call(this._shortMonthsParse,a))?o:null}).call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(o=u([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(r="^"+this.months(o,"")+"|^"+this.monthsShort(o,""),this._monthsParse[i]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[i].test(t))return i;if(n&&"MMM"===e&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}},gn.monthsRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Bt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Lt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},gn.monthsShortRegex=function(t){return this._monthsParseExact?(c(this,"_monthsRegex")||Bt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ht),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},gn.week=function(t){return Ut(t,this._week.dow,this._week.doy).week},gn.firstDayOfYear=function(){return this._week.doy},gn.firstDayOfWeek=function(){return this._week.dow},gn.weekdays=function(t,e){var n=i(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Wt(n,this._week.dow):t?n[t.day()]:n},gn.weekdaysMin=function(t){return!0===t?Wt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},gn.weekdaysShort=function(t){return!0===t?Wt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},gn.weekdaysParse=function(t,e,n){var i,o,r;if(this._weekdaysParseExact)return(function(t,e,n){var i,o,r,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)r=u([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(o=St.call(this._weekdaysParse,a))?o:null:"ddd"===e?-1!==(o=St.call(this._shortWeekdaysParse,a))?o:null:-1!==(o=St.call(this._minWeekdaysParse,a))?o:null:"dddd"===e?-1!==(o=St.call(this._weekdaysParse,a))?o:-1!==(o=St.call(this._shortWeekdaysParse,a))?o:-1!==(o=St.call(this._minWeekdaysParse,a))?o:null:"ddd"===e?-1!==(o=St.call(this._shortWeekdaysParse,a))?o:-1!==(o=St.call(this._weekdaysParse,a))?o:-1!==(o=St.call(this._minWeekdaysParse,a))?o:null:-1!==(o=St.call(this._minWeekdaysParse,a))?o:-1!==(o=St.call(this._weekdaysParse,a))?o:-1!==(o=St.call(this._shortWeekdaysParse,a))?o:null}).call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(o=u([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(r="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,""),this._weekdaysParse[i]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[i].test(t))return i;if(n&&"ddd"===e&&this._shortWeekdaysParse[i].test(t))return i;if(n&&"dd"===e&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}},gn.weekdaysRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Jt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},gn.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Jt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Kt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gn.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Jt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gn.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},gn.meridiem=function(t,e,n){return 11<t?n?"pm":"PM":n?"am":"AM"},le("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===x(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),n.lang=_("moment.lang is deprecated. Use moment.locale instead.",le),n.langData=_("moment.langData is deprecated. Use moment.localeData instead.",de);var bn=Math.abs;function wn(t,e,n,i){var o=$e(e,n);return t._milliseconds+=i*o._milliseconds,t._days+=i*o._days,t._months+=i*o._months,t._bubble()}function xn(t){return t<0?Math.floor(t):Math.ceil(t)}function Dn(t){return 4800*t/146097}function Cn(t){return 146097*t/4800}function _n(t){return function(){return this.as(t)}}var Sn=_n("ms"),kn=_n("s"),Tn=_n("m"),An=_n("h"),Pn=_n("d"),En=_n("w"),Mn=_n("M"),Rn=_n("Q"),Nn=_n("y");function In(t){return function(){return this.isValid()?this._data[t]:NaN}}var On=In("milliseconds"),Hn=In("seconds"),Ln=In("minutes"),Bn=In("hours"),Fn=In("days"),jn=In("months"),zn=In("years"),Un=Math.round,$n={ss:44,s:45,m:45,h:22,d:26,M:11},Wn=Math.abs;function qn(t){return(0<t)-(t<0)||+t}function Vn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n=Wn(this._milliseconds)/1e3,i=Wn(this._days),o=Wn(this._months);e=w((t=w(n/60))/60),n%=60,t%=60;var r=w(o/12),a=o%=12,s=i,l=e,c=t,d=n?n.toFixed(3).replace(/\.?0+$/,""):"",u=this.asSeconds();if(!u)return"P0D";var h=u<0?"-":"",f=qn(this._months)!==qn(u)?"-":"",p=qn(this._days)!==qn(u)?"-":"",g=qn(this._milliseconds)!==qn(u)?"-":"";return h+"P"+(r?f+r+"Y":"")+(a?f+a+"M":"")+(s?p+s+"D":"")+(l||c||d?"T":"")+(l?g+l+"H":"")+(c?g+c+"M":"")+(d?g+d+"S":"")}var Yn=Re.prototype;return Yn.isValid=function(){return this._isValid},Yn.abs=function(){var t=this._data;return this._milliseconds=bn(this._milliseconds),this._days=bn(this._days),this._months=bn(this._months),t.milliseconds=bn(t.milliseconds),t.seconds=bn(t.seconds),t.minutes=bn(t.minutes),t.hours=bn(t.hours),t.months=bn(t.months),t.years=bn(t.years),this},Yn.add=function(t,e){return wn(this,t,e,1)},Yn.subtract=function(t,e){return wn(this,t,e,-1)},Yn.as=function(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if("month"===(t=N(t))||"quarter"===t||"year"===t)switch(e=this._days+i/864e5,n=this._months+Dn(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(Cn(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return 24*e+i/36e5;case"minute":return 1440*e+i/6e4;case"second":return 86400*e+i/1e3;case"millisecond":return Math.floor(864e5*e)+i;default:throw new Error("Unknown unit "+t)}},Yn.asMilliseconds=Sn,Yn.asSeconds=kn,Yn.asMinutes=Tn,Yn.asHours=An,Yn.asDays=Pn,Yn.asWeeks=En,Yn.asMonths=Mn,Yn.asQuarters=Rn,Yn.asYears=Nn,Yn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*x(this._months/12):NaN},Yn._bubble=function(){var t,e,n,i,o,r=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=r&&0<=a&&0<=s||r<=0&&a<=0&&s<=0||(r+=864e5*xn(Cn(s)+a),s=a=0),l.milliseconds=r%1e3,t=w(r/1e3),l.seconds=t%60,e=w(t/60),l.minutes=e%60,n=w(e/60),l.hours=n%24,s+=o=w(Dn(a+=w(n/24))),a-=xn(Cn(o)),i=w(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},Yn.clone=function(){return $e(this)},Yn.get=function(t){return t=N(t),this.isValid()?this[t+"s"]():NaN},Yn.milliseconds=On,Yn.seconds=Hn,Yn.minutes=Ln,Yn.hours=Bn,Yn.days=Fn,Yn.weeks=function(){return w(this.days()/7)},Yn.months=jn,Yn.years=zn,Yn.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e,n,i,o,r,a,s,l,c,d,u=this.localeData(),h=(e=!t,n=u,i=$e(this).abs(),o=Un(i.as("s")),r=Un(i.as("m")),a=Un(i.as("h")),s=Un(i.as("d")),l=Un(i.as("M")),c=Un(i.as("y")),(d=o<=$n.ss&&["s",o]||o<$n.s&&["ss",o]||r<=1&&["m"]||r<$n.m&&["mm",r]||a<=1&&["h"]||a<$n.h&&["hh",a]||s<=1&&["d"]||s<$n.d&&["dd",s]||l<=1&&["M"]||l<$n.M&&["MM",l]||c<=1&&["y"]||["yy",c])[2]=e,d[3]=0<+this,d[4]=n,(function(t,e,n,i,o){return o.relativeTime(e||1,!!n,t,i)}).apply(null,d));return t&&(h=u.pastFuture(+this,h)),u.postformat(h)},Yn.toISOString=Vn,Yn.toString=Vn,Yn.toJSON=Vn,Yn.locale=Je,Yn.localeData=Ze,Yn.toIsoString=_("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Vn),Yn.lang=Qe,U("X",0,0,"unix"),U("x",0,0,"valueOf"),lt("x",it),lt("X",/[+-]?\d+(\.\d{1,3})?/),ht("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),ht("x",function(t,e,n){n._d=new Date(x(t))}),n.version="2.24.0",t=Te,n.fn=fn,n.min=function(){return Ee("isBefore",[].slice.call(arguments,0))},n.max=function(){return Ee("isAfter",[].slice.call(arguments,0))},n.now=function(){return Date.now?Date.now():+new Date},n.utc=u,n.unix=function(t){return Te(1e3*t)},n.months=function(t,e){return vn(t,e,"months")},n.isDate=s,n.locale=le,n.invalid=p,n.duration=$e,n.isMoment=b,n.weekdays=function(t,e,n){return yn(t,e,n,"weekdays")},n.parseZone=function(){return Te.apply(null,arguments).parseZone()},n.localeData=de,n.isDuration=Ne,n.monthsShort=function(t,e){return vn(t,e,"monthsShort")},n.weekdaysMin=function(t,e,n){return yn(t,e,n,"weekdaysMin")},n.defineLocale=ce,n.updateLocale=function(t,e){if(null!=e){var n,i,o=ie;null!=(i=se(t))&&(o=i._config),(n=new E(e=P(o,e))).parentLocale=oe[t],oe[t]=n,le(t)}else null!=oe[t]&&(null!=oe[t].parentLocale?oe[t]=oe[t].parentLocale:null!=oe[t]&&delete oe[t]);return oe[t]},n.locales=function(){return S(oe)},n.weekdaysShort=function(t,e,n){return yn(t,e,n,"weekdaysShort")},n.normalizeUnits=N,n.relativeTimeRounding=function(t){return void 0===t?Un:"function"==typeof t&&(Un=t,!0)},n.relativeTimeThreshold=function(t,e){return void 0!==$n[t]&&(void 0===e?$n[t]:($n[t]=e,"s"===t&&($n.ss=e-1),!0))},n.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},n.prototype=fn,n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},n}),function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"),require("moment"));else if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else{var n="object"==typeof exports?e(require("jquery"),require("moment")):e(t.jQuery,t.moment);for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(t,e){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=72)}([function(t,e){e.__extends=function(t,e){function n(){this.constructor=t}(function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(e,n){e.exports=t},function(t,e,n){function i(t){t.height("")}function o(t){var e,n=t[0].offsetWidth-t[0].clientWidth,i=t[0].offsetHeight-t[0].clientHeight;return n=r(n),e={left:0,right:0,top:0,bottom:i=r(i)},function(){return null===b&&(e=(t=y("<div><div/></div>").css({position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}).appendTo("body")).children().offset().left>t.offset().left,t.remove(),b=e),b;var t,e}()&&"rtl"==t.css("direction")?e.left=n:e.right=n,e}function r(t){return t=Math.max(0,t),Math.round(t)}function a(t,e){return parseFloat(t.css(e))||0}function s(t){t.preventDefault()}function l(t,e,n){return n.func?n.func(t,e):c(t[n.field],e[n.field])*(n.order||1)}function c(t,e){return t||e?null==e?-1:null==t?1:"string"===y.type(t)||"string"===y.type(e)?String(t).localeCompare(String(e)):t-e:0}function d(t,n){var i,o,r;for(i=0;i<e.unitsDesc.length&&!((r=u(o=e.unitsDesc[i],t,n))>=1&&m(r));i++);return o}function u(t,e,n){return null!=n?n.diff(e,t,!0):v.isDuration(e)?e.as(t):e.end.diff(e.start,t,!0)}function h(t){return Boolean(t.hours()||t.minutes()||t.seconds()||t.milliseconds())}function f(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=window.console;if(n&&n.log)return n.log.apply(n,t)}function p(t,e){return w.call(t,e)}function g(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function m(t){return t%1==0}Object.defineProperty(e,"__esModule",{value:!0});var v=n(3),y=n(1);e.compensateScroll=function(t,e){e.left&&t.css({"border-left-width":1,"margin-left":e.left-1}),e.right&&t.css({"border-right-width":1,"margin-right":e.right-1})},e.uncompensateScroll=function(t){t.css({"margin-left":"","margin-right":"","border-left-width":"","border-right-width":""})},e.disableCursor=function(){y("body").addClass("fc-not-allowed")},e.enableCursor=function(){y("body").removeClass("fc-not-allowed")},e.distributeHeight=function(t,e,n){var o=Math.floor(e/t.length),r=Math.floor(e-o*(t.length-1)),a=[],s=[],l=[],c=0;i(t),t.each(function(e,n){var i=e===t.length-1?r:o,d=y(n).outerHeight(!0);d<i?(a.push(n),s.push(d),l.push(y(n).height())):c+=d}),n&&(e-=c,o=Math.floor(e/a.length),r=Math.floor(e-o*(a.length-1))),y(a).each(function(t,e){var n=t===a.length-1?r:o,i=s[t],c=n-(i-l[t]);i<n&&y(e).height(c)})},e.undistributeHeight=i,e.matchCellWidths=function(t){var e=0;return t.find("> *").each(function(t,n){var i=y(n).outerWidth();i>e&&(e=i)}),t.width(++e),e},e.subtractInnerElHeight=function(t,e){var n,i=t.add(e);return i.css({position:"relative",left:-1}),n=t.outerHeight()-e.outerHeight(),i.css({position:"",left:""}),n},e.getScrollParent=function(t){var e=t.css("position"),n=t.parents().filter(function(){var t=y(this);return/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&n.length?n:y(t[0].ownerDocument||document)},e.getOuterRect=function(t,e){var n=t.offset(),i=n.left-(e?e.left:0),o=n.top-(e?e.top:0);return{left:i,right:i+t.outerWidth(),top:o,bottom:o+t.outerHeight()}},e.getClientRect=function(t,e){var n=t.offset(),i=o(t),r=n.left+a(t,"border-left-width")+i.left-(e?e.left:0),s=n.top+a(t,"border-top-width")+i.top-(e?e.top:0);return{left:r,right:r+t[0].clientWidth,top:s,bottom:s+t[0].clientHeight}},e.getContentRect=function(t,e){var n=t.offset(),i=n.left+a(t,"border-left-width")+a(t,"padding-left")-(e?e.left:0),o=n.top+a(t,"border-top-width")+a(t,"padding-top")-(e?e.top:0);return{left:i,right:i+t.width(),top:o,bottom:o+t.height()}},e.getScrollbarWidths=o;var b=null;e.isPrimaryMouseButton=function(t){return 1==t.which&&!t.ctrlKey},e.getEvX=function(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageX:t.pageX},e.getEvY=function(t){var e=t.originalEvent.touches;return e&&e.length?e[0].pageY:t.pageY},e.getEvIsTouch=function(t){return/^touch/.test(t.type)},e.preventSelection=function(t){t.addClass("fc-unselectable").on("selectstart",s)},e.allowSelection=function(t){t.removeClass("fc-unselectable").off("selectstart",s)},e.preventDefault=s,e.intersectRects=function(t,e){var n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom&&n},e.constrainPoint=function(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}},e.getRectCenter=function(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}},e.diffPoints=function(t,e){return{left:t.left-e.left,top:t.top-e.top}},e.parseFieldSpecs=function(t){var e,n,i=[],o=[];for("string"==typeof t?o=t.split(/\s*,\s*/):"function"==typeof t?o=[t]:y.isArray(t)&&(o=t),e=0;e<o.length;e++)"string"==typeof(n=o[e])?i.push("-"==n.charAt(0)?{field:n.substring(1),order:-1}:{field:n,order:1}):"function"==typeof n&&i.push({func:n});return i},e.compareByFieldSpecs=function(t,e,n){var i,o;for(i=0;i<n.length;i++)if(o=l(t,e,n[i]))return o;return 0},e.compareByFieldSpec=l,e.flexibleCompare=c,e.dayIDs=["sun","mon","tue","wed","thu","fri","sat"],e.unitsDesc=["year","month","week","day","hour","minute","second","millisecond"],e.diffDayTime=function(t,e){return v.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days"),ms:t.time()-e.time()})},e.diffDay=function(t,e){return v.duration({days:t.clone().stripTime().diff(e.clone().stripTime(),"days")})},e.diffByUnit=function(t,e,n){return v.duration(Math.round(t.diff(e,n,!0)),n)},e.computeGreatestUnit=d,e.computeDurationGreatestUnit=function(t,e){var n=d(t);return"week"===n&&"object"==typeof e&&e.days&&(n="day"),n},e.divideRangeByDuration=function(t,e,n){var i;return h(n)?(e-t)/n:(i=n.asMonths(),Math.abs(i)>=1&&m(i)?e.diff(t,"months",!0)/i:e.diff(t,"days",!0)/n.asDays())},e.divideDurationByDuration=function(t,e){var n,i;return h(t)||h(e)?t/e:(n=t.asMonths(),i=e.asMonths(),Math.abs(n)>=1&&m(n)&&Math.abs(i)>=1&&m(i)?n/i:t.asDays()/e.asDays())},e.multiplyDuration=function(t,e){var n;return h(t)?v.duration(t*e):(n=t.asMonths(),Math.abs(n)>=1&&m(n)?v.duration({months:n*e}):v.duration({days:t.asDays()*e}))},e.durationHasTime=h,e.isNativeDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date},e.isTimeString=function(t){return"string"==typeof t&&/^\d+\:\d+(?:\:\d+\.?(?:\d{3})?)?$/.test(t)},e.log=f,e.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=window.console;return n&&n.warn?n.warn.apply(n,t):f.apply(null,t)};var w={}.hasOwnProperty;e.mergeProps=function t(e,n){var i,o,r,a,s,l,c={};if(n)for(i=0;i<n.length;i++){for(o=n[i],r=[],a=e.length-1;a>=0;a--)if("object"==typeof(s=e[a][o]))r.unshift(s);else if(void 0!==s){c[o]=s;break}r.length&&(c[o]=t(r))}for(i=e.length-1;i>=0;i--)for(o in l=e[i])o in c||(c[o]=l[o]);return c},e.copyOwnProps=function(t,e){for(var n in t)p(t,n)&&(e[n]=t[n])},e.hasOwnProp=p,e.applyAll=function(t,e,n){if(y.isFunction(t)&&(t=[t]),t){var i,o;for(i=0;i<t.length;i++)o=t[i].apply(e,n)||o;return o}},e.removeMatching=function(t,e){for(var n=0,i=0;i<t.length;)e(t[i])?(t.splice(i,1),n++):i++;return n},e.removeExact=function(t,e){for(var n=0,i=0;i<t.length;)t[i]===e?(t.splice(i,1),n++):i++;return n},e.isArraysEqual=function(t,e){var n,i=t.length;if(null==i||i!==e.length)return!1;for(n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0},e.firstDefined=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;n++)if(void 0!==t[n])return t[n]},e.htmlEscape=g,e.stripHtmlEntities=function(t){return t.replace(/&.*?;/g,"")},e.cssToStr=function(t){var e=[];return y.each(t,function(t,n){null!=n&&e.push(t+":"+n)}),e.join(";")},e.attrsToStr=function(t){var e=[];return y.each(t,function(t,n){null!=n&&e.push(t+'="'+g(n)+'"')}),e.join(" ")},e.capitaliseFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.compareNumbers=function(t,e){return t-e},e.isInt=m,e.proxy=function(t,e){var n=t[e];return function(){return n.apply(t,arguments)}},e.debounce=function(t,e,n){void 0===n&&(n=!1);var i,o,r,a,s,l=function(){var c=+new Date-a;c<e?i=setTimeout(l,e-c):(i=null,n||(s=t.apply(r,o),r=o=null))};return function(){r=this,o=arguments,a=+new Date;var c=n&&!i;return i||(i=setTimeout(l,e)),c&&(s=t.apply(r,o),r=o=null),s}}},function(t,n){t.exports=e},function(t,e,n){function i(t,e){return t.startMs-e.startMs}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(9),a=function(){function t(t,e){this.isStart=!0,this.isEnd=!0,o.isMoment(t)&&(t=t.clone().stripZone()),o.isMoment(e)&&(e=e.clone().stripZone()),t&&(this.startMs=t.valueOf()),e&&(this.endMs=e.valueOf())}return t.prototype.intersect=function(e){var n=this.startMs,i=this.endMs,o=null;return null!=e.startMs&&(n=null==n?e.startMs:Math.max(n,e.startMs)),null!=e.endMs&&(i=null==i?e.endMs:Math.min(i,e.endMs)),(null==n||null==i||n<i)&&((o=new t(n,i)).isStart=this.isStart&&n===this.startMs,o.isEnd=this.isEnd&&i===this.endMs),o},t.prototype.intersectsWith=function(t){return(null==this.endMs||null==t.startMs||this.endMs>t.startMs)&&(null==this.startMs||null==t.endMs||this.startMs<t.endMs)},t.prototype.containsRange=function(t){return(null==this.startMs||null!=t.startMs&&t.startMs>=this.startMs)&&(null==this.endMs||null!=t.endMs&&t.endMs<=this.endMs)},t.prototype.containsDate=function(t){var e=t.valueOf();return(null==this.startMs||e>=this.startMs)&&(null==this.endMs||e<this.endMs)},t.prototype.constrainDate=function(t){var e=t.valueOf();return null!=this.startMs&&e<this.startMs&&(e=this.startMs),null!=this.endMs&&e>=this.endMs&&(e=this.endMs-1),e},t.prototype.equals=function(t){return this.startMs===t.startMs&&this.endMs===t.endMs},t.prototype.clone=function(){var e=new t(this.startMs,this.endMs);return e.isStart=this.isStart,e.isEnd=this.isEnd,e},t.prototype.getStart=function(){return null!=this.startMs?r.default.utc(this.startMs).stripZone():null},t.prototype.getEnd=function(){return null!=this.endMs?r.default.utc(this.endMs).stripZone():null},t.prototype.as=function(t){return o.utc(this.endMs).diff(o.utc(this.startMs),t,!0)},t.invertRanges=function(e,n){var o,r,a=[],s=n.startMs;for(e.sort(i),o=0;o<e.length;o++)(r=e[o]).startMs>s&&a.push(new t(s,r.startMs)),r.endMs>s&&(s=r.endMs);return s<n.endMs&&a.push(new t(s,n.endMs)),a},t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(50),a=n(21),s=n(33),l=function(t){function e(n){var i=t.call(this)||this;return i.calendar=n,i.className=[],i.uid=String(e.uuid++),i}return i.__extends(e,t),e.prototype.fetch=function(t,e,n){},e.prototype.removeEventDefsById=function(t){},e.prototype.removeAllEventDefs=function(){},e.prototype.getPrimitive=function(t){},e.prototype.parseEventDefs=function(t){var e,n,i=[];for(e=0;e<t.length;e++)(n=this.parseEventDef(t[e]))&&i.push(n);return i},e.prototype.parseEventDef=function(t){var e=this.calendar.opt("eventDataTransform"),n=this.eventDataTransform;return e&&(t=e(t)),n&&(t=n(t)),s.default.parse(t,this)},e.prototype.applyManualStandardProps=function(t){return null!=t.id&&(this.id=e.normalizeId(t.id)),o.isArray(t.className)?this.className=t.className:"string"==typeof t.className&&(this.className=t.className.split(/\s+/)),!0},e.parse=function(t,e){var n=new this(e);return!("object"!=typeof t||!n.applyProps(t))&&n},e.normalizeId=function(t){return t?String(t):null},e.defineStandardProps=r.default.defineStandardProps,e.copyVerbatimStandardProps=r.default.copyVerbatimStandardProps,e.uuid=0,e}(a.default);e.default=l,r.default.mixInto(l),l.defineStandardProps({id:!1,className:!1,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0,editable:!0,startEditable:!0,durationEditable:!0,rendering:!0,overlap:!0,constraint:!0,allDayDefault:!0,eventDataTransform:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=0,a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.listenerId=null,e}return i.__extends(e,t),e.prototype.listenTo=function(t,e,n){if("object"==typeof e)for(var i in e)e.hasOwnProperty(i)&&this.listenTo(t,i,e[i]);else"string"==typeof e&&t.on(e+"."+this.getListenerNamespace(),o.proxy(n,this))},e.prototype.stopListeningTo=function(t,e){t.off((e||"")+"."+this.getListenerNamespace())},e.prototype.getListenerNamespace=function(){return null==this.listenerId&&(this.listenerId=r++),"_listener"+this.listenerId},e}(n(12).default);e.default=a},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={version:"<%= version %>",internalApiVersion:12,touchMouseIgnoreWait:500,dataAttrPrefix:"",views:{},locales:{}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.on=function(t,e){return o(this).on(t,this._prepareIntercept(e)),this},e.prototype.one=function(t,e){return o(this).one(t,this._prepareIntercept(e)),this},e.prototype._prepareIntercept=function(t){var e=function(e,n){return t.apply(n.context||this,n.args||[])};return t.guid||(t.guid=o.guid++),e.guid=t.guid,e},e.prototype.off=function(t,e){return o(this).off(t,e),this},e.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return o(this).triggerHandler(t,{args:e}),this},e.prototype.triggerWith=function(t,e,n){return o(this).triggerHandler(t,{context:e,args:n}),this},e.prototype.hasHandlers=function(t){var e=o._data(this,"events");return e&&e[t]&&e[t].length>0},e}(n(12).default);e.default=r},function(t,e,n){function i(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);var i,c,d,u,h=t[0],f=1==t.length&&"string"==typeof h;return o.isMoment(h)||a.isNativeDate(h)||void 0===h?u=o.apply(null,t):(i=!1,c=!1,f?s.test(h)?(t=[h+="-01"],i=!0,c=!0):(d=l.exec(h))&&(i=!d[5],c=!0):r.isArray(h)&&(c=!0),u=e||i?o.utc.apply(o,t):o.apply(null,t),i?(u._ambigTime=!0,u._ambigZone=!0):n&&(c?u._ambigZone=!0:f&&u.utcOffset(h))),u._fullCalendar=!0,u}Object.defineProperty(e,"__esModule",{value:!0});var o=n(3),r=n(1),a=n(2),s=/^\s*\d{4}-\d\d$/,l=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?)?$/,c=o.fn;e.newMomentProto=c;var d=r.extend({},c);e.oldMomentProto=d;var u=o.momentProperties;u.push("_fullCalendar"),u.push("_ambigTime"),u.push("_ambigZone"),e.oldMomentFormat=function(t,e){return d.format.call(t,e)};var h=function(){return i(arguments)};e.default=h,h.utc=function(){var t=i(arguments,!0);return t.hasTime()&&t.utc(),t},h.parseZone=function(){return i(arguments,!0,!0)},c.week=c.weeks=function(t){var e=this._locale._fullCalendar_weekCalc;return null==t&&"function"==typeof e?e(this):"ISO"===e?d.isoWeek.apply(this,arguments):d.week.apply(this,arguments)},c.time=function(t){if(!this._fullCalendar)return d.time.apply(this,arguments);if(null==t)return o.duration({hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()});this._ambigTime=!1,o.isDuration(t)||o.isMoment(t)||(t=o.duration(t));var e=0;return o.isDuration(t)&&(e=24*Math.floor(t.asDays())),this.hours(e+t.hours()).minutes(t.minutes()).seconds(t.seconds()).milliseconds(t.milliseconds())},c.stripTime=function(){return this._ambigTime||(this.utc(!0),this.set({hours:0,minutes:0,seconds:0,ms:0}),this._ambigTime=!0,this._ambigZone=!0),this},c.hasTime=function(){return!this._ambigTime},c.stripZone=function(){var t;return this._ambigZone||(t=this._ambigTime,this.utc(!0),this._ambigTime=t||!1,this._ambigZone=!0),this},c.hasZone=function(){return!this._ambigZone},c.local=function(t){return d.local.call(this,this._ambigZone||t),this._ambigTime=!1,this._ambigZone=!1,this},c.utc=function(t){return d.utc.call(this,t),this._ambigTime=!1,this._ambigZone=!1,this},c.utcOffset=function(t){return null!=t&&(this._ambigTime=!1,this._ambigZone=!1),d.utcOffset.apply(this,arguments)}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.isAllDay=!1,this.unzonedRange=t,this.isAllDay=e}return t.prototype.toLegacy=function(t){return{start:t.msToMoment(this.unzonedRange.startMs,this.isAllDay),end:t.msToMoment(this.unzonedRange.endMs,this.isAllDay)}},t}();e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(22),r=n(51),a=n(15),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildInstances=function(){return[this.buildInstance()]},e.prototype.buildInstance=function(){return new r.default(this,this.dateProfile)},e.prototype.isAllDay=function(){return this.dateProfile.isAllDay()},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.dateProfile=this.dateProfile,e},e.prototype.rezone=function(){var t=this.source.calendar,e=this.dateProfile;this.dateProfile=new a.default(t.moment(e.start),e.end?t.moment(e.end):null,t)},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e),i=a.default.parse(e,this.source);return!!i&&(this.dateProfile=i,null!=e.date&&(this.miscProps.date=e.date),n)},e}(o.default);e.default=s,s.defineStandardProps({start:!1,date:!1,end:!1,allDay:!1})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){}return t.mixInto=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]||(t.prototype[n]=e.prototype[n])})},t.mixOver=function(t){var e=this;Object.getOwnPropertyNames(this.prototype).forEach(function(n){t.prototype[n]=e.prototype[n]})},t}();e.default=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.view=t._getView(),this.component=t}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.end=function(){},t}();e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(7),r=n(8),a=n(6),s=null,l=0,c=function(){function t(){this.isTouching=!1,this.mouseIgnoreDepth=0}return t.prototype.bind=function(){var t=this;this.listenTo(i(document),{touchstart:this.handleTouchStart,touchcancel:this.handleTouchCancel,touchend:this.handleTouchEnd,mousedown:this.handleMouseDown,mousemove:this.handleMouseMove,mouseup:this.handleMouseUp,click:this.handleClick,selectstart:this.handleSelectStart,contextmenu:this.handleContextMenu}),window.addEventListener("touchmove",this.handleTouchMoveProxy=function(e){t.handleTouchMove(i.Event(e))},{passive:!1}),window.addEventListener("scroll",this.handleScrollProxy=function(e){t.handleScroll(i.Event(e))},!0)},t.prototype.unbind=function(){this.stopListeningTo(i(document)),window.removeEventListener("touchmove",this.handleTouchMoveProxy),window.removeEventListener("scroll",this.handleScrollProxy,!0)},t.prototype.handleTouchStart=function(t){this.stopTouch(t,!0),this.isTouching=!0,this.trigger("touchstart",t)},t.prototype.handleTouchMove=function(t){this.isTouching&&this.trigger("touchmove",t)},t.prototype.handleTouchCancel=function(t){this.isTouching&&(this.trigger("touchcancel",t),this.stopTouch(t))},t.prototype.handleTouchEnd=function(t){this.stopTouch(t)},t.prototype.handleMouseDown=function(t){this.shouldIgnoreMouse()||this.trigger("mousedown",t)},t.prototype.handleMouseMove=function(t){this.shouldIgnoreMouse()||this.trigger("mousemove",t)},t.prototype.handleMouseUp=function(t){this.shouldIgnoreMouse()||this.trigger("mouseup",t)},t.prototype.handleClick=function(t){this.shouldIgnoreMouse()||this.trigger("click",t)},t.prototype.handleSelectStart=function(t){this.trigger("selectstart",t)},t.prototype.handleContextMenu=function(t){this.trigger("contextmenu",t)},t.prototype.handleScroll=function(t){this.trigger("scroll",t)},t.prototype.stopTouch=function(t,e){void 0===e&&(e=!1),this.isTouching&&(this.isTouching=!1,this.trigger("touchend",t),e||this.startTouchMouseIgnore())},t.prototype.startTouchMouseIgnore=function(){var t=this,e=o.default.touchMouseIgnoreWait;e&&(this.mouseIgnoreDepth++,setTimeout(function(){t.mouseIgnoreDepth--},e))},t.prototype.shouldIgnoreMouse=function(){return this.isTouching||Boolean(this.mouseIgnoreDepth)},t.get=function(){return s||(s=new t).bind(),s},t.needed=function(){t.get(),l++},t.unneeded=function(){--l||(s.unbind(),s=null)},t}();e.default=c,a.default.mixInto(c),r.default.mixInto(c)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=function(){function t(t,e,n){this.start=t,this.end=e||null,this.unzonedRange=this.buildUnzonedRange(n)}return t.prototype.isAllDay=function(){return!(this.start.hasTime()||this.end&&this.end.hasTime())},t.prototype.buildUnzonedRange=function(t){var e=this.start.clone().stripZone().valueOf(),n=this.getEnd(t).stripZone().valueOf();return new i.default(e,n)},t.prototype.getEnd=function(t){return this.end?this.end.clone():t.getDefaultEventEnd(this.isAllDay(),this.start)},t.isStandardProp=function(t){return"start"===t||"date"===t||"end"===t||"allDay"===t},t.parse=function(e,n){var i=e.start||e.date,o=e.end;if(!i)return!1;var r=n.calendar,a=r.moment(i),s=o?r.moment(o):null,l=e.allDay,c=r.opt("forceEventDuration");return!!a.isValid()&&(!s||s.isValid()&&s.isAfter(a)||(s=null),null==l&&null==(l=n.allDayDefault)&&(l=r.opt("allDayDefault")),!0===l?(a.stripTime(),s&&s.stripTime()):!1===l&&(a.hasTime()||a.time(0),s&&!s.hasTime()&&s.time(0)),!s&&c&&(s=r.getDefaultEventEnd(!a.hasTime(),a)),new t(a,s,r))},t}();e.default=o},function(t,e,n){function i(t,e){t.then=function(n){return"function"==typeof n?a.resolve(n(e)):t}}function o(t){t.then=function(e,n){return"function"==typeof n&&n(),t}}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a={construct:function(t){var e=r.Deferred(),n=e.promise();return"function"==typeof t&&t(function(t){e.resolve(t),i(n,t)},function(){e.reject(),o(n)}),n},resolve:function(t){var e=r.Deferred().resolve(t).promise();return i(e,t),e},reject:function(){var t=r.Deferred().reject().promise();return o(t),t}};e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(23),r=n(53),a=function(){function t(t){this.eventInstances=t||[]}return t.prototype.getAllEventRanges=function(t){return t?this.sliceNormalRenderRanges(t):this.eventInstances.map(o.eventInstanceToEventRange)},t.prototype.sliceRenderRanges=function(t){return this.isInverse()?this.sliceInverseRenderRanges(t):this.sliceNormalRenderRanges(t)},t.prototype.sliceNormalRenderRanges=function(t){var e,n,i,o=this.eventInstances,a=[];for(e=0;e<o.length;e++)(i=(n=o[e]).dateProfile.unzonedRange.intersect(t))&&a.push(new r.default(i,n.def,n));return a},t.prototype.sliceInverseRenderRanges=function(t){var e=this.eventInstances.map(o.eventInstanceToUnzonedRange),n=this.getEventDef();return(e=i.default.invertRanges(e,t)).map(function(t){return new r.default(t,n)})},t.prototype.isInverse=function(){return this.getEventDef().hasInverseRendering()},t.prototype.getEventDef=function(){return this.explicitEventDef||this.eventInstances[0].def},t}();e.default=a},function(t,e,n){function i(t,e){return!t&&!e||!(!t||!e)&&t.component===e.component&&o(t,e)&&o(e,t)}function o(t,e){for(var n in t)if(!/^(component|left|right|top|bottom)$/.test(n)&&t[n]!==e[n])return!1;return!0}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(2),s=function(t){function e(e,n){var i=t.call(this,n)||this;return i.component=e,i}return r.__extends(e,t),e.prototype.handleInteractionStart=function(e){var n,i,o,r=this.subjectEl;this.component.hitsNeeded(),this.computeScrollBounds(),e?(o=i={left:a.getEvX(e),top:a.getEvY(e)},r&&(n=a.getOuterRect(r),o=a.constrainPoint(o,n)),this.origHit=this.queryHit(o.left,o.top),r&&this.options.subjectCenter&&(this.origHit&&(n=a.intersectRects(this.origHit,n)||n),o=a.getRectCenter(n)),this.coordAdjust=a.diffPoints(o,i)):(this.origHit=null,this.coordAdjust=null),t.prototype.handleInteractionStart.call(this,e)},e.prototype.handleDragStart=function(e){var n;t.prototype.handleDragStart.call(this,e),(n=this.queryHit(a.getEvX(e),a.getEvY(e)))&&this.handleHitOver(n)},e.prototype.handleDrag=function(e,n,o){var r;t.prototype.handleDrag.call(this,e,n,o),i(r=this.queryHit(a.getEvX(o),a.getEvY(o)),this.hit)||(this.hit&&this.handleHitOut(),r&&this.handleHitOver(r))},e.prototype.handleDragEnd=function(e){this.handleHitDone(),t.prototype.handleDragEnd.call(this,e)},e.prototype.handleHitOver=function(t){var e=i(t,this.origHit);this.hit=t,this.trigger("hitOver",this.hit,e,this.origHit)},e.prototype.handleHitOut=function(){this.hit&&(this.trigger("hitOut",this.hit),this.handleHitDone(),this.hit=null)},e.prototype.handleHitDone=function(){this.hit&&this.trigger("hitDone",this.hit)},e.prototype.handleInteractionEnd=function(e,n){t.prototype.handleInteractionEnd.call(this,e,n),this.origHit=null,this.hit=null,this.component.hitsNotNeeded()},e.prototype.handleScrollEnd=function(){t.prototype.handleScrollEnd.call(this),this.isDragging&&(this.component.releaseHits(),this.component.prepareHits())},e.prototype.queryHit=function(t,e){return this.coordAdjust&&(t+=this.coordAdjust.left,e+=this.coordAdjust.top),this.component.queryHit(t,e)},e}(n(39).default);e.default=s},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2);e.globalDefaults={titleRangeSeparator:" \u2013 ",monthYearFormat:"MMMM YYYY",defaultTimedEventDuration:"02:00:00",defaultAllDayEventDuration:{days:1},forceEventDuration:!1,nextDayThreshold:"09:00:00",columnHeader:!0,defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberTitle:"W",weekNumberCalculation:"local",scrollTime:"06:00:00",minTime:"00:00:00",maxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timezoneParam:"timezone",timezone:!1,locale:null,isRTL:!1,buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day"},allDayText:"all-day",agendaEventMinHeight:0,theme:!1,dragOpacity:.75,dragRevertDuration:500,dragScroll:!0,unselectAuto:!0,dropAccept:"*",eventOrder:"title",eventLimit:!1,eventLimitText:"more",eventLimitClick:"popover",dayPopoverFormat:"LL",handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3},e.englishDefaults={dayPopoverFormat:"dddd, MMMM D"},e.rtlDefaults={header:{left:"next,prev today",center:"",right:"title"},buttonIcons:{prev:"right-single-arrow",next:"left-single-arrow",prevYear:"right-double-arrow",nextYear:"left-double-arrow"},themeButtonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w",nextYear:"seek-prev",prevYear:"seek-next"}};var o=["header","footer","buttonText","buttonIcons","themeButtonIcons"];e.mergeOptions=function(t){return i.mergeProps(t,o)}},function(t,e,n){function i(t,e){var n,i;n=d[t]||(d[t]={}),e&&(n=d[t]=l.mergeOptions([n,e])),i=o(t),r.each(h,function(t,e){null==n[t]&&(n[t]=e(i,n))}),l.globalDefaults.locale=t}function o(t){return a.localeData(t)||a.localeData("en")}Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),a=n(3),s=n(7),l=n(19),c=n(2),d=s.default.locales;e.localeOptionHash=d,e.datepickerLocale=function(t,e,n){var i=d[t]||(d[t]={});i.isRTL=n.isRTL,i.weekNumberTitle=n.weekHeader,r.each(u,function(t,e){i[t]=e(n)});var o=r.datepicker;o&&(o.regional[e]=o.regional[t]=n,o.regional.en=o.regional[""],o.setDefaults(n))},e.locale=i;var u={buttonText:function(t){return{prev:c.stripHtmlEntities(t.prevText),next:c.stripHtmlEntities(t.nextText),today:c.stripHtmlEntities(t.currentText)}},monthYearFormat:function(t){return t.showMonthAfterYear?"YYYY["+t.yearSuffix+"] MMMM":"MMMM YYYY["+t.yearSuffix+"]"}},h={dayOfMonthFormat:function(t,e){var n=t.longDateFormat("l");return n=n.replace(/^Y+[^\w\s]*|[^\w\s]*Y+$/g,""),e.isRTL?n+=" ddd":n="ddd "+n,n},mediumTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"a")},smallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"a")},extraSmallTimeFormat:function(t){return t.longDateFormat("LT").replace(":mm","(:mm)").replace(/(\Wmm)$/,"($1)").replace(/\s*a$/i,"t")},hourFormat:function(t){return t.longDateFormat("LT").replace(":mm","").replace(/(\Wmm)$/,"").replace(/\s*a$/i,"a")},noMeridiemTimeFormat:function(t){return t.longDateFormat("LT").replace(/\s*a$/i,"")}},f={smallDayDateFormat:function(t){return t.isRTL?"D dd":"dd D"},weekFormat:function(t){return t.isRTL?"w[ "+t.weekNumberTitle+"]":"["+t.weekNumberTitle+" ]w"},smallWeekFormat:function(t){return t.isRTL?"w["+t.weekNumberTitle+"]":"["+t.weekNumberTitle+"]w"}};e.populateInstanceComputableOptions=function(t){r.each(f,function(e,n){null==t[e]&&(t[e]=n(t))})},e.getMomentLocaleData=o,i("en",l.englishDefaults)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),r=function(){function t(){}return t.extend=function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(this);return o.copyOwnProps(t,e.prototype),e},t.mixin=function(t){o.copyOwnProps(t,this.prototype)},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(50),r=function(){function t(t){this.source=t,this.className=[],this.miscProps={}}return t.prototype.clone=function(){var e=new this.constructor(this.source);return e.id=this.id,e.rawId=this.rawId,e.uid=this.uid,t.copyVerbatimStandardProps(this,e),e.className=this.className.slice(),e.miscProps=i.extend({},this.miscProps),e},t.prototype.hasInverseRendering=function(){return"inverse-background"===this.getRendering()},t.prototype.hasBgRendering=function(){var t=this.getRendering();return"inverse-background"===t||"background"===t},t.prototype.getRendering=function(){return null!=this.rendering?this.rendering:this.source.rendering},t.prototype.getConstraint=function(){return null!=this.constraint?this.constraint:null!=this.source.constraint?this.source.constraint:this.source.calendar.opt("eventConstraint")},t.prototype.getOverlap=function(){return null!=this.overlap?this.overlap:null!=this.source.overlap?this.source.overlap:this.source.calendar.opt("eventOverlap")},t.prototype.isStartExplicitlyEditable=function(){return null!=this.startEditable?this.startEditable:this.source.startEditable},t.prototype.isDurationExplicitlyEditable=function(){return null!=this.durationEditable?this.durationEditable:this.source.durationEditable},t.prototype.isExplicitlyEditable=function(){return null!=this.editable?this.editable:this.source.editable},t.prototype.toLegacy=function(){var e=i.extend({},this.miscProps);return e._id=this.uid,e.source=this.source,e.className=this.className.slice(),e.allDay=this.isAllDay(),null!=this.rawId&&(e.id=this.rawId),t.copyVerbatimStandardProps(this,e),e},t.prototype.applyManualStandardProps=function(e){return this.id=null!=e.id?t.normalizeId(this.rawId=e.id):t.generateId(),this.uid=null!=e._id?String(e._id):t.generateId(),i.isArray(e.className)&&(this.className=e.className),"string"==typeof e.className&&(this.className=e.className.split(/\s+/)),!0},t.prototype.applyMiscProps=function(t){i.extend(this.miscProps,t)},t.parse=function(t,e){var n=new this(e);return!!n.applyProps(t)&&n},t.normalizeId=function(t){return String(t)},t.generateId=function(){return"_fc"+t.uuid++},t.defineStandardProps=o.default.defineStandardProps,t.copyVerbatimStandardProps=o.default.copyVerbatimStandardProps,t.uuid=0,t}();e.default=r,o.default.mixInto(r),r.defineStandardProps({_id:!1,id:!1,className:!1,source:!1,title:!0,url:!0,rendering:!0,constraint:!0,overlap:!0,editable:!0,startEditable:!0,durationEditable:!0,color:!0,backgroundColor:!0,borderColor:!0,textColor:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(53),o=n(24),r=n(10);e.eventDefsToEventInstances=function(t,e){var n,i=[];for(n=0;n<t.length;n++)i.push.apply(i,t[n].buildInstances(e));return i},e.eventInstanceToEventRange=function(t){return new i.default(t.dateProfile.unzonedRange,t.def,t)},e.eventRangeToEventFootprint=function(t){return new o.default(new r.default(t.unzonedRange,t.eventDef.isAllDay()),t.eventDef,t.eventInstance)},e.eventInstanceToUnzonedRange=function(t){return t.dateProfile.unzonedRange},e.eventFootprintToComponentFootprint=function(t){return t.componentFootprint}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e,n){this.componentFootprint=t,this.eventDef=e,n&&(this.eventInstance=n)}return t.prototype.getEventLegacy=function(){return(this.eventInstance||this.eventDef).toLegacy()},t}();e.default=n},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default={sourceClasses:[],registerClass:function(t){this.sourceClasses.unshift(t)},parse:function(t,e){var n,i,o=this.sourceClasses;for(n=0;n<o.length;n++)if(i=o[n].parse(t,e))return i}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(15),r=n(22),a=n(35),s=n(11),l=function(){function t(){}return t.prototype.mutateSingle=function(t){var e;return this.dateMutation&&(t.dateProfile=this.dateMutation.buildNewDateProfile(e=t.dateProfile,t.source.calendar)),null!=this.eventDefId&&(t.id=r.default.normalizeId(t.rawId=this.eventDefId)),this.className&&(t.className=this.className),this.verbatimStandardProps&&s.default.copyVerbatimStandardProps(this.verbatimStandardProps,t),this.miscProps&&t.applyMiscProps(this.miscProps),e?function(){t.dateProfile=e}:function(){}},t.prototype.setDateMutation=function(t){this.dateMutation=t&&!t.isEmpty()?t:null},t.prototype.isEmpty=function(){return!this.dateMutation},t.createFromRawProps=function(e,n,s){var l,c,d,u,h=e.def,f={},p={},g={},m={},v=null,y=null;for(l in n)o.default.isStandardProp(l)?f[l]=n[l]:h.isStandardProp(l)?p[l]=n[l]:h.miscProps[l]!==n[l]&&(g[l]=n[l]);return(c=o.default.parse(f,h.source))&&(d=a.default.createFromDiff(e.dateProfile,c,s)),p.id!==h.id&&(v=p.id),i.isArraysEqual(p.className,h.className)||(y=p.className),r.default.copyVerbatimStandardProps(p,m),(u=new t).eventDefId=v,u.className=y,u.verbatimStandardProps=m,u.miscProps=g,d&&(u.dateMutation=d),u},t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=function(){function t(t){this.optionsManager=t,this.processIconOverride()}return t.prototype.processIconOverride=function(){this.iconOverrideOption&&this.setIconOverride(this.optionsManager.get(this.iconOverrideOption))},t.prototype.setIconOverride=function(t){var e,n;if(i.isPlainObject(t)){for(n in e=i.extend({},this.iconClasses),t)e[n]=this.applyIconOverridePrefix(t[n]);this.iconClasses=e}else!1===t&&(this.iconClasses={})},t.prototype.applyIconOverridePrefix=function(t){var e=this.iconOverridePrefix;return e&&0!==t.indexOf(e)&&(t=e+t),t},t.prototype.getClass=function(t){return this.classes[t]||""},t.prototype.getIconClass=function(t){var e=this.iconClasses[t];return e?this.baseIconClass+" "+e:""},t.prototype.getCustomButtonIconClass=function(t){var e;return this.iconOverrideCustomButtonOption&&(e=t[this.iconOverrideCustomButtonOption])?this.baseIconClass+" "+this.applyIconOverridePrefix(e):""},t}();e.default=o,o.prototype.classes={},o.prototype.iconClasses={},o.prototype.baseIconClass="",o.prototype.iconOverridePrefix=""},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=function(t){function e(e){var n=t.call(this)||this;return n.overflowX=(e=e||{}).overflowX||e.overflow||"auto",n.overflowY=e.overflowY||e.overflow||"auto",n}return i.__extends(e,t),e.prototype.render=function(){this.el=this.renderEl(),this.applyOverflow()},e.prototype.renderEl=function(){return this.scrollEl=o('<div class="fc-scroller"></div>')},e.prototype.clear=function(){this.setHeight("auto"),this.applyOverflow()},e.prototype.destroy=function(){this.el.remove()},e.prototype.applyOverflow=function(){this.scrollEl.css({"overflow-x":this.overflowX,"overflow-y":this.overflowY})},e.prototype.lockOverflow=function(t){var e=this.overflowX,n=this.overflowY;t=t||this.getScrollbarWidths(),"auto"===e&&(e=t.top||t.bottom||this.scrollEl[0].scrollWidth-1>this.scrollEl[0].clientWidth?"scroll":"hidden"),"auto"===n&&(n=t.left||t.right||this.scrollEl[0].scrollHeight-1>this.scrollEl[0].clientHeight?"scroll":"hidden"),this.scrollEl.css({"overflow-x":e,"overflow-y":n})},e.prototype.setHeight=function(t){this.scrollEl.height(t)},e.prototype.getScrollTop=function(){return this.scrollEl.scrollTop()},e.prototype.setScrollTop=function(t){this.scrollEl.scrollTop(t)},e.prototype.getClientWidth=function(){return this.scrollEl[0].clientWidth},e.prototype.getClientHeight=function(){return this.scrollEl[0].clientHeight},e.prototype.getScrollbarWidths=function(){return r.getScrollbarWidths(this.scrollEl)},e}(n(21).default);e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(61),s=n(14),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.segSelector=".fc-event-container > *",i.dateSelectingClass&&(i.dateClicking=new i.dateClickingClass(i)),i.dateSelectingClass&&(i.dateSelecting=new i.dateSelectingClass(i)),i.eventPointingClass&&(i.eventPointing=new i.eventPointingClass(i)),i.eventDraggingClass&&i.eventPointing&&(i.eventDragging=new i.eventDraggingClass(i,i.eventPointing)),i.eventResizingClass&&i.eventPointing&&(i.eventResizing=new i.eventResizingClass(i,i.eventPointing)),i.externalDroppingClass&&(i.externalDropping=new i.externalDroppingClass(i)),i}return i.__extends(e,t),e.prototype.setElement=function(e){t.prototype.setElement.call(this,e),this.dateClicking&&this.dateClicking.bindToEl(e),this.dateSelecting&&this.dateSelecting.bindToEl(e),this.bindAllSegHandlersToEl(e)},e.prototype.removeElement=function(){this.endInteractions(),t.prototype.removeElement.call(this)},e.prototype.executeEventUnrender=function(){this.endInteractions(),t.prototype.executeEventUnrender.call(this)},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.bindToDocument()},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.externalDropping&&this.externalDropping.unbindFromDocument()},e.prototype.bindDateHandlerToEl=function(t,e,n){var i=this;this.el.on(e,function(t){if(!o(t.target).is(i.segSelector+","+i.segSelector+" *,.fc-more,a[data-goto]"))return n.call(i,t)})},e.prototype.bindAllSegHandlersToEl=function(t){[this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(e){e&&e.bindToEl(t)})},e.prototype.bindSegHandlerToEl=function(t,e,n){var i=this;t.on(e,this.segSelector,function(t){var e=o(t.currentTarget).data("fc-seg");if(e&&!i.shouldIgnoreEventPointing())return n.call(i,e,t)})},e.prototype.shouldIgnoreMouse=function(){return s.default.get().shouldIgnoreMouse()},e.prototype.shouldIgnoreTouch=function(){var t=this._getView();return t.isSelected||t.selectedEvent},e.prototype.shouldIgnoreEventPointing=function(){return this.eventDragging&&this.eventDragging.isDragging||this.eventResizing&&this.eventResizing.isResizing},e.prototype.canStartSelection=function(t,e){return r.getEvIsTouch(e)&&!this.canStartResize(t,e)&&(this.isEventDefDraggable(t.footprint.eventDef)||this.isEventDefResizable(t.footprint.eventDef))},e.prototype.canStartDrag=function(t,e){return!this.canStartResize(t,e)&&this.isEventDefDraggable(t.footprint.eventDef)},e.prototype.canStartResize=function(t,e){var n=this._getView(),i=t.footprint.eventDef;return(!r.getEvIsTouch(e)||n.isEventDefSelected(i))&&this.isEventDefResizable(i)&&o(e.target).is(".fc-resizer")},e.prototype.endInteractions=function(){[this.dateClicking,this.dateSelecting,this.eventPointing,this.eventDragging,this.eventResizing].forEach(function(t){t&&t.end()})},e.prototype.isEventDefDraggable=function(t){return this.isEventDefStartEditable(t)},e.prototype.isEventDefStartEditable=function(t){var e=t.isStartExplicitlyEditable();return null==e&&null==(e=this.opt("eventStartEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.isEventDefGenerallyEditable=function(t){var e=t.isExplicitlyEditable();return null==e&&(e=this.opt("editable")),e},e.prototype.isEventDefResizableFromStart=function(t){return this.opt("eventResizableFromStart")&&this.isEventDefResizable(t)},e.prototype.isEventDefResizableFromEnd=function(t){return this.isEventDefResizable(t)},e.prototype.isEventDefResizable=function(t){var e=t.isDurationExplicitlyEditable();return null==e&&null==(e=this.opt("eventDurationEditable"))&&(e=this.isEventDefGenerallyEditable(t)),e},e.prototype.diffDates=function(t,e){return this.largeUnit?r.diffByUnit(t,e,this.largeUnit):r.diffDayTime(t,e)},e.prototype.isEventInstanceGroupAllowed=function(t){var e,n=this._getView(),i=this.dateProfile,o=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<o.length;e++)if(!i.validUnzonedRange.containsRange(o[e].componentFootprint.unzonedRange))return!1;return n.calendar.constraints.isEventInstanceGroupAllowed(t)},e.prototype.isExternalInstanceGroupAllowed=function(t){var e,n=this._getView(),i=this.dateProfile,o=this.eventRangesToEventFootprints(t.getAllEventRanges());for(e=0;e<o.length;e++)if(!i.validUnzonedRange.containsRange(o[e].componentFootprint.unzonedRange))return!1;for(e=0;e<o.length;e++)if(!n.calendar.constraints.isSelectionFootprintAllowed(o[e].componentFootprint))return!1;return!0},e}(a.default);e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(3),a=n(2),s=n(60),l=n(62),c=n(29),d=n(14),u=n(4),h=function(t){function e(e,n){var i=t.call(this,null,n.options)||this;return i.batchRenderDepth=0,i.isSelected=!1,i.calendar=e,i.viewSpec=n,i.type=n.type,i.name=i.type,i.initRenderQueue(),i.initHiddenDays(),i.dateProfileGenerator=new i.dateProfileGeneratorClass(i),i.bindBaseRenderHandlers(),i.eventOrderSpecs=a.parseFieldSpecs(i.opt("eventOrder")),i.initialize&&i.initialize(),i}return i.__extends(e,t),e.prototype._getView=function(){return this},e.prototype.opt=function(t){return this.options[t]},e.prototype.initRenderQueue=function(){this.renderQueue=new s.default({event:this.opt("eventRenderWait")}),this.renderQueue.on("start",this.onRenderQueueStart.bind(this)),this.renderQueue.on("stop",this.onRenderQueueStop.bind(this)),this.on("before:change",this.startBatchRender),this.on("change",this.stopBatchRender)},e.prototype.onRenderQueueStart=function(){this.calendar.freezeContentHeight(),this.addScroll(this.queryScroll())},e.prototype.onRenderQueueStop=function(){this.calendar.updateViewSize()&&this.popScroll(),this.calendar.thawContentHeight()},e.prototype.startBatchRender=function(){this.batchRenderDepth++||this.renderQueue.pause()},e.prototype.stopBatchRender=function(){--this.batchRenderDepth||this.renderQueue.resume()},e.prototype.requestRender=function(t,e,n){this.renderQueue.queue(t,e,n)},e.prototype.whenSizeUpdated=function(t){this.renderQueue.isRunning?this.renderQueue.one("stop",t.bind(this)):t.call(this)},e.prototype.computeTitle=function(t){var e;return e=/^(year|month)$/.test(t.currentRangeUnit)?t.currentUnzonedRange:t.activeUnzonedRange,this.formatRange({start:this.calendar.msToMoment(e.startMs,t.isRangeAllDay),end:this.calendar.msToMoment(e.endMs,t.isRangeAllDay)},t.isRangeAllDay,this.opt("titleFormat")||this.computeTitleFormat(t),this.opt("titleRangeSeparator"))},e.prototype.computeTitleFormat=function(t){var e=t.currentRangeUnit;return"year"==e?"YYYY":"month"==e?this.opt("monthYearFormat"):t.currentUnzonedRange.as("days")>1?"ll":"LL"},e.prototype.setDate=function(t){var e=this.get("dateProfile"),n=this.dateProfileGenerator.build(t,void 0,!0);e&&e.activeUnzonedRange.equals(n.activeUnzonedRange)||this.set("dateProfile",n)},e.prototype.unsetDate=function(){this.unset("dateProfile")},e.prototype.fetchInitialEvents=function(t){var e=this.calendar,n=t.isRangeAllDay&&!this.usesMinMaxTime;return e.requestEvents(e.msToMoment(t.activeUnzonedRange.startMs,n),e.msToMoment(t.activeUnzonedRange.endMs,n))},e.prototype.bindEventChanges=function(){this.listenTo(this.calendar,"eventsReset",this.resetEvents)},e.prototype.unbindEventChanges=function(){this.stopListeningTo(this.calendar,"eventsReset")},e.prototype.setEvents=function(t){this.set("currentEvents",t),this.set("hasEvents",!0)},e.prototype.unsetEvents=function(){this.unset("currentEvents"),this.unset("hasEvents")},e.prototype.resetEvents=function(t){this.startBatchRender(),this.unsetEvents(),this.setEvents(t),this.stopBatchRender()},e.prototype.requestDateRender=function(t){var e=this;this.requestRender(function(){e.executeDateRender(t)},"date","init")},e.prototype.requestDateUnrender=function(){var t=this;this.requestRender(function(){t.executeDateUnrender()},"date","destroy")},e.prototype.executeDateRender=function(e){t.prototype.executeDateRender.call(this,e),this.render&&this.render(),this.trigger("datesRendered"),this.addScroll({isDateInit:!0}),this.startNowIndicator()},e.prototype.executeDateUnrender=function(){this.unselect(),this.stopNowIndicator(),this.trigger("before:datesUnrendered"),this.destroy&&this.destroy(),t.prototype.executeDateUnrender.call(this)},e.prototype.bindBaseRenderHandlers=function(){var t=this;this.on("datesRendered",function(){t.whenSizeUpdated(t.triggerViewRender)}),this.on("before:datesUnrendered",function(){t.triggerViewDestroy()})},e.prototype.triggerViewRender=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerViewDestroy=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.requestEventsRender=function(t){var e=this;this.requestRender(function(){e.executeEventRender(t),e.whenSizeUpdated(e.triggerAfterEventsRendered)},"event","init")},e.prototype.requestEventsUnrender=function(){var t=this;this.requestRender(function(){t.triggerBeforeEventsDestroyed(),t.executeEventUnrender()},"event","destroy")},e.prototype.requestBusinessHoursRender=function(t){var e=this;this.requestRender(function(){e.renderBusinessHours(t)},"businessHours","init")},e.prototype.requestBusinessHoursUnrender=function(){var t=this;this.requestRender(function(){t.unrenderBusinessHours()},"businessHours","destroy")},e.prototype.bindGlobalHandlers=function(){t.prototype.bindGlobalHandlers.call(this),this.listenTo(d.default.get(),{touchstart:this.processUnselect,mousedown:this.handleDocumentMousedown})},e.prototype.unbindGlobalHandlers=function(){t.prototype.unbindGlobalHandlers.call(this),this.stopListeningTo(d.default.get())},e.prototype.startNowIndicator=function(){var t,e,n,i=this;this.opt("nowIndicator")&&(t=this.getNowIndicatorUnit())&&(e=a.proxy(this,"updateNowIndicator"),this.initialNowDate=this.calendar.getNow(),this.initialNowQueriedMs=+new Date,n=this.initialNowDate.clone().startOf(t).add(1,t)-this.initialNowDate,this.nowIndicatorTimeoutID=setTimeout(function(){i.nowIndicatorTimeoutID=null,e(),n=+r.duration(1,t),n=Math.max(100,n),i.nowIndicatorIntervalID=setInterval(e,n)},n))},e.prototype.updateNowIndicator=function(){this.isDatesRendered&&this.initialNowDate&&(this.unrenderNowIndicator(),this.renderNowIndicator(this.initialNowDate.clone().add((new Date).valueOf()-this.initialNowQueriedMs)),this.isNowIndicatorRendered=!0)},e.prototype.stopNowIndicator=function(){this.isNowIndicatorRendered&&(this.nowIndicatorTimeoutID&&(clearTimeout(this.nowIndicatorTimeoutID),this.nowIndicatorTimeoutID=null),this.nowIndicatorIntervalID&&(clearInterval(this.nowIndicatorIntervalID),this.nowIndicatorIntervalID=null),this.unrenderNowIndicator(),this.isNowIndicatorRendered=!1)},e.prototype.updateSize=function(e,n,i){this.setHeight?this.setHeight(e,n):t.prototype.updateSize.call(this,e,n,i),this.updateNowIndicator()},e.prototype.addScroll=function(t){var e=this.queuedScroll||(this.queuedScroll={});o.extend(e,t)},e.prototype.popScroll=function(){this.applyQueuedScroll(),this.queuedScroll=null},e.prototype.applyQueuedScroll=function(){this.queuedScroll&&this.applyScroll(this.queuedScroll)},e.prototype.queryScroll=function(){var t={};return this.isDatesRendered&&o.extend(t,this.queryDateScroll()),t},e.prototype.applyScroll=function(t){t.isDateInit&&this.isDatesRendered&&o.extend(t,this.computeInitialDateScroll()),this.isDatesRendered&&this.applyDateScroll(t)},e.prototype.computeInitialDateScroll=function(){return{}},e.prototype.queryDateScroll=function(){return{}},e.prototype.applyDateScroll=function(t){},e.prototype.reportEventDrop=function(t,e,n,i){var o=this.calendar.eventManager.mutateEventsWithId(t.def.id,e,this.calendar),a=e.dateMutation;a&&(t.dateProfile=a.buildNewDateProfile(t.dateProfile,this.calendar)),this.triggerEventDrop(t,a&&a.dateDelta||r.duration(),o,n,i)},e.prototype.triggerEventDrop=function(t,e,n,i,o){this.publiclyTrigger("eventDrop",{context:i[0],args:[t.toLegacy(),e,n,o,{},this]})},e.prototype.reportExternalDrop=function(t,e,n,i,o,r){e&&this.calendar.eventManager.addEventDef(t,n),this.triggerExternalDrop(t,e,i,o,r)},e.prototype.triggerExternalDrop=function(t,e,n,i,o){this.publiclyTrigger("drop",{context:n[0],args:[t.dateProfile.start.clone(),i,o,this]}),e&&this.publiclyTrigger("eventReceive",{context:this,args:[t.buildInstance().toLegacy(),this]})},e.prototype.reportEventResize=function(t,e,n,i){var o=this.calendar.eventManager.mutateEventsWithId(t.def.id,e,this.calendar);t.dateProfile=e.dateMutation.buildNewDateProfile(t.dateProfile,this.calendar),this.triggerEventResize(t,e.dateMutation.endDelta,o,n,i)},e.prototype.triggerEventResize=function(t,e,n,i,o){this.publiclyTrigger("eventResize",{context:i[0],args:[t.toLegacy(),e,n,o,{},this]})},e.prototype.select=function(t,e){this.unselect(e),this.renderSelectionFootprint(t),this.reportSelection(t,e)},e.prototype.renderSelectionFootprint=function(e){this.renderSelection?this.renderSelection(e.toLegacy(this.calendar)):t.prototype.renderSelectionFootprint.call(this,e)},e.prototype.reportSelection=function(t,e){this.isSelected=!0,this.triggerSelect(t,e)},e.prototype.triggerSelect=function(t,e){var n=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("select",{context:this,args:[n.start,n.end,e,this]})},e.prototype.unselect=function(t){void 0===t&&(t=null),this.isSelected&&(this.isSelected=!1,this.destroySelection&&this.destroySelection(),this.unrenderSelection(),this.publiclyTrigger("unselect",{context:this,args:[t,this]}))},e.prototype.selectEventInstance=function(t){this.selectedEventInstance&&this.selectedEventInstance===t||(this.unselectEventInstance(),this.getEventSegs().forEach(function(e){e.footprint.eventInstance===t&&e.el&&e.el.addClass("fc-selected")}),this.selectedEventInstance=t)},e.prototype.unselectEventInstance=function(){this.selectedEventInstance&&(this.getEventSegs().forEach(function(t){t.el&&t.el.removeClass("fc-selected")}),this.selectedEventInstance=null)},e.prototype.isEventDefSelected=function(t){return this.selectedEventInstance&&this.selectedEventInstance.def.id===t.id},e.prototype.handleDocumentMousedown=function(t){a.isPrimaryMouseButton(t)&&this.processUnselect(t)},e.prototype.processUnselect=function(t){this.processRangeUnselect(t),this.processEventUnselect(t)},e.prototype.processRangeUnselect=function(t){var e;this.isSelected&&this.opt("unselectAuto")&&((e=this.opt("unselectCancel"))&&o(t.target).closest(e).length||this.unselect(t))},e.prototype.processEventUnselect=function(t){this.selectedEventInstance&&(o(t.target).closest(".fc-selected").length||this.unselectEventInstance())},e.prototype.triggerBaseRendered=function(){this.publiclyTrigger("viewRender",{context:this,args:[this,this.el]})},e.prototype.triggerBaseUnrendered=function(){this.publiclyTrigger("viewDestroy",{context:this,args:[this,this.el]})},e.prototype.triggerDayClick=function(t,e,n){var i=this.calendar.footprintToDateProfile(t);this.publiclyTrigger("dayClick",{context:e,args:[i.start,n,this]})},e.prototype.isDateInOtherMonth=function(t,e){return!1},e.prototype.getUnzonedRangeOption=function(t){var e=this.opt(t);if("function"==typeof e&&(e=e.apply(null,Array.prototype.slice.call(arguments,1))),e)return this.calendar.parseUnzonedRange(e)},e.prototype.initHiddenDays=function(){var t,e=this.opt("hiddenDays")||[],n=[],i=0;for(!1===this.opt("weekends")&&e.push(0,6),t=0;t<7;t++)(n[t]=-1!==o.inArray(t,e))||i++;if(!i)throw"invalid hiddenDays";this.isHiddenDayHash=n},e.prototype.trimHiddenDays=function(t){var e=t.getStart(),n=t.getEnd();return e&&(e=this.skipHiddenDays(e)),n&&(n=this.skipHiddenDays(n,-1,!0)),null===e||null===n||e<n?new u.default(e,n):null},e.prototype.isHiddenDay=function(t){return r.isMoment(t)&&(t=t.day()),this.isHiddenDayHash[t]},e.prototype.skipHiddenDays=function(t,e,n){void 0===e&&(e=1),void 0===n&&(n=!1);for(var i=t.clone();this.isHiddenDayHash[(i.day()+(n?e:0)+7)%7];)i.add(e,"days");return i},e}(c.default);e.default=h,h.prototype.usesMinMaxTime=!1,h.prototype.dateProfileGeneratorClass=l.default,h.watch("displayingDates",["isInDom","dateProfile"],function(t){this.requestDateRender(t.dateProfile)},function(){this.requestDateUnrender()}),h.watch("displayingBusinessHours",["displayingDates","businessHourGenerator"],function(t){this.requestBusinessHoursRender(t.businessHourGenerator)},function(){this.requestBusinessHoursUnrender()}),h.watch("initialEvents",["dateProfile"],function(t){return this.fetchInitialEvents(t.dateProfile)}),h.watch("bindingEvents",["initialEvents"],function(t){this.setEvents(t.initialEvents),this.bindEventChanges()},function(){this.unbindEventChanges(),this.unsetEvents()}),h.watch("displayingEvents",["displayingDates","hasEvents"],function(){this.requestEventsRender(this.get("currentEvents"))},function(){this.requestEventsUnrender()}),h.watch("title",["dateProfile"],function(t){return this.title=this.computeTitle(t.dateProfile)}),h.watch("legacyDateProps",["dateProfile"],function(t){var e=this.calendar,n=t.dateProfile;this.start=e.msToMoment(n.activeUnzonedRange.startMs,n.isRangeAllDay),this.end=e.msToMoment(n.activeUnzonedRange.endMs,n.isRangeAllDay),this.intervalStart=e.msToMoment(n.currentUnzonedRange.startMs,n.isRangeAllDay),this.intervalEnd=e.msToMoment(n.currentUnzonedRange.endMs,n.isRangeAllDay)})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=function(){function t(t,e){this.view=t._getView(),this.component=t,this.fillRenderer=e}return t.prototype.opt=function(t){return this.view.opt(t)},t.prototype.rangeUpdated=function(){var t,e;this.eventTimeFormat=this.opt("eventTimeFormat")||this.opt("timeFormat")||this.computeEventTimeFormat(),null==(t=this.opt("displayEventTime"))&&(t=this.computeDisplayEventTime()),null==(e=this.opt("displayEventEnd"))&&(e=this.computeDisplayEventEnd()),this.displayEventTime=t,this.displayEventEnd=e},t.prototype.render=function(t){var e,n,i,o=this.component._getDateProfile(),r=[],a=[];for(e in t)i=(n=t[e]).sliceRenderRanges(o.activeUnzonedRange),n.getEventDef().hasBgRendering()?r.push.apply(r,i):a.push.apply(a,i);this.renderBgRanges(r),this.renderFgRanges(a)},t.prototype.unrender=function(){this.unrenderBgRanges(),this.unrenderFgRanges()},t.prototype.renderFgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),n=this.component.eventFootprintsToSegs(e);n=this.renderFgSegEls(n),!1!==this.renderFgSegs(n)&&(this.fgSegs=n)},t.prototype.unrenderFgRanges=function(){this.unrenderFgSegs(this.fgSegs||[]),this.fgSegs=null},t.prototype.renderBgRanges=function(t){var e=this.component.eventRangesToEventFootprints(t),n=this.component.eventFootprintsToSegs(e);!1!==this.renderBgSegs(n)&&(this.bgSegs=n)},t.prototype.unrenderBgRanges=function(){this.unrenderBgSegs(),this.bgSegs=null},t.prototype.getSegs=function(){return(this.bgSegs||[]).concat(this.fgSegs||[])},t.prototype.renderFgSegs=function(t){return!1},t.prototype.unrenderFgSegs=function(t){},t.prototype.renderBgSegs=function(t){var e=this;if(!this.fillRenderer)return!1;this.fillRenderer.renderSegs("bgEvent",t,{getClasses:function(t){return e.getBgClasses(t.footprint.eventDef)},getCss:function(t){return{"background-color":e.getBgColor(t.footprint.eventDef)}},filterEl:function(t,n){return e.filterEventRenderEl(t.footprint,n)}})},t.prototype.unrenderBgSegs=function(){this.fillRenderer&&this.fillRenderer.unrender("bgEvent")},t.prototype.renderFgSegEls=function(t,e){var n=this;void 0===e&&(e=!1);var o,r=this.view.hasPublicHandlers("eventRender"),a="",s=[];if(t.length){for(o=0;o<t.length;o++)this.beforeFgSegHtml(t[o]),a+=this.fgSegHtml(t[o],e);i(a).each(function(e,o){var a=t[e],l=i(o);r&&(l=n.filterEventRenderEl(a.footprint,l)),l&&(l.data("fc-seg",a),a.el=l,s.push(a))})}return s},t.prototype.beforeFgSegHtml=function(t){},t.prototype.fgSegHtml=function(t,e){},t.prototype.getSegClasses=function(t,e,n){var i=["fc-event",t.isStart?"fc-start":"fc-not-start",t.isEnd?"fc-end":"fc-not-end"].concat(this.getClasses(t.footprint.eventDef));return e&&i.push("fc-draggable"),n&&i.push("fc-resizable"),this.view.isEventDefSelected(t.footprint.eventDef)&&i.push("fc-selected"),i},t.prototype.filterEventRenderEl=function(t,e){var n=t.getEventLegacy(),o=this.view.publiclyTrigger("eventRender",{context:n,args:[n,e,this.view]});return!1===o?e=null:o&&!0!==o&&(e=i(o)),e},t.prototype.getTimeText=function(t,e,n){return this._getTimeText(t.eventInstance.dateProfile.start,t.eventInstance.dateProfile.end,t.componentFootprint.isAllDay,e,n)},t.prototype._getTimeText=function(t,e,n,i,o){return null==i&&(i=this.eventTimeFormat),null==o&&(o=this.displayEventEnd),this.displayEventTime&&!n?o&&e?this.view.formatRange({start:t,end:e},!1,i):t.format(i):""},t.prototype.computeEventTimeFormat=function(){return this.opt("smallTimeFormat")},t.prototype.computeDisplayEventTime=function(){return!0},t.prototype.computeDisplayEventEnd=function(){return!0},t.prototype.getBgClasses=function(t){var e=this.getClasses(t);return e.push("fc-bgevent"),e},t.prototype.getClasses=function(t){var e,n=this.getStylingObjs(t),i=[];for(e=0;e<n.length;e++)i.push.apply(i,n[e].eventClassName||n[e].className||[]);return i},t.prototype.getSkinCss=function(t){return{"background-color":this.getBgColor(t),"border-color":this.getBorderColor(t),color:this.getTextColor(t)}},t.prototype.getBgColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventBackgroundColor||i[e].eventColor||i[e].backgroundColor||i[e].color;return n||(n=this.opt("eventBackgroundColor")||this.opt("eventColor")),n},t.prototype.getBorderColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventBorderColor||i[e].eventColor||i[e].borderColor||i[e].color;return n||(n=this.opt("eventBorderColor")||this.opt("eventColor")),n},t.prototype.getTextColor=function(t){var e,n,i=this.getStylingObjs(t);for(e=0;e<i.length&&!n;e++)n=i[e].eventTextColor||i[e].textColor;return n||(n=this.opt("eventTextColor")),n},t.prototype.getStylingObjs=function(t){var e=this.getFallbackStylingObjs(t);return e.unshift(t),e},t.prototype.getFallbackStylingObjs=function(t){return[t.source]},t.prototype.sortEventSegs=function(t){t.sort(o.proxy(this,"compareEventSegs"))},t.prototype.compareEventSegs=function(t,e){var n=t.footprint.componentFootprint,i=n.unzonedRange,r=e.footprint.componentFootprint,a=r.unzonedRange;return i.startMs-a.startMs||a.endMs-a.startMs-(i.endMs-i.startMs)||r.isAllDay-n.isAllDay||o.compareByFieldSpecs(t.footprint.eventDef,e.footprint.eventDef,this.view.eventOrderSpecs)},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(21),r=n(8),a=n(6),s=function(t){function e(){var e=t.call(this)||this;return e._watchers={},e._props={},e.applyGlobalWatchers(),e.constructed(),e}return i.__extends(e,t),e.prototype.constructed=function(){},e.prototype.applyGlobalWatchers=function(){var t,e=this._globalWatchArgs;for(t in e)this.watch.apply(this,[t].concat(e[t]))},e.prototype.has=function(t){return t in this._props},e.prototype.get=function(t){return void 0===t?this._props:this._props[t]},e.prototype.set=function(t,e){var n;"string"==typeof t?(n={})[t]=void 0===e?null:e:n=t,this.setProps(n)},e.prototype.reset=function(t){var e,n=this._props,i={};for(e in n)i[e]=void 0;for(e in t)i[e]=t[e];this.setProps(i)},e.prototype.unset=function(t){var e,n,i={};for(e="string"==typeof t?[t]:t,n=0;n<e.length;n++)i[e[n]]=void 0;this.setProps(i)},e.prototype.setProps=function(t){var e,n,i={},o=0;for(e in t)"object"!=typeof(n=t[e])&&n===this._props[e]||(i[e]=n,o++);if(o){for(e in this.trigger("before:batchChange",i),i)this.trigger("before:change",e,n=i[e]),this.trigger("before:change:"+e,n);for(e in i)void 0===(n=i[e])?delete this._props[e]:this._props[e]=n,this.trigger("change:"+e,n),this.trigger("change",e,n);this.trigger("batchChange",i)}},e.prototype.watch=function(t,e,n,i){var o=this;this.unwatch(t),this._watchers[t]=this._watchDeps(e,function(e){var i=n.call(o,e);i&&i.then?(o.unset(t),i.then(function(e){o.set(t,e)})):o.set(t,i)},function(e){o.unset(t),i&&i.call(o,e)})},e.prototype.unwatch=function(t){var e=this._watchers[t];e&&(delete this._watchers[t],e.teardown())},e.prototype._watchDeps=function(t,e,n){var i=this,o=0,r=t.length,a=0,s={},l=[],c=!1,d=function(t,n,i){void 0===n?(i||void 0===s[t]||a--,delete s[t]):(i||void 0!==s[t]||a++,s[t]=n),--o||a===r&&(c||e(s))},u=function(t,e){i.on(t,e),l.push([t,e])};return t.forEach(function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),u("before:change:"+t,function(t){1==++o&&a===r&&(c=!0,n(s),c=!1)}),u("change:"+t,function(n){d(t,n,e)})}),t.forEach(function(t){var e=!1;"?"===t.charAt(0)&&(t=t.substring(1),e=!0),i.has(t)?(s[t]=i.get(t),a++):e&&a++}),a===r&&e(s),{teardown:function(){for(var t=0;t<l.length;t++)i.off(l[t][0],l[t][1]);l=null,a===r&&n()},flash:function(){a===r&&(n(),e(s))}}},e.prototype.flash=function(t){var e=this._watchers[t];e&&e.flash()},e.watch=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.prototype.hasOwnProperty("_globalWatchArgs")||(this.prototype._globalWatchArgs=Object.create(this.prototype._globalWatchArgs)),this.prototype._globalWatchArgs[t]=e},e}(o.default);e.default=s,s.prototype._globalWatchArgs={},r.default.mixInto(s),a.default.mixInto(s)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(2),r=n(11),a=n(52);e.default={parse:function(t,e){return o.isTimeString(t.start)||i.isDuration(t.start)||o.isTimeString(t.end)||i.isDuration(t.end)?a.default.parse(t,e):r.default.parse(t,e)}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(16),s=n(5),l=n(11),c=function(t){function e(e){var n=t.call(this,e)||this;return n.eventDefs=[],n}return i.__extends(e,t),e.prototype.setRawEventDefs=function(t){this.rawEventDefs=t,this.eventDefs=this.parseEventDefs(t)},e.prototype.fetch=function(t,e,n){var i,o=this.eventDefs;if(null!=this.currentTimezone&&this.currentTimezone!==n)for(i=0;i<o.length;i++)o[i]instanceof l.default&&o[i].rezone();return this.currentTimezone=n,a.default.resolve(o)},e.prototype.addEventDef=function(t){this.eventDefs.push(t)},e.prototype.removeEventDefsById=function(t){return r.removeMatching(this.eventDefs,function(e){return e.id===t})},e.prototype.removeAllEventDefs=function(){this.eventDefs=[]},e.prototype.getPrimitive=function(){return this.rawEventDefs},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e);return this.setRawEventDefs(e.events),n},e.parse=function(t,e){var n;return o.isArray(t.events)?n=t:o.isArray(t)&&(n={events:t}),!!n&&s.default.parse.call(this,n,e)},e}(s.default);e.default=c,c.defineStandardProps({events:!1})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=n(15),r=function(){function t(){this.clearEnd=!1,this.forceTimed=!1,this.forceAllDay=!1}return t.prototype.buildNewDateProfile=function(t,e){var n=t.start.clone(),i=null,r=!1;return t.end&&!this.clearEnd?i=t.end.clone():this.endDelta&&!i&&(i=e.getDefaultEventEnd(t.isAllDay(),n)),this.forceTimed?(r=!0,n.hasTime()||n.time(0),i&&!i.hasTime()&&i.time(0)):this.forceAllDay&&(n.hasTime()&&n.stripTime(),i&&i.hasTime()&&i.stripTime()),this.dateDelta&&(r=!0,n.add(this.dateDelta),i&&i.add(this.dateDelta)),this.endDelta&&(r=!0,i.add(this.endDelta)),this.startDelta&&(r=!0,n.add(this.startDelta)),r&&(n=e.applyTimezone(n),i&&(i=e.applyTimezone(i))),!i&&e.opt("forceEventDuration")&&(i=e.getDefaultEventEnd(t.isAllDay(),n)),new o.default(n,i,e)},t.prototype.setDateDelta=function(t){this.dateDelta=t&&t.valueOf()?t:null},t.prototype.setStartDelta=function(t){this.startDelta=t&&t.valueOf()?t:null},t.prototype.setEndDelta=function(t){this.endDelta=t&&t.valueOf()?t:null},t.prototype.isEmpty=function(){return!(this.clearEnd||this.forceTimed||this.forceAllDay||this.dateDelta||this.startDelta||this.endDelta)},t.createFromDiff=function(e,n,o){function r(t,e){return o?i.diffByUnit(t,e,o):n.isAllDay()?i.diffDay(t,e):i.diffDayTime(t,e)}var a,s,l,c=e.end&&!n.end,d=e.isAllDay()&&!n.isAllDay(),u=!e.isAllDay()&&n.isAllDay();return a=r(n.start,e.start),n.end&&(s=r(n.unzonedRange.getEnd(),e.unzonedRange.getEnd()).subtract(a)),(l=new t).clearEnd=c,l.forceTimed=d,l.forceAllDay=u,l.setDateDelta(a),l.setEndDelta(s),l},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(55),o=n(56);e.default={themeClassHash:{},register:function(t,e){this.themeClassHash[t]=e},getThemeClass:function(t){return t?!0===t?o.default:this.themeClassHash[t]:i.default}}},function(t,e,n){function i(t){return"en"!==t.locale()?t.clone().locale("en"):t}function o(t,e){return function(t,e){return c(l(t,e).join(""))}(r(e).fakeFormatString,t)}function r(t){return v[t]||(v[t]=function(t){var e=a(t);return{fakeFormatString:function t(e){var n,i,o=[];for(n=0;n<e.length;n++)"string"==typeof(i=e[n])?o.push("["+i+"]"):i.token?o.push(i.token in g?h+"["+i.token+"]":i.token):i.maybe&&o.push(f+t(i.maybe)+f);return o.join(u)}(e),sameUnits:function t(e){var n,i,o,r=[];for(n=0;n<e.length;n++)(i=e[n]).token?(o=m[i.token.charAt(0)],r.push(o?o.unit:"second")):i.maybe?r.push.apply(r,t(i.maybe)):r.push(null);return r}(e)}}(t))}function a(t){for(var e,n=[],i=/\[([^\]]*)\]|\(([^\)]*)\)|(LTS|LT|(\w)\4*o?)|([^\w\[\(]+)/g;e=i.exec(t);)e[1]?n.push.apply(n,s(e[1])):e[2]?n.push({maybe:a(e[2])}):e[3]?n.push({token:e[3]}):e[5]&&n.push.apply(n,s(e[5]));return n}function s(t){return". "===t?["."," "]:[t]}function l(t,e){var n,i,o=[],r=d.oldMomentFormat(e,t).split(u);for(n=0;n<r.length;n++)(i=r[n]).charAt(0)===h?o.push(g[i.substring(1)](e)):o.push(i);return o}function c(t){return t.replace(p,function(t,e){return e.match(/[1-9]/)?e:""})}Object.defineProperty(e,"__esModule",{value:!0});var d=n(9);d.newMomentProto.format=function(){return this._fullCalendar&&arguments[0]?o(this,arguments[0]):this._ambigTime?d.oldMomentFormat(i(this),"YYYY-MM-DD"):this._ambigZone?d.oldMomentFormat(i(this),"YYYY-MM-DD[T]HH:mm:ss"):this._fullCalendar?d.oldMomentFormat(i(this)):d.oldMomentProto.format.apply(this,arguments)},d.newMomentProto.toISOString=function(){return this._ambigTime?d.oldMomentFormat(i(this),"YYYY-MM-DD"):this._ambigZone?d.oldMomentFormat(i(this),"YYYY-MM-DD[T]HH:mm:ss"):d.oldMomentProto.toISOString.apply(this._fullCalendar?i(this):this,arguments)};var u="\v",h="\x1f",f="\x1e",p=new RegExp(f+"([^"+f+"]*)"+f,"g"),g={t:function(t){return d.oldMomentFormat(t,"a").charAt(0)},T:function(t){return d.oldMomentFormat(t,"A").charAt(0)}},m={Y:{value:1,unit:"year"},M:{value:2,unit:"month"},W:{value:3,unit:"week"},w:{value:3,unit:"week"},D:{value:4,unit:"day"},d:{value:4,unit:"day"}};e.formatDate=o,e.formatRange=function(t,e,n,i,o){return t=d.default.parseZone(t),e=d.default.parseZone(e),function(t,e,n,i,o){var r,a,s,d=t.sameUnits,u=e.clone().stripZone(),h=n.clone().stripZone(),f=l(t.fakeFormatString,e),p=l(t.fakeFormatString,n),g="",m="",v="",y="",b="";for(r=0;r<d.length&&(!d[r]||u.isSame(h,d[r]));r++)g+=f[r];for(a=d.length-1;a>r&&(!d[a]||u.isSame(h,d[a]))&&(a-1!==r||"."!==f[a]);a--)m=f[a]+m;for(s=r;s<=a;s++)v+=f[s],y+=p[s];return(v||y)&&(b=o?y+i+v:v+i+y),c(g+b+m)}(r(n=t.localeData().longDateFormat(n)||n),t,e,i||" - ",o)};var v={};e.queryMostGranularFormatUnit=function(t){var e,n,i,o,r=a(t);for(e=0;e<r.length;e++)(n=r[e]).token&&(i=m[n.token.charAt(0)])&&(!o||i.value>o.value)&&(o=i);return o?o.unit:null}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=function(){function t(t){this.isHorizontal=!1,this.isVertical=!1,this.els=i(t.els),this.isHorizontal=t.isHorizontal,this.isVertical=t.isVertical,this.forcedOffsetParentEl=t.offsetParent?i(t.offsetParent):null}return t.prototype.build=function(){var t=this.forcedOffsetParentEl;!t&&this.els.length>0&&(t=this.els.eq(0).offsetParent()),this.origin=t?t.offset():null,this.boundingRect=this.queryBoundingRect(),this.isHorizontal&&this.buildElHorizontals(),this.isVertical&&this.buildElVerticals()},t.prototype.clear=function(){this.origin=null,this.boundingRect=null,this.lefts=null,this.rights=null,this.tops=null,this.bottoms=null},t.prototype.ensureBuilt=function(){this.origin||this.build()},t.prototype.buildElHorizontals=function(){var t=[],e=[];this.els.each(function(n,o){var r=i(o),a=r.offset().left,s=r.outerWidth();t.push(a),e.push(a+s)}),this.lefts=t,this.rights=e},t.prototype.buildElVerticals=function(){var t=[],e=[];this.els.each(function(n,o){var r=i(o),a=r.offset().top,s=r.outerHeight();t.push(a),e.push(a+s)}),this.tops=t,this.bottoms=e},t.prototype.getHorizontalIndex=function(t){this.ensureBuilt();var e,n=this.lefts,i=this.rights,o=n.length;for(e=0;e<o;e++)if(t>=n[e]&&t<i[e])return e},t.prototype.getVerticalIndex=function(t){this.ensureBuilt();var e,n=this.tops,i=this.bottoms,o=n.length;for(e=0;e<o;e++)if(t>=n[e]&&t<i[e])return e},t.prototype.getLeftOffset=function(t){return this.ensureBuilt(),this.lefts[t]},t.prototype.getLeftPosition=function(t){return this.ensureBuilt(),this.lefts[t]-this.origin.left},t.prototype.getRightOffset=function(t){return this.ensureBuilt(),this.rights[t]},t.prototype.getRightPosition=function(t){return this.ensureBuilt(),this.rights[t]-this.origin.left},t.prototype.getWidth=function(t){return this.ensureBuilt(),this.rights[t]-this.lefts[t]},t.prototype.getTopOffset=function(t){return this.ensureBuilt(),this.tops[t]},t.prototype.getTopPosition=function(t){return this.ensureBuilt(),this.tops[t]-this.origin.top},t.prototype.getBottomOffset=function(t){return this.ensureBuilt(),this.bottoms[t]},t.prototype.getBottomPosition=function(t){return this.ensureBuilt(),this.bottoms[t]-this.origin.top},t.prototype.getHeight=function(t){return this.ensureBuilt(),this.bottoms[t]-this.tops[t]},t.prototype.queryBoundingRect=function(){var t;return this.els.length>0&&!(t=o.getScrollParent(this.els.eq(0))).is(document)?o.getClientRect(t):null},t.prototype.isPointInBounds=function(t,e){return this.isLeftInBounds(t)&&this.isTopInBounds(e)},t.prototype.isLeftInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.left&&t<this.boundingRect.right},t.prototype.isTopInBounds=function(t){return!this.boundingRect||t>=this.boundingRect.top&&t<this.boundingRect.bottom},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=n(6),a=n(14),s=function(){function t(t){this.isInteracting=!1,this.isDistanceSurpassed=!1,this.isDelayEnded=!1,this.isDragging=!1,this.isTouch=!1,this.isGeneric=!1,this.shouldCancelTouchScroll=!0,this.scrollAlwaysKills=!1,this.isAutoScroll=!1,this.scrollSensitivity=30,this.scrollSpeed=200,this.scrollIntervalMs=50,this.options=t||{}}return t.prototype.startInteraction=function(t,e){if(void 0===e&&(e={}),"mousedown"===t.type){if(a.default.get().shouldIgnoreMouse())return;if(!o.isPrimaryMouseButton(t))return;t.preventDefault()}this.isInteracting||(this.delay=o.firstDefined(e.delay,this.options.delay,0),this.minDistance=o.firstDefined(e.distance,this.options.distance,0),this.subjectEl=this.options.subjectEl,o.preventSelection(i("body")),this.isInteracting=!0,this.isTouch=o.getEvIsTouch(t),this.isGeneric="dragstart"===t.type,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.originX=o.getEvX(t),this.originY=o.getEvY(t),this.scrollEl=o.getScrollParent(i(t.target)),this.bindHandlers(),this.initAutoScroll(),this.handleInteractionStart(t),this.startDelay(t),this.minDistance||this.handleDistanceSurpassed(t))},t.prototype.handleInteractionStart=function(t){this.trigger("interactionStart",t)},t.prototype.endInteraction=function(t,e){this.isInteracting&&(this.endDrag(t),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null),this.destroyAutoScroll(),this.unbindHandlers(),this.isInteracting=!1,this.handleInteractionEnd(t,e),o.allowSelection(i("body")))},t.prototype.handleInteractionEnd=function(t,e){this.trigger("interactionEnd",t,e||!1)},t.prototype.bindHandlers=function(){var t=a.default.get();this.isGeneric?this.listenTo(i(document),{drag:this.handleMove,dragstop:this.endInteraction}):this.listenTo(t,this.isTouch?{touchmove:this.handleTouchMove,touchend:this.endInteraction,scroll:this.handleTouchScroll}:{mousemove:this.handleMouseMove,mouseup:this.endInteraction}),this.listenTo(t,{selectstart:o.preventDefault,contextmenu:o.preventDefault})},t.prototype.unbindHandlers=function(){this.stopListeningTo(a.default.get()),this.stopListeningTo(i(document))},t.prototype.startDrag=function(t,e){this.startInteraction(t,e),this.isDragging||(this.isDragging=!0,this.handleDragStart(t))},t.prototype.handleDragStart=function(t){this.trigger("dragStart",t)},t.prototype.handleMove=function(t){var e=o.getEvX(t)-this.originX,n=o.getEvY(t)-this.originY,i=this.minDistance;this.isDistanceSurpassed||e*e+n*n>=i*i&&this.handleDistanceSurpassed(t),this.isDragging&&this.handleDrag(e,n,t)},t.prototype.handleDrag=function(t,e,n){this.trigger("drag",t,e,n),this.updateAutoScroll(n)},t.prototype.endDrag=function(t){this.isDragging&&(this.isDragging=!1,this.handleDragEnd(t))},t.prototype.handleDragEnd=function(t){this.trigger("dragEnd",t)},t.prototype.startDelay=function(t){var e=this;this.delay?this.delayTimeoutId=setTimeout(function(){e.handleDelayEnd(t)},this.delay):this.handleDelayEnd(t)},t.prototype.handleDelayEnd=function(t){this.isDelayEnded=!0,this.isDistanceSurpassed&&this.startDrag(t)},t.prototype.handleDistanceSurpassed=function(t){this.isDistanceSurpassed=!0,this.isDelayEnded&&this.startDrag(t)},t.prototype.handleTouchMove=function(t){this.isDragging&&this.shouldCancelTouchScroll&&t.preventDefault(),this.handleMove(t)},t.prototype.handleMouseMove=function(t){this.handleMove(t)},t.prototype.handleTouchScroll=function(t){this.isDragging&&!this.scrollAlwaysKills||this.endInteraction(t,!0)},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.options[t]&&this.options[t].apply(this,e),this["_"+t]&&this["_"+t].apply(this,e)},t.prototype.initAutoScroll=function(){var t=this.scrollEl;this.isAutoScroll=this.options.scroll&&t&&!t.is(window)&&!t.is(document),this.isAutoScroll&&this.listenTo(t,"scroll",o.debounce(this.handleDebouncedScroll,100))},t.prototype.destroyAutoScroll=function(){this.endAutoScroll(),this.isAutoScroll&&this.stopListeningTo(this.scrollEl,"scroll")},t.prototype.computeScrollBounds=function(){this.isAutoScroll&&(this.scrollBounds=o.getOuterRect(this.scrollEl))},t.prototype.updateAutoScroll=function(t){var e,n,i,r,a=this.scrollSensitivity,s=this.scrollBounds,l=0,c=0;s&&(e=(a-(o.getEvY(t)-s.top))/a,n=(a-(s.bottom-o.getEvY(t)))/a,i=(a-(o.getEvX(t)-s.left))/a,r=(a-(s.right-o.getEvX(t)))/a,e>=0&&e<=1?l=e*this.scrollSpeed*-1:n>=0&&n<=1&&(l=n*this.scrollSpeed),i>=0&&i<=1?c=i*this.scrollSpeed*-1:r>=0&&r<=1&&(c=r*this.scrollSpeed)),this.setScrollVel(l,c)},t.prototype.setScrollVel=function(t,e){this.scrollTopVel=t,this.scrollLeftVel=e,this.constrainScrollVel(),!this.scrollTopVel&&!this.scrollLeftVel||this.scrollIntervalId||(this.scrollIntervalId=setInterval(o.proxy(this,"scrollIntervalFunc"),this.scrollIntervalMs))},t.prototype.constrainScrollVel=function(){var t=this.scrollEl;this.scrollTopVel<0?t.scrollTop()<=0&&(this.scrollTopVel=0):this.scrollTopVel>0&&t.scrollTop()+t[0].clientHeight>=t[0].scrollHeight&&(this.scrollTopVel=0),this.scrollLeftVel<0?t.scrollLeft()<=0&&(this.scrollLeftVel=0):this.scrollLeftVel>0&&t.scrollLeft()+t[0].clientWidth>=t[0].scrollWidth&&(this.scrollLeftVel=0)},t.prototype.scrollIntervalFunc=function(){var t=this.scrollEl,e=this.scrollIntervalMs/1e3;this.scrollTopVel&&t.scrollTop(t.scrollTop()+this.scrollTopVel*e),this.scrollLeftVel&&t.scrollLeft(t.scrollLeft()+this.scrollLeftVel*e),this.constrainScrollVel(),this.scrollTopVel||this.scrollLeftVel||this.endAutoScroll()},t.prototype.endAutoScroll=function(){this.scrollIntervalId&&(clearInterval(this.scrollIntervalId),this.scrollIntervalId=null,this.handleScrollEnd())},t.prototype.handleDebouncedScroll=function(){this.scrollIntervalId||this.handleScrollEnd()},t.prototype.handleScrollEnd=function(){},t}();e.default=s,r.default.mixInto(s)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.breakOnWeeks=!1,e}return i.__extends(e,t),e.prototype.updateDayTable=function(){for(var t,e,n,i=this,o=i.view,r=o.calendar,a=r.msToUtcMoment(i.dateProfile.renderUnzonedRange.startMs,!0),s=r.msToUtcMoment(i.dateProfile.renderUnzonedRange.endMs,!0),l=-1,c=[],d=[];a.isBefore(s);)o.isHiddenDay(a)?c.push(l+.5):(c.push(++l),d.push(a.clone())),a.add(1,"days");if(this.breakOnWeeks){for(e=d[0].day(),t=1;t<d.length&&d[t].day()!=e;t++);n=Math.ceil(d.length/t)}else n=1,t=d.length;this.dayDates=d,this.dayIndices=c,this.daysPerRow=t,this.rowCnt=n,this.updateDayTableCols()},e.prototype.updateDayTableCols=function(){this.colCnt=this.computeColCnt(),this.colHeadFormat=this.opt("columnFormat")||this.computeColHeadFormat()},e.prototype.computeColCnt=function(){return this.daysPerRow},e.prototype.getCellDate=function(t,e){return this.dayDates[this.getCellDayIndex(t,e)].clone()},e.prototype.getCellRange=function(t,e){var n=this.getCellDate(t,e);return{start:n,end:n.clone().add(1,"days")}},e.prototype.getCellDayIndex=function(t,e){return t*this.daysPerRow+this.getColDayIndex(e)},e.prototype.getColDayIndex=function(t){return this.isRTL?this.colCnt-1-t:t},e.prototype.getDateDayIndex=function(t){var e=this.dayIndices,n=t.diff(this.dayDates[0],"days");return n<0?e[0]-1:n>=e.length?e[e.length-1]+1:e[n]},e.prototype.computeColHeadFormat=function(){return this.rowCnt>1||this.colCnt>10?"ddd":this.colCnt>1?this.opt("dayOfMonthFormat"):"dddd"},e.prototype.sliceRangeByRow=function(t){var e,n,i,o,r,a=this.daysPerRow,s=this.view.computeDayRange(t),l=this.getDateDayIndex(s.start),c=this.getDateDayIndex(s.end.clone().subtract(1,"days")),d=[];for(e=0;e<this.rowCnt;e++)i=(n=e*a)+a-1,o=Math.max(l,n),r=Math.min(c,i),(o=Math.ceil(o))<=(r=Math.floor(r))&&d.push({row:e,firstRowDayIndex:o-n,lastRowDayIndex:r-n,isStart:o===l,isEnd:r===c});return d},e.prototype.sliceRangeByDay=function(t){var e,n,i,o,r,a,s=this.daysPerRow,l=this.view.computeDayRange(t),c=this.getDateDayIndex(l.start),d=this.getDateDayIndex(l.end.clone().subtract(1,"days")),u=[];for(e=0;e<this.rowCnt;e++)for(i=(n=e*s)+s-1,o=n;o<=i;o++)r=Math.max(c,o),a=Math.min(d,o),(r=Math.ceil(r))<=(a=Math.floor(a))&&u.push({row:e,firstRowDayIndex:r-n,lastRowDayIndex:a-n,isStart:r===c,isEnd:a===d});return u},e.prototype.renderHeadHtml=function(){var t=this.view.calendar.theme;return'<div class="fc-row '+t.getClass("headerRow")+'"><table class="'+t.getClass("tableGrid")+'"><thead>'+this.renderHeadTrHtml()+"</thead></table></div>"},e.prototype.renderHeadIntroHtml=function(){return this.renderIntroHtml()},e.prototype.renderHeadTrHtml=function(){return"<tr>"+(this.isRTL?"":this.renderHeadIntroHtml())+this.renderHeadDateCellsHtml()+(this.isRTL?this.renderHeadIntroHtml():"")+"</tr>"},e.prototype.renderHeadDateCellsHtml=function(){var t,e,n=[];for(t=0;t<this.colCnt;t++)e=this.getCellDate(0,t),n.push(this.renderHeadDateCellHtml(e));return n.join("")},e.prototype.renderHeadDateCellHtml=function(t,e,n){var i=this,r=i.view,a=i.dateProfile.activeUnzonedRange.containsDate(t),s=["fc-day-header",r.calendar.theme.getClass("widgetHeader")],l=o.htmlEscape(t.format(i.colHeadFormat));return 1===i.rowCnt?s=s.concat(i.getDayClasses(t,!0)):s.push("fc-"+o.dayIDs[t.day()]),'<th class="'+s.join(" ")+'"'+(1===(a&&i.rowCnt)?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e>1?' colspan="'+e+'"':"")+(n?" "+n:"")+">"+(a?r.buildGotoAnchorHtml({date:t,forceOff:i.rowCnt>1||1===i.colCnt},l):l)+"</th>"},e.prototype.renderBgTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderBgIntroHtml(t))+this.renderBgCellsHtml(t)+(this.isRTL?this.renderBgIntroHtml(t):"")+"</tr>"},e.prototype.renderBgIntroHtml=function(t){return this.renderIntroHtml()},e.prototype.renderBgCellsHtml=function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderBgCellHtml(n));return i.join("")},e.prototype.renderBgCellHtml=function(t,e){var n=this,i=n.view,o=n.dateProfile.activeUnzonedRange.containsDate(t),r=n.getDayClasses(t);return r.unshift("fc-day",i.calendar.theme.getClass("widgetContent")),'<td class="'+r.join(" ")+'"'+(o?' data-date="'+t.format("YYYY-MM-DD")+'"':"")+(e?" "+e:"")+"></td>"},e.prototype.renderIntroHtml=function(){},e.prototype.bookendCells=function(t){var e=this.renderIntroHtml();e&&(this.isRTL?t.append(e):t.prepend(e))},e}(n(12).default);e.default=r},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.component=t,this.fillRenderer=e}return t.prototype.render=function(t){var e=this.component,n=e._getDateProfile().activeUnzonedRange,i=t.buildEventInstanceGroup(e.hasAllDayBusinessHours,n),o=i?e.eventRangesToEventFootprints(i.sliceRenderRanges(n)):[];this.renderEventFootprints(o)},t.prototype.renderEventFootprints=function(t){var e=this.component.eventFootprintsToSegs(t);this.renderSegs(e),this.segs=e},t.prototype.renderSegs=function(t){this.fillRenderer&&this.fillRenderer.renderSegs("businessHours",t,{getClasses:function(t){return["fc-nonbusiness","fc-bgevent"]}})},t.prototype.unrender=function(){this.fillRenderer&&this.fillRenderer.unrender("businessHours"),this.segs=null},t.prototype.getSegs=function(){return this.segs||[]},t}();e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=function(){function t(t){this.fillSegTag="div",this.component=t,this.elsByFill={}}return t.prototype.renderFootprint=function(t,e,n){this.renderSegs(t,this.component.componentFootprintToSegs(e),n)},t.prototype.renderSegs=function(t,e,n){var i;return e=this.buildSegEls(t,e,n),(i=this.attachSegEls(t,e))&&this.reportEls(t,i),e},t.prototype.unrender=function(t){var e=this.elsByFill[t];e&&(e.remove(),delete this.elsByFill[t])},t.prototype.buildSegEls=function(t,e,n){var o,r=this,a="",s=[];if(e.length){for(o=0;o<e.length;o++)a+=this.buildSegHtml(t,e[o],n);i(a).each(function(t,o){var a=e[t],l=i(o);n.filterEl&&(l=n.filterEl(a,l)),l&&(l=i(l)).is(r.fillSegTag)&&(a.el=l,s.push(a))})}return s},t.prototype.buildSegHtml=function(t,e,n){var i=n.getClasses?n.getClasses(e):[],r=o.cssToStr(n.getCss?n.getCss(e):{});return"<"+this.fillSegTag+(i.length?' class="'+i.join(" ")+'"':"")+(r?' style="'+r+'"':"")+" />"},t.prototype.attachSegEls=function(t,e){},t.prototype.reportEls=function(t,e){this.elsByFill[t]=this.elsByFill[t]?this.elsByFill[t].add(e):i(e)},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(11),o=n(24),r=n(5),a=function(){function t(t,e){this.view=t._getView(),this.component=t,this.eventRenderer=e}return t.prototype.renderComponentFootprint=function(t){this.renderEventFootprints([this.fabricateEventFootprint(t)])},t.prototype.renderEventDraggingFootprints=function(t,e,n){this.renderEventFootprints(t,e,"fc-dragging",n?null:this.view.opt("dragOpacity"))},t.prototype.renderEventResizingFootprints=function(t,e,n){this.renderEventFootprints(t,e,"fc-resizing")},t.prototype.renderEventFootprints=function(t,e,n,i){var o,r=this.component.eventFootprintsToSegs(t),a="fc-helper "+(n||"");for(r=this.eventRenderer.renderFgSegEls(r),o=0;o<r.length;o++)r[o].el.addClass(a);if(null!=i)for(o=0;o<r.length;o++)r[o].el.css("opacity",i);this.helperEls=this.renderSegs(r,e)},t.prototype.renderSegs=function(t,e){},t.prototype.unrender=function(){this.helperEls&&(this.helperEls.remove(),this.helperEls=null)},t.prototype.fabricateEventFootprint=function(t){var e,n=this.view.calendar,a=n.footprintToDateProfile(t),s=new i.default(new r.default(n));return s.dateProfile=a,e=s.buildInstance(),new o.default(t,s,e)},t}();e.default=a},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(14),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"click",this.handleClick.bind(this)),e.bindSegHandlerToEl(t,"mouseenter",this.handleMouseover.bind(this)),e.bindSegHandlerToEl(t,"mouseleave",this.handleMouseout.bind(this))},e.prototype.handleClick=function(t,e){!1===this.component.publiclyTrigger("eventClick",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]})&&e.preventDefault()},e.prototype.handleMouseover=function(t,e){o.default.get().shouldIgnoreMouse()||this.mousedOverSeg||(this.mousedOverSeg=t,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.addClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseover",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,this.view]}))},e.prototype.handleMouseout=function(t,e){this.mousedOverSeg&&(this.mousedOverSeg=null,this.view.isEventDefResizable(t.footprint.eventDef)&&t.el.removeClass("fc-allow-mouse-resize"),this.component.publiclyTrigger("eventMouseout",{context:t.el[0],args:[t.footprint.getEventLegacy(),e||{},this.view]}))},e.prototype.end=function(){this.mousedOverSeg&&this.handleMouseout(this.mousedOverSeg)},e}(n(13).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(12),r=n(82),a=n(66),s=n(44),l=n(65),c=n(64),d=n(63),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(o.default);e.default=u,u.prototype.dateClickingClass=r.default,u.prototype.dateSelectingClass=a.default,u.prototype.eventPointingClass=s.default,u.prototype.eventDraggingClass=l.default,u.prototype.eventResizingClass=c.default,u.prototype.externalDroppingClass=d.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(38),s=n(86),l=n(4),c=n(10),d=n(24),u=n(41),h=n(45),f=n(29),p=n(40),g=n(87),m=n(88),v=n(89),y=function(t){function e(e){var n=t.call(this,e)||this;return n.cellWeekNumbersVisible=!1,n.bottomCoordPadding=0,n.isRigid=!1,n.hasAllDayBusinessHours=!0,n}return i.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,n,i=this.sliceRangeByRow(t.unzonedRange);for(e=0;e<i.length;e++)n=i[e],this.isRTL?(n.leftCol=this.daysPerRow-1-n.lastRowDayIndex,n.rightCol=this.daysPerRow-1-n.firstRowDayIndex):(n.leftCol=n.firstRowDayIndex,n.rightCol=n.lastRowDayIndex);return i},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderGrid()},e.prototype.unrenderDates=function(){this.removeSegPopover()},e.prototype.renderGrid=function(){var t,e,n=this.view,i=this.rowCnt,o=this.colCnt,r="";for(this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),t=0;t<i;t++)r+=this.renderDayRowHtml(t,this.isRigid);for(this.el.html(r),this.rowEls=this.el.find(".fc-row"),this.cellEls=this.el.find(".fc-day, .fc-disabled-day"),this.rowCoordCache=new a.default({els:this.rowEls,isVertical:!0}),this.colCoordCache=new a.default({els:this.cellEls.slice(0,this.colCnt),isHorizontal:!0}),t=0;t<i;t++)for(e=0;e<o;e++)this.publiclyTrigger("dayRender",{context:n,args:[this.getCellDate(t,e),this.getCellEl(t,e),n]})},e.prototype.renderDayRowHtml=function(t,e){var n=this.view.calendar.theme,i=["fc-row","fc-week",n.getClass("dayRow")];return e&&i.push("fc-rigid"),'<div class="'+i.join(" ")+'"><div class="fc-bg"><table class="'+n.getClass("tableGrid")+'">'+this.renderBgTrHtml(t)+'</table></div><div class="fc-content-skeleton"><table>'+(this.getIsNumbersVisible()?"<thead>"+this.renderNumberTrHtml(t)+"</thead>":"")+"</table></div></div>"},e.prototype.getIsNumbersVisible=function(){return this.getIsDayNumbersVisible()||this.cellWeekNumbersVisible},e.prototype.getIsDayNumbersVisible=function(){return this.rowCnt>1},e.prototype.renderNumberTrHtml=function(t){return"<tr>"+(this.isRTL?"":this.renderNumberIntroHtml(t))+this.renderNumberCellsHtml(t)+(this.isRTL?this.renderNumberIntroHtml(t):"")+"</tr>"},e.prototype.renderNumberIntroHtml=function(t){return this.renderIntroHtml()},e.prototype.renderNumberCellsHtml=function(t){var e,n,i=[];for(e=0;e<this.colCnt;e++)n=this.getCellDate(t,e),i.push(this.renderNumberCellHtml(n));return i.join("")},e.prototype.renderNumberCellHtml=function(t){var e,n,i=this.view,o="",r=this.dateProfile.activeUnzonedRange.containsDate(t),a=this.getIsDayNumbersVisible()&&r;return a||this.cellWeekNumbersVisible?((e=this.getDayClasses(t)).unshift("fc-day-top"),this.cellWeekNumbersVisible&&(n="ISO"===t._locale._fullCalendar_weekCalc?1:t._locale.firstDayOfWeek()),o+='<td class="'+e.join(" ")+'"'+(r?' data-date="'+t.format()+'"':"")+">",this.cellWeekNumbersVisible&&t.day()==n&&(o+=i.buildGotoAnchorHtml({date:t,type:"week"},{class:"fc-week-number"},t.format("w"))),a&&(o+=i.buildGotoAnchorHtml(t,{class:"fc-day-number"},t.date())),o+="</td>"):"<td/>"},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.rowCoordCache.build(),this.rowCoordCache.bottoms[this.rowCnt-1]+=this.bottomCoordPadding},e.prototype.releaseHits=function(){this.colCoordCache.clear(),this.rowCoordCache.clear()},e.prototype.queryHit=function(t,e){if(this.colCoordCache.isLeftInBounds(t)&&this.rowCoordCache.isTopInBounds(e)){var n=this.colCoordCache.getHorizontalIndex(t),i=this.rowCoordCache.getVerticalIndex(e);if(null!=i&&null!=n)return this.getCellHit(i,n)}},e.prototype.getHitFootprint=function(t){var e=this.getCellRange(t.row,t.col);return new c.default(new l.default(e.start,e.end),!0)},e.prototype.getHitEl=function(t){return this.getCellEl(t.row,t.col)},e.prototype.getCellHit=function(t,e){return{row:t,col:e,component:this,left:this.colCoordCache.getLeftOffset(e),right:this.colCoordCache.getRightOffset(e),top:this.rowCoordCache.getTopOffset(t),bottom:this.rowCoordCache.getBottomOffset(t)}},e.prototype.getCellEl=function(t,e){return this.cellEls.eq(t*this.colCnt+e)},e.prototype.executeEventUnrender=function(){this.removeSegPopover(),t.prototype.executeEventUnrender.call(this)},e.prototype.getOwnEventSegs=function(){return t.prototype.getOwnEventSegs.call(this).concat(this.popoverSegs||[])},e.prototype.renderDrag=function(t,e,n){var i;for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint);if(t.length&&e&&e.component!==this)return this.helperRenderer.renderEventDraggingFootprints(t,e,n),!0},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,n){var i;for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint);this.helperRenderer.renderEventResizingFootprints(t,e,n)},e.prototype.unrenderEventResize=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.removeSegPopover=function(){this.segPopover&&this.segPopover.hide()},e.prototype.limitRows=function(t){var e,n,i=this.eventRenderer.rowStructs||[];for(e=0;e<i.length;e++)this.unlimitRow(e),!1!==(n=!!t&&("number"==typeof t?t:this.computeRowLevelLimit(e)))&&this.limitRow(e,n)},e.prototype.computeRowLevelLimit=function(t){function e(t,e){r=Math.max(r,o(e).outerHeight())}var n,i,r,a=this.rowEls.eq(t).height(),s=this.eventRenderer.rowStructs[t].tbodyEl.children();for(n=0;n<s.length;n++)if(i=s.eq(n).removeClass("fc-limited"),r=0,i.find("> td > :first-child").each(e),i.position().top+r>a)return n;return!1},e.prototype.limitRow=function(t,e){var n,i,r,a,s,l,c,d,u,h,f,p,g,m,v,y=this,b=this.eventRenderer.rowStructs[t],w=[],x=0,D=function(n){for(;x<n;)(l=y.getCellSegs(t,x,e)).length&&(u=i[e-1][x],v=y.renderMoreLink(t,x,l),m=o("<div/>").append(v),u.append(m),w.push(m[0])),x++};if(e&&e<b.segLevels.length){for(n=b.segLevels[e-1],i=b.cellMatrix,r=b.tbodyEl.children().slice(e).addClass("fc-limited").get(),a=0;a<n.length;a++){for(D((s=n[a]).leftCol),d=[],c=0;x<=s.rightCol;)l=this.getCellSegs(t,x,e),d.push(l),c+=l.length,x++;if(c){for(h=(u=i[e-1][s.leftCol]).attr("rowspan")||1,f=[],p=0;p<d.length;p++)g=o('<td class="fc-more-cell"/>').attr("rowspan",h),v=this.renderMoreLink(t,s.leftCol+p,[s].concat(l=d[p])),m=o("<div/>").append(v),g.append(m),f.push(g[0]),w.push(g[0]);u.addClass("fc-limited").after(o(f)),r.push(u[0])}}D(this.colCnt),b.moreEls=o(w),b.limitedEls=o(r)}},e.prototype.unlimitRow=function(t){var e=this.eventRenderer.rowStructs[t];e.moreEls&&(e.moreEls.remove(),e.moreEls=null),e.limitedEls&&(e.limitedEls.removeClass("fc-limited"),e.limitedEls=null)},e.prototype.renderMoreLink=function(t,e,n){var i=this,r=this.view;return o('<a class="fc-more"/>').text(this.getMoreLinkText(n.length)).on("click",function(a){var s=i.opt("eventLimitClick"),l=i.getCellDate(t,e),c=o(a.currentTarget),d=i.getCellEl(t,e),u=i.getCellSegs(t,e),h=i.resliceDaySegs(u,l),f=i.resliceDaySegs(n,l);"function"==typeof s&&(s=i.publiclyTrigger("eventLimitClick",{context:r,args:[{date:l.clone(),dayEl:d,moreEl:c,segs:h,hiddenSegs:f},a,r]})),"popover"===s?i.showSegPopover(t,e,c,h):"string"==typeof s&&r.calendar.zoomTo(l,s)})},e.prototype.showSegPopover=function(t,e,n,i){var o,r,a=this,l=this.view,c=n.parent();o=1==this.rowCnt?l.el:this.rowEls.eq(t),r={className:"fc-more-popover "+l.calendar.theme.getClass("popover"),content:this.renderSegPopoverContent(t,e,i),parentEl:l.el,top:o.offset().top,autoHide:!0,viewportConstrain:this.opt("popoverViewportConstrain"),hide:function(){a.popoverSegs&&a.triggerBeforeEventSegsDestroyed(a.popoverSegs),a.segPopover.removeElement(),a.segPopover=null,a.popoverSegs=null}},this.isRTL?r.right=c.offset().left+c.outerWidth()+1:r.left=c.offset().left-1,this.segPopover=new s.default(r),this.segPopover.show(),this.bindAllSegHandlersToEl(this.segPopover.el),this.triggerAfterEventSegsRendered(i)},e.prototype.renderSegPopoverContent=function(t,e,n){var i,a=this.view.calendar.theme,s=this.getCellDate(t,e).format(this.opt("dayPopoverFormat")),l=o('<div class="fc-header '+a.getClass("popoverHeader")+'"><span class="fc-close '+a.getIconClass("close")+'"></span><span class="fc-title">'+r.htmlEscape(s)+'</span><div class="fc-clear"/></div><div class="fc-body '+a.getClass("popoverContent")+'"><div class="fc-event-container"></div></div>'),c=l.find(".fc-event-container");for(n=this.eventRenderer.renderFgSegEls(n,!0),this.popoverSegs=n,i=0;i<n.length;i++)this.hitsNeeded(),n[i].hit=this.getCellHit(t,e),this.hitsNotNeeded(),c.append(n[i].el);return l},e.prototype.resliceDaySegs=function(t,e){var n,i,r,a=e.clone(),s=a.clone().add(1,"days"),u=new l.default(a,s),h=[];for(n=0;n<t.length;n++)(r=(i=t[n]).footprint.componentFootprint.unzonedRange.intersect(u))&&h.push(o.extend({},i,{footprint:new d.default(new c.default(r,i.footprint.componentFootprint.isAllDay),i.footprint.eventDef,i.footprint.eventInstance),isStart:i.isStart&&r.isStart,isEnd:i.isEnd&&r.isEnd}));return this.eventRenderer.sortEventSegs(h),h},e.prototype.getMoreLinkText=function(t){var e=this.opt("eventLimitText");return"function"==typeof e?e(t):"+"+t+" "+e},e.prototype.getCellSegs=function(t,e,n){for(var i,o=this.eventRenderer.rowStructs[t].segMatrix,r=n||0,a=[];r<o.length;)(i=o[r][e])&&a.push(i),r++;return a},e}(f.default);e.default=y,y.prototype.eventRendererClass=g.default,y.prototype.businessHourRendererClass=u.default,y.prototype.helperRendererClass=m.default,y.prototype.fillRendererClass=v.default,h.default.mixInto(y),p.default.mixInto(y)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(28),s=n(30),l=n(69),c=n(46),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dayGrid=i.instantiateDayGrid(),i.dayGrid.isRigid=i.hasRigidRows(),i.opt("weekNumbers")&&(i.opt("weekNumbersWithinDays")?(i.dayGrid.cellWeekNumbersVisible=!0,i.dayGrid.colWeekNumbersVisible=!1):(i.dayGrid.cellWeekNumbersVisible=!1,i.dayGrid.colWeekNumbersVisible=!0)),i.addChild(i.dayGrid),i.scroller=new a.default({overflowX:"hidden",overflowY:"auto"}),i}return i.__extends(e,t),e.prototype.instantiateDayGrid=function(){return new(function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.colWeekNumbersVisible=!1,e}return i.__extends(e,t),e.prototype.renderHeadIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<th class="fc-week-number '+t.calendar.theme.getClass("widgetHeader")+'" '+t.weekNumberStyleAttr()+"><span>"+r.htmlEscape(this.opt("weekNumberTitle"))+"</span></th>":""},e.prototype.renderNumberIntroHtml=function(t){var e=this.view,n=this.getCellDate(t,0);return this.colWeekNumbersVisible?'<td class="fc-week-number" '+e.weekNumberStyleAttr()+">"+e.buildGotoAnchorHtml({date:n,type:"week",forceOff:1===this.colCnt},n.format("w"))+"</td>":""},e.prototype.renderBgIntroHtml=function(){var t=this.view;return this.colWeekNumbersVisible?'<td class="fc-week-number '+t.calendar.theme.getClass("widgetContent")+'" '+t.weekNumberStyleAttr()+"></td>":""},e.prototype.renderIntroHtml=function(){return this.colWeekNumbersVisible?'<td class="fc-week-number" '+this.view.weekNumberStyleAttr()+"></td>":""},e.prototype.getIsNumbersVisible=function(){return c.default.prototype.getIsNumbersVisible.apply(this,arguments)||this.colWeekNumbersVisible},e}(this.dayGridClass))(this)},e.prototype.executeDateRender=function(e){this.dayGrid.breakOnWeeks=/year|month|week/.test(e.currentRangeUnit),t.prototype.executeDateRender.call(this,e)},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-basic-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-day-grid-container"),e=o('<div class="fc-day-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.dayGrid.headContainerEl=this.el.find(".fc-head-container"),this.dayGrid.setElement(e)},e.prototype.unrenderSkeleton=function(){this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'"></td></tr></tbody></table>'},e.prototype.weekNumberStyleAttr=function(){return null!=this.weekNumberWidth?'style="width:'+this.weekNumberWidth+'px"':""},e.prototype.hasRigidRows=function(){var t=this.opt("eventLimit");return t&&"number"!=typeof t},e.prototype.updateSize=function(e,n,i){var o,a,s=this.opt("eventLimit"),l=this.dayGrid.headContainerEl.find(".fc-row");this.dayGrid.rowEls?(t.prototype.updateSize.call(this,e,n,i),this.dayGrid.colWeekNumbersVisible&&(this.weekNumberWidth=r.matchCellWidths(this.el.find(".fc-week-number"))),this.scroller.clear(),r.uncompensateScroll(l),this.dayGrid.removeSegPopover(),s&&"number"==typeof s&&this.dayGrid.limitRows(s),o=this.computeScrollerHeight(e),this.setGridHeight(o,n),s&&"number"!=typeof s&&this.dayGrid.limitRows(s),n||(this.scroller.setHeight(o),((a=this.scroller.getScrollbarWidths()).left||a.right)&&(r.compensateScroll(l,a),o=this.computeScrollerHeight(e),this.scroller.setHeight(o)),this.scroller.lockOverflow(a))):n||(o=this.computeScrollerHeight(e),this.scroller.setHeight(o))},e.prototype.computeScrollerHeight=function(t){return t-r.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.setGridHeight=function(t,e){e?r.undistributeHeight(this.dayGrid.rowEls):r.distributeHeight(this.dayGrid.rowEls,t,!0)},e.prototype.computeInitialDateScroll=function(){return{top:0}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){void 0!==t.top&&this.scroller.setScrollTop(t.top)},e}(s.default);e.default=d,d.prototype.dateProfileGeneratorClass=l.default,d.prototype.dayGridClass=c.default},function(t,e,n){function i(t,e){return null==e?t:o.isFunction(e)?t.filter(e):(e+="",t.filter(function(t){return t.id==e||t._id===e}))}Object.defineProperty(e,"__esModule",{value:!0});var o=n(1),r=n(3),a=n(2),s=n(74),l=n(14),c=n(8),d=n(6),u=n(75),h=n(76),f=n(77),p=n(49),g=n(20),m=n(9),v=n(4),y=n(10),b=n(15),w=n(78),x=n(54),D=n(25),C=n(33),_=n(11),S=n(26),k=n(5),T=n(36),A=function(){function t(t,e){this.loadingLevel=0,this.ignoreUpdateViewSize=0,this.freezeContentHeightDepth=0,l.default.needed(),this.el=t,this.viewsByType={},this.optionsManager=new h.default(this,e),this.viewSpecManager=new f.default(this.optionsManager,this),this.initMomentInternals(),this.initCurrentDate(),this.initEventManager(),this.constraints=new p.default(this.eventManager,this),this.constructed()}return t.prototype.constructed=function(){},t.prototype.getView=function(){return this.view},t.prototype.publiclyTrigger=function(t,e){var n,i,r=this.opt(t);if(o.isPlainObject(e)?(n=e.context,i=e.args):o.isArray(e)&&(i=e),null==n&&(n=this.el[0]),i||(i=[]),this.triggerWith(t,n,i),r)return r.apply(n,i)},t.prototype.hasPublicHandlers=function(t){return this.hasHandlers(t)||this.opt(t)},t.prototype.option=function(t,e){var n;if("string"==typeof t){if(void 0===e)return this.optionsManager.get(t);(n={})[t]=e,this.optionsManager.add(n)}else"object"==typeof t&&this.optionsManager.add(t)},t.prototype.opt=function(t){return this.optionsManager.get(t)},t.prototype.instantiateView=function(t){var e=this.viewSpecManager.getViewSpec(t);return new e.class(this,e)},t.prototype.isValidViewType=function(t){return Boolean(this.viewSpecManager.getViewSpec(t))},t.prototype.changeView=function(t,e){e&&(e.start&&e.end?this.optionsManager.recordOverrides({visibleRange:e}):this.currentDate=this.moment(e).stripZone()),this.renderView(t)},t.prototype.zoomTo=function(t,e){var n;n=this.viewSpecManager.getViewSpec(e=e||"day")||this.viewSpecManager.getUnitViewSpec(e),this.currentDate=t.clone(),this.renderView(n?n.type:null)},t.prototype.initCurrentDate=function(){var t=this.opt("defaultDate");this.currentDate=null!=t?this.moment(t).stripZone():this.getNow()},t.prototype.prev=function(){var t=this.view,e=t.dateProfileGenerator.buildPrev(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.next=function(){var t=this.view,e=t.dateProfileGenerator.buildNext(t.get("dateProfile"));e.isValid&&(this.currentDate=e.date,this.renderView())},t.prototype.prevYear=function(){this.currentDate.add(-1,"years"),this.renderView()},t.prototype.nextYear=function(){this.currentDate.add(1,"years"),this.renderView()},t.prototype.today=function(){this.currentDate=this.getNow(),this.renderView()},t.prototype.gotoDate=function(t){this.currentDate=this.moment(t).stripZone(),this.renderView()},t.prototype.incrementDate=function(t){this.currentDate.add(r.duration(t)),this.renderView()},t.prototype.getDate=function(){return this.applyTimezone(this.currentDate)},t.prototype.pushLoading=function(){this.loadingLevel++||this.publiclyTrigger("loading",[!0,this.view])},t.prototype.popLoading=function(){--this.loadingLevel||this.publiclyTrigger("loading",[!1,this.view])},t.prototype.render=function(){this.contentEl?this.elementVisible()&&(this.calcSize(),this.updateViewSize()):this.initialRender()},t.prototype.initialRender=function(){var t=this,e=this.el;e.addClass("fc"),e.on("click.fc","a[data-goto]",function(e){var n=o(e.currentTarget).data("goto"),i=t.moment(n.date),r=n.type,s=t.view.opt("navLink"+a.capitaliseFirstLetter(r)+"Click");"function"==typeof s?s(i,e):("string"==typeof s&&(r=s),t.zoomTo(i,r))}),this.optionsManager.watch("settingTheme",["?theme","?themeSystem"],function(n){var i=new(T.default.getThemeClass(n.themeSystem||n.theme))(t.optionsManager),o=i.getClass("widget");t.theme=i,o&&e.addClass(o)},function(){var n=t.theme.getClass("widget");t.theme=null,n&&e.removeClass(n)}),this.optionsManager.watch("settingBusinessHourGenerator",["?businessHours"],function(e){t.businessHourGenerator=new x.default(e.businessHours,t),t.view&&t.view.set("businessHourGenerator",t.businessHourGenerator)},function(){t.businessHourGenerator=null}),this.optionsManager.watch("applyingDirClasses",["?isRTL","?locale"],function(t){e.toggleClass("fc-ltr",!t.isRTL),e.toggleClass("fc-rtl",t.isRTL)}),this.contentEl=o("<div class='fc-view-container'/>").prependTo(e),this.initToolbars(),this.renderHeader(),this.renderFooter(),this.renderView(this.opt("defaultView")),this.opt("handleWindowResize")&&o(window).resize(this.windowResizeProxy=a.debounce(this.windowResize.bind(this),this.opt("windowResizeDelay")))},t.prototype.destroy=function(){this.view&&this.clearView(),this.toolbarsManager.proxyCall("removeElement"),this.contentEl.remove(),this.el.removeClass("fc fc-ltr fc-rtl"),this.optionsManager.unwatch("settingTheme"),this.optionsManager.unwatch("settingBusinessHourGenerator"),this.el.off(".fc"),this.windowResizeProxy&&(o(window).unbind("resize",this.windowResizeProxy),this.windowResizeProxy=null),l.default.unneeded()},t.prototype.elementVisible=function(){return this.el.is(":visible")},t.prototype.bindViewHandlers=function(t){var e=this;t.watch("titleForCalendar",["title"],function(n){t===e.view&&e.setToolbarsTitle(n.title)}),t.watch("dateProfileForCalendar",["dateProfile"],function(n){t===e.view&&(e.currentDate=n.dateProfile.date,e.updateToolbarButtons(n.dateProfile))})},t.prototype.unbindViewHandlers=function(t){t.unwatch("titleForCalendar"),t.unwatch("dateProfileForCalendar")},t.prototype.renderView=function(t){var e,n=this.view;this.freezeContentHeight(),n&&t&&n.type!==t&&this.clearView(),!this.view&&t&&(e=this.view=this.viewsByType[t]||(this.viewsByType[t]=this.instantiateView(t)),this.bindViewHandlers(e),e.startBatchRender(),e.setElement(o("<div class='fc-view fc-"+t+"-view' />").appendTo(this.contentEl)),this.toolbarsManager.proxyCall("activateButton",t)),this.view&&(this.view.get("businessHourGenerator")!==this.businessHourGenerator&&this.view.set("businessHourGenerator",this.businessHourGenerator),this.view.setDate(this.currentDate),e&&e.stopBatchRender()),this.thawContentHeight()},t.prototype.clearView=function(){var t=this.view;this.toolbarsManager.proxyCall("deactivateButton",t.type),this.unbindViewHandlers(t),t.removeElement(),t.unsetDate(),this.view=null},t.prototype.reinitView=function(){var t=this.view,e=t.queryScroll();this.freezeContentHeight(),this.clearView(),this.calcSize(),this.renderView(t.type),this.view.applyScroll(e),this.thawContentHeight()},t.prototype.getSuggestedViewHeight=function(){return null==this.suggestedViewHeight&&this.calcSize(),this.suggestedViewHeight},t.prototype.isHeightAuto=function(){return"auto"===this.opt("contentHeight")||"auto"===this.opt("height")},t.prototype.updateViewSize=function(t){void 0===t&&(t=!1);var e,n=this.view;if(!this.ignoreUpdateViewSize&&n)return t&&(this.calcSize(),e=n.queryScroll()),this.ignoreUpdateViewSize++,n.updateSize(this.getSuggestedViewHeight(),this.isHeightAuto(),t),this.ignoreUpdateViewSize--,t&&n.applyScroll(e),!0},t.prototype.calcSize=function(){this.elementVisible()&&this._calcSize()},t.prototype._calcSize=function(){var t=this.opt("contentHeight"),e=this.opt("height");this.suggestedViewHeight="number"==typeof t?t:"function"==typeof t?t():"number"==typeof e?e-this.queryToolbarsHeight():"function"==typeof e?e()-this.queryToolbarsHeight():"parent"===e?this.el.parent().height()-this.queryToolbarsHeight():Math.round(this.contentEl.width()/Math.max(this.opt("aspectRatio"),.5))},t.prototype.windowResize=function(t){t.target===window&&this.view&&this.view.isDatesRendered&&this.updateViewSize(!0)&&this.publiclyTrigger("windowResize",[this.view])},t.prototype.freezeContentHeight=function(){this.freezeContentHeightDepth++||this.forceFreezeContentHeight()},t.prototype.forceFreezeContentHeight=function(){this.contentEl.css({width:"100%",height:this.contentEl.height(),overflow:"hidden"})},t.prototype.thawContentHeight=function(){this.freezeContentHeightDepth--,this.contentEl.css({width:"",height:"",overflow:""}),this.freezeContentHeightDepth&&this.forceFreezeContentHeight()},t.prototype.initToolbars=function(){this.header=new u.default(this,this.computeHeaderOptions()),this.footer=new u.default(this,this.computeFooterOptions()),this.toolbarsManager=new s.default([this.header,this.footer])},t.prototype.computeHeaderOptions=function(){return{extraClasses:"fc-header-toolbar",layout:this.opt("header")}},t.prototype.computeFooterOptions=function(){return{extraClasses:"fc-footer-toolbar",layout:this.opt("footer")}},t.prototype.renderHeader=function(){var t=this.header;t.setToolbarOptions(this.computeHeaderOptions()),t.render(),t.el&&this.el.prepend(t.el)},t.prototype.renderFooter=function(){var t=this.footer;t.setToolbarOptions(this.computeFooterOptions()),t.render(),t.el&&this.el.append(t.el)},t.prototype.setToolbarsTitle=function(t){this.toolbarsManager.proxyCall("updateTitle",t)},t.prototype.updateToolbarButtons=function(t){var e=this.getNow(),n=this.view,i=n.dateProfileGenerator.build(e),o=n.dateProfileGenerator.buildPrev(n.get("dateProfile")),r=n.dateProfileGenerator.buildNext(n.get("dateProfile"));this.toolbarsManager.proxyCall(i.isValid&&!t.currentUnzonedRange.containsDate(e)?"enableButton":"disableButton","today"),this.toolbarsManager.proxyCall(o.isValid?"enableButton":"disableButton","prev"),this.toolbarsManager.proxyCall(r.isValid?"enableButton":"disableButton","next")},t.prototype.queryToolbarsHeight=function(){return this.toolbarsManager.items.reduce(function(t,e){return t+(e.el?e.el.outerHeight(!0):0)},0)},t.prototype.select=function(t,e){this.view.select(this.buildSelectFootprint.apply(this,arguments))},t.prototype.unselect=function(){this.view&&this.view.unselect()},t.prototype.buildSelectFootprint=function(t,e){var n,i=this.moment(t).stripZone();return n=e?this.moment(e).stripZone():i.hasTime()?i.clone().add(this.defaultTimedEventDuration):i.clone().add(this.defaultAllDayEventDuration),new y.default(new v.default(i,n),!i.hasTime())},t.prototype.initMomentInternals=function(){var t=this;this.defaultAllDayEventDuration=r.duration(this.opt("defaultAllDayEventDuration")),this.defaultTimedEventDuration=r.duration(this.opt("defaultTimedEventDuration")),this.optionsManager.watch("buildingMomentLocale",["?locale","?monthNames","?monthNamesShort","?dayNames","?dayNamesShort","?firstDay","?weekNumberCalculation"],function(e){var n,i=e.weekNumberCalculation,o=e.firstDay;"iso"===i&&(i="ISO");var r=Object.create(g.getMomentLocaleData(e.locale));e.monthNames&&(r._months=e.monthNames),e.monthNamesShort&&(r._monthsShort=e.monthNamesShort),e.dayNames&&(r._weekdays=e.dayNames),e.dayNamesShort&&(r._weekdaysShort=e.dayNamesShort),null==o&&"ISO"===i&&(o=1),null!=o&&((n=Object.create(r._week)).dow=o,r._week=n),"ISO"!==i&&"local"!==i&&"function"!=typeof i||(r._fullCalendar_weekCalc=i),t.localeData=r,t.currentDate&&t.localizeMoment(t.currentDate)})},t.prototype.moment=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n;return"local"===this.opt("timezone")?(n=m.default.apply(null,t)).hasTime()&&n.local():n="UTC"===this.opt("timezone")?m.default.utc.apply(null,t):m.default.parseZone.apply(null,t),this.localizeMoment(n),n},t.prototype.msToMoment=function(t,e){var n=m.default.utc(t);return e?n.stripTime():n=this.applyTimezone(n),this.localizeMoment(n),n},t.prototype.msToUtcMoment=function(t,e){var n=m.default.utc(t);return e&&n.stripTime(),this.localizeMoment(n),n},t.prototype.localizeMoment=function(t){t._locale=this.localeData},t.prototype.getIsAmbigTimezone=function(){return"local"!==this.opt("timezone")&&"UTC"!==this.opt("timezone")},t.prototype.applyTimezone=function(t){if(!t.hasTime())return t.clone();var e,n=this.moment(t.toArray()),i=t.time()-n.time();return i&&(e=n.clone().add(i),t.time()-e.time()==0&&(n=e)),n},t.prototype.footprintToDateProfile=function(t,e){var n,i=m.default.utc(t.unzonedRange.startMs);return e||(n=m.default.utc(t.unzonedRange.endMs)),t.isAllDay?(i.stripTime(),n&&n.stripTime()):(i=this.applyTimezone(i),n&&(n=this.applyTimezone(n))),new b.default(i,n,this)},t.prototype.getNow=function(){var t=this.opt("now");return"function"==typeof t&&(t=t()),this.moment(t).stripZone()},t.prototype.humanizeDuration=function(t){return t.locale(this.opt("locale")).humanize()},t.prototype.parseUnzonedRange=function(t){var e=null,n=null;return t.start&&(e=this.moment(t.start).stripZone()),t.end&&(n=this.moment(t.end).stripZone()),e||n?e&&n&&n.isBefore(e)?null:new v.default(e,n):null},t.prototype.initEventManager=function(){var t=this,e=new w.default(this),n=this.opt("eventSources")||[],i=this.opt("events");this.eventManager=e,i&&n.unshift(i),e.on("release",function(e){t.trigger("eventsReset",e)}),e.freeze(),n.forEach(function(n){var i=D.default.parse(n,t);i&&e.addSource(i)}),e.thaw()},t.prototype.requestEvents=function(t,e){return this.eventManager.requestEvents(t,e,this.opt("timezone"),!this.opt("lazyFetching"))},t.prototype.getEventEnd=function(t){return t.end?t.end.clone():this.getDefaultEventEnd(t.allDay,t.start)},t.prototype.getDefaultEventEnd=function(t,e){var n=e.clone();return t?n.stripTime().add(this.defaultAllDayEventDuration):n.add(this.defaultTimedEventDuration),this.getIsAmbigTimezone()&&n.stripZone(),n},t.prototype.rerenderEvents=function(){this.view.flash("displayingEvents")},t.prototype.refetchEvents=function(){this.eventManager.refetchAllSources()},t.prototype.renderEvents=function(t,e){this.eventManager.freeze();for(var n=0;n<t.length;n++)this.renderEvent(t[n],e);this.eventManager.thaw()},t.prototype.renderEvent=function(t,e){var n=this.eventManager,i=C.default.parse(t,t.source||n.stickySource);i&&n.addEventDef(i,e)},t.prototype.removeEvents=function(t){var e,n=this.eventManager,o=[],r={};if(null==t)n.removeAllEventDefs(!0);else{for(n.getEventInstances().forEach(function(t){o.push(t.toLegacy())}),o=i(o,t),e=0;e<o.length;e++)r[this.eventManager.getEventDefByUid(o[e]._id).id]=!0;for(e in n.freeze(),r)n.removeEventDefsById(e,!0);n.thaw()}},t.prototype.clientEvents=function(t){var e=[];return this.eventManager.getEventInstances().forEach(function(t){e.push(t.toLegacy())}),i(e,t)},t.prototype.updateEvents=function(t){this.eventManager.freeze();for(var e=0;e<t.length;e++)this.updateEvent(t[e]);this.eventManager.thaw()},t.prototype.updateEvent=function(t){var e,n,i=this.eventManager.getEventDefByUid(t._id);i instanceof _.default&&(e=i.buildInstance(),n=S.default.createFromRawProps(e,t,null),this.eventManager.mutateEventsWithId(i.id,n))},t.prototype.getEventSources=function(){return this.eventManager.otherSources.slice()},t.prototype.getEventSourceById=function(t){return this.eventManager.getSourceById(k.default.normalizeId(t))},t.prototype.addEventSource=function(t){var e=D.default.parse(t,this);e&&this.eventManager.addSource(e)},t.prototype.removeEventSources=function(t){var e,n,i=this.eventManager;if(null==t)this.eventManager.removeAllSources();else{for(e=i.multiQuerySources(t),i.freeze(),n=0;n<e.length;n++)i.removeSource(e[n]);i.thaw()}},t.prototype.removeEventSource=function(t){var e,n=this.eventManager,i=n.querySources(t);for(n.freeze(),e=0;e<i.length;e++)n.removeSource(i[e]);n.thaw()},t.prototype.refetchEventSources=function(t){var e,n=this.eventManager,i=n.multiQuerySources(t);for(n.freeze(),e=0;e<i.length;e++)n.refetchSource(i[e]);n.thaw()},t}();e.default=A,c.default.mixInto(A),d.default.mixInto(A)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(4),o=n(10),r=n(33),a=n(5),s=n(23),l=function(){function t(t,e){this.eventManager=t,this._calendar=e}return t.prototype.opt=function(t){return this._calendar.opt(t)},t.prototype.isEventInstanceGroupAllowed=function(t){var e,n=t.getEventDef(),i=this.eventRangesToEventFootprints(t.getAllEventRanges()),o=this.getPeerEventInstances(n).map(s.eventInstanceToEventRange),r=this.eventRangesToEventFootprints(o),a=n.getConstraint(),l=n.getOverlap(),c=this.opt("eventAllow");for(e=0;e<i.length;e++)if(!this.isFootprintAllowed(i[e].componentFootprint,r,a,l,i[e].eventInstance))return!1;if(c)for(e=0;e<i.length;e++)if(!1===c(i[e].componentFootprint.toLegacy(this._calendar),i[e].getEventLegacy()))return!1;return!0},t.prototype.getPeerEventInstances=function(t){return this.eventManager.getEventInstancesWithoutId(t.id)},t.prototype.isSelectionFootprintAllowed=function(t){var e,n=this.eventManager.getEventInstances().map(s.eventInstanceToEventRange),i=this.eventRangesToEventFootprints(n);return!(!this.isFootprintAllowed(t,i,this.opt("selectConstraint"),this.opt("selectOverlap"))||(e=this.opt("selectAllow"))&&!1===e(t.toLegacy(this._calendar)))},t.prototype.isFootprintAllowed=function(t,e,n,i,o){var r,a;if(null!=n&&(r=this.constraintValToFootprints(n,t.isAllDay),!this.isFootprintWithinConstraints(t,r)))return!1;if(a=this.collectOverlapEventFootprints(e,t),!1===i){if(a.length)return!1}else if("function"==typeof i&&!function(t,e,n){var i;for(i=0;i<t.length;i++)if(!e(t[i].eventInstance.toLegacy(),n?n.toLegacy():null))return!1;return!0}(a,i,o))return!1;return!(o&&!function(t,e){var n,i,o,r=e.toLegacy();for(n=0;n<t.length;n++){if(!1===(o=(i=t[n].eventInstance).def.getOverlap()))return!1;if("function"==typeof o&&!o(i.toLegacy(),r))return!1}return!0}(a,o))},t.prototype.isFootprintWithinConstraints=function(t,e){var n;for(n=0;n<e.length;n++)if(this.footprintContainsFootprint(e[n],t))return!0;return!1},t.prototype.constraintValToFootprints=function(t,e){var n;return"businessHours"===t?this.buildCurrentBusinessFootprints(e):"object"==typeof t?(n=this.parseEventDefToInstances(t))?this.eventInstancesToFootprints(n):this.parseFootprints(t):null!=t?(n=this.eventManager.getEventInstancesWithId(t),this.eventInstancesToFootprints(n)):void 0},t.prototype.buildCurrentBusinessFootprints=function(t){var e=this._calendar.view,n=e.get("businessHourGenerator").buildEventInstanceGroup(t,e.dateProfile.activeUnzonedRange);return n?this.eventInstancesToFootprints(n.eventInstances):[]},t.prototype.eventInstancesToFootprints=function(t){var e=t.map(s.eventInstanceToEventRange);return this.eventRangesToEventFootprints(e).map(s.eventFootprintToComponentFootprint)},t.prototype.collectOverlapEventFootprints=function(t,e){var n,i=[];for(n=0;n<t.length;n++)this.footprintsIntersect(e,t[n].componentFootprint)&&i.push(t[n]);return i},t.prototype.parseEventDefToInstances=function(t){var e=this.eventManager,n=r.default.parse(t,new a.default(this._calendar));return!!n&&n.buildInstances(e.currentPeriod.unzonedRange)},t.prototype.eventRangesToEventFootprints=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventRangeToEventFootprints(t[e]));return n},t.prototype.eventRangeToEventFootprints=function(t){return[s.eventRangeToEventFootprint(t)]},t.prototype.parseFootprints=function(t){var e,n;return t.start&&((e=this._calendar.moment(t.start)).isValid()||(e=null)),t.end&&((n=this._calendar.moment(t.end)).isValid()||(n=null)),[new o.default(new i.default(e,n),e&&!e.hasTime()||n&&!n.hasTime())]},t.prototype.footprintContainsFootprint=function(t,e){return t.unzonedRange.containsRange(e.unzonedRange)},t.prototype.footprintsIntersect=function(t,e){return t.unzonedRange.intersectsWith(e.unzonedRange)},t}();e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.applyProps=function(t){var e,n=this.standardPropMap,i={},o={};for(e in t)!0===n[e]?this[e]=t[e]:!1===n[e]?i[e]=t[e]:o[e]=t[e];return this.applyMiscProps(o),this.applyManualStandardProps(i)},e.prototype.applyManualStandardProps=function(t){return!0},e.prototype.applyMiscProps=function(t){},e.prototype.isStandardProp=function(t){return t in this.standardPropMap},e.defineStandardProps=function(t){var e=this.prototype;e.hasOwnProperty("standardPropMap")||(e.standardPropMap=Object.create(e.standardPropMap)),o.copyOwnProps(t,e.standardPropMap)},e.copyVerbatimStandardProps=function(t,e){var n,i=this.prototype.standardPropMap;for(n in i)null!=t[n]&&!0===i[n]&&(e[n]=t[n])},e}(n(12).default);e.default=r,r.prototype.standardPropMap={}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){this.def=t,this.dateProfile=e}return t.prototype.toLegacy=function(){var t=this.dateProfile,e=this.def.toLegacy();return e.start=t.start.clone(),e.end=t.end?t.end.clone():null,e},t}();e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(3),a=n(22),s=n(51),l=n(15),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.isAllDay=function(){return!this.startTime&&!this.endTime},e.prototype.buildInstances=function(t){for(var e,n,i,o=this.source.calendar,r=t.getStart(),a=t.getEnd(),c=[];r.isBefore(a);)this.dowHash&&!this.dowHash[r.day()]||(n=(e=o.applyTimezone(r)).clone(),i=null,this.startTime?n.time(this.startTime):n.stripTime(),this.endTime&&(i=e.clone().time(this.endTime)),c.push(new s.default(this,new l.default(n,i,o)))),r.add(1,"days");return c},e.prototype.setDow=function(t){this.dowHash||(this.dowHash={});for(var e=0;e<t.length;e++)this.dowHash[t[e]]=!0},e.prototype.clone=function(){var e=t.prototype.clone.call(this);return e.startTime&&(e.startTime=r.duration(this.startTime)),e.endTime&&(e.endTime=r.duration(this.endTime)),this.dowHash&&(e.dowHash=o.extend({},this.dowHash)),e},e}(a.default);e.default=c,c.prototype.applyProps=function(t){var e=a.default.prototype.applyProps.call(this,t);return t.start&&(this.startTime=r.duration(t.start)),t.end&&(this.endTime=r.duration(t.end)),t.dow&&this.setDow(t.dow),e},c.defineStandardProps({start:!1,end:!1,dow:!1})},function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,n){this.unzonedRange=t,this.eventDef=e,n&&(this.eventInstance=n)}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(23),r=n(17),a=n(52),s=n(5),l={start:"09:00",end:"17:00",dow:[1,2,3,4,5],rendering:"inverse-background"},c=function(){function t(t,e){this.rawComplexDef=t,this.calendar=e}return t.prototype.buildEventInstanceGroup=function(t,e){var n,i=this.buildEventDefs(t);if(i.length)return(n=new r.default(o.eventDefsToEventInstances(i,e))).explicitEventDef=i[0],n},t.prototype.buildEventDefs=function(t){var e,n=this.rawComplexDef,o=[],r=!1,a=[];for(!0===n?o=[{}]:i.isPlainObject(n)?o=[n]:i.isArray(n)&&(o=n,r=!0),e=0;e<o.length;e++)r&&!o[e].dow||a.push(this.buildEventDef(t,o[e]));return a},t.prototype.buildEventDef=function(t,e){var n=i.extend({},l,e);return t&&(n.start=null,n.end=null),a.default.parse(n,new s.default(this.calendar))},t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(27).default);e.default=o,o.prototype.classes={widget:"fc-unthemed",widgetHeader:"fc-widget-header",widgetContent:"fc-widget-content",buttonGroup:"fc-button-group",button:"fc-button",cornerLeft:"fc-corner-left",cornerRight:"fc-corner-right",stateDefault:"fc-state-default",stateActive:"fc-state-active",stateDisabled:"fc-state-disabled",stateHover:"fc-state-hover",stateDown:"fc-state-down",popoverHeader:"fc-widget-header",popoverContent:"fc-widget-content",headerRow:"fc-widget-header",dayRow:"fc-widget-content",listView:"fc-widget-content"},o.prototype.baseIconClass="fc-icon",o.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-left-single-arrow",next:"fc-icon-right-single-arrow",prevYear:"fc-icon-left-double-arrow",nextYear:"fc-icon-right-double-arrow"},o.prototype.iconOverrideOption="buttonIcons",o.prototype.iconOverrideCustomButtonOption="icon",o.prototype.iconOverridePrefix="fc-icon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(27).default);e.default=o,o.prototype.classes={widget:"ui-widget",widgetHeader:"ui-widget-header",widgetContent:"ui-widget-content",buttonGroup:"fc-button-group",button:"ui-button",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",stateDefault:"ui-state-default",stateActive:"ui-state-active",stateDisabled:"ui-state-disabled",stateHover:"ui-state-hover",stateDown:"ui-state-down",today:"ui-state-highlight",popoverHeader:"ui-widget-header",popoverContent:"ui-widget-content",headerRow:"ui-widget-header",dayRow:"ui-widget-content",listView:"ui-widget-content"},o.prototype.baseIconClass="ui-icon",o.prototype.iconClasses={close:"ui-icon-closethick",prev:"ui-icon-circle-triangle-w",next:"ui-icon-circle-triangle-e",prevYear:"ui-icon-seek-prev",nextYear:"ui-icon-seek-next"},o.prototype.iconOverrideOption="themeButtonIcons",o.prototype.iconOverrideCustomButtonOption="themeIcon",o.prototype.iconOverridePrefix="ui-icon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(16),a=n(5),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.fetch=function(t,e,n){var i=this;return this.calendar.pushLoading(),r.default.construct(function(o){i.func.call(i.calendar,t.clone(),e.clone(),n,function(t){i.calendar.popLoading(),o(i.parseEventDefs(t))})})},e.prototype.getPrimitive=function(){return this.func},e.prototype.applyManualStandardProps=function(e){var n=t.prototype.applyManualStandardProps.call(this,e);return this.func=e.events,n},e.parse=function(t,e){var n;return o.isFunction(t.events)?n=t:o.isFunction(t)&&(n={events:t}),!!n&&a.default.parse.call(this,n,e)},e}(a.default);e.default=s,s.defineStandardProps({events:!1})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(16),s=n(5),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.fetch=function(t,n,i){var s=this,l=this.ajaxSettings,c=l.success,d=l.error,u=this.buildRequestParams(t,n,i);return this.calendar.pushLoading(),a.default.construct(function(t,n){o.ajax(o.extend({},e.AJAX_DEFAULTS,l,{url:s.url,data:u,success:function(e,i,a){var l;s.calendar.popLoading(),e?(l=r.applyAll(c,s,[e,i,a]),o.isArray(l)&&(e=l),t(s.parseEventDefs(e))):n()},error:function(t,e,i){s.calendar.popLoading(),r.applyAll(d,s,[t,e,i]),n()}}))})},e.prototype.buildRequestParams=function(t,e,n){var i,r,a,s,l=this.calendar,c=this.ajaxSettings,d={};return null==(i=this.startParam)&&(i=l.opt("startParam")),null==(r=this.endParam)&&(r=l.opt("endParam")),null==(a=this.timezoneParam)&&(a=l.opt("timezoneParam")),s=o.isFunction(c.data)?c.data():c.data||{},o.extend(d,s),d[i]=t.format(),d[r]=e.format(),n&&"local"!==n&&(d[a]=n),d},e.prototype.getPrimitive=function(){return this.url},e.prototype.applyMiscProps=function(t){this.ajaxSettings=t},e.parse=function(t,e){var n;return"string"==typeof t.url?n=t:"string"==typeof t&&(n={url:t}),!!n&&s.default.parse.call(this,n,e)},e.AJAX_DEFAULTS={dataType:"json",cache:!1},e}(s.default);e.default=l,l.defineStandardProps({url:!0,startParam:!0,endParam:!0,timezoneParam:!0})},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(8),o=function(){function t(){this.q=[],this.isPaused=!1,this.isRunning=!1}return t.prototype.queue=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.q.push.apply(this.q,t),this.tryStart()},t.prototype.pause=function(){this.isPaused=!0},t.prototype.resume=function(){this.isPaused=!1,this.tryStart()},t.prototype.getIsIdle=function(){return!this.isRunning&&!this.isPaused},t.prototype.tryStart=function(){!this.isRunning&&this.canRunNext()&&(this.isRunning=!0,this.trigger("start"),this.runRemaining())},t.prototype.canRunNext=function(){return!this.isPaused&&this.q.length},t.prototype.runRemaining=function(){var t,e,n=this;do{if(t=this.q.shift(),(e=this.runTask(t))&&e.then)return void e.then(function(){n.canRunNext()&&n.runRemaining()})}while(this.canRunNext());this.trigger("stop"),this.isRunning=!1,this.tryStart()},t.prototype.runTask=function(t){return t()},t}();e.default=o,i.default.mixInto(o)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(e){var n=t.call(this)||this;return n.waitsByNamespace=e||{},n}return i.__extends(e,t),e.prototype.queue=function(t,e,n){var i,o={func:t,namespace:e,type:n};e&&(i=this.waitsByNamespace[e]),this.waitNamespace&&(e===this.waitNamespace&&null!=i?this.delayWait(i):(this.clearWait(),this.tryStart())),this.compoundTask(o)&&(this.waitNamespace||null==i?this.tryStart():this.startWait(e,i))},e.prototype.startWait=function(t,e){this.waitNamespace=t,this.spawnWait(e)},e.prototype.delayWait=function(t){clearTimeout(this.waitId),this.spawnWait(t)},e.prototype.spawnWait=function(t){var e=this;this.waitId=setTimeout(function(){e.waitNamespace=null,e.tryStart()},t)},e.prototype.clearWait=function(){this.waitNamespace&&(clearTimeout(this.waitId),this.waitId=null,this.waitNamespace=null)},e.prototype.canRunNext=function(){if(!t.prototype.canRunNext.call(this))return!1;if(this.waitNamespace){for(var e=this.q,n=0;n<e.length;n++)if(e[n].namespace!==this.waitNamespace)return!0;return!1}return!0},e.prototype.runTask=function(t){t.func()},e.prototype.compoundTask=function(t){var e,n,i=this.q,o=!0;if(t.namespace&&"destroy"===t.type)for(e=i.length-1;e>=0;e--)switch(n=i[e],n.type){case"init":o=!1;case"add":case"remove":i.splice(e,1)}return o&&i.push(t),o},e}(n(59).default);e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(3),a=n(2),s=n(9),l=n(37),c=n(80),d=n(23),u=function(t){function e(n,i){var o=t.call(this)||this;return o.isRTL=!1,o.hitsNeededDepth=0,o.hasAllDayBusinessHours=!1,o.isDatesRendered=!1,n&&(o.view=n),i&&(o.options=i),o.uid=String(e.guid++),o.childrenByUid={},o.nextDayThreshold=r.duration(o.opt("nextDayThreshold")),o.isRTL=o.opt("isRTL"),o.fillRendererClass&&(o.fillRenderer=new o.fillRendererClass(o)),o.eventRendererClass&&(o.eventRenderer=new o.eventRendererClass(o,o.fillRenderer)),o.helperRendererClass&&o.eventRenderer&&(o.helperRenderer=new o.helperRendererClass(o,o.eventRenderer)),o.businessHourRendererClass&&o.fillRenderer&&(o.businessHourRenderer=new o.businessHourRendererClass(o,o.fillRenderer)),o}return i.__extends(e,t),e.prototype.addChild=function(t){return!this.childrenByUid[t.uid]&&(this.childrenByUid[t.uid]=t,!0)},e.prototype.removeChild=function(t){return!!this.childrenByUid[t.uid]&&(delete this.childrenByUid[t.uid],!0)},e.prototype.updateSize=function(t,e,n){this.callChildren("updateSize",arguments)},e.prototype.opt=function(t){return this._getView().opt(t)},e.prototype.publiclyTrigger=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getCalendar();return n.publiclyTrigger.apply(n,t)},e.prototype.hasPublicHandlers=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getCalendar();return n.hasPublicHandlers.apply(n,t)},e.prototype.executeDateRender=function(t){this.dateProfile=t,this.renderDates(t),this.isDatesRendered=!0,this.callChildren("executeDateRender",arguments)},e.prototype.executeDateUnrender=function(){this.callChildren("executeDateUnrender",arguments),this.dateProfile=null,this.unrenderDates(),this.isDatesRendered=!1},e.prototype.renderDates=function(t){},e.prototype.unrenderDates=function(){},e.prototype.getNowIndicatorUnit=function(){},e.prototype.renderNowIndicator=function(t){this.callChildren("renderNowIndicator",arguments)},e.prototype.unrenderNowIndicator=function(){this.callChildren("unrenderNowIndicator",arguments)},e.prototype.renderBusinessHours=function(t){this.businessHourRenderer&&this.businessHourRenderer.render(t),this.callChildren("renderBusinessHours",arguments)},e.prototype.unrenderBusinessHours=function(){this.callChildren("unrenderBusinessHours",arguments),this.businessHourRenderer&&this.businessHourRenderer.unrender()},e.prototype.executeEventRender=function(t){this.eventRenderer?(this.eventRenderer.rangeUpdated(),this.eventRenderer.render(t)):this.renderEvents&&this.renderEvents(function(t){var e,n,i,o=[];for(e in t)for(n=t[e].eventInstances,i=0;i<n.length;i++)o.push(n[i].toLegacy());return o}(t)),this.callChildren("executeEventRender",arguments)},e.prototype.executeEventUnrender=function(){this.callChildren("executeEventUnrender",arguments),this.eventRenderer?this.eventRenderer.unrender():this.destroyEvents&&this.destroyEvents()},e.prototype.getBusinessHourSegs=function(){var t=this.getOwnBusinessHourSegs();return this.iterChildren(function(e){t.push.apply(t,e.getBusinessHourSegs())}),t},e.prototype.getOwnBusinessHourSegs=function(){return this.businessHourRenderer?this.businessHourRenderer.getSegs():[]},e.prototype.getEventSegs=function(){var t=this.getOwnEventSegs();return this.iterChildren(function(e){t.push.apply(t,e.getEventSegs())}),t},e.prototype.getOwnEventSegs=function(){return this.eventRenderer?this.eventRenderer.getSegs():[]},e.prototype.triggerAfterEventsRendered=function(){this.triggerAfterEventSegsRendered(this.getEventSegs()),this.publiclyTrigger("eventAfterAllRender",{context:this,args:[this]})},e.prototype.triggerAfterEventSegsRendered=function(t){var e=this;this.hasPublicHandlers("eventAfterRender")&&t.forEach(function(t){var n;t.el&&(n=t.footprint.getEventLegacy(),e.publiclyTrigger("eventAfterRender",{context:n,args:[n,t.el,e]}))})},e.prototype.triggerBeforeEventsDestroyed=function(){this.triggerBeforeEventSegsDestroyed(this.getEventSegs())},e.prototype.triggerBeforeEventSegsDestroyed=function(t){var e=this;this.hasPublicHandlers("eventDestroy")&&t.forEach(function(t){var n;t.el&&(n=t.footprint.getEventLegacy(),e.publiclyTrigger("eventDestroy",{context:n,args:[n,t.el,e]}))})},e.prototype.showEventsWithId=function(t){this.getEventSegs().forEach(function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","")}),this.callChildren("showEventsWithId",arguments)},e.prototype.hideEventsWithId=function(t){this.getEventSegs().forEach(function(e){e.footprint.eventDef.id===t&&e.el&&e.el.css("visibility","hidden")}),this.callChildren("hideEventsWithId",arguments)},e.prototype.renderDrag=function(t,e,n){var i=!1;return this.iterChildren(function(o){o.renderDrag(t,e,n)&&(i=!0)}),i},e.prototype.unrenderDrag=function(){this.callChildren("unrenderDrag",arguments)},e.prototype.renderEventResize=function(t,e,n){this.callChildren("renderEventResize",arguments)},e.prototype.unrenderEventResize=function(){this.callChildren("unrenderEventResize",arguments)},e.prototype.renderSelectionFootprint=function(t){this.renderHighlight(t),this.callChildren("renderSelectionFootprint",arguments)},e.prototype.unrenderSelection=function(){this.unrenderHighlight(),this.callChildren("unrenderSelection",arguments)},e.prototype.renderHighlight=function(t){this.fillRenderer&&this.fillRenderer.renderFootprint("highlight",t,{getClasses:function(){return["fc-highlight"]}}),this.callChildren("renderHighlight",arguments)},e.prototype.unrenderHighlight=function(){this.fillRenderer&&this.fillRenderer.unrender("highlight"),this.callChildren("unrenderHighlight",arguments)},e.prototype.hitsNeeded=function(){this.hitsNeededDepth++||this.prepareHits(),this.callChildren("hitsNeeded",arguments)},e.prototype.hitsNotNeeded=function(){this.hitsNeededDepth&&!--this.hitsNeededDepth&&this.releaseHits(),this.callChildren("hitsNotNeeded",arguments)},e.prototype.prepareHits=function(){},e.prototype.releaseHits=function(){},e.prototype.queryHit=function(t,e){var n,i,o=this.childrenByUid;for(n in o)if(i=o[n].queryHit(t,e))break;return i},e.prototype.getSafeHitFootprint=function(t){var e=this.getHitFootprint(t);return this.dateProfile.activeUnzonedRange.containsRange(e.unzonedRange)?e:null},e.prototype.getHitFootprint=function(t){},e.prototype.getHitEl=function(t){},e.prototype.eventRangesToEventFootprints=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventRangeToEventFootprints(t[e]));return n},e.prototype.eventRangeToEventFootprints=function(t){return[d.eventRangeToEventFootprint(t)]},e.prototype.eventFootprintsToSegs=function(t){var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.eventFootprintToSegs(t[e]));return n},e.prototype.eventFootprintToSegs=function(t){var e,n,i,o=t.componentFootprint.unzonedRange;for(e=this.componentFootprintToSegs(t.componentFootprint),n=0;n<e.length;n++)i=e[n],o.isStart||(i.isStart=!1),o.isEnd||(i.isEnd=!1),i.footprint=t;return e},e.prototype.componentFootprintToSegs=function(t){return[]},e.prototype.callChildren=function(t,e){this.iterChildren(function(n){n[t].apply(n,e)})},e.prototype.iterChildren=function(t){var e,n=this.childrenByUid;for(e in n)t(n[e])},e.prototype._getCalendar=function(){return this.calendar||this.view.calendar},e.prototype._getView=function(){return this.view},e.prototype._getDateProfile=function(){return this._getView().get("dateProfile")},e.prototype.buildGotoAnchorHtml=function(t,e,n){var i,r,l,c;return o.isPlainObject(t)?(i=t.date,r=t.type,l=t.forceOff):i=t,c={date:(i=s.default(i)).format("YYYY-MM-DD"),type:r||"day"},"string"==typeof e&&(n=e,e=null),e=e?" "+a.attrsToStr(e):"",n=n||"",!l&&this.opt("navLinks")?"<a"+e+' data-goto="'+a.htmlEscape(JSON.stringify(c))+'">'+n+"</a>":"<span"+e+">"+n+"</span>"},e.prototype.getAllDayHtml=function(){return this.opt("allDayHtml")||a.htmlEscape(this.opt("allDayText"))},e.prototype.getDayClasses=function(t,e){var n,i=this._getView(),o=[];return this.dateProfile.activeUnzonedRange.containsDate(t)?(o.push("fc-"+a.dayIDs[t.day()]),i.isDateInOtherMonth(t,this.dateProfile)&&o.push("fc-other-month"),n=i.calendar.getNow(),t.isSame(n,"day")?(o.push("fc-today"),!0!==e&&o.push(i.calendar.theme.getClass("today"))):o.push(t<n?"fc-past":"fc-future")):o.push("fc-disabled-day"),o},e.prototype.formatRange=function(t,e,n,i){var o=t.end;return e&&(o=o.clone().subtract(1)),l.formatRange(t.start,o,n,i,this.isRTL)},e.prototype.currentRangeAs=function(t){return this._getDateProfile().currentUnzonedRange.as(t)},e.prototype.computeDayRange=function(t){var e=this._getCalendar(),n=e.msToUtcMoment(t.startMs,!0),i=e.msToUtcMoment(t.endMs),o=+i.time(),r=i.clone().stripTime();return o&&o>=this.nextDayThreshold&&r.add(1,"days"),r<=n&&(r=n.clone().add(1,"days")),{start:n,end:r}},e.prototype.isMultiDayRange=function(t){var e=this.computeDayRange(t);return e.end.diff(e.start,"days")>1},e.guid=0,e}(c.default);e.default=u},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(2),r=n(4),a=function(){function t(t){this._view=t}return t.prototype.opt=function(t){return this._view.opt(t)},t.prototype.trimHiddenDays=function(t){return this._view.trimHiddenDays(t)},t.prototype.msToUtcMoment=function(t,e){return this._view.calendar.msToUtcMoment(t,e)},t.prototype.buildPrev=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).subtract(t.dateIncrement);return this.build(e,-1)},t.prototype.buildNext=function(t){var e=t.date.clone().startOf(t.currentRangeUnit).add(t.dateIncrement);return this.build(e,1)},t.prototype.build=function(t,e,n){void 0===n&&(n=!1);var o,r,a,s,l,c,d,u,h=!t.hasTime();return o=this.buildValidRange(),o=this.trimHiddenDays(o),n&&(t=this.msToUtcMoment(o.constrainDate(t),h)),r=this.buildCurrentRangeInfo(t,e),a=/^(year|month|week|day)$/.test(r.unit),s=this.buildRenderRange(this.trimHiddenDays(r.unzonedRange),r.unit,a),l=(s=this.trimHiddenDays(s)).clone(),this.opt("showNonCurrentDates")||(l=l.intersect(r.unzonedRange)),d=i.duration(this.opt("minTime")),u=i.duration(this.opt("maxTime")),(l=(l=this.adjustActiveRange(l,d,u)).intersect(o))&&(t=this.msToUtcMoment(l.constrainDate(t),h)),c=r.unzonedRange.intersectsWith(o),{validUnzonedRange:o,currentUnzonedRange:r.unzonedRange,currentRangeUnit:r.unit,isRangeAllDay:a,activeUnzonedRange:l,renderUnzonedRange:s,minTime:d,maxTime:u,isValid:c,date:t,dateIncrement:this.buildDateIncrement(r.duration)}},t.prototype.buildValidRange=function(){return this._view.getUnzonedRangeOption("validRange",this._view.calendar.getNow())||new r.default},t.prototype.buildCurrentRangeInfo=function(t,e){var n,i=this._view.viewSpec,r=null,a=null,s=null;return i.duration?s=this.buildRangeFromDuration(t,e,r=i.duration,a=i.durationUnit):(n=this.opt("dayCount"))?(a="day",s=this.buildRangeFromDayCount(t,e,n)):(s=this.buildCustomVisibleRange(t))?a=o.computeGreatestUnit(s.getStart(),s.getEnd()):(r=this.getFallbackDuration(),a=o.computeGreatestUnit(r),s=this.buildRangeFromDuration(t,e,r,a)),{duration:r,unit:a,unzonedRange:s}},t.prototype.getFallbackDuration=function(){return i.duration({days:1})},t.prototype.adjustActiveRange=function(t,e,n){var i=t.getStart(),o=t.getEnd();return this._view.usesMinMaxTime&&(e<0&&i.time(0).add(e),n>864e5&&o.time(n-864e5)),new r.default(i,o)},t.prototype.buildRangeFromDuration=function(t,e,n,a){function s(){d=t.clone().startOf(f),u=d.clone().add(n),h=new r.default(d,u)}var l,c,d,u,h,f=this.opt("dateAlignment");return f||((l=this.opt("dateIncrement"))?(c=i.duration(l),f=c<n?o.computeDurationGreatestUnit(c,l):a):f=a),n.as("days")<=1&&this._view.isHiddenDay(d)&&(d=this._view.skipHiddenDays(d,e)).startOf("day"),s(),this.trimHiddenDays(h)||(t=this._view.skipHiddenDays(t,e),s()),h},t.prototype.buildRangeFromDayCount=function(t,e,n){var i,o=this.opt("dateAlignment"),a=0,s=t.clone();o&&s.startOf(o),s.startOf("day"),i=(s=this._view.skipHiddenDays(s,e)).clone();do{i.add(1,"day"),this._view.isHiddenDay(i)||a++}while(a<n);return new r.default(s,i)},t.prototype.buildCustomVisibleRange=function(t){var e=this._view.getUnzonedRangeOption("visibleRange",this._view.calendar.applyTimezone(t));return!e||null!=e.startMs&&null!=e.endMs?e:null},t.prototype.buildRenderRange=function(t,e,n){return t.clone()},t.prototype.buildDateIncrement=function(t){var e,n=this.opt("dateIncrement");return n?i.duration(n):(e=this.opt("dateAlignment"))?i.duration(1,e):t||i.duration({days:1})},t}();e.default=a},function(t,e,n){function i(t){var e,n,i,o,l=s.default.dataAttrPrefix;return l&&(l+="-"),(e=t.data(l+"event")||null)&&(null==(n=(e="object"==typeof e?r.extend({},e):{}).start)&&(n=e.time),i=e.duration,o=e.stick,delete e.start,delete e.time,delete e.duration,delete e.stick),null==n&&(n=t.data(l+"start")),null==n&&(n=t.data(l+"time")),null==i&&(i=t.data(l+"duration")),null==o&&(o=t.data(l+"stick")),{eventProps:e,startTime:n=null!=n?a.duration(n):null,duration:i=null!=i?a.duration(i):null,stick:o=Boolean(o)}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(1),a=n(3),s=n(7),l=n(2),c=n(9),d=n(6),u=n(18),h=n(11),f=n(17),p=n(5),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDragging=!1,e}return o.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToDocument=function(){this.listenTo(r(document),{dragstart:this.handleDragStart,sortstart:this.handleDragStart})},e.prototype.unbindFromDocument=function(){this.stopListeningTo(r(document))},e.prototype.handleDragStart=function(t,e){var n,i;this.opt("droppable")&&(n=r((e?e.item:null)||t.target),i=this.opt("dropAccept"),(r.isFunction(i)?i.call(n[0],n):n.is(i))&&(this.isDragging||this.listenToExternalDrag(n,t,e)))},e.prototype.listenToExternalDrag=function(t,e,n){var o,r=this,a=this.component,s=this.view,c=i(t);(this.dragListener=new u.default(a,{interactionStart:function(){r.isDragging=!0},hitOver:function(t){var e,n=!0,i=t.component.getSafeHitFootprint(t);i&&(o=r.computeExternalDrop(i,c))?(e=new f.default(o.buildInstances()),n=c.eventProps?a.isEventInstanceGroupAllowed(e):a.isExternalInstanceGroupAllowed(e)):n=!1,n||(o=null,l.disableCursor()),o&&a.renderDrag(a.eventRangesToEventFootprints(e.sliceRenderRanges(a.dateProfile.renderUnzonedRange,s.calendar)))},hitOut:function(){o=null},hitDone:function(){l.enableCursor(),a.unrenderDrag()},interactionEnd:function(e){o&&s.reportExternalDrop(o,Boolean(c.eventProps),Boolean(c.stick),t,e,n),r.isDragging=!1,r.dragListener=null}})).startDrag(e)},e.prototype.computeExternalDrop=function(t,e){var n,i=this.view.calendar,o=c.default.utc(t.unzonedRange.startMs).stripZone();return t.isAllDay&&(e.startTime?o.time(e.startTime):o.stripTime()),e.duration&&(n=o.clone().add(e.duration)),o=i.applyTimezone(o),n&&(n=i.applyTimezone(n)),h.default.parse(r.extend({},e.eventProps,{start:o,end:n}),new p.default(i))},e}(n(13).default);e.default=g,d.default.mixInto(g)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(26),s=n(35),l=n(18),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.isResizing=!1,i.eventPointing=n,i}return i.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMouseDown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMouseDown=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,o(e.target).is(".fc-start-resizer")).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){this.component.canStartResize(t,e)&&this.buildDragListener(t,o(e.target).is(".fc-start-resizer")).startInteraction(e)},e.prototype.buildDragListener=function(t,e){var n,i,o=this,a=this.component,s=this.view,c=s.calendar,d=c.eventManager,u=t.el,h=t.footprint.eventDef,f=t.footprint.eventInstance;return this.dragListener=new l.default(a,{scroll:this.opt("dragScroll"),subjectEl:u,interactionStart:function(){n=!1},dragStart:function(e){n=!0,o.eventPointing.handleMouseout(t,e),o.segResizeStart(t,e)},hitOver:function(n,l,u){var f,p=!0,g=a.getSafeHitFootprint(u),m=a.getSafeHitFootprint(n);g&&m&&(i=e?o.computeEventStartResizeMutation(g,m,t.footprint):o.computeEventEndResizeMutation(g,m,t.footprint))?(f=d.buildMutatedEventInstanceGroup(h.id,i),p=a.isEventInstanceGroupAllowed(f)):p=!1,p?i.isEmpty()&&(i=null):(i=null,r.disableCursor()),i&&(s.hideEventsWithId(t.footprint.eventDef.id),s.renderEventResize(a.eventRangesToEventFootprints(f.sliceRenderRanges(a.dateProfile.renderUnzonedRange,c)),t))},hitOut:function(){i=null},hitDone:function(){s.unrenderEventResize(t),s.showEventsWithId(t.footprint.eventDef.id),r.enableCursor()},interactionEnd:function(e){n&&o.segResizeStop(t,e),i&&s.reportEventResize(f,i,u,e),o.dragListener=null}})},e.prototype.segResizeStart=function(t,e){this.isResizing=!0,this.component.publiclyTrigger("eventResizeStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segResizeStop=function(t,e){this.isResizing=!1,this.component.publiclyTrigger("eventResizeStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventStartResizeMutation=function(t,e,n){var i,o,r=n.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getStart(),t.unzonedRange.getStart());return r.getStart().add(l)<r.getEnd()&&((i=new s.default).setStartDelta(l),(o=new a.default).setDateMutation(i),o)},e.prototype.computeEventEndResizeMutation=function(t,e,n){var i,o,r=n.componentFootprint.unzonedRange,l=this.component.diffDates(e.unzonedRange.getEnd(),t.unzonedRange.getEnd());return r.getEnd().add(l)>r.getStart()&&((i=new s.default).setEndDelta(l),(o=new a.default).setDateMutation(i),o)},e}(n(13).default);e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(26),a=n(35),s=n(39),l=n(18),c=n(81),d=function(t){function e(e,n){var i=t.call(this,e)||this;return i.isDragging=!1,i.eventPointing=n,i}return i.__extends(e,t),e.prototype.end=function(){this.dragListener&&this.dragListener.endInteraction()},e.prototype.getSelectionDelay=function(){var t=this.opt("eventLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this.component;e.bindSegHandlerToEl(t,"mousedown",this.handleMousedown.bind(this)),e.bindSegHandlerToEl(t,"touchstart",this.handleTouchStart.bind(this))},e.prototype.handleMousedown=function(t,e){this.component.canStartDrag(t,e)&&this.buildDragListener(t).startInteraction(e,{distance:5})},e.prototype.handleTouchStart=function(t,e){var n=this.component,i={delay:this.view.isEventDefSelected(t.footprint.eventDef)?0:this.getSelectionDelay()};n.canStartDrag(t,e)?this.buildDragListener(t).startInteraction(e,i):n.canStartSelection(t,e)&&this.buildSelectListener(t).startInteraction(e,i)},e.prototype.buildSelectListener=function(t){var e=this,n=this.view,i=t.footprint.eventDef,o=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var r=this.dragListener=new s.default({dragStart:function(t){r.isTouch&&!n.isEventDefSelected(i)&&o&&n.selectEventInstance(o)},interactionEnd:function(t){e.dragListener=null}});return r},e.prototype.buildDragListener=function(t){var e,n,i,r=this,a=this.component,s=this.view,d=s.calendar,u=d.eventManager,h=t.el,f=t.footprint.eventDef,p=t.footprint.eventInstance;if(this.dragListener)return this.dragListener;var g=this.dragListener=new l.default(s,{scroll:this.opt("dragScroll"),subjectEl:h,subjectCenter:!0,interactionStart:function(i){t.component=a,e=!1,(n=new c.default(t.el,{additionalClass:"fc-dragging",parentEl:s.el,opacity:g.isTouch?null:r.opt("dragOpacity"),revertDuration:r.opt("dragRevertDuration"),zIndex:2})).hide(),n.start(i)},dragStart:function(n){g.isTouch&&!s.isEventDefSelected(f)&&p&&s.selectEventInstance(p),e=!0,r.eventPointing.handleMouseout(t,n),r.segDragStart(t,n),s.hideEventsWithId(t.footprint.eventDef.id)},hitOver:function(e,l,c){var h,p,m,v=!0;t.hit&&(c=t.hit),h=c.component.getSafeHitFootprint(c),p=e.component.getSafeHitFootprint(e),h&&p&&(i=r.computeEventDropMutation(h,p,f))?(m=u.buildMutatedEventInstanceGroup(f.id,i),v=a.isEventInstanceGroupAllowed(m)):v=!1,v||(i=null,o.disableCursor()),i&&s.renderDrag(a.eventRangesToEventFootprints(m.sliceRenderRanges(a.dateProfile.renderUnzonedRange,d)),t,g.isTouch)?n.hide():n.show(),l&&(i=null)},hitOut:function(){s.unrenderDrag(t),n.show(),i=null},hitDone:function(){o.enableCursor()},interactionEnd:function(o){delete t.component,n.stop(!i,function(){e&&(s.unrenderDrag(t),r.segDragStop(t,o)),s.showEventsWithId(t.footprint.eventDef.id),i&&s.reportEventDrop(p,i,h,o)}),r.dragListener=null}});return g},e.prototype.segDragStart=function(t,e){this.isDragging=!0,this.component.publiclyTrigger("eventDragStart",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.segDragStop=function(t,e){this.isDragging=!1,this.component.publiclyTrigger("eventDragStop",{context:t.el[0],args:[t.footprint.getEventLegacy(),e,{},this.view]})},e.prototype.computeEventDropMutation=function(t,e,n){var i=new r.default;return i.setDateMutation(this.computeEventDateMutation(t,e)),i},e.prototype.computeEventDateMutation=function(t,e){var n,i,o=t.unzonedRange.getStart(),r=e.unzonedRange.getStart(),s=!1,l=!1,c=!1;return t.isAllDay!==e.isAllDay&&(s=!0,e.isAllDay?(c=!0,o.stripTime()):l=!0),n=this.component.diffDates(r,o),(i=new a.default).clearEnd=s,i.forceTimed=l,i.forceAllDay=c,i.setDateDelta(n),i},e}(n(13).default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),r=n(18),a=n(10),s=n(4),l=function(t){function e(e){var n=t.call(this,e)||this;return n.dragListener=n.buildDragListener(),n}return i.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.getDelay=function(){var t=this.opt("selectLongPressDelay");return null==t&&(t=this.opt("longPressDelay")),t},e.prototype.bindToEl=function(t){var e=this,n=this.component,i=this.dragListener;n.bindDateHandlerToEl(t,"mousedown",function(t){e.opt("selectable")&&!n.shouldIgnoreMouse()&&i.startInteraction(t,{distance:e.opt("selectMinDistance")})}),n.bindDateHandlerToEl(t,"touchstart",function(t){e.opt("selectable")&&!n.shouldIgnoreTouch()&&i.startInteraction(t,{delay:e.getDelay()})}),o.preventSelection(t)},e.prototype.buildDragListener=function(){var t,e=this,n=this.component;return new r.default(n,{scroll:this.opt("dragScroll"),interactionStart:function(){t=null},dragStart:function(t){e.view.unselect(t)},hitOver:function(i,r,a){var s,l;a&&(s=n.getSafeHitFootprint(a),l=n.getSafeHitFootprint(i),(t=s&&l?e.computeSelection(s,l):null)?n.renderSelectionFootprint(t):!1===t&&o.disableCursor())},hitOut:function(){t=null,n.unrenderSelection()},hitDone:function(){o.enableCursor()},interactionEnd:function(n,i){!i&&t&&e.view.reportSelection(t,n)}})},e.prototype.computeSelection=function(t,e){var n=this.computeSelectionFootprint(t,e);return!(n&&!this.isSelectionFootprintAllowed(n))&&n},e.prototype.computeSelectionFootprint=function(t,e){var n=[t.unzonedRange.startMs,t.unzonedRange.endMs,e.unzonedRange.startMs,e.unzonedRange.endMs];return n.sort(o.compareNumbers),new a.default(new s.default(n[0],n[3]),t.isAllDay)},e.prototype.isSelectionFootprintAllowed=function(t){return this.component.dateProfile.validUnzonedRange.containsRange(t.unzonedRange)&&this.view.calendar.constraints.isSelectionFootprintAllowed(t)},e}(n(13).default);e.default=l},function(t,e,n){function i(t){var e,n=[],i=[];for(e=0;e<t.length;e++)t[e].componentFootprint.isAllDay?n.push(t[e]):i.push(t[e]);return{allDay:n,timed:i}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(0),r=n(3),a=n(1),s=n(2),l=n(28),c=n(30),d=n(68),u=n(46),h=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.usesMinMaxTime=!0,i.timeGrid=i.instantiateTimeGrid(),i.addChild(i.timeGrid),i.opt("allDaySlot")&&(i.dayGrid=i.instantiateDayGrid(),i.addChild(i.dayGrid)),i.scroller=new l.default({overflowX:"hidden",overflowY:"auto"}),i}return o.__extends(e,t),e.prototype.instantiateTimeGrid=function(){return new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.renderHeadIntroHtml=function(){var t,e=this.view,n=e.calendar,i=n.msToUtcMoment(this.dateProfile.renderUnzonedRange.startMs,!0);return this.opt("weekNumbers")?(t=i.format(this.opt("smallWeekFormat")),'<th class="fc-axis fc-week-number '+n.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+">"+e.buildGotoAnchorHtml({date:i,type:"week",forceOff:this.colCnt>1},s.htmlEscape(t))+"</th>"):'<th class="fc-axis '+n.theme.getClass("widgetHeader")+'" '+e.axisStyleAttr()+"></th>"},e.prototype.renderBgIntroHtml=function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"></td>"},e.prototype.renderIntroHtml=function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"},e}(this.timeGridClass))(this)},e.prototype.instantiateDayGrid=function(){return new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o.__extends(e,t),e.prototype.renderBgIntroHtml=function(){var t=this.view;return'<td class="fc-axis '+t.calendar.theme.getClass("widgetContent")+'" '+t.axisStyleAttr()+"><span>"+t.getAllDayHtml()+"</span></td>"},e.prototype.renderIntroHtml=function(){return'<td class="fc-axis" '+this.view.axisStyleAttr()+"></td>"},e}(this.dayGridClass))(this)},e.prototype.renderSkeleton=function(){var t,e;this.el.addClass("fc-agenda-view").html(this.renderSkeletonHtml()),this.scroller.render(),t=this.scroller.el.addClass("fc-time-grid-container"),e=a('<div class="fc-time-grid" />').appendTo(t),this.el.find(".fc-body > tr > td").append(t),this.timeGrid.headContainerEl=this.el.find(".fc-head-container"),this.timeGrid.setElement(e),this.dayGrid&&(this.dayGrid.setElement(this.el.find(".fc-day-grid")),this.dayGrid.bottomCoordPadding=this.dayGrid.el.next("hr").outerHeight())},e.prototype.unrenderSkeleton=function(){this.timeGrid.removeElement(),this.dayGrid&&this.dayGrid.removeElement(),this.scroller.destroy()},e.prototype.renderSkeletonHtml=function(){var t=this.calendar.theme;return'<table class="'+t.getClass("tableGrid")+'">'+(this.opt("columnHeader")?'<thead class="fc-head"><tr><td class="fc-head-container '+t.getClass("widgetHeader")+'">&nbsp;</td></tr></thead>':"")+'<tbody class="fc-body"><tr><td class="'+t.getClass("widgetContent")+'">'+(this.dayGrid?'<div class="fc-day-grid"/><hr class="fc-divider '+t.getClass("widgetHeader")+'"/>':"")+"</td></tr></tbody></table>"},e.prototype.axisStyleAttr=function(){return null!=this.axisWidth?'style="width:'+this.axisWidth+'px"':""},e.prototype.getNowIndicatorUnit=function(){return this.timeGrid.getNowIndicatorUnit()},e.prototype.updateSize=function(e,n,i){var o,r,a;if(t.prototype.updateSize.call(this,e,n,i),this.axisWidth=s.matchCellWidths(this.el.find(".fc-axis")),this.timeGrid.colEls){var l=this.el.find(".fc-row:not(.fc-scroller *)");this.timeGrid.bottomRuleEl.hide(),this.scroller.clear(),s.uncompensateScroll(l),this.dayGrid&&(this.dayGrid.removeSegPopover(),(o=this.opt("eventLimit"))&&"number"!=typeof o&&(o=5),o&&this.dayGrid.limitRows(o)),n||(r=this.computeScrollerHeight(e),this.scroller.setHeight(r),((a=this.scroller.getScrollbarWidths()).left||a.right)&&(s.compensateScroll(l,a),r=this.computeScrollerHeight(e),this.scroller.setHeight(r)),this.scroller.lockOverflow(a),this.timeGrid.getTotalSlatHeight()<r&&this.timeGrid.bottomRuleEl.show())}else n||(r=this.computeScrollerHeight(e),this.scroller.setHeight(r))},e.prototype.computeScrollerHeight=function(t){return t-s.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.computeInitialDateScroll=function(){var t=r.duration(this.opt("scrollTime")),e=this.timeGrid.computeTimeTop(t);return(e=Math.ceil(e))&&e++,{top:e}},e.prototype.queryDateScroll=function(){return{top:this.scroller.getScrollTop()}},e.prototype.applyDateScroll=function(t){void 0!==t.top&&this.scroller.setScrollTop(t.top)},e.prototype.getHitFootprint=function(t){return t.component.getHitFootprint(t)},e.prototype.getHitEl=function(t){return t.component.getHitEl(t)},e.prototype.executeEventRender=function(t){var e,n,i={},o={};for(e in t)(n=t[e]).getEventDef().isAllDay()?i[e]=n:o[e]=n;this.timeGrid.executeEventRender(o),this.dayGrid&&this.dayGrid.executeEventRender(i)},e.prototype.renderDrag=function(t,e,n){var o=i(t),r=!1;return r=this.timeGrid.renderDrag(o.timed,e,n),this.dayGrid&&(r=this.dayGrid.renderDrag(o.allDay,e,n)||r),r},e.prototype.renderEventResize=function(t,e,n){var o=i(t);this.timeGrid.renderEventResize(o.timed,e,n),this.dayGrid&&this.dayGrid.renderEventResize(o.allDay,e,n)},e.prototype.renderSelectionFootprint=function(t){t.isAllDay?this.dayGrid&&this.dayGrid.renderSelectionFootprint(t):this.timeGrid.renderSelectionFootprint(t)},e}(c.default);e.default=h,h.prototype.timeGridClass=d.default,h.prototype.dayGridClass=u.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(3),a=n(2),s=n(29),l=n(41),c=n(45),d=n(40),u=n(38),h=n(4),f=n(10),p=n(83),g=n(84),m=n(85),v=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}],y=function(t){function e(e){var n=t.call(this,e)||this;return n.processOptions(),n}return i.__extends(e,t),e.prototype.componentFootprintToSegs=function(t){var e,n=this.sliceRangeByTimes(t.unzonedRange);for(e=0;e<n.length;e++)n[e].col=this.isRTL?this.daysPerRow-1-n[e].dayIndex:n[e].dayIndex;return n},e.prototype.sliceRangeByTimes=function(t){var e,n,i=[];for(n=0;n<this.daysPerRow;n++)(e=t.intersect(this.dayRanges[n]))&&i.push({startMs:e.startMs,endMs:e.endMs,isStart:e.isStart,isEnd:e.isEnd,dayIndex:n});return i},e.prototype.processOptions=function(){var t,e=this.opt("slotDuration"),n=this.opt("snapDuration");e=r.duration(e),n=n?r.duration(n):e,this.slotDuration=e,this.snapDuration=n,this.snapsPerSlot=e/n,t=this.opt("slotLabelFormat"),o.isArray(t)&&(t=t[t.length-1]),this.labelFormat=t||this.opt("smallTimeFormat"),t=this.opt("slotLabelInterval"),this.labelInterval=t?r.duration(t):this.computeLabelInterval(e)},e.prototype.computeLabelInterval=function(t){var e,n,i;for(e=v.length-1;e>=0;e--)if(n=r.duration(v[e]),i=a.divideDurationByDuration(n,t),a.isInt(i)&&i>1)return n;return r.duration(t)},e.prototype.renderDates=function(t){this.dateProfile=t,this.updateDayTable(),this.renderSlats(),this.renderColumns()},e.prototype.unrenderDates=function(){this.unrenderColumns()},e.prototype.renderSkeleton=function(){this.el.html('<div class="fc-bg"></div><div class="fc-slats"></div><hr class="fc-divider '+this.view.calendar.theme.getClass("widgetHeader")+'" style="display:none" />'),this.bottomRuleEl=this.el.find("hr")},e.prototype.renderSlats=function(){var t=this.view.calendar.theme;this.slatContainerEl=this.el.find("> .fc-slats").html('<table class="'+t.getClass("tableGrid")+'">'+this.renderSlatRowHtml()+"</table>"),this.slatEls=this.slatContainerEl.find("tr"),this.slatCoordCache=new u.default({els:this.slatEls,isVertical:!0})},e.prototype.renderSlatRowHtml=function(){for(var t,e,n,i=this.view,o=i.calendar,s=o.theme,l=this.isRTL,c=this.dateProfile,d="",u=r.duration(+c.minTime),h=r.duration(0);u<c.maxTime;)t=o.msToUtcMoment(c.renderUnzonedRange.startMs).time(u),e=a.isInt(a.divideDurationByDuration(h,this.labelInterval)),n='<td class="fc-axis fc-time '+s.getClass("widgetContent")+'" '+i.axisStyleAttr()+">"+(e?"<span>"+a.htmlEscape(t.format(this.labelFormat))+"</span>":"")+"</td>",d+='<tr data-time="'+t.format("HH:mm:ss")+'"'+(e?"":' class="fc-minor"')+">"+(l?"":n)+'<td class="'+s.getClass("widgetContent")+'"/>'+(l?n:"")+"</tr>",u.add(this.slotDuration),h.add(this.slotDuration);return d},e.prototype.renderColumns=function(){var t=this.dateProfile,e=this.view.calendar.theme;this.dayRanges=this.dayDates.map(function(e){return new h.default(e.clone().add(t.minTime),e.clone().add(t.maxTime))}),this.headContainerEl&&this.headContainerEl.html(this.renderHeadHtml()),this.el.find("> .fc-bg").html('<table class="'+e.getClass("tableGrid")+'">'+this.renderBgTrHtml(0)+"</table>"),this.colEls=this.el.find(".fc-day, .fc-disabled-day"),this.colCoordCache=new u.default({els:this.colEls,isHorizontal:!0}),this.renderContentSkeleton()},e.prototype.unrenderColumns=function(){this.unrenderContentSkeleton()},e.prototype.renderContentSkeleton=function(){var t,e,n="";for(t=0;t<this.colCnt;t++)n+='<td><div class="fc-content-col"><div class="fc-event-container fc-helper-container"></div><div class="fc-event-container"></div><div class="fc-highlight-container"></div><div class="fc-bgevent-container"></div><div class="fc-business-container"></div></div></td>';e=this.contentSkeletonEl=o('<div class="fc-content-skeleton"><table><tr>'+n+"</tr></table></div>"),this.colContainerEls=e.find(".fc-content-col"),this.helperContainerEls=e.find(".fc-helper-container"),this.fgContainerEls=e.find(".fc-event-container:not(.fc-helper-container)"),this.bgContainerEls=e.find(".fc-bgevent-container"),this.highlightContainerEls=e.find(".fc-highlight-container"),this.businessContainerEls=e.find(".fc-business-container"),this.bookendCells(e.find("tr")),this.el.append(e)},e.prototype.unrenderContentSkeleton=function(){this.contentSkeletonEl.remove(),this.contentSkeletonEl=null,this.colContainerEls=null,this.helperContainerEls=null,this.fgContainerEls=null,this.bgContainerEls=null,this.highlightContainerEls=null,this.businessContainerEls=null},e.prototype.groupSegsByCol=function(t){var e,n=[];for(e=0;e<this.colCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].col].push(t[e]);return n},e.prototype.attachSegsByCol=function(t,e){var n,i,o;for(n=0;n<this.colCnt;n++)for(i=t[n],o=0;o<i.length;o++)e.eq(n).append(i[o].el)},e.prototype.getNowIndicatorUnit=function(){return"minute"},e.prototype.renderNowIndicator=function(t){if(this.colContainerEls){var e,n=this.componentFootprintToSegs(new f.default(new h.default(t,t.valueOf()+1),!1)),i=this.computeDateTop(t,t),r=[];for(e=0;e<n.length;e++)r.push(o('<div class="fc-now-indicator fc-now-indicator-line"></div>').css("top",i).appendTo(this.colContainerEls.eq(n[e].col))[0]);n.length>0&&r.push(o('<div class="fc-now-indicator fc-now-indicator-arrow"></div>').css("top",i).appendTo(this.el.find(".fc-content-skeleton"))[0]),this.nowIndicatorEls=o(r)}},e.prototype.unrenderNowIndicator=function(){this.nowIndicatorEls&&(this.nowIndicatorEls.remove(),this.nowIndicatorEls=null)},e.prototype.updateSize=function(e,n,i){t.prototype.updateSize.call(this,e,n,i),this.slatCoordCache.build(),i&&this.updateSegVerticals([].concat(this.eventRenderer.getSegs(),this.businessSegs||[]))},e.prototype.getTotalSlatHeight=function(){return this.slatContainerEl.outerHeight()},e.prototype.computeDateTop=function(t,e){return this.computeTimeTop(r.duration(t-e.clone().stripTime()))},e.prototype.computeTimeTop=function(t){var e,n,i=this.slatEls.length,o=(t-this.dateProfile.minTime)/this.slotDuration;return o=Math.max(0,o),o=Math.min(i,o),e=Math.floor(o),n=o-(e=Math.min(e,i-1)),this.slatCoordCache.getTopPosition(e)+this.slatCoordCache.getHeight(e)*n},e.prototype.updateSegVerticals=function(t){this.computeSegVerticals(t),this.assignSegVerticals(t)},e.prototype.computeSegVerticals=function(t){var e,n,i,o=this.opt("agendaEventMinHeight");for(e=0;e<t.length;e++)(n=t[e]).top=this.computeDateTop(n.startMs,i=this.dayDates[n.dayIndex]),n.bottom=Math.max(n.top+o,this.computeDateTop(n.endMs,i))},e.prototype.assignSegVerticals=function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateSegVerticalCss(n))},e.prototype.generateSegVerticalCss=function(t){return{top:t.top,bottom:-t.bottom}},e.prototype.prepareHits=function(){this.colCoordCache.build(),this.slatCoordCache.build()},e.prototype.releaseHits=function(){this.colCoordCache.clear()},e.prototype.queryHit=function(t,e){var n=this.snapsPerSlot,i=this.colCoordCache,o=this.slatCoordCache;if(i.isLeftInBounds(t)&&o.isTopInBounds(e)){var r=i.getHorizontalIndex(t),a=o.getVerticalIndex(e);if(null!=r&&null!=a){var s=o.getTopOffset(a),l=o.getHeight(a),c=Math.floor((e-s)/l*n),d=s+c/n*l,u=s+(c+1)/n*l;return{col:r,snap:a*n+c,component:this,left:i.getLeftOffset(r),right:i.getRightOffset(r),top:d,bottom:u}}}},e.prototype.getHitFootprint=function(t){var e,n=this.getCellDate(0,t.col),i=this.computeSnapTime(t.snap);return n.time(i),e=n.clone().add(this.snapDuration),new f.default(new h.default(n,e),!1)},e.prototype.computeSnapTime=function(t){return r.duration(this.dateProfile.minTime+this.snapDuration*t)},e.prototype.getHitEl=function(t){return this.colEls.eq(t.col)},e.prototype.renderDrag=function(t,e,n){var i;if(e){if(t.length)return this.helperRenderer.renderEventDraggingFootprints(t,e,n),!0}else for(i=0;i<t.length;i++)this.renderHighlight(t[i].componentFootprint)},e.prototype.unrenderDrag=function(){this.unrenderHighlight(),this.helperRenderer.unrender()},e.prototype.renderEventResize=function(t,e,n){this.helperRenderer.renderEventResizingFootprints(t,e,n)},e.prototype.unrenderEventResize=function(){this.helperRenderer.unrender()},e.prototype.renderSelectionFootprint=function(t){this.opt("selectHelper")?this.helperRenderer.renderComponentFootprint(t):this.renderHighlight(t)},e.prototype.unrenderSelection=function(){this.helperRenderer.unrender(),this.unrenderHighlight()},e}(s.default);e.default=y,y.prototype.eventRendererClass=p.default,y.prototype.businessHourRendererClass=l.default,y.prototype.helperRendererClass=g.default,y.prototype.fillRendererClass=m.default,c.default.mixInto(y),d.default.mixInto(y)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(4),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildRenderRange=function(e,n,i){var r=t.prototype.buildRenderRange.call(this,e,n,i),a=this.msToUtcMoment(r.startMs,i),s=this.msToUtcMoment(r.endMs,i);return/^(year|month)$/.test(n)&&(a.startOf("week"),s.weekday()&&s.add(1,"week").startOf("week")),new o.default(a,s)},e}(n(62).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(3),r=n(2),a=n(4),s=n(47),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.buildRenderRange=function(e,n,i){var o,r=t.prototype.buildRenderRange.call(this,e,n,i),s=this.msToUtcMoment(r.startMs,i),l=this.msToUtcMoment(r.endMs,i);return this.opt("fixedWeekCount")&&(o=Math.ceil(l.diff(s,"weeks",!0)),l.add(6-o,"weeks")),new a.default(s,l)},e}(n(69).default),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setGridHeight=function(t,e){e&&(t*=this.dayGrid.rowCnt/6),r.distributeHeight(this.dayGrid.rowEls,t,!e)},e.prototype.isDateInOtherMonth=function(t,e){return t.month()!==o.utc(e.currentUnzonedRange.startMs).month()},e}(s.default);e.default=c,c.prototype.dateProfileGeneratorClass=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(4),s=n(30),l=n(28),c=n(90),d=n(91),u=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.segSelector=".fc-list-item",i.scroller=new l.default({overflowX:"hidden",overflowY:"auto"}),i}return i.__extends(e,t),e.prototype.renderSkeleton=function(){this.el.addClass("fc-list-view "+this.calendar.theme.getClass("listView")),this.scroller.render(),this.scroller.el.appendTo(this.el),this.contentEl=this.scroller.scrollEl},e.prototype.unrenderSkeleton=function(){this.scroller.destroy()},e.prototype.updateSize=function(t,e,n){this.scroller.setHeight(this.computeScrollerHeight(t))},e.prototype.computeScrollerHeight=function(t){return t-r.subtractInnerElHeight(this.el,this.scroller.el)},e.prototype.renderDates=function(t){for(var e=this.calendar,n=e.msToUtcMoment(t.renderUnzonedRange.startMs,!0),i=e.msToUtcMoment(t.renderUnzonedRange.endMs,!0),o=[],r=[];n<i;)o.push(n.clone()),r.push(new a.default(n,n.clone().add(1,"day"))),n.add(1,"day");this.dayDates=o,this.dayRanges=r},e.prototype.componentFootprintToSegs=function(t){var e,n,i,o=this.dayRanges,r=[];for(e=0;e<o.length;e++)if((n=t.unzonedRange.intersect(o[e]))&&(r.push(i={startMs:n.startMs,endMs:n.endMs,isStart:n.isStart,isEnd:n.isEnd,dayIndex:e}),!i.isEnd&&!t.isAllDay&&e+1<o.length&&t.unzonedRange.endMs<o[e+1].startMs+this.nextDayThreshold)){i.endMs=t.unzonedRange.endMs,i.isEnd=!0;break}return r},e.prototype.renderEmptyMessage=function(){this.contentEl.html('<div class="fc-list-empty-wrap2"><div class="fc-list-empty-wrap1"><div class="fc-list-empty">'+r.htmlEscape(this.opt("noEventsMessage"))+"</div></div></div>")},e.prototype.renderSegList=function(t){var e,n,i,r=this.groupSegsByDay(t),a=o('<table class="fc-list-table '+this.calendar.theme.getClass("tableList")+'"><tbody/></table>'),s=a.find("tbody");for(e=0;e<r.length;e++)if(n=r[e])for(s.append(this.dayHeaderHtml(this.dayDates[e])),this.eventRenderer.sortEventSegs(n),i=0;i<n.length;i++)s.append(n[i].el);this.contentEl.empty().append(a)},e.prototype.groupSegsByDay=function(t){var e,n,i=[];for(e=0;e<t.length;e++)(i[(n=t[e]).dayIndex]||(i[n.dayIndex]=[])).push(n);return i},e.prototype.dayHeaderHtml=function(t){var e=this.opt("listDayFormat"),n=this.opt("listDayAltFormat");return'<tr class="fc-list-heading" data-date="'+t.format("YYYY-MM-DD")+'"><td class="'+this.calendar.theme.getClass("widgetHeader")+'" colspan="3">'+(e?this.buildGotoAnchorHtml(t,{class:"fc-list-heading-main"},r.htmlEscape(t.format(e))):"")+(n?this.buildGotoAnchorHtml(t,{class:"fc-list-heading-alt"},r.htmlEscape(t.format(n))):"")+"</td></tr>"},e}(s.default);e.default=u,u.prototype.eventRendererClass=c.default,u.prototype.eventPointingClass=d.default},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(7),r=n(73),a=n(2),s=n(48);n(9),n(37),n(92),n(93),n(95),n(96),n(97),i.fullCalendar=i.extend(o.default,r),i.fn.fullCalendar=function(t){var e=Array.prototype.slice.call(arguments,1),n=this;return this.each(function(o,r){var l,c=i(r),d=c.data("fullCalendar");"string"==typeof t?"getCalendar"===t?o||(n=d):"destroy"===t?d&&(d.destroy(),c.removeData("fullCalendar")):d?i.isFunction(d[t])?(l=d[t].apply(d,e),o||(n=l),"destroy"===t&&c.removeData("fullCalendar")):a.warn("'"+t+"' is an unknown FullCalendar method."):a.warn("Attempting to call a FullCalendar method on an element with no calendar."):d||(d=new s.default(c,t),c.data("fullCalendar",d),d.render())}),n}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(48);e.Calendar=i.default;var o=n(19);i.default.defaults=o.globalDefaults,i.default.englishDefaults=o.englishDefaults,i.default.rtlDefaults=o.rtlDefaults;var r=n(2);e.applyAll=r.applyAll,e.debounce=r.debounce,e.isInt=r.isInt,e.htmlEscape=r.htmlEscape,e.cssToStr=r.cssToStr,e.proxy=r.proxy,e.capitaliseFirstLetter=r.capitaliseFirstLetter,e.getOuterRect=r.getOuterRect,e.getClientRect=r.getClientRect,e.getContentRect=r.getContentRect,e.getScrollbarWidths=r.getScrollbarWidths,e.preventDefault=r.preventDefault,e.parseFieldSpecs=r.parseFieldSpecs,e.compareByFieldSpecs=r.compareByFieldSpecs,e.compareByFieldSpec=r.compareByFieldSpec,e.flexibleCompare=r.flexibleCompare,e.computeGreatestUnit=r.computeGreatestUnit,e.divideRangeByDuration=r.divideRangeByDuration,e.divideDurationByDuration=r.divideDurationByDuration,e.multiplyDuration=r.multiplyDuration,e.durationHasTime=r.durationHasTime,e.log=r.log,e.warn=r.warn,e.removeExact=r.removeExact,e.intersectRects=r.intersectRects;var a=n(37);e.formatDate=a.formatDate,e.formatRange=a.formatRange,e.queryMostGranularFormatUnit=a.queryMostGranularFormatUnit;var s=n(20);e.datepickerLocale=s.datepickerLocale,e.locale=s.locale;var l=n(9);e.moment=l.default;var c=n(8);e.EmitterMixin=c.default;var d=n(6);e.ListenerMixin=d.default;var u=n(32);e.Model=u.default;var h=n(49);e.Constraints=h.default;var f=n(4);e.UnzonedRange=f.default;var p=n(10);e.ComponentFootprint=p.default;var g=n(54);e.BusinessHourGenerator=g.default;var m=n(22);e.EventDef=m.default;var v=n(26);e.EventDefMutation=v.default;var y=n(25);e.EventSourceParser=y.default;var b=n(5);e.EventSource=b.default;var w=n(36);e.ThemeRegistry=w.default;var x=n(17);e.EventInstanceGroup=x.default;var D=n(34);e.ArrayEventSource=D.default;var C=n(57);e.FuncEventSource=C.default;var _=n(58);e.JsonFeedEventSource=_.default;var S=n(24);e.EventFootprint=S.default;var k=n(21);e.Class=k.default;var T=n(12);e.Mixin=T.default;var A=n(38);e.CoordCache=A.default;var P=n(39);e.DragListener=P.default;var E=n(16);e.Promise=E.default;var M=n(59);e.TaskQueue=M.default;var R=n(60);e.RenderQueue=R.default;var N=n(28);e.Scroller=N.default;var I=n(27);e.Theme=I.default;var O=n(61);e.DateComponent=O.default;var H=n(29);e.InteractiveDateComponent=H.default;var L=n(30);e.View=L.default;var B=n(40);e.DayTableMixin=B.default;var F=n(41);e.BusinessHourRenderer=F.default;var j=n(31);e.EventRenderer=j.default;var z=n(42);e.FillRenderer=z.default;var U=n(43);e.HelperRenderer=U.default;var $=n(63);e.ExternalDropping=$.default;var W=n(64);e.EventResizing=W.default;var q=n(44);e.EventPointing=q.default;var V=n(65);e.EventDragging=V.default;var Y=n(66);e.DateSelecting=Y.default;var G=n(45);e.StandardInteractionsMixin=G.default;var K=n(67);e.AgendaView=K.default;var X=n(68);e.TimeGrid=X.default;var J=n(46);e.DayGrid=J.default;var Q=n(47);e.BasicView=Q.default;var Z=n(70);e.MonthView=Z.default;var tt=n(71);e.ListView=tt.default},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.items=t||[]}return t.prototype.proxyCall=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=[];return this.items.forEach(function(n){i.push(n[t].apply(n,e))}),i},t}();e.default=n},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=function(){function t(t,e){this.el=null,this.viewsWithButtons=[],this.calendar=t,this.toolbarOptions=e}return t.prototype.setToolbarOptions=function(t){this.toolbarOptions=t},t.prototype.render=function(){var t=this.el;this.toolbarOptions.layout?(t?t.empty():t=this.el=i("<div class='fc-toolbar "+this.toolbarOptions.extraClasses+"'/>"),t.append(this.renderSection("left")).append(this.renderSection("right")).append(this.renderSection("center")).append('<div class="fc-clear"/>')):this.removeElement()},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.renderSection=function(t){var e=this,n=this.calendar,r=n.theme,a=n.optionsManager,s=n.viewSpecManager,l=i('<div class="fc-'+t+'"/>'),c=this.toolbarOptions.layout[t],d=a.get("customButtons")||{},u=a.overrides.buttonText||{},h=a.get("buttonText")||{};return c&&i.each(c.split(" "),function(t,a){var c,f=i(),p=!0;i.each(a.split(","),function(t,a){var l,c,g,m,v,y,b,w;"title"==a?(f=f.add(i("<h2>&nbsp;</h2>")),p=!1):((l=d[a])?(g=function(t){l.click&&l.click.call(w[0],t)},(m=r.getCustomButtonIconClass(l))||(m=r.getIconClass(a))||(v=l.text)):(c=s.getViewSpec(a))?(e.viewsWithButtons.push(a),g=function(){n.changeView(a)},(v=c.buttonTextOverride)||(m=r.getIconClass(a))||(v=c.buttonTextDefault)):n[a]&&(g=function(){n[a]()},(v=u[a])||(m=r.getIconClass(a))||(v=h[a])),g&&(b=["fc-"+a+"-button",r.getClass("button"),r.getClass("stateDefault")],v?y=o.htmlEscape(v):m&&(y="<span class='"+m+"'></span>"),w=i('<button type="button" class="'+b.join(" ")+'">'+y+"</button>").click(function(t){w.hasClass(r.getClass("stateDisabled"))||(g(t),(w.hasClass(r.getClass("stateActive"))||w.hasClass(r.getClass("stateDisabled")))&&w.removeClass(r.getClass("stateHover")))}).mousedown(function(){w.not("."+r.getClass("stateActive")).not("."+r.getClass("stateDisabled")).addClass(r.getClass("stateDown"))}).mouseup(function(){w.removeClass(r.getClass("stateDown"))}).hover(function(){w.not("."+r.getClass("stateActive")).not("."+r.getClass("stateDisabled")).addClass(r.getClass("stateHover"))},function(){w.removeClass(r.getClass("stateHover")).removeClass(r.getClass("stateDown"))}),f=f.add(w)))}),p&&f.first().addClass(r.getClass("cornerLeft")).end().last().addClass(r.getClass("cornerRight")).end(),f.length>1?(c=i("<div/>"),p&&c.addClass(r.getClass("buttonGroup")),c.append(f),l.append(c)):l.append(f)}),l},t.prototype.updateTitle=function(t){this.el&&this.el.find("h2").text(t)},t.prototype.activateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").addClass(this.calendar.theme.getClass("stateActive"))},t.prototype.deactivateButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").removeClass(this.calendar.theme.getClass("stateActive"))},t.prototype.disableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!0).addClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.enableButton=function(t){this.el&&this.el.find(".fc-"+t+"-button").prop("disabled",!1).removeClass(this.calendar.theme.getClass("stateDisabled"))},t.prototype.getViewsWithButtons=function(){return this.viewsWithButtons},t}();e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=n(2),a=n(19),s=n(20),l=function(t){function e(e,n){var i=t.call(this)||this;return i._calendar=e,i.overrides=o.extend({},n),i.dynamicOverrides={},i.compute(),i}return i.__extends(e,t),e.prototype.add=function(t){var e,n=0;for(e in this.recordOverrides(t),t)n++;if(1===n){if("height"===e||"contentHeight"===e||"aspectRatio"===e)return void this._calendar.updateViewSize(!0);if("defaultDate"===e)return;if("businessHours"===e)return;if("timezone"===e)return void this._calendar.view.flash("initialEvents")}this._calendar.renderHeader(),this._calendar.renderFooter(),this._calendar.viewsByType={},this._calendar.reinitView()},e.prototype.compute=function(){var t,e,n,i,o;t=r.firstDefined(this.dynamicOverrides.locale,this.overrides.locale),(e=s.localeOptionHash[t])||(e=s.localeOptionHash[t=a.globalDefaults.locale]||{}),n=r.firstDefined(this.dynamicOverrides.isRTL,this.overrides.isRTL,e.isRTL,a.globalDefaults.isRTL),this.dirDefaults=i=n?a.rtlDefaults:{},this.localeDefaults=e,o=a.mergeOptions([a.globalDefaults,i,e,this.overrides,this.dynamicOverrides]),s.populateInstanceComputableOptions(o),this.reset(o)},e.prototype.recordOverrides=function(t){var e;for(e in t)this.dynamicOverrides[e]=t[e];this._calendar.viewSpecManager.clearCache(),this.compute()},e}(n(32).default);e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(3),o=n(1),r=n(7),a=n(2),s=n(19),l=n(20),c=function(){function t(t,e){this.optionsManager=t,this._calendar=e,this.clearCache()}return t.prototype.clearCache=function(){this.viewSpecCache={}},t.prototype.getViewSpec=function(t){var e=this.viewSpecCache;return e[t]||(e[t]=this.buildViewSpec(t))},t.prototype.getUnitViewSpec=function(t){var e,n,i;if(-1!=o.inArray(t,a.unitsDesc))for(e=this._calendar.header.getViewsWithButtons(),o.each(r.default.views,function(t){e.push(t)}),n=0;n<e.length;n++)if((i=this.getViewSpec(e[n]))&&i.singleUnit==t)return i},t.prototype.buildViewSpec=function(t){for(var e,n,o,l,c,d=this.optionsManager.overrides.views||{},u=[],h=[],f=[],p=t;p;)e=r.default.views[p],n=d[p],p=null,"function"==typeof e&&(e={class:e}),e&&(u.unshift(e),h.unshift(e.defaults||{}),o=o||e.duration,p=p||e.type),n&&(f.unshift(n),o=o||n.duration,p=p||n.type);return(e=a.mergeProps(u)).type=t,!!e.class&&((o=o||this.optionsManager.dynamicOverrides.duration||this.optionsManager.overrides.duration)&&(l=i.duration(o)).valueOf()&&(c=a.computeDurationGreatestUnit(l,o),e.duration=l,e.durationUnit=c,1===l.as(c)&&(e.singleUnit=c,f.unshift(d[c]||{}))),e.defaults=s.mergeOptions(h),e.overrides=s.mergeOptions(f),this.buildViewSpecOptions(e),this.buildViewSpecButtonText(e,t),e)},t.prototype.buildViewSpecOptions=function(t){var e=this.optionsManager;t.options=s.mergeOptions([s.globalDefaults,t.defaults,e.dirDefaults,e.localeDefaults,e.overrides,t.overrides,e.dynamicOverrides]),l.populateInstanceComputableOptions(t.options)},t.prototype.buildViewSpecButtonText=function(t,e){function n(n){var i=n.buttonText||{};return i[e]||(t.buttonTextKey?i[t.buttonTextKey]:null)||(t.singleUnit?i[t.singleUnit]:null)}var i=this.optionsManager;t.buttonTextOverride=n(i.dynamicOverrides)||n(i.overrides)||t.overrides.buttonText,t.buttonTextDefault=n(i.localeDefaults)||n(i.dirDefaults)||t.defaults.buttonText||n(s.globalDefaults)||(t.duration?this._calendar.humanizeDuration(t.duration):null)||e},t}();e.default=c},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=n(79),a=n(34),s=n(5),l=n(25),c=n(11),d=n(17),u=n(8),h=n(6),f=function(){function t(t){this.calendar=t,this.stickySource=new a.default(t),this.otherSources=[]}return t.prototype.requestEvents=function(t,e,n,i){return!i&&this.currentPeriod&&this.currentPeriod.isWithinRange(t,e)&&n===this.currentPeriod.timezone||this.setPeriod(new r.default(t,e,n)),this.currentPeriod.whenReleased()},t.prototype.addSource=function(t){this.otherSources.push(t),this.currentPeriod&&this.currentPeriod.requestSource(t)},t.prototype.removeSource=function(t){o.removeExact(this.otherSources,t),this.currentPeriod&&this.currentPeriod.purgeSource(t)},t.prototype.removeAllSources=function(){this.otherSources=[],this.currentPeriod&&this.currentPeriod.purgeAllSources()},t.prototype.refetchSource=function(t){var e=this.currentPeriod;e&&(e.freeze(),e.purgeSource(t),e.requestSource(t),e.thaw())},t.prototype.refetchAllSources=function(){var t=this.currentPeriod;t&&(t.freeze(),t.purgeAllSources(),t.requestSources(this.getSources()),t.thaw())},t.prototype.getSources=function(){return[this.stickySource].concat(this.otherSources)},t.prototype.multiQuerySources=function(t){t?i.isArray(t)||(t=[t]):t=[];var e,n=[];for(e=0;e<t.length;e++)n.push.apply(n,this.querySources(t[e]));return n},t.prototype.querySources=function(t){var e,n,o=this.otherSources;for(e=0;e<o.length;e++)if((n=o[e])===t)return[n];return(n=this.getSourceById(s.default.normalizeId(t)))?[n]:(t=l.default.parse(t,this.calendar))?i.grep(o,function(e){return function(t,e){return t.getPrimitive()==e.getPrimitive()}(t,e)}):void 0},t.prototype.getSourceById=function(t){return i.grep(this.otherSources,function(e){return e.id&&e.id===t})[0]},t.prototype.setPeriod=function(t){this.currentPeriod&&(this.unbindPeriod(this.currentPeriod),this.currentPeriod=null),this.currentPeriod=t,this.bindPeriod(t),t.requestSources(this.getSources())},t.prototype.bindPeriod=function(t){this.listenTo(t,"release",function(t){this.trigger("release",t)})},t.prototype.unbindPeriod=function(t){this.stopListeningTo(t)},t.prototype.getEventDefByUid=function(t){if(this.currentPeriod)return this.currentPeriod.getEventDefByUid(t)},t.prototype.addEventDef=function(t,e){e&&this.stickySource.addEventDef(t),this.currentPeriod&&this.currentPeriod.addEventDef(t)},t.prototype.removeEventDefsById=function(t){this.getSources().forEach(function(e){e.removeEventDefsById(t)}),this.currentPeriod&&this.currentPeriod.removeEventDefsById(t)},t.prototype.removeAllEventDefs=function(){this.getSources().forEach(function(t){t.removeAllEventDefs()}),this.currentPeriod&&this.currentPeriod.removeAllEventDefs()},t.prototype.mutateEventsWithId=function(t,e){var n,i=this.currentPeriod,o=[];return i?(i.freeze(),(n=i.getEventDefsById(t)).forEach(function(t){i.removeEventDef(t),o.push(e.mutateSingle(t)),i.addEventDef(t)}),i.thaw(),function(){i.freeze();for(var t=0;t<n.length;t++)i.removeEventDef(n[t]),o[t](),i.addEventDef(n[t]);i.thaw()}):function(){}},t.prototype.buildMutatedEventInstanceGroup=function(t,e){var n,i,o=this.getEventDefsById(t),r=[];for(n=0;n<o.length;n++)(i=o[n].clone())instanceof c.default&&(e.mutateSingle(i),r.push.apply(r,i.buildInstances()));return new d.default(r)},t.prototype.freeze=function(){this.currentPeriod&&this.currentPeriod.freeze()},t.prototype.thaw=function(){this.currentPeriod&&this.currentPeriod.thaw()},t.prototype.getEventDefsById=function(t){return this.currentPeriod.getEventDefsById(t)},t.prototype.getEventInstances=function(){return this.currentPeriod.getEventInstances()},t.prototype.getEventInstancesWithId=function(t){return this.currentPeriod.getEventInstancesWithId(t)},t.prototype.getEventInstancesWithoutId=function(t){return this.currentPeriod.getEventInstancesWithoutId(t)},t}();e.default=f,u.default.mixInto(f),h.default.mixInto(f)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=n(16),a=n(8),s=n(4),l=n(17),c=function(){function t(t,e,n){this.pendingCnt=0,this.freezeDepth=0,this.stuntedReleaseCnt=0,this.releaseCnt=0,this.start=t,this.end=e,this.timezone=n,this.unzonedRange=new s.default(t.clone().stripZone(),e.clone().stripZone()),this.requestsByUid={},this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={}}return t.prototype.isWithinRange=function(t,e){return!t.isBefore(this.start)&&!e.isAfter(this.end)},t.prototype.requestSources=function(t){this.freeze();for(var e=0;e<t.length;e++)this.requestSource(t[e]);this.thaw()},t.prototype.requestSource=function(t){var e=this,n={source:t,status:"pending",eventDefs:null};this.requestsByUid[t.uid]=n,this.pendingCnt+=1,t.fetch(this.start,this.end,this.timezone).then(function(t){"cancelled"!==n.status&&(n.status="completed",n.eventDefs=t,e.addEventDefs(t),e.pendingCnt--,e.tryRelease())},function(){"cancelled"!==n.status&&(n.status="failed",e.pendingCnt--,e.tryRelease())})},t.prototype.purgeSource=function(t){var e=this.requestsByUid[t.uid];e&&(delete this.requestsByUid[t.uid],"pending"===e.status?(e.status="cancelled",this.pendingCnt--,this.tryRelease()):"completed"===e.status&&e.eventDefs.forEach(this.removeEventDef.bind(this)))},t.prototype.purgeAllSources=function(){var t,e,n=this.requestsByUid,i=0;for(t in n)"pending"===(e=n[t]).status?e.status="cancelled":"completed"===e.status&&i++;this.requestsByUid={},this.pendingCnt=0,i&&this.removeAllEventDefs()},t.prototype.getEventDefByUid=function(t){return this.eventDefsByUid[t]},t.prototype.getEventDefsById=function(t){var e=this.eventDefsById[t];return e?e.slice():[]},t.prototype.addEventDefs=function(t){for(var e=0;e<t.length;e++)this.addEventDef(t[e])},t.prototype.addEventDef=function(t){var e,n=this.eventDefsById,i=t.id,o=n[i]||(n[i]=[]),r=t.buildInstances(this.unzonedRange);for(o.push(t),this.eventDefsByUid[t.uid]=t,e=0;e<r.length;e++)this.addEventInstance(r[e],i)},t.prototype.removeEventDefsById=function(t){var e=this;this.getEventDefsById(t).forEach(function(t){e.removeEventDef(t)})},t.prototype.removeAllEventDefs=function(){var t=i.isEmptyObject(this.eventDefsByUid);this.eventDefsByUid={},this.eventDefsById={},this.eventInstanceGroupsById={},t||this.tryRelease()},t.prototype.removeEventDef=function(t){var e=this.eventDefsById,n=e[t.id];delete this.eventDefsByUid[t.uid],n&&(o.removeExact(n,t),n.length||delete e[t.id],this.removeEventInstancesForDef(t))},t.prototype.getEventInstances=function(){var t,e=this.eventInstanceGroupsById,n=[];for(t in e)n.push.apply(n,e[t].eventInstances);return n},t.prototype.getEventInstancesWithId=function(t){var e=this.eventInstanceGroupsById[t];return e?e.eventInstances.slice():[]},t.prototype.getEventInstancesWithoutId=function(t){var e,n=this.eventInstanceGroupsById,i=[];for(e in n)e!==t&&i.push.apply(i,n[e].eventInstances);return i},t.prototype.addEventInstance=function(t,e){var n=this.eventInstanceGroupsById;(n[e]||(n[e]=new l.default)).eventInstances.push(t),this.tryRelease()},t.prototype.removeEventInstancesForDef=function(t){var e,n=this.eventInstanceGroupsById,i=n[t.id];i&&(e=o.removeMatching(i.eventInstances,function(e){return e.def===t}),i.eventInstances.length||delete n[t.id],e&&this.tryRelease())},t.prototype.tryRelease=function(){this.pendingCnt||(this.freezeDepth?this.stuntedReleaseCnt++:this.release())},t.prototype.release=function(){this.releaseCnt++,this.trigger("release",this.eventInstanceGroupsById)},t.prototype.whenReleased=function(){var t=this;return this.releaseCnt?r.default.resolve(this.eventInstanceGroupsById):r.default.construct(function(e){t.one("release",e)})},t.prototype.freeze=function(){this.freezeDepth++||(this.stuntedReleaseCnt=0)},t.prototype.thaw=function(){--this.freezeDepth||!this.stuntedReleaseCnt||this.pendingCnt||this.release()},t}();e.default=c,a.default.mixInto(c)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.setElement=function(t){this.el=t,this.bindGlobalHandlers(),this.renderSkeleton(),this.set("isInDom",!0)},e.prototype.removeElement=function(){this.unset("isInDom"),this.unrenderSkeleton(),this.unbindGlobalHandlers(),this.el.remove()},e.prototype.bindGlobalHandlers=function(){},e.prototype.unbindGlobalHandlers=function(){},e.prototype.renderSkeleton=function(){},e.prototype.unrenderSkeleton=function(){},e}(n(32).default);e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=n(6),a=function(){function t(t,e){this.isFollowing=!1,this.isHidden=!1,this.isAnimating=!1,this.options=e=e||{},this.sourceEl=t,this.parentEl=e.parentEl?i(e.parentEl):t.parent()}return t.prototype.start=function(t){this.isFollowing||(this.isFollowing=!0,this.y0=o.getEvY(t),this.x0=o.getEvX(t),this.topDelta=0,this.leftDelta=0,this.isHidden||this.updatePosition(),o.getEvIsTouch(t)?this.listenTo(i(document),"touchmove",this.handleMove):this.listenTo(i(document),"mousemove",this.handleMove))},t.prototype.stop=function(t,e){var n=this,o=this.options.revertDuration,r=function(){n.isAnimating=!1,n.removeElement(),n.top0=n.left0=null,e&&e()};this.isFollowing&&!this.isAnimating&&(this.isFollowing=!1,this.stopListeningTo(i(document)),t&&o&&!this.isHidden?(this.isAnimating=!0,this.el.animate({top:this.top0,left:this.left0},{duration:o,complete:r})):r())},t.prototype.getEl=function(){var t=this.el;return t||((t=this.el=this.sourceEl.clone().addClass(this.options.additionalClass||"").css({position:"absolute",visibility:"",display:this.isHidden?"none":"",margin:0,right:"auto",bottom:"auto",width:this.sourceEl.width(),height:this.sourceEl.height(),opacity:this.options.opacity||"",zIndex:this.options.zIndex})).addClass("fc-unselectable"),t.appendTo(this.parentEl)),t},t.prototype.removeElement=function(){this.el&&(this.el.remove(),this.el=null)},t.prototype.updatePosition=function(){var t,e;this.getEl(),null==this.top0&&(t=this.sourceEl.offset(),e=this.el.offsetParent().offset(),this.top0=t.top-e.top,this.left0=t.left-e.left),this.el.css({top:this.top0+this.topDelta,left:this.left0+this.leftDelta})},t.prototype.handleMove=function(t){this.topDelta=o.getEvY(t)-this.y0,this.leftDelta=o.getEvX(t)-this.x0,this.isHidden||this.updatePosition()},t.prototype.hide=function(){this.isHidden||(this.isHidden=!0,this.el&&this.el.hide())},t.prototype.show=function(){this.isHidden&&(this.isHidden=!1,this.updatePosition(),this.getEl().show())},t}();e.default=a,r.default.mixInto(a)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(18),r=function(t){function e(e){var n=t.call(this,e)||this;return n.dragListener=n.buildDragListener(),n}return i.__extends(e,t),e.prototype.end=function(){this.dragListener.endInteraction()},e.prototype.bindToEl=function(t){var e=this.component,n=this.dragListener;e.bindDateHandlerToEl(t,"mousedown",function(t){e.shouldIgnoreMouse()||n.startInteraction(t)}),e.bindDateHandlerToEl(t,"touchstart",function(t){e.shouldIgnoreTouch()||n.startInteraction(t)})},e.prototype.buildDragListener=function(){var t,e=this,n=this.component,i=new o.default(n,{scroll:this.opt("dragScroll"),interactionStart:function(){t=i.origHit},hitOver:function(e,n,i){n||(t=null)},hitOut:function(){t=null},interactionEnd:function(i,o){var r;!o&&t&&(r=n.getSafeHitFootprint(t))&&e.view.triggerDayClick(r,n.getHitEl(t),i)}});return i.shouldCancelTouchScroll=!1,i.scrollAlwaysKills=!0,i},e}(n(13).default);e.default=r},function(t,e,n){function i(t){var e,n,i,o=[];for(e=0;e<t.length;e++){for(n=t[e],i=0;i<o.length&&a(n,o[i]).length;i++);n.level=i,(o[i]||(o[i]=[])).push(n)}return o}function o(t){var e,n,i,o,r;for(e=0;e<t.length;e++)for(n=t[e],i=0;i<n.length;i++)for((o=n[i]).forwardSegs=[],r=e+1;r<t.length;r++)a(o,t[r],o.forwardSegs)}function r(t){var e,n,i=t.forwardSegs,o=0;if(void 0===t.forwardPressure){for(e=0;e<i.length;e++)r(n=i[e]),o=Math.max(o,1+n.forwardPressure);t.forwardPressure=o}}function a(t,e,n){void 0===n&&(n=[]);for(var i=0;i<e.length;i++)s(t,e[i])&&n.push(e[i]);return n}function s(t,e){return t.bottom>e.top&&t.top<e.bottom}Object.defineProperty(e,"__esModule",{value:!0});var l=n(0),c=n(2),d=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.timeGrid=e,i}return l.__extends(e,t),e.prototype.renderFgSegs=function(t){this.renderFgSegsIntoContainers(t,this.timeGrid.fgContainerEls)},e.prototype.renderFgSegsIntoContainers=function(t,e){var n,i;for(n=this.timeGrid.groupSegsByCol(t),i=0;i<this.timeGrid.colCnt;i++)this.updateFgSegCoords(n[i]);this.timeGrid.attachSegsByCol(n,e)},e.prototype.unrenderFgSegs=function(){this.fgSegs&&this.fgSegs.forEach(function(t){t.el.remove()})},e.prototype.computeEventTimeFormat=function(){return this.opt("noMeridiemTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return!0},e.prototype.fgSegHtml=function(t,e){var n,i,o,r=this.view,a=r.calendar,s=t.footprint.componentFootprint,l=s.isAllDay,d=t.footprint.eventDef,u=r.isEventDefDraggable(d),h=!e&&t.isStart&&r.isEventDefResizableFromStart(d),f=!e&&t.isEnd&&r.isEventDefResizableFromEnd(d),p=this.getSegClasses(t,u,h||f),g=c.cssToStr(this.getSkinCss(d));if(p.unshift("fc-time-grid-event","fc-v-event"),r.isMultiDayRange(s.unzonedRange)){if(t.isStart||t.isEnd){var m=a.msToMoment(t.startMs),v=a.msToMoment(t.endMs);n=this._getTimeText(m,v,l),i=this._getTimeText(m,v,l,"LT"),o=this._getTimeText(m,v,l,null,!1)}}else n=this.getTimeText(t.footprint),i=this.getTimeText(t.footprint,"LT"),o=this.getTimeText(t.footprint,null,!1);return'<a class="'+p.join(" ")+'"'+(d.url?' href="'+c.htmlEscape(d.url)+'"':"")+(g?' style="'+g+'"':"")+'><div class="fc-content">'+(n?'<div class="fc-time" data-start="'+c.htmlEscape(o)+'" data-full="'+c.htmlEscape(i)+'"><span>'+c.htmlEscape(n)+"</span></div>":"")+(d.title?'<div class="fc-title">'+c.htmlEscape(d.title)+"</div>":"")+'</div><div class="fc-bg"/>'+(f?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e.prototype.updateFgSegCoords=function(t){this.timeGrid.computeSegVerticals(t),this.computeFgSegHorizontals(t),this.timeGrid.assignSegVerticals(t),this.assignFgSegHorizontals(t)},e.prototype.computeFgSegHorizontals=function(t){var e,n,a;if(this.sortEventSegs(t),o(e=i(t)),n=e[0]){for(a=0;a<n.length;a++)r(n[a]);for(a=0;a<n.length;a++)this.computeFgSegForwardBack(n[a],0,0)}},e.prototype.computeFgSegForwardBack=function(t,e,n){var i,o=t.forwardSegs;if(void 0===t.forwardCoord)for(o.length?(this.sortForwardSegs(o),this.computeFgSegForwardBack(o[0],e+1,n),t.forwardCoord=o[0].backwardCoord):t.forwardCoord=1,t.backwardCoord=t.forwardCoord-(t.forwardCoord-n)/(e+1),i=0;i<o.length;i++)this.computeFgSegForwardBack(o[i],0,t.forwardCoord)},e.prototype.sortForwardSegs=function(t){t.sort(c.proxy(this,"compareForwardSegs"))},e.prototype.compareForwardSegs=function(t,e){return e.forwardPressure-t.forwardPressure||(t.backwardCoord||0)-(e.backwardCoord||0)||this.compareEventSegs(t,e)},e.prototype.assignFgSegHorizontals=function(t){var e,n;for(e=0;e<t.length;e++)(n=t[e]).el.css(this.generateFgSegHorizontalCss(n)),n.bottom-n.top<30&&n.el.addClass("fc-short")},e.prototype.generateFgSegHorizontalCss=function(t){var e,n,i=this.opt("slotEventOverlap"),o=t.backwardCoord,r=t.forwardCoord,a=this.timeGrid.generateSegVerticalCss(t),s=this.timeGrid.isRTL;return i&&(r=Math.min(1,o+2*(r-o))),s?(e=1-r,n=o):(e=o,n=1-r),a.zIndex=t.level+1,a.left=100*e+"%",a.right=100*n+"%",i&&t.forwardPressure&&(a[s?"marginLeft":"marginRight"]=20),a},e}(n(31).default);e.default=d},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderSegs=function(t,e){var n,i,r,a=[];for(this.eventRenderer.renderFgSegsIntoContainers(t,this.component.helperContainerEls),n=0;n<t.length;n++)i=t[n],e&&e.col===i.col&&i.el.css({left:(r=e.el).css("left"),right:r.css("right"),"margin-left":r.css("margin-left"),"margin-right":r.css("margin-right")}),a.push(i.el[0]);return o(a)},e}(n(43).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.attachSegEls=function(t,e){var n,i=this.component;return"bgEvent"===t?n=i.bgContainerEls:"businessHours"===t?n=i.businessContainerEls:"highlight"===t&&(n=i.highlightContainerEls),i.updateSegVerticals(e),i.attachSegsByCol(i.groupSegsByCol(e),n),e.map(function(t){return t.el[0]})},e}(n(42).default);e.default=o},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(1),o=n(2),r=n(6),a=function(){function t(t){this.isHidden=!0,this.margin=10,this.options=t||{}}return t.prototype.show=function(){this.isHidden&&(this.el||this.render(),this.el.show(),this.position(),this.isHidden=!1,this.trigger("show"))},t.prototype.hide=function(){this.isHidden||(this.el.hide(),this.isHidden=!0,this.trigger("hide"))},t.prototype.render=function(){var t=this,e=this.options;this.el=i('<div class="fc-popover"/>').addClass(e.className||"").css({top:0,left:0}).append(e.content).appendTo(e.parentEl),this.el.on("click",".fc-close",function(){t.hide()}),e.autoHide&&this.listenTo(i(document),"mousedown",this.documentMousedown)},t.prototype.documentMousedown=function(t){this.el&&!i(t.target).closest(this.el).length&&this.hide()},t.prototype.removeElement=function(){this.hide(),this.el&&(this.el.remove(),this.el=null),this.stopListeningTo(i(document),"mousedown")},t.prototype.position=function(){var t,e,n,r,a,s=this.options,l=this.el.offsetParent().offset(),c=this.el.outerWidth(),d=this.el.outerHeight(),u=i(window),h=o.getScrollParent(this.el);r=s.top||0,a=void 0!==s.left?s.left:void 0!==s.right?s.right-c:0,h.is(window)||h.is(document)?(h=u,t=0,e=0):(t=(n=h.offset()).top,e=n.left),t+=u.scrollTop(),e+=u.scrollLeft(),!1!==s.viewportConstrain&&(r=Math.min(r,t+h.outerHeight()-d-this.margin),r=Math.max(r,t+this.margin),a=Math.min(a,e+h.outerWidth()-c-this.margin),a=Math.max(a,e+this.margin)),this.el.css({top:r-l.top,left:a-l.left})},t.prototype.trigger=function(t){this.options[t]&&this.options[t].apply(this,Array.prototype.slice.call(arguments,1))},t}();e.default=a,r.default.mixInto(a)},function(t,e,n){function i(t,e){var n,i;for(n=0;n<e.length;n++)if((i=e[n]).leftCol<=t.rightCol&&i.rightCol>=t.leftCol)return!0;return!1}function o(t,e){return t.leftCol-e.leftCol}Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),a=n(1),s=n(2),l=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.dayGrid=e,i}return r.__extends(e,t),e.prototype.renderBgRanges=function(e){e=a.grep(e,function(t){return t.eventDef.isAllDay()}),t.prototype.renderBgRanges.call(this,e)},e.prototype.renderFgSegs=function(t){var e=this.rowStructs=this.renderSegRows(t);this.dayGrid.rowEls.each(function(t,n){a(n).find(".fc-content-skeleton > table").append(e[t].tbodyEl)})},e.prototype.unrenderFgSegs=function(){for(var t,e=this.rowStructs||[];t=e.pop();)t.tbodyEl.remove();this.rowStructs=null},e.prototype.renderSegRows=function(t){var e,n,i=[];for(e=this.groupSegRows(t),n=0;n<e.length;n++)i.push(this.renderSegRow(n,e[n]));return i},e.prototype.renderSegRow=function(t,e){function n(t){for(;r<t;)(d=(v[i-1]||[])[r])?d.attr("rowspan",parseInt(d.attr("rowspan")||1,10)+1):(d=a("<td/>"),s.append(d)),m[i][r]=d,v[i][r]=d,r++}var i,o,r,s,l,c,d,u=this.dayGrid.colCnt,h=this.buildSegLevels(e),f=Math.max(1,h.length),p=a("<tbody/>"),g=[],m=[],v=[];for(i=0;i<f;i++){if(o=h[i],r=0,s=a("<tr/>"),g.push([]),m.push([]),v.push([]),o)for(l=0;l<o.length;l++){for(n((c=o[l]).leftCol),d=a('<td class="fc-event-container"/>').append(c.el),c.leftCol!=c.rightCol?d.attr("colspan",c.rightCol-c.leftCol+1):v[i][r]=d;r<=c.rightCol;)m[i][r]=d,g[i][r]=c,r++;s.append(d)}n(u),this.dayGrid.bookendCells(s),p.append(s)}return{row:t,tbodyEl:p,cellMatrix:m,segMatrix:g,segLevels:h,segs:e}},e.prototype.buildSegLevels=function(t){var e,n,r,a=[];for(this.sortEventSegs(t),e=0;e<t.length;e++){for(n=t[e],r=0;r<a.length&&i(n,a[r]);r++);n.level=r,(a[r]||(a[r]=[])).push(n)}for(r=0;r<a.length;r++)a[r].sort(o);return a},e.prototype.groupSegRows=function(t){var e,n=[];for(e=0;e<this.dayGrid.rowCnt;e++)n.push([]);for(e=0;e<t.length;e++)n[t[e].row].push(t[e]);return n},e.prototype.computeEventTimeFormat=function(){return this.opt("extraSmallTimeFormat")},e.prototype.computeDisplayEventEnd=function(){return 1===this.dayGrid.colCnt},e.prototype.fgSegHtml=function(t,e){var n,i,o=this.view,r=t.footprint.eventDef,a=t.footprint.componentFootprint.isAllDay,l=o.isEventDefDraggable(r),c=!e&&a&&t.isStart&&o.isEventDefResizableFromStart(r),d=!e&&a&&t.isEnd&&o.isEventDefResizableFromEnd(r),u=this.getSegClasses(t,l,c||d),h=s.cssToStr(this.getSkinCss(r)),f="";return u.unshift("fc-day-grid-event","fc-h-event"),t.isStart&&(n=this.getTimeText(t.footprint))&&(f='<span class="fc-time">'+s.htmlEscape(n)+"</span>"),i='<span class="fc-title">'+(s.htmlEscape(r.title||"")||"&nbsp;")+"</span>",'<a class="'+u.join(" ")+'"'+(r.url?' href="'+s.htmlEscape(r.url)+'"':"")+(h?' style="'+h+'"':"")+'><div class="fc-content">'+(this.dayGrid.isRTL?i+" "+f:f+" "+i)+"</div>"+(c?'<div class="fc-resizer fc-start-resizer" />':"")+(d?'<div class="fc-resizer fc-end-resizer" />':"")+"</a>"},e}(n(31).default);e.default=l},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderSegs=function(t,e){var n,i=[];return n=this.eventRenderer.renderSegRows(t),this.component.rowEls.each(function(t,r){var a,s,l=o(r),c=o('<div class="fc-helper-skeleton"><table/></div>');e&&e.row===t?s=e.el.position().top:((a=l.find(".fc-content-skeleton tbody")).length||(a=l.find(".fc-content-skeleton table")),s=a.position().top),c.css("top",s).find("table").append(n[t].tbodyEl),l.append(c),i.push(c[0])}),o(i)},e}(n(43).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.fillSegTag="td",e}return i.__extends(e,t),e.prototype.attachSegEls=function(t,e){var n,i,o,r=[];for(n=0;n<e.length;n++)o=this.renderFillRow(t,i=e[n]),this.component.rowEls.eq(i.row).append(o),r.push(o[0]);return r},e.prototype.renderFillRow=function(t,e){var n,i,r,a=this.component.colCnt,s=e.leftCol,l=e.rightCol+1;return n="businessHours"===t?"bgevent":t.toLowerCase(),r=(i=o('<div class="fc-'+n+'-skeleton"><table><tr/></table></div>')).find("tr"),s>0&&r.append('<td colspan="'+s+'"/>'),r.append(e.el.attr("colspan",l-s)),l<a&&r.append('<td colspan="'+(a-l)+'"/>'),this.component.bookendCells(r),i},e}(n(42).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(2),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.renderFgSegs=function(t){t.length?this.component.renderSegList(t):this.component.renderEmptyMessage()},e.prototype.fgSegHtml=function(t){var e,n=this.view,i=n.calendar,r=i.theme,a=t.footprint,s=a.eventDef,l=a.componentFootprint,c=s.url,d=["fc-list-item"].concat(this.getClasses(s)),u=this.getBgColor(s);return e=l.isAllDay?n.getAllDayHtml():n.isMultiDayRange(l.unzonedRange)?t.isStart||t.isEnd?o.htmlEscape(this._getTimeText(i.msToMoment(t.startMs),i.msToMoment(t.endMs),l.isAllDay)):n.getAllDayHtml():o.htmlEscape(this.getTimeText(a)),c&&d.push("fc-has-url"),'<tr class="'+d.join(" ")+'">'+(this.displayEventTime?'<td class="fc-list-item-time '+r.getClass("widgetContent")+'">'+(e||"")+"</td>":"")+'<td class="fc-list-item-marker '+r.getClass("widgetContent")+'"><span class="fc-event-dot"'+(u?' style="background-color:'+u+'"':"")+'></span></td><td class="fc-list-item-title '+r.getClass("widgetContent")+'"><a'+(c?' href="'+o.htmlEscape(c)+'"':"")+">"+o.htmlEscape(s.title||"")+"</a></td></tr>"},e.prototype.computeEventTimeFormat=function(){return this.opt("mediumTimeFormat")},e}(n(31).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=n(1),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e.prototype.handleClick=function(e,n){var i;t.prototype.handleClick.call(this,e,n),o(n.target).closest("a[href]").length||(i=e.footprint.eventDef.url)&&!n.isDefaultPrevented()&&(window.location.href=i)},e}(n(44).default);e.default=r},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(25),o=n(34),r=n(57),a=n(58);i.default.registerClass(o.default),i.default.registerClass(r.default),i.default.registerClass(a.default)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(36),o=n(55),r=n(56),a=n(94);i.default.register("standard",o.default),i.default.register("jquery-ui",r.default),i.default.register("bootstrap3",a.default)},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(0),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(e,t),e}(n(27).default);e.default=o,o.prototype.classes={widget:"fc-bootstrap3",tableGrid:"table-bordered",tableList:"table table-striped",buttonGroup:"btn-group",button:"btn btn-default",stateActive:"active",stateDisabled:"disabled",today:"alert alert-info",popover:"panel panel-default",popoverHeader:"panel-heading",popoverContent:"panel-body",headerRow:"panel-default",dayRow:"panel-default",listView:"panel panel-default"},o.prototype.baseIconClass="glyphicon",o.prototype.iconClasses={close:"glyphicon-remove",prev:"glyphicon-chevron-left",next:"glyphicon-chevron-right",prevYear:"glyphicon-backward",nextYear:"glyphicon-forward"},o.prototype.iconOverrideOption="bootstrapGlyphicons",o.prototype.iconOverrideCustomButtonOption="bootstrapGlyphicon",o.prototype.iconOverridePrefix="glyphicon-"},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),o=n(47),r=n(70),a=i.default.views;a.basic={class:o.default},a.basicDay={type:"basic",duration:{days:1}},a.basicWeek={type:"basic",duration:{weeks:1}},a.month={class:r.default,duration:{months:1},defaults:{fixedWeekCount:!0}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),o=n(67),r=i.default.views;r.agenda={class:o.default,defaults:{allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0}},r.agendaDay={type:"agenda",duration:{days:1}},r.agendaWeek={type:"agenda",duration:{weeks:1}}},function(t,e,n){Object.defineProperty(e,"__esModule",{value:!0});var i=n(7),o=n(71),r=i.default.views;r.list={class:o.default,buttonTextKey:"list",defaults:{buttonText:"list",listDayFormat:"LL",noEventsMessage:"No events to display"}},r.listDay={type:"list",duration:{days:1},defaults:{listDayFormat:"dddd"}},r.listWeek={type:"list",duration:{weeks:1},defaults:{listDayFormat:"dddd",listDayAltFormat:"LL"}},r.listMonth={type:"list",duration:{month:1},defaults:{listDayAltFormat:"dddd"}},r.listYear={type:"list",duration:{year:1},defaults:{listDayAltFormat:"dddd"}}}])}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function e(t){var e=DayPilot.Date.Cache.Ticks;if(e[t])return DayPilot.Stats.cacheHitsTicks+=1,e[t];var n,i=new Date(t),o=i.getUTCMilliseconds();n=0===o?"":o<10?".00"+o:o<100?".0"+o:"."+o;var r=i.getUTCSeconds();r<10&&(r="0"+r);var a=i.getUTCMinutes();a<10&&(a="0"+a);var s=i.getUTCHours();s<10&&(s="0"+s);var l=i.getUTCDate();l<10&&(l="0"+l);var c=i.getUTCMonth()+1;c<10&&(c="0"+c);var d=i.getUTCFullYear();if(d<=0)throw"The minimum year supported is 1.";d<10?d="000"+d:d<100?d="00"+d:d<1e3&&(d="0"+d);var u=d+"-"+c+"-"+l+"T"+s+":"+a+":"+r+n;return e[t]=u,u}function alert(t){}function t(t,e){return!DayPilot.Util.isNullOrUndefined(t)&&!DayPilot.Util.isNullOrUndefined(e)&&t.toLocaleLowerCase()===e.toLocaleLowerCase()}if(void 0===DayPilot.$){DayPilot.$=function(t){return document.getElementById(t)},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE 8]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ie9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ielt9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),DayPilot.browser.chrome=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Chrome"),DayPilot.browser.ie=DayPilot.isIE,DayPilot.browser.webkit=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("WebKit"),DayPilot.browser.passiveEvents=!1,function(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){DayPilot.browser.passiveEvents=!0}}))}catch(t){}}(),DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof angularjs,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(t,e){if(void 0!==(e=e||window.event).offsetX){var n={x:e.offsetX+1,y:e.offsetY+1};if(!t)return n;for(var i=e.srcElement;i&&i!==t;)"SPAN"!==i.tagName&&(n.x+=i.offsetLeft,i.offsetTop>0&&(n.y+=i.offsetTop-i.scrollTop)),i=i.offsetParent;return i?n:null}if(void 0!==e.layerX){if(n={x:e.layerX,y:e.layerY,src:e.target},!t)return n;for(i=e.target;i&&"absolute"!==i.style.position&&"relative"!==i.style.position;)i=i.parentNode,DayPilot.isKhtml&&(n.y+=i.scrollTop);for(;i&&i!==t;)n.x+=i.offsetLeft,n.y+=i.offsetTop-i.scrollTop,i=i.offsetParent;return i?n:null}return null},DayPilot.mo3=function(t,e){e=e||window.event;var n,i=DayPilot.page(e);if(i)if(t){var o=DayPilot.abs(t);n={x:i.x-o.x,y:i.y-o.y}}else n={x:i.x,y:i.y};else n=DayPilot.mo2(t,e);return n.shift=e.shiftKey,n.meta=e.metaKey,n.ctrl=e.ctrlKey,n.alt=e.altKey,n},DayPilot.mc=function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(t,e){if(t&&t.isDayPilotList&&!e)return t;var n=DayPilot.isArray(t)||"[object NodeList]"===Object.prototype.toString.call(t),i=!n&&!DayPilot.Util.isNullOrUndefined(t),o=[];if(o.isDayPilotList=!0,o.clone=function(){var t=DayPilot.list();return o.each(function(e){t.push(e)}),t},o.each=function(t){if(t){if(o.forEach)return void o.forEach(t);for(var e=0;e<this.length;e++)t(o[e],e,o)}},o.addProps=function(t){var e=o.clone();if(t)for(var n in t)e[n]=t[n];return e},o.last=function(){return 0===o.length?null:o[o.length-1]},o.first=function(){return 0===o.length?null:o[0]},o.add=function(t){var e=o.clone();return e.push(t),e},o.map=function(t){if("function"!=typeof t)throw"DayPilot.list().map(f): Function expected";var e=DayPilot.list();return o.each(function(n,i,o){e.push(t(n,i,o))}),e},o.filter=function(t){var e=DayPilot.list();if("function"!=typeof t)throw"DayPilot.list().filter(f): Function expected";return o.each(function(n){t(n)&&e.push(n)}),e},o.concat=function(t){if(!t)return o;for(var e=o.clone(),n=0;n<t.length;n++)e.push(t[n]);return e},o.find||(o.find=function(t){if("function"!=typeof t)throw"DayPilot.list().find(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return o[e]}),o.findIndex||(o.findIndex=function(t){if("function"!=typeof t)throw"DayPilot.list().findIndex(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return e;return-1}),o.some||(o.some=function(t){if("function"!=typeof t)throw"DayPilot.list().some(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return!0;return!1}),o.reduce||(o.reduce=function(t,e){if("function"!=typeof t)throw"DayPilot.list().reduce(f): Function expected";var n,i=0;if(void 0!==e)n=e;else{if(i=1,0===o.length)throw"DayPilot.list().reduce(f): No initial value and empty list";n=o[0]}for(var r=i;r<this.length;r++)n=t(n,o[r],r,this);return n}),o.isEmpty=function(){return 0===o.length},n)for(var r=0;r<t.length;r++)o[r]=t[r];else i&&(o[0]=t);return o},DayPilot.list.for=function(t,e){for(var n=DayPilot.list(),i=0;i<t;i++)n.push("function"==typeof e?e(i):i);return n},DayPilot.line=function(t,e,n,i,o){var r=e,a=n,s=i;if(DayPilot.deg(t,e,n,i),e<i){var l=e;e=i,i=l,l=t,t=n,n=l}var c=DayPilot.deg(t,e,n,i),d={x:t,y:e},u={x:n,y:i},h=function(){var o=Math.abs(t-n),r=Math.abs(e-i);return(t+n)/2-Math.sqrt(o*o+r*r)/2}(),f=(e+i)/2,p=DayPilot.distance(d,u),g=document.createElement("div");g.setAttribute("style","border:1px solid black;width:"+p+"px;height:0px;-moz-transform:rotate("+c+"deg);-webkit-transform:rotate("+c+"deg);-ms-transform:rotate("+c+"deg);transform:rotate("+c+"deg);position:absolute;top:"+f+"px;left:"+h+"px;");var m=document.createElement("div");if(m.appendChild(g),o){var v,y=s-5,b=a-5;c=c,s>r&&(c-=180),(v=document.createElement("div")).style.borderColor="black",v.style.width="10px",v.style.height="10px",v.style.borderRadius="10px",v.style.backgroundColor="black",v.style.position="absolute",v.style.left=b+"px",v.style.top=y+"px",m.appendChild(v)}return m},DayPilot.deg=function(t,e,n,i){var o,r=Math.abs(t-n),a=Math.abs(e-i),s=(t+n)/2,l=(e+i)/2,c=Math.sqrt(r*r+a*a),d=s-c/2,u=l;return r=c/2,o=Math.abs(s-d),a=Math.sqrt(Math.abs(t-d)*Math.abs(t-d)+Math.abs(e-u)*Math.abs(e-u)),180*Math.acos((a*a-r*r-o*o)/(2*r*o))/Math.PI},DayPilot.complete=function(t){return"complete"===document.readyState?void t():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var t=0;t<DayPilot.complete.list.length;t++)(0,DayPilot.complete.list[t])();DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(t))},DayPilot.page=function(t){return void 0===(t=t||window.event).pageX||DayPilot.browser.ie?void 0!==t.clientX?{x:t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:t.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null:{x:t.pageX,y:t.pageY}},DayPilot.rel=function(t,e){var n=DayPilot.abs(t),i=DayPilot.abs(e);return{x:n.x-i.x,y:n.y-i.y,w:t.offsetWidth,h:t.offsetHeight}},DayPilot.abs=function(t,e){if(!t)return null;if(!document.body.contains(t))return null;if(t.getBoundingClientRect){var n=DayPilot.absBoundingClientBased(t);if(e){var i=DayPilot.absOffsetBased(t,!1);e=DayPilot.absOffsetBased(t,!0),n.x+=e.x-i.x,n.y+=e.y-i.y,n.w=e.w,n.h=e.h}return n}return DayPilot.absOffsetBased(t,e)},DayPilot.absBoundingClientBased=function(t){var e=t.getBoundingClientRect();return{x:e.left+window.pageXOffset,y:e.top+window.pageYOffset,w:t.clientWidth,h:t.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}}},DayPilot.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},DayPilot.absOffsetBased=function(t,e){for(var n={x:t.offsetLeft,y:t.offsetTop,w:t.clientWidth,h:t.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(t);)t=DayPilot.op(t),n.x-=t.scrollLeft,n.y-=t.scrollTop,e&&(n.x<0&&(n.w+=n.x,n.x=0),n.y<0&&(n.h+=n.y,n.y=0),t.scrollLeft>0&&n.x+n.w>t.clientWidth&&(n.w-=n.x+n.w-t.clientWidth),t.scrollTop&&n.y+n.h>t.clientHeight&&(n.h-=n.y+n.h-t.clientHeight)),n.x+=t.offsetLeft,n.y+=t.offsetTop;var i=DayPilot.pageOffset();return n.x+=i.x,n.y+=i.y,n},DayPilot.wd=function(){var t=DayPilot.isIEQuirks,e=document.documentElement.clientHeight;t&&(e=document.body.clientHeight);var n=document.documentElement.clientWidth;t&&(n=document.body.clientWidth);var i=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,r={};return r.width=n,r.height=e,r.scrollTop=i,r.scrollLeft=o,r},DayPilot.op=function(t){try{return t.offsetParent}catch(t){return document.body}},DayPilot.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},DayPilot.doc=function(){var t=document.documentElement;return t&&t.clientHeight?t:document.body},DayPilot.pageOffset=function(){if(void 0!==window.pageXOffset)return{x:window.pageXOffset,y:window.pageYOffset};var t=DayPilot.doc();return{x:t.scrollLeft,y:t.scrollTop}},DayPilot.ac=function(t,e){e||(e=[]);for(var n=0;t.children&&n<t.children.length;n++)e.push(t.children[n]),DayPilot.ac(t.children[n],e);return e},DayPilot.indexOf=function(t,e,n){if(!t||!t.length)return-1;for(var i=0;i<t.length;i++)if(n){if(n(t[i],e))return i}else if(t[i]===e)return i;return-1},DayPilot.contains=function(t,e){return!!t&&(t===e&&!DayPilot.isArray(t)||-1!==DayPilot.indexOf(t,e))},DayPilot.rfa=function(t,e){var n=DayPilot.indexOf(t,e);-1!==n&&t.splice(n,1)},DayPilot.sheet=function(t){var e=(t=t||window.document).createElement("style");e.setAttribute("type","text/css"),e.styleSheet||e.appendChild(t.createTextNode("")),(t.head||t.getElementsByTagName("head")[0]).appendChild(e);var n=!!e.styleSheet;return{rules:[],commit:function(){try{n&&(e.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},add:function(t,i,o){if(n)this.rules.push(t+"{"+i+"}");else if(e.sheet.insertRule)void 0===o&&(o=e.sheet.cssRules.length),e.sheet.insertRule(t+"{"+i+"}",o);else{if(!e.sheet.addRule)throw"No CSS registration method found";e.sheet.addRule(t,i,o)}}}},DayPilot.Args=function(t){var e=this;this.isArgs=!0,this.preventDefault=function(){t&&t.preventDefault(),e.preventDefault.value=!0}},DayPilot.Debug=function(t){var e=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.a=null,this.clear=function(){this.messages=[],e.a&&(e.a.innerHTML="")},this.hide=function(){DayPilot.de(e.a),e.a=null},this.show=function(){e.a&&e.hide();var n=t.nav.top,i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.style.backgroundColor="black",i.style.color="#ccc",i.style.overflow="auto",i.style.webkitUserSelect="auto",i.style.MozUserSelect="all",i.onclick=function(){e.hide()};for(var o=0;o<this.messages.length;o++){var r=e.messages[o].b();i.appendChild(r)}this.a=i,n.appendChild(i)},this.message=function(t,e){if(this.enabled){var n={};n.time=new DayPilot.Date,n.level=e||"debug",n.text=t,n.b=function(){var t=document.createElement("div");switch(t.innerHTML=n.time+" ("+n.level+"): "+n.text,n.level){case"error":t.style.color="red";break;case"warning":t.style.color="orange";break;case"info":t.style.color="white"}return t},this.messages.push(n),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(n)}}},DayPilot.re=function(t,e,n){n&&t&&(t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,function(e){n.call(t,e)}))},DayPilot.ue=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},DayPilot.tr=function(t){return t?"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t:""},DayPilot.ds=function(t){return DayPilot.Date.toStringSortable(t)},DayPilot.gs=function(t,e){if(t.currentStyle)var n=t.currentStyle[e];else window.getComputedStyle&&(n=document.defaultView.getComputedStyle(t,null).getPropertyValue(e));return void 0===n&&(n=""),n},DayPilot.StyleReader=function(t){this.get=function(e){var n=DayPilot.list(e.split("-")).reduce(function(t,e,n){return t+function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(e)});return t?DayPilot.gs(t,n)||DayPilot.gs(t,e):null},this.getPx=function(t){var e=this.get(t);return-1===e.indexOf("px")?void 0:parseInt(e,10)},this.getFont=function(){var t="bold"===this.get("font-weight")?"bold":"",e="italic"===this.get("font-style")?"italic":"";return{family:this.get("font-family"),size:this.get("font-size"),style:e+" "+t}},this.getBackColor=function(t){void 0===t&&(t="white");var e=this.get("background-color");return DayPilot.Util.isTransparentColor(e)?t:e}},DayPilot.he=function(t){var e=t.replace(/&/g,"&amp;");return(e=(e=e.replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")},DayPilot.he2=function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML},DayPilot.us=function(t){if(t){t.setAttribute("unselectable","on"),t.style.userSelect="none",t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.style.webkitUserSelect="none";for(var e=0;e<t.childNodes.length;e++)1===t.childNodes[e].nodeType&&DayPilot.us(t.childNodes[e])}},DayPilot.pu=function(t){var e,n,i,o=t.attributes;if(o)for(n=o.length,e=0;e<n;e+=1)o[e]&&"function"==typeof t[i=o[e].name]&&(t[i]=null);if(o=t.childNodes)for(n=o.length,e=0;e<n;e+=1)DayPilot.pu(t.childNodes[e])},DayPilot.puc=function(t){var e,n=t.childNodes;if(n){var i=n.length;for(e=0;e<i;e+=1)DayPilot.pu(t.childNodes[e])}},DayPilot.de=function(t){if(t)if(DayPilot.isArray(t))for(var e=0;e<t.length;e++)DayPilot.de(t[e]);else t.parentNode&&t.parentNode.removeChild(t)},DayPilot.fade=function(t,e,n){if(t){clearTimeout(t.messageTimeout);var i="none"!==t.style.display,o=e>0,r=e<0;if(0!==e){if(o?t.status="in":r&&(t.status="out"),o&&!i)t.target=parseFloat(t.style.opacity),t.opacity=0,t.style.opacity=0,t.style.filter="alpha(opacity=0)",t.style.display="";else if(r&&!t.target)t.target=t.style.opacity;else{var a=Math.floor(10*(t.opacity+e))/10;o&&a>t.target&&(a=t.target),r&&a<0&&(a=0);var s=100*a;t.opacity=a,t.style.opacity=a,t.style.filter="alpha(opacity="+s+")"}o&&(t.opacity>=t.target||t.opacity>=1)||r&&t.opacity<=0?(t.target=null,r&&(t.style.opacity=t.target,t.opacity=t.target,t.style.filter=t.target?"alpha(opacity="+100*t.target+")":null,t.style.display="none"),n&&"function"==typeof n&&(t.status=null,n())):t.messageTimeout=setTimeout(function(){DayPilot.fade(t,e,n)},50)}}},DayPilot.sw=function(t){return t?t.offsetWidth-t.clientWidth:0},DayPilot.swa=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.style.width="200px",t.style.height="100px",t.style.overflow="auto";var e=document.createElement("div");e.style.width="300px",e.style.height="300px",t.appendChild(e),document.body.appendChild(t);var n=DayPilot.sw(t);return document.body.removeChild(t),n},DayPilot.sh=function(t){return t?t.offsetHeight-t.clientHeight:0},DayPilot.guid=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},DayPilot.ua=function(t){if("string"==typeof t||"number"==typeof t)return[t];for(var e={},n=[],i=0,o=t.length;i<o;++i)t[i]in e||(n.push(t[i]),e[t[i]]=1);return n},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},DayPilot.pop=function(t,e){var n={w:t.offsetWidth,h:t.offsetHeight,x:parseInt(t.style.left),y:parseInt(t.style.top)};n.height=t.style.height,n.width=t.style.width,n.top=t.style.top,n.left=t.style.left,n.toString=function(){return"w: "+this.w+" h:"+this.h};var i={finished:null,vertical:"center",horizontal:"center"};if(e)for(var o in e)i[o]=e[o];t.style.visibility="hidden",t.style.display="";var r=function(t){var e={fast:function(){var t=[];t.time=10;for(var e=.1;e<=1;e+=.08)t.push(e);return t},slow:function(){var t=[];t.time=10;for(var e=.1;e<=1;e+=.04)t.push(e);return t},jump:function(){var t=[];t.time=10;for(var e,n=.08,i=e=.1;i<1.2;i+=n)t.push(i),e=i;for(n=.03,i=e;i>.8;i-=n)t.push(i),e=i;for(i=e;i<=1;i+=n)t.push(i),e=i;return t}};return e[t]||(t="fast"),e[t]()}(e.animation||"fast");r.div=t,r.i=0,r.target=n,r.config=i,function t(e){var n,i=e.div,o=e[e.i],r=o*e.target.h;switch(e.config.vertical){case"center":n=e.target.y-(r-e.target.h)/2;break;case"top":n=e.target.y;break;case"bottom":n=e.target.y-(r-e.target.h);break;default:throw"Unexpected 'vertical' value."}var a,s=o*e.target.w;switch(e.config.horizontal){case"left":a=e.target.x;break;case"center":a=e.target.x-(s-e.target.w)/2;break;case"right":a=e.target.x-(s-e.target.w);break;default:throw"Unexpected 'horizontal' value."}var l=DayPilot.wd(),c=l.height+l.scrollTop-(n+r);c<0&&(n+=c);var d=l.width-(a+s);d<0&&(a+=d),i.style.height=r+"px",i.style.top=n+"px",i.style.width=s+"px",i.style.left=a+"px",i.style.visibility="visible",e.i++,e.i<e.length-1?setTimeout(function(e){return function(){t(e)}}(e),e.time):(i.style.width=e.target.width,i.style.height=e.target.height,i.style.top=e.target.top,i.style.left=e.target.left,"function"==typeof e.config.finished&&e.config.finished())}(r)},DayPilot.Util={},DayPilot.Util.addClass=function(t,e){if(e&&t)if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)DayPilot.Util.addClass(t[n],e);else{if(!t.className)return void(t.className=e);new RegExp("(^|\\s)"+e+"($|\\s)").test(t.className)||(t.className=t.className+" "+e)}},DayPilot.Util.normalizeColor=function(t){return 0===t.indexOf("rgb")?function(t){return"#"+((1<<24)+(+(t=t.replace(/[^\d,]/g,"").split(","))[0]<<16)+(+t[1]<<8)+ +t[2]).toString(16).slice(1)}(t):t},DayPilot.Util.addClassToString=function(t,e){return t?new RegExp("(^|\\s)"+e+"($|\\s)").test(t)?t:t+" "+e:e},DayPilot.Util.removeClassFromString=function(t,e){if(!t)return"";var n=new RegExp("(^|\\s)"+e+"($|\\s)");return t.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(t,e){if(t)if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)DayPilot.Util.removeClass(t[n],e);else if(t.className){var i=new RegExp("(^|\\s)"+e+"($|\\s)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(t){var e=[];for(var n in t)e.push(n),e.push(t[n]);return e.join("-")},DayPilot.Util.propArray=function(t,e,n){return DayPilot.list(t).map(function(t){return t[e]?t[e]:n})},DayPilot.Util.updatePropsFromArray=function(t,e,n){for(var i=0;i<n.length;i++)t[i][e]=n[i]},DayPilot.Util.copyProps=function(t,e,n){if(t){if(e||(e={}),void 0===n)for(var i in t)t.hasOwnProperty(i)&&void 0!==t[i]&&(e[i]=t[i]);else for(var o=0;o<n.length;o++)void 0!==t[i=n[o]]&&(e[i]=t[i]);return e}},DayPilot.Util.firstPropValue=function(t){for(var e in t)return t[e]},DayPilot.Util.isOnlyProperty=function(t,e){if(!t)return!1;for(var n in t)if(t.hasOwnProperty(n)&&n!==e)return!1;return!0},DayPilot.Util.createArrayCopy=function(t,e){if(!DayPilot.isArray(t))return[];for(var n=[],i=0;i<t.length;i++){var o={};DayPilot.Util.copyProps(t[i],o,e),n.push(o)}return n},DayPilot.Util.avg=function(t,e){return(t+e)/2},DayPilot.Util.div=function(t,e,n,i,o){var r=document.createElement("div");return(e||n||i||o)&&(i<0&&(e+=i,i*=-1),o<0&&(n+=o,o*=-1),r.style.position="absolute","number"==typeof e?r.style.left=e+"px":"string"==typeof e&&(r.style.left=e),"number"==typeof n?r.style.top=n+"px":"string"==typeof n&&(r.style.top=n),"number"==typeof i?r.style.width=i+"px":"string"==typeof i&&(r.style.width=i),"number"==typeof o?r.style.height=o+"px":"string"==typeof o&&(r.style.height=o)),t&&t.appendChild(r),r},DayPilot.Util.overlaps=function(t,e,n,i){return!(e<=n||t>=i)},DayPilot.Util.isMouseEvent=function(t){return!(!navigator.msPointerEnabled||!t.pointerType||"mouse"!==t.pointerType&&4!==t.pointerType)},DayPilot.Util.mouseButton=function(t){var e={};if(void 0===(t=t||window.event).which)switch(t.button){case 1:e.left=!0;break;case 4:e.middle=!0;break;case 2:e.right=!0;break;case 0:e.unknown=!0}else switch(t.which){case 1:e.left=!0;break;case 2:e.middle=!0;break;case 3:e.right=!0}return e},DayPilot.Util.membersPlain=function(t){var e=DayPilot.Util.members(t,2),n=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.name;n.obsolete&&(i+=" (obsolete)"),n.noCssOnly&&(i+=" (!cssOnly)"),n.aspnet&&(i+=" (ASP.NET)"),n.mvc&&(i+="(MVC)"),t[e]=i}};return n(e.events),n(e.methods),n(e.properties),e},DayPilot.Util.shouldApply=function(t){if(!t)return!1;var e=t.toLowerCase();return!(e.indexOf("before")>=0||e.indexOf("after")>=0||"onrowfilter"===e||"oneventfilter"===e)},DayPilot.Util.safeApply=function(t,e){var n=t.$root.$$phase;"$apply"===n||"$digest"===n?t.$eval(e):t.$apply(e)},DayPilot.Util.members=function(t,e){var n=DayPilot.list(),i=DayPilot.list(),o=DayPilot.list(),r=t&&t.members?t.members.obsolete:[],a=t&&t.members?t.members.noCssOnly:[],s=t&&t.members?t.members.ignore:[],l=t&&t.members&&t.members.ignoreFilter?t.members.ignoreFilter:function(){return!1};for(var c in t)if(0!==c.indexOf("$")&&0!==c.indexOf("_")&&0!==c.indexOf("number")&&0!==c.indexOf("is")&&"v"!==c&&!DayPilot.contains(s,c)&&!l(c))if(0!==c.indexOf("on"))if("function"!=typeof t[c])if("object"!=typeof t[c])o.push(c);else{var d=t[c];if(0===e){o.push(c);continue}if(d&&d.nodeType>0){o.push(c);continue}if(d instanceof DayPilot.Bubble){o.push(c);continue}if(d instanceof DayPilot.Date){o.push(c);continue}if(d instanceof DayPilot.Menu){o.push(c);continue}if(d instanceof DayPilot.Scheduler){o.push(c);continue}if(DayPilot.isArray(d)){o.push(c);continue}null===d&&o.push(c);var u=null;"number"==typeof e&&(u=e-1);for(var h=DayPilot.Util.members(d,u),f=0;f<h.events.length;f++)n.push(c+"."+h.events[f].name);for(f=0;f<h.methods.length;f++)i.push(c+"."+h.methods[f].name);for(f=0;f<h.properties.length;f++)o.push(c+"."+h.properties[f].name)}else i.push(c);else n.push(c);n.sort(),i.sort(),o.sort();var p=function(t){for(var e=0;e<t.length;e++){var n=t[e],i={};i.name=n,t[e]=i,DayPilot.contains(r,n)&&(i.obsolete=!0),DayPilot.contains(a,n)&&(i.noCssOnly=!0),-1!==n.indexOf("CallBack")&&(i.aspnet=!0,i.mvc=!0),-1!==n.indexOf("PostBack")&&(i.aspnet=!0),-1!==n.indexOf("Notify")&&(i.aspnet=!0,i.mvc=!0)}};return p(n),p(i),p(o),{events:n,methods:i,properties:o}},DayPilot.Util.replaceCharAt=function(t,e,n){return t.substr(0,e)+n+t.substr(e+n.length)},DayPilot.Util.evalVariable=function(e,t){if(t=t||["object"],null===e||void 0===e)return null;if(-1!==DayPilot.indexOf(t,typeof e))return e;if("string"!=typeof e)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw"Invalid variable name: "+e;return eval(e)},DayPilot.Util.evalFunction=function(e){if(null===e)return null;if("function"==typeof e)return e;if("string"!=typeof e)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(e))throw"Invalid function string";return eval("("+e+")")},DayPilot.Util.isNullOrUndefined=function(t){return null===t||void 0===t},DayPilot.Util.log=function(t){window.console&&window.console.log&&window.console.log(t)},DayPilot.Util.adiff=function(t,e,n){return{add:[],remove:[]}},DayPilot.Util.workerFrom=function(t){var e=t.toString(),n=e.slice(e.indexOf("{")+1,e.lastIndexOf("}")),i=new Blob([n]),o=window.URL.createObjectURL(i);return new Worker(o)},DayPilot.Util.dataUriToBlob=function(t){if("string"!=typeof t)throw"DayPilot.Util.dataUriToBlob(): dataURI string expected";for(var e=t.split(","),n=e[0],i=e[1],o=-1!==n.indexOf("base64")?atob:decodeURI,r=n.split(":")[1].split(";")[0],a=o(i),s=new window.Uint8Array(a.length),l=0;l<a.length;l++)s[l]=a.charCodeAt(l);return new Blob([s],{type:r})},DayPilot.Util.downloadDataUri=function(t,e){var n=DayPilot.Util.dataUriToBlob(t);DayPilot.Util.downloadBlob(n,e)},DayPilot.Util.downloadBlob=function(t,e){if(e=e||"download",window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,e);else{var n=window.URL.createObjectURL(t),i=document.createElement("a");i.download=e,i.href=n,i.style="display:none",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(n)})}},DayPilot.Util.monitor=function(t,e,n){var i=t[e];t[e]=function(){n.apply(t,arguments),i.apply(t,arguments)}},DayPilot.Util.isTransparentColor=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},DayPilot.Util.stripTags=function(t){if(DayPilot.Util.isNullOrUndefined(t))return t;if("string"==typeof t)return t.replace(/<(?:.|\n)*?>/gm,"");throw new DayPilot.Exception("Unable to strip tags from a non-string")},DayPilot.Areas={},DayPilot.Areas.attach=function(t,e,n){var o=(n=n||{}).areas,r=n.allowed||function(){return!0},a=n.offsetX||0;(o=i(e,o))&&DayPilot.isArray(o)&&0!==o.length&&(DayPilot.re(t,"mousemove",function(i){t.active||t.areasDisabled||!r()||DayPilot.Areas.showAreas(t,e,i,o,{offsetX:a,eventDiv:n.eventDiv})}),DayPilot.re(t,"mouseout",function(e){DayPilot.Areas.hideAreas(t,e)}),DayPilot.list(o).each(function(i){if("Visible"===(i.visibility||i.v||"Visible")){var o=DayPilot.Areas.createArea(t,e,i,{offsetX:a,eventDiv:n.eventDiv});t.appendChild(o)}}))},DayPilot.Areas.disable=function(t){t.areasDisabled=!0,DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea&&!t.area.start}).each(function(t){t.style.display="none"})},DayPilot.Areas.enable=function(t){t.areasDisabled=!1,DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea&&!t.area.start}).each(function(t){t.style.display=""})},DayPilot.Areas.remove=function(t){var e=DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea});DayPilot.de(e)};var i=function(t,e){return DayPilot.isArray(e)||(e=t.areas)||(t.cache?e=t.cache.areas:t.data&&(e=t.data.areas)),e};DayPilot.Areas.showAreas=function(t,e,n,i,o){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var r=0;r<DayPilot.Areas.all.length;r++){var a=DayPilot.Areas.all[r];a!==t&&DayPilot.Areas.hideAreas(a,n)}if(!t.active&&(t.active={},DayPilot.isArray(i)||(i=e.areas)||(e.cache?i=e.cache.areas:e.data&&(i=e.data.areas)),i&&0!==i.length&&!(t.areas&&t.areas.length>0))){for(t.areas=[],r=0;r<i.length;r++){var s=i[r];if("Hover"===(s.visibility||s.v||"Visible")){var l=DayPilot.Areas.createArea(t,e,s,o);t.areas.push(l),t.appendChild(l),DayPilot.Areas.all.push(t)}}t.active.children=DayPilot.ac(t)}}},DayPilot.Areas.createArea=function(t,e,n,i){function o(t,e,n,i){DayPilot.Menu&&DayPilot.Menu.touchPosition(i);var o=n.menu;"string"==typeof o?o=DayPilot.Util.evalVariable(o):e.isEvent&&e.calendar.contextMenu?o=DayPilot.Util.evalVariable(e.calendar.contextMenu):e.isRow&&e.calendar.contextMenuResource&&(o=DayPilot.Util.evalVariable(e.calendar.contextMenuResource)),o&&o.show&&o.show(e,{initiator:{type:"area",div:t,e:e,area:n}})}var r=(i=i||{}).offsetX||0,a=i.eventDiv||t,s=document.createElement("div");s.isActiveArea=!0,s.area=n,s.setAttribute("unselectable","on");var l=n.w||n.width,c=n.h||n.height,d=n.cssClass||n.css||n.className;if(void 0!==n.style&&s.setAttribute("style",n.style),s.style.position="absolute",void 0!==l&&(s.style.width=l+"px"),void 0!==c&&(s.style.height=c+"px"),void 0!==n.right&&(s.style.right=n.right+"px"),void 0!==n.top&&(s.style.top=n.top+"px"),void 0!==n.left&&(s.style.left=n.left+r+"px"),void 0!==n.bottom&&(s.style.bottom=n.bottom+"px"),void 0!==n.html&&n.html)s.innerHTML=n.html;else if(n.icon){var u=document.createElement("i");u.className=n.icon,s.appendChild(u)}else if(n.image){var h=document.createElement("img");h.src=n.image,s.appendChild(h)}if(d&&(s.className=d),n.toolTip&&s.setAttribute("title",n.toolTip),n.backColor&&(s.style.background=n.backColor),n.background&&(s.style.background=n.background),n.fontColor&&(s.style.color=n.fontColor),n.padding&&(s.style.padding=n.padding+"px",s.style.boxSizing="border-box"),"ResizeEnd"===n.action||"ResizeStart"===n.action||"Move"===n.action){if(e.calendar.isCalendar)switch(n.action){case"ResizeEnd":n.cursor="s-resize",n.dpBorder="bottom";break;case"ResizeStart":n.cursor="n-resize",n.dpBorder="top";break;case"Move":n.cursor="move"}if(e.calendar.isScheduler||e.calendar.isMonth)switch(n.action){case"ResizeEnd":n.cursor="e-resize",n.dpBorder="right";break;case"ResizeStart":n.cursor="w-resize",n.dpBorder="left";break;case"Move":n.cursor="move"}s.onmousemove=function(t,e,n){return function(i){(i=i||window.event).cancelBubble=!0,e.calendar.internal&&e.calendar.internal.dragInProgress&&e.calendar.internal.dragInProgress()||(t.style.cursor=n.cursor,n.dpBorder&&(t.dpBorder=n.dpBorder))}}(a,e,n),s.onmouseout=function(t,e,n){return function(e){t.style.cursor=""}}(a)}if(("ResizeEnd"===n.action||"ResizeStart"===n.action)&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,n){return function(i){i.cancelBubble=!0;var o=e.calendar.internal.touch,r=i.touches?i.touches[0]:i,a={x:r.pageX,y:r.pageY};e.calendar.coords=o.relativeCoords(i),o.preventEventTap=!0,e.calendar.isScheduler?o.startResizing(t,"ResizeEnd"===n.action?"right":"left"):e.calendar.isCalendar&&o.startResizing(t,"ResizeEnd"===n.action?"bottom":"top",a)}}(a,e,n);DayPilot.re(s,DayPilot.touch.start,f)}if("ContextMenu"===n.action&&e.isEvent&&e.calendar.internal.touch){f=function(t,e,n){return function(i){i.cancelBubble=!0,i.preventDefault(),o(t,e,n,i),e.calendar.internal.touch.preventEventTap=!0}}(a,e,n);var p=function(t){t.cancelBubble=!0,t.preventDefault()};DayPilot.re(s,DayPilot.touch.start,f),DayPilot.re(s,DayPilot.touch.end,p)}return"Bubble"===n.action&&e.isEvent&&e.calendar.internal.touch&&(f=function(t,e,n){return function(t){t.cancelBubble=!0,t.preventDefault(),function(t,e,n){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(n),t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}(e,0,t),e.calendar.internal.touch.preventEventTap=!0}}(0,e),p=function(t){t.cancelBubble=!0,t.preventDefault()},DayPilot.re(s,DayPilot.touch.start,f),DayPilot.re(s,DayPilot.touch.end,p)),"Move"===n.action&&e.isEvent&&e.calendar.internal.touch&&(f=function(t,e,n){return function(n){n.cancelBubble=!0;var i=e.calendar.internal.touch,o=n.touches?n.touches[0]:n,r={x:o.pageX,y:o.pageY};e.calendar.coords=i.relativeCoords(n),i.preventEventTap=!0,i.startMoving(t,r)}}(a,e),DayPilot.re(s,DayPilot.touch.start,f)),"Bubble"===n.action&&e.isEvent&&(s.onmousemove=function(t,e,n){return function(t){n.bubble?n.bubble.showEvent(e,!0):e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}}(0,e,n),s.onmouseout=function(t,e,n){return function(t){void 0!==DayPilot.Bubble&&(n.bubble?n.bubble.hideOnMouseOut():e.calendar.bubble&&e.calendar.bubble.hideOnMouseOut())}}(0,e,n)),"Bubble"===n.action&&e.isRow&&(s.onmousemove=function(t,e,n){return function(t){n.bubble?n.bubble.showResource(e,!0):e.calendar.resourceBubble&&e.calendar.resourceBubble.showResource(e,!0)}}(0,e,n),s.onmouseout=function(t,e,n){return function(t){void 0!==DayPilot.Bubble&&(n.bubble?n.bubble.hideOnMouseOut():e.calendar.resourceBubble&&e.calendar.resourceBubble.hideOnMouseOut())}}(0,e,n)),"HoverMenu"===n.action&&(s.onmousemove=function(t,e,n){return function(t){var i=n.menu;"string"==typeof i&&(i=DayPilot.Util.evalVariable(i)),i&&i.show&&(i.visible?i.source&&void 0!==i.source.id&&i.source.id!==e.id&&i.show(e):i.show(e),i.cancelHideTimeout())}}(0,e,n),s.onmouseout=function(t,e,n){return function(t){var e=n.menu;"string"==typeof e&&(e=DayPilot.Util.evalVariable(e)),e&&e.hideOnMouseOver&&e.delayedHide()}}(0,0,n)),"JavaScript"===n.action&&(f=function(t,e,n){return function(t){DayPilot.Util.isMouseEvent(t)||(t.cancelBubble=!0,t.preventDefault(),e.calendar.internal.touch.start=!0)}}(0,e),p=function(t,e,n){return function(t){if(!DayPilot.Util.isMouseEvent(t)){t.cancelBubble=!0,t.preventDefault(),e.calendar.internal.touch.start=!1;var i=n.js;"string"==typeof i&&(i=DayPilot.Util.evalFunction(n.js)),"function"==typeof i&&i.call(this,n.target||e)}}}(0,e,n),DayPilot.re(s,DayPilot.touch.start,f),DayPilot.re(s,DayPilot.touch.end,p)),s.onmousedown=function(t,e,n){return function(i){if("function"==typeof n.onmousedown&&n.onmousedown(i),"function"==typeof n.mousedown){var o={};o.area=n,o.div=t,o.originalEvent=i,o.source=e,n.mousedown(o)}"Move"===n.action&&e.isRow&&e.calendar.internal.rowtools.startMoving(e.$.row),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Move"===n.action&&(DayPilot.Global.movingAreaData=n.data),"Move"!==n.action&&"ResizeEnd"!==n.action&&"ResizeStart"!==n.action&&n.action&&((i=i||window.event).preventDefault(),i.cancelBubble=!0)}}(t,e,n),s.onclick=function(t,e,n){return function(i){i=i||window.event;var r={};if(r.area=n,r.source=e,r.originalEvent=i,r.preventDefault=function(){r.preventDefault.value=!0},"function"!=typeof n.onClick||(n.onClick(r),!r.preventDefault.value)){switch(n.action){case"JavaScript":var a=n.js;"string"==typeof a&&(a=DayPilot.Util.evalFunction(n.js)),"function"==typeof a&&a.call(this,n.target||e),i.cancelBubble=!0;break;case"ContextMenu":o(t,e,n,i),i.cancelBubble=!0}"function"==typeof n.onClicked&&n.onClicked(r)}}}(t,e,n),s},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(t,e){if(t&&t&&t.active){var n=t.active,i=t.areas;if(n&&n.children&&(e=e||window.event)&&~DayPilot.indexOf(n.children,e.toElement||e.relatedTarget))return;if(!i||0===i.length)return void(t.active=null);DayPilot.de(i),t.active=null,t.areas=[],DayPilot.rfa(DayPilot.Areas.all,t),n.children=null}},DayPilot.Areas.hideAll=function(t){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var e=0;e<DayPilot.Areas.all.length;e++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[e],t)},DayPilot.Action=function(t,e,n,i){var o=this;this.calendar=t,this.isAction=!0,this.action=e,this.params=n,this.data=i,this.notify=function(){o.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){o.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){o.calendar.queue.add(this)},this.toJSON=function(){var t={};return t.name=this.action,t.params=this.params,t.data=this.data,t}},DayPilot.Selection=function(t,e,n,i){this.menuType="selection",this.start=new DayPilot.Date(t),this.end=new DayPilot.Date(e),this.resource=n,this.root=i,this.calendar=i,this.toJSON=function(t){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e}},DayPilot.Link=function(t,e){this.isLink=!0,this.data=t,this.calendar=e,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var t={};return t.from=this.data.from,t.to=this.data.to,t.id=this.data.id,t.type=this.data.type,t}},DayPilot.Event=function(t,e,n){var i=this;this.calendar=e,this.data=t||{},this.part=n||{},void 0===this.data.id&&(this.data.id=this.data.value);var o={},r=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(o.dirty)return o;for(var t=0;t<r.length;t++)o[r[t]]=i.data[r[t]];return o.dirty=!0,o},this.copy=function(){var t={};return DayPilot.Util.copyProps(i.data,t),t},this.commit=function(){if(o.dirty){for(var t=0;t<r.length;t++)i.data[r[t]]=o[r[t]];o.dirty=!1}},this.dirty=function(){return o.dirty},this.id=function(t){return void 0===t?i.data.id:void(this.temp().id=t)},this.value=function(t){return void 0===t?i.id():void i.id(t)},this.text=function(t){return void 0===t?i.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return void 0===t?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(t))},this.end=function(t){return void 0===t?e&&e.internal.adjustEndNormalize?e.internal.adjustEndNormalize(new DayPilot.Date(i.data.end)):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(t))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.rawend=function(){return"undefined"==typeof val?e&&e.internal.adjustEndIn?e.internal.adjustEndIn(new DayPilot.Date(i.data.end)):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(val))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof val?i.data.allday:void(this.temp().allday=val)},this.isAllDay=this.allday,this.resource=function(t){return void 0===t?i.data.resource:void(this.temp().resource=t)},this.recurrent=function(){return i.data.recurrent},this.recurrentMasterId=function(){return i.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return i.cache&&i.cache.bubbleHtml||i.data.bubbleHtml},this.tag=function(t){if(i.data.tags)return i.data.tags[t];var e=i.data.tag;if(!e)return null;if(void 0===t)return i.data.tag;for(var n=i.calendar.tagFields,o=-1,r=0;r<n.length;r++)t===n[r]&&(o=r);if(-1===o)throw"Field name not found.";return e[o]},this.client={},this.client.innerHTML=function(t){return void 0===t?i.cache&&void 0!==i.cache.html?i.cache.html:void 0!==i.data.html?i.data.html:i.data.text:(i.data.html=t,void(i.cache&&(i.cache.html=t)))},this.client.html=this.client.innerHTML,this.client.header=function(t){return void 0===t?i.data.header:void(i.data.header=t)},this.client.cssClass=function(t){return void 0===t?i.data.cssClass:void(i.data.cssClass=t)},this.client.toolTip=function(t){return void 0===t?i.cache&&void 0!==i.cache.toolTip?i.cache.toolTip:void 0!==i.data.toolTip?i.data.toolTip:i.data.text:void(i.data.toolTip=t)},this.client.backColor=function(t){return void 0===t?i.cache&&void 0!==i.cache.backColor?i.cache.backColor:void 0!==i.data.backColor?i.data.backColor:i.calendar.eventBackColor:void(i.data.backColor=t)},this.client.borderColor=function(t){return void 0===t?i.cache&&void 0!==i.cache.borderColor?i.cache.borderColor:void 0!==i.data.borderColor?i.data.borderColor:i.calendar.eventBorderColor:void(i.data.borderColor=t)},this.client.barColor=function(t){return void 0===t?i.cache&&void 0!==i.cache.barColor?i.cache.barColor:void 0!==i.data.barColor?i.data.barColor:i.calendar.durationBarColor:void(i.data.barColor=t)},this.client.barVisible=function(t){return void 0===t?i.cache&&void 0!==i.cache.barHidden?!i.cache.barHidden:i.calendar.durationBarVisible&&!i.data.barHidden:void(i.data.barHidden=!t)},this.client.contextMenu=function(t){if(void 0===t){if(i.oContextMenu)return i.oContextMenu;var e=i.cache?i.cache.contextMenu:i.data.contextMenu;return e?DayPilot.Util.evalVariable(e):null}i.oContextMenu=t},this.client.moveEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.moveDisabled?!i.cache.moveDisabled:"Disabled"!==i.calendar.eventMoveHandling&&!i.data.moveDisabled:void(i.data.moveDisabled=!t)},this.client.resizeEnabled=function(t){return void 0===t?"Milestone"!==i.data.type&&(i.cache&&void 0!==i.cache.resizeDisabled?!i.cache.resizeDisabled:"Disabled"!==i.calendar.eventResizeHandling&&!i.data.resizeDisabled):void(i.data.resizeDisabled=!t)},this.client.rightClickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.rightClickDisabled?!i.cache.rightClickDisabled:"Disabled"!==i.calendar.rightClickHandling&&!i.data.rightClickDisabled:void(i.data.rightClickDisabled=!t)},this.client.clickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.clickDisabled?!i.cache.clickDisabled:"Disabled"!==i.calendar.clickHandling&&!i.data.clickDisabled:void(i.data.clickDisabled=!t)},this.client.deleteEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.deleteDisabled?!i.cache.deleteDisabled:"Disabled"!==i.calendar.eventDeleteHandling&&!i.data.deleteDisabled:void(i.data.deleteDisabled=!t)},this.client.doubleClickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.doubleClickDisabled?!i.cache.doubleClickDisabled:"Disabled"!==i.calendar.eventDoubleClickHandling&&!i.data.doubleClickDisabled:void(i.data.doubleClickDisabled=!t)},this.client.deleteClickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.deleteDisabled?!i.cache.deleteDisabled:"Disabled"!==i.calendar.eventDeleteHandling&&!i.data.deleteDisabled:void(i.data.deleteDisabled=!t)},this.toJSON=function(t){var e={};if(e.value=this.id(),e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.resource=this.resource(),e.isAllDay=!1,e.recurrentMasterId=this.recurrentMasterId(),e.join=this.data.join,e.tag={},i.data.tags)for(var n in i.data.tags)i.data.tags.hasOwnProperty(n)&&(e.tag[n]=""+i.data.tags[n]);else if(i.calendar&&i.calendar.tagFields)for(var o=i.calendar.tagFields,r=0;r<o.length;r++)e.tag[o[r]]=this.tag(o[r]);return e}},DayPilot.Task=function(t,e){if(!t)throw"Trying to initialize DayPilot.Task with null data parameter";var n=this,i=null;if(t instanceof DayPilot.Event)i=t,this.data=t.data.task;else{if(t instanceof DayPilot.Task)return t;this.data=t.isTaskWrapper?t.data:t}var o={},r=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=e,this.temp=function(){if(o.dirty)return o;for(var t=0;t<r.length;t++)o[r[t]]=n.data[r[t]];return o.dirty=!0,o},this.copy=function(){var t={};return DayPilot.Util.copyProps(n.data,t),t},this.commit=function(){if(o.dirty){for(var t=0;t<r.length;t++)n.data[r[t]]=o[r[t]];o.dirty=!1}},this.dirty=function(){return o.dirty},this.id=function(t){return void 0===t?n.data.id:void(this.temp().id=t)},this.text=function(t){return void 0===t?n.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return void 0===t?new DayPilot.Date(n.data.start):void(this.temp().start=new DayPilot.Date(t))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(t){return void 0===t?e&&"Date"===e.eventEndSpec?new DayPilot.Date(n.data.end).getDatePart().addDays(1):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(t))},this.type=function(t){return void 0===t?i?i.data.type:n.data.type:void(this.temp().type=t)},this.complete=function(t){return void 0===t?n.data.complete?n.data.complete:0:void(this.temp().complete=t)},this.children=function(){var t=[];t.add=function(t){var e=new DayPilot.Task(t);this.data.children||(this.data.children=[]),this.children.push(e.data)};for(var n=0;this.data.children&&n<this.data.children.length;n++)t.push(new DayPilot.Task(this.data.children[n],e));return t},this.toJSON=function(t){var e={};return e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.type=this.type(),e.tags={},DayPilot.Util.copyProps(this.data.tags,e.tags),e},this.row={};var a=this.row;a.expanded=function(t){return void 0===t?!n.data.row||!n.data.row.collapsed:(n.data.row||(n.data.row={}),!!n.data.row.collapsed!=!t&&e.internal.rowObjectForTaskData(n.data).toggle(),void(n.data.row.collapsed=!t))},a.expand=function(){a.expanded(!0)},a.collapse=function(){a.expanded(!1)},a.toggle=function(){a.expanded(!a.expanded())}},DayPilot.request=function(t,e,n,i){var o=DayPilot.createXmlHttp();o&&(o.open("POST",t,!0),o.setRequestHeader("Content-type","text/plain"),o.onreadystatechange=function(){if(4===o.readyState)return 200!==o.status&&304!==o.status?void(i?i(o):window.console&&console.log("HTTP error "+o.status)):void e(o)},4!==o.readyState&&("object"==typeof n&&(n=JSON.stringify(n)),o.send(n)))},DayPilot.ajax=function(t){if(!t)throw new DayPilot.Exception("Parameter object required.");if("string"!=typeof t.url)throw new DayPilot.Exception("The parameter object must have 'url' property.");var e=DayPilot.createXmlHttp();if(!e)throw new DayPilot.Exception("Unable to create XMLHttpRequest object");var n="object"==typeof t.data,i=t.data,o=t.success||function(){},r=t.error||function(){},a=t.contentType||(n?"application/json":"text/plain");e.open(t.method||"GET",t.url,!0),e.setRequestHeader("Content-type",a),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||304===e.status)(t={}).request=e,t.data=JSON.parse(e.responseText),o(t);else if(r){var t;(t={}).request=e,r(t)}else window.console&&console.log("HTTP error "+e.status)},4!==e.readyState&&(n&&(i=JSON.stringify(i)),e.send(i))},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Http={},DayPilot.Http.ajax=function(t){DayPilot.ajax(t)},DayPilot.Duration=function(t){var e=this,n=36e5;if(2===arguments.length){var i=arguments[0],o=arguments[1];if(!(i instanceof DayPilot.Date)&&"string"!=typeof i)throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(o instanceof DayPilot.Date)&&"string"!=typeof o)throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";"string"==typeof i&&(i=new DayPilot.Date(i)),"string"==typeof o&&(o=new DayPilot.Date(o)),t=o.getTime()-i.getTime()}return this.ticks=t,DayPilot.Date.Cache.DurationCtor[""+t]?DayPilot.Date.Cache.DurationCtor[""+t]:(DayPilot.Date.Cache.DurationCtor[""+t]=this,this.toString=function(t){if(!t)return e.days()+"."+e.hours()+":"+e.minutes()+":"+e.seconds()+"."+e.milliseconds();var n=e.minutes();return t.replace("mm",n=(n<10?"0":"")+n).replace("m",e.minutes()).replace("H",e.hours()).replace("h",e.hours()).replace("d",e.days()).replace("s",e.seconds())},this.totalHours=function(){return e.ticks/n},this.totalDays=function(){return e.ticks/864e5},this.totalMinutes=function(){return e.ticks/6e4},this.totalSeconds=function(){return e.ticks/1e3},this.days=function(){return Math.floor(e.totalDays())},this.hours=function(){var t=e.ticks-864e5*e.days();return Math.floor(t/n)},this.minutes=function(){var t=e.ticks-Math.floor(e.totalHours())*n;return Math.floor(t/6e4)},this.seconds=function(){var t=e.ticks-6e4*Math.floor(e.totalMinutes());return Math.floor(t/1e3)},void(this.milliseconds=function(){return e.ticks%1e3}))},DayPilot.Duration.weeks=function(t){return new DayPilot.Duration(1e3*t*60*60*24*7)},DayPilot.Duration.days=function(t){return new DayPilot.Duration(1e3*t*60*60*24)},DayPilot.Duration.hours=function(t){return new DayPilot.Duration(1e3*t*60*60)},DayPilot.Duration.minutes=function(t){return new DayPilot.Duration(1e3*t*60)},DayPilot.Duration.seconds=function(t){return new DayPilot.Duration(1e3*t)},DayPilot.TimeSpan=function(){throw"Please use DayPilot.Duration class instead of DayPilot.TimeSpan."};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(t,n){if(t instanceof DayPilot.Date)return t;var i;DayPilot.Util.isNullOrUndefined(t)&&(t=i=DayPilot.DateUtil.fromLocal().getTime());var o=DayPilot.Date.Cache.Ctor;if(o[t])return DayPilot.Stats.cacheHitsCtor+=1,o[t];var r=!1;if("string"==typeof t)i=DayPilot.DateUtil.fromStringSortable(t,n).getTime(),r=!0;else if("number"==typeof t){if(isNaN(t))throw"Cannot create DayPilot.Date from NaN";i=t}else{if(!(t instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";i=n?DayPilot.DateUtil.fromLocal(t).getTime():t.getTime()}var a=e(i);return o[a]?o[a]:(o[a]=this,o[i]=this,r&&a!==t&&DayPilot.DateUtil.hasTzSpec(t)&&(o[t]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return i}}),Object.defineProperty(this,"value",{value:a,writable:!1,enumerable:!0})):(this.ticks=i,this.value=a),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(i)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={}},DayPilot.Date.prototype.addDays=function(t){return new DayPilot.Date(this.ticks+24*t*60*60*1e3)},DayPilot.Date.prototype.addHours=function(t){return this.addTime(60*t*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(t){return this.addTime(t)},DayPilot.Date.prototype.addMinutes=function(t){return this.addTime(60*t*1e3)},DayPilot.Date.prototype.addMonths=function(t){var e=new Date(this.ticks);if(0===t)return this;var n=e.getUTCFullYear(),i=e.getUTCMonth()+1;if(t>0){for(;t>=12;)t-=12,n++;t>12-i?(n++,i=t-(12-i)):i+=t}else{for(;t<=-12;)t+=12,n--;i+t<=0?(n--,i=12+i+t):i+=t}var o=new Date(e.getTime());o.setUTCDate(1),o.setUTCFullYear(n),o.setUTCMonth(i-1);var r=new DayPilot.Date(o).daysInMonth();return o.setUTCDate(Math.min(r,e.getUTCDate())),new DayPilot.Date(o)},DayPilot.Date.prototype.addSeconds=function(t){return this.addTime(1e3*t)},DayPilot.Date.prototype.addTime=function(t){return t instanceof DayPilot.Duration&&(t=t.ticks),new DayPilot.Date(this.ticks+t)},DayPilot.Date.prototype.addYears=function(t){var e=new Date(this.ticks),n=new Date(this.ticks),i=this.getYear()+t,o=this.getMonth();n.setUTCDate(1),n.setUTCFullYear(i),n.setUTCMonth(o);var r=new DayPilot.Date(n).daysInMonth();return n.setUTCDate(Math.min(r,e.getUTCDate())),new DayPilot.Date(n)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var t=new Date(this.ticks),e=t.getUTCMonth()+1,n=t.getUTCFullYear(),i=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==e?i[e-1]:n%4!=0?i[1]:n%100==0&&n%400!=0?i[1]:i[1]+1},DayPilot.Date.prototype.daysInYear=function(){var t=this.getYear();return t%4!=0?365:t%100==0&&t%400!=0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(t){if(null===t)return!1;if(t instanceof DayPilot.Date)return this===t;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var t=new Date;return t.setUTCFullYear(this.getYear(),this.getMonth(),1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfYear=function(){var t=this.getYear(),e=new Date;return e.setUTCFullYear(t,0,1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfWeek=function(t){var e=this;t=t instanceof DayPilot.Locale?t.weekStarts:"string"==typeof t&&DayPilot.Locale.find(t)?DayPilot.Locale.find(t).weekStarts:t||0;for(var n=e.dayOfWeek();n!==t;)n=(e=e.addDays(-1)).dayOfWeek();return new DayPilot.Date(e)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var t=new Date(this.ticks);return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var t=this.getDatePart();return DayPilot.DateUtil.diff(this,t)},DayPilot.Date.prototype.lastDayOfMonth=function(){var t=new Date(this.firstDayOfMonth().getTime()),e=this.daysInMonth();return t.setUTCDate(e),new DayPilot.Date(t)},DayPilot.Date.prototype.weekNumber=function(){var t=this.firstDayOfYear(),e=(this.getTime()-t.getTime())/864e5;return Math.ceil((e+t.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var t=!1,e=this.dayOfYear(),n=this.firstDayOfYear().dayOfWeek(),i=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===n&&(n=7),0===i&&(i=7);var o=8-n;4!==n&&4!==i||(t=!0);var r=Math.ceil((e-o)/7);return o>=4&&(r+=1),r>52&&!t&&(r=1),0===r&&(r=this.firstDayOfYear().addDays(-1).weekNumberISO()),r},DayPilot.Date.prototype.toDateLocal=function(){var t=new Date(this.ticks),e=new Date;return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours()),e.setMinutes(t.getUTCMinutes()),e.setSeconds(t.getUTCSeconds()),e.setMilliseconds(t.getUTCMilliseconds()),e},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(t,e){return t?new a(t,e).print(this):this.toStringSortable()},DayPilot.Date.prototype.toStringSortable=function(){return e(this.ticks)},DayPilot.Date.parse=function(t,e,n){return new a(e,n).parse(t)};var n=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(t,e,n){e=e||1,n=n||1;var i=new Date(0);return i.setUTCFullYear(t),i.setUTCMonth(e-1),i.setUTCDate(n),new DayPilot.Date(i)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(t,e){if(!t)throw"Can't create DayPilot.Date from an empty string";var n=t.length,i=10===n,o=19===n;if(!(i||o||n>19))throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+t;if(DayPilot.Date.Cache.Parsing[t]&&!e)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[t];var r=t.substring(0,4),a=t.substring(5,7),s=t.substring(8,10),l=new Date(0);if(l.setUTCFullYear(r,a-1,s),i)return DayPilot.Date.Cache.Parsing[t]=l,l;var c=t.substring(11,13),d=t.substring(14,16),u=t.substring(17,19);if(l.setUTCHours(c),l.setUTCMinutes(d),l.setUTCSeconds(u),o)return DayPilot.Date.Cache.Parsing[t]=l,l;var h=0;if("."===t[19]){var f=parseInt(t.substring(20,23));l.setUTCMilliseconds(f),h=DayPilot.DateUtil.getTzOffsetMinutes(t.substring(23))}else h=DayPilot.DateUtil.getTzOffsetMinutes(t.substring(19));var p=new DayPilot.Date(l);return e||(p=p.addMinutes(-h)),l=p.toDate(),DayPilot.Date.Cache.Parsing[t]=l,l},DayPilot.DateUtil.getTzOffsetMinutes=function(t){if(DayPilot.Util.isNullOrUndefined(t)||""===t)return 0;if("Z"===t)return 0;var e=t[0],n=60*parseInt(t.substring(1,3))+parseInt(t.substring(4));if("-"===e)return-n;if("+"===e)return n;throw"Invalid timezone spec: "+t},DayPilot.DateUtil.hasTzSpec=function(t){return!!t.indexOf("+")||!!t.indexOf("-")},DayPilot.DateUtil.daysDiff=function(t,e){if(t&&e||function(){throw"two parameters required"}(),t=new DayPilot.Date(t),e=new DayPilot.Date(e),t.getTime()>e.getTime())return null;for(var n=0,i=t.getDatePart(),o=e.getDatePart();i<o;)i=i.addDays(1),n++;return n},DayPilot.DateUtil.daysSpan=function(t,e){if(t&&e||function(){throw"two parameters required"}(),(t=new DayPilot.Date(t))===(e=new DayPilot.Date(e)))return 0;var n=DayPilot.DateUtil.daysDiff(t,e);return e==e.getDatePart()&&n--,n},DayPilot.DateUtil.diff=function(t,e){if(!(t&&e&&t.getTime&&e.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return t.getTime()-e.getTime()},DayPilot.DateUtil.fromLocal=function(t){t||(t=new Date);var e=new Date;return e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setUTCHours(t.getHours()),e.setUTCMinutes(t.getMinutes()),e.setUTCSeconds(t.getSeconds()),e.setUTCMilliseconds(t.getMilliseconds()),e},DayPilot.DateUtil.localToday=function(){var t=new Date;return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},DayPilot.DateUtil.hours=function(t,e){var n=t.getUTCMinutes();n<10&&(n="0"+n);var i=t.getUTCHours();if(e){var o=i<12;return 0==(i%=12)&&(i=12),i+":"+n+" "+(o?"AM":"PM")}return i+":"+n},DayPilot.DateUtil.max=function(t,e){return t.getTime()>e.getTime()?t:e},DayPilot.DateUtil.min=function(t,e){return t.getTime()<e.getTime()?t:e};var a=function(e,n){"string"==typeof n&&(n=DayPilot.Locale.find(n)),n=n||DayPilot.Locale.US;var i=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(t){return t.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(t){return t.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(t){var e=t.getMinutes();return e<10?"0"+e:e}},{seq:"m",expr:"[0-9]{1,2}",str:function(t){return t.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(t){var e=t.getHours();return e<10?"0"+e:e}},{seq:"H",expr:"[0-9]{1,2}",str:function(t){return t.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(t){var e;return 0==(e=(e=t.getHours())%12)&&(e=12),e<10?"0"+e:e}},{seq:"h",expr:"[0-9]{1,2}",str:function(t){var e;return 0==(e=(e=t.getHours())%12)&&(e=12),e}},{seq:"ss",expr:"[0-9]{2,2}",str:function(t){var e=t.getSeconds();return e<10?"0"+e:e}},{seq:"s",expr:"[0-9]{1,2}",str:function(t){return t.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(t){return n.monthNames[t.getMonth()]},transform:function(e){var i=DayPilot.indexOf(n.monthNames,e,t);return i<0?null:i+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(t){return n.monthNamesShort[t.getMonth()]},transform:function(e){var i=DayPilot.indexOf(n.monthNamesShort,e,t);return i<0?null:i+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(t){var e=t.getMonth()+1;return e<10?"0"+e:e}},{seq:"M",expr:"[0-9]{1,2}",str:function(t){return t.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(t){return n.dayNames[t.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(t){return n.dayNamesShort[t.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(t){var e=t.getDay();return e<10?"0"+e:e}},{seq:"%d",expr:"[0-9]{1,2}",str:function(t){return t.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(t){return t.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(t){return t.getHours()<12?"AM":"PM"},transform:function(t){return t.toUpperCase()}}];this.init=function(){this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h")},this.findSequence=function(t){function n(t){return parseInt(t)}return-1===e.indexOf(t)?null:{findValue:function(o){for(var r=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(e),a=null,s=0;s<i.length;s++){var l=i[s].expr;t===i[s].seq&&(l="("+l+")",a=i[s].transform),r=r.replace(i[s].seq,l)}r="^"+r+"$";try{var c=new RegExp(r).exec(o);return c?(a=a||n)(c[1]):null}catch(t){throw"unable to create regex from: "+r}}}},this.print=function(t){for(var n=function(t){for(var e=0;e<i.length;e++)if(i[e]&&i[e].seq===t)return i[e];return null},o=e.length<=0,r=0,a=[];!o;){var s=e.substring(r),l=/%?(.)\1*/.exec(s);if(l&&l.length>0){var c=l[0],d=n(c);a.push(d||c),o=e.length<=(r+=c.length)}else o=!0}for(var u=0;u<a.length;u++){var h=a[u];"string"!=typeof h&&(a[u]=h.str(t))}return a.join("")},this.parse=function(t){var e=this.year.findValue(t);if(!e)return null;var n=this.month.findValue(t);if(DayPilot.Util.isNullOrUndefined(n))return null;if(n>12||n<1)return null;var i=this.day.findValue(t),o=DayPilot.Date.fromYearMonthDay(e,n).daysInMonth();if(i<1||i>o)return null;var r=this.hours?this.hours.findValue(t):0,a=this.minutes?this.minutes.findValue(t):0,s=this.seconds?this.seconds.findValue(t):0,l=this.ampm?this.ampm.findValue(t):null;if(this.ampm&&this.hours12){var c=this.hours12.findValue(t);if(c<1||c>12)return null;r="PM"===l?12===c?12:c+12:12===c?0:c}if(r<0||r>23)return null;if(a<0||a>59)return null;if(s<0||s>59)return null;var d=new Date;return d.setUTCFullYear(e,n-1,i),d.setUTCHours(r),d.setUTCMinutes(a),d.setUTCSeconds(s),d.setUTCMilliseconds(0),new DayPilot.Date(d)},this.init()};DayPilot.Canvas=function(t,e,n,i,o){i=i||1;var r=document.createElement("canvas");r.width=t*i,r.height=e*i;var a=r.getContext("2d");a.scale(i,i),this.defaultFileName="image.png","image/jpeg"===n&&(this.defaultFileName="image.jpg",o=o||.92),this.fillRect=function(t,e){a.save(),a.strokeStyle="rgb(0,0,0,0)",a.fillStyle=e,a.fillRect(t.x+.5,t.y+.5,t.w-.5,t.h-.5),a.restore()},this.rect=function(t,e){a.save(),a.strokeStyle=e,a.beginPath(),a.rect(t.x+.5,t.y+.5,t.w-1,t.h-1),a.stroke(),a.restore()},this.text=function(t,e,n,i,o,r){if(e){if("number"==typeof e&&(e=""+e),"string"!=typeof e)throw"String expected, supplied: "+typeof e;o=o||"left",r=r||0,i=i||"#000",a.save();var s=parseInt(n.size),l=DayPilot.browser.ff?3:0;l+=.2*s,l+=DayPilot.browser.chrome?1:0,l+=DayPilot.browser.ie?1:0,a.rect(t.x+.5+r,t.y+.5+r,t.w-1-r,t.h-1-r),a.clip(),a.fillStyle=i,a.font=n.style+" "+n.size+" "+n.family,a.textBaseline="top",a.textAlign=o;var c=t.x;switch(o){case"center":c+=t.w/2;break;case"right":c+=t.w}c+=0;var d=1.2*parseInt(n.size),u=e.split("\n"),h=[];DayPilot.list(u).each(function(e){var n=function(t,e,n){for(var i=e.split(" "),o=[],r=i[0],a=1;a<i.length;a++){var s=i[a];t.measureText(r+" "+s).width<n?r+=" "+s:(o.push(r),r=s)}return o.push(r),o}(a,e,t.w);DayPilot.list(n).each(function(t){h.push(t)})});for(var f=t.y+0+r+l,p=0;p<h.length;p++)a.fillText(h[p],c+r,f),f+=d;a.restore()}},this.line=function(t,e,n,i,o){a.save(),a.lineWidth=1,a.strokeStyle=o,a.beginPath(),a.moveTo(t+.5,e+.5),a.lineTo(n+.5,i+.5),a.stroke(),a.restore()},this.image=function(t,e){if(e){if("string"==typeof e){var n=e;if(e=document.createElement("img"),0!==n.indexOf("data:"))return e.onload=function(){a.save(),a.drawImage(e,t.x,t.y),a.restore()},void(e.src=n);e.src=n}a.save(),a.drawImage(e,t.x,t.y),a.restore()}},this.getWidth=function(){return r.width},this.getHeight=function(){return r.height},this.getElement=function(){return r},this.getSource=function(){return"<img src='"+r.toDataURL(n,o)+"' />"},this.getDataUri=function(){return r.toDataURL(n,o)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return r.msToBlob?r.msToBlob():DayPilot.Util.dataUriToBlob(this.getDataUri())}},DayPilot.Svg=function(t,e){var n="http://www.w3.org/2000/svg",i=document.createElementNS(n,"svg");i.outerHTML&&i.setAttribute("xmlns",n),i.setAttribute("viewBox","0 0 "+t+" "+e),this.defaultFileName="image.svg",this.fillRect=function(t,e){var o=document.createElementNS(n,"rect");o.setAttribute("x",t.x+.5),o.setAttribute("y",t.y+.5),o.setAttribute("width",t.w-1),o.setAttribute("height",t.h-1),o.setAttribute("fill",e),i.appendChild(o)},this.rect=function(t,e){var o=document.createElementNS(n,"rect");o.setAttribute("x",t.x+.5),o.setAttribute("y",t.y+.5),o.setAttribute("width",t.w-1),o.setAttribute("height",t.h-1),o.setAttribute("stroke",e),o.setAttribute("stroke-width","1"),o.setAttribute("fill","transparent"),i.appendChild(o)},this.text=function(t,e,o,r,a,s){function l(t,e,a){var s=document.createElementNS(n,"text");s.setAttribute("fill",r),s.setAttribute("font-family",o.family),s.setAttribute("font-size",o.size),s.setAttribute("font-style",o.style),s.setAttribute("x",e),s.setAttribute("y",a),s.setAttribute("dy","1em"),s.setAttribute("text-anchor",d),s.setAttribute("clip-path","url(#"+u.id+")");var l=document.createTextNode(t);s.appendChild(l),i.appendChild(s)}if("number"==typeof e&&(e=""+e),"string"!=typeof e)throw"String expected";a=a||"left",s=s||0;var c=t.x,d="start";switch(a){case"center":c+=t.w/2,d="middle";break;case"right":c+=t.w,d="end"}var u=document.createElementNS(n,"clipPath");u.id="clip"+DayPilot.guid();var h=document.createElementNS(n,"rect");h.setAttribute("x",t.x),h.setAttribute("y",t.y),h.setAttribute("width",t.w),h.setAttribute("height",t.h),u.appendChild(h),i.appendChild(u);for(var f=1.2*parseInt(o.size),p=e.split("\n"),g=t.y+s+3,m=0;m<p.length;m++)l(p[m],c+s,g),g+=f},this.line=function(t,e,o,r,a){var s=document.createElementNS(n,"line");s.setAttribute("x1",t+.5),s.setAttribute("y1",e+.5),s.setAttribute("x2",o+.5),s.setAttribute("y2",r+.5),s.setAttribute("stroke",a),i.appendChild(s)},this.image=function(t,e){!function(t,e){var n=null;if(t){if("string"==typeof t){if(0===t.indexOf("data:")){var i={};i.dataUri=t,e(i)}n=t}else n=t.src;(t=document.createElement("img")).onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0);var n={};n.dataUri=t.toDataURL("image/png"),e(n)},t.src=n}}(e,function(e){var o=document.createElementNS(n,"image");o.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataUri),o.setAttribute("x",t.x),o.setAttribute("y",t.y),o.setAttribute("width",t.w),o.setAttribute("height",t.h),i.appendChild(o)})},this.getWidth=function(){return t},this.getHeight=function(){return e},this.getElement=function(){return i},this.getSource=function(){if(i.outerHTML)return i.outerHTML;var t=document.createElement("div"),e=i.cloneNode(!0);return t.appendChild(e),t.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new Blob([this.getSource()])}},DayPilot.Excel=function(){var t=this,e=null,n=null,i=null,o="urn:schemas-microsoft-com:office:spreadsheet";this.init=function(){(e=document.implementation.createDocument("urn:schemas-microsoft-com:office:spreadsheet","Workbook",null)).documentElement.setAttribute("xmlns:o","urn:schemas-microsoft-com:office:office"),e.documentElement.setAttribute("xmlns:x","urn:schemas-microsoft-com:office:excel"),e.documentElement.setAttribute("xmlns:ss",o),e.documentElement.setAttribute("xmlns:html","http://www.w3.org/TR/REC-html40");var r=e.createElement("x:ExcelWorkbook");e.documentElement.appendChild(r),n=e.createElement("ss:Styles"),e.documentElement.appendChild(n),(i=t.styles.create()).setId("Default"),i.setName("Normal")},this.worksheets=[],this.worksheets.create=function(e){var n=t.el(o,"Worksheet"),i=new r(n);return i.setName(e),this.push(i),i},this.styles=[],this.styles.create=function(t){var i=e.createElement("ss:Style");n.appendChild(i);var o=new a(i);return this.push(o),o},this.styles.getDefault=function(){return i},this.el=function(t,n){var i=e.createElementNS(t,n);return e.documentElement.appendChild(i),i},this.getSource=function(){return'<?xml version="1.0"?>'+(new XMLSerializer).serializeToString(e)},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return e},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new Blob([this.getSource()])};var r=function(t){var n=e.createElement("Table");t.appendChild(n);var i=e.createElement("x:WorksheetOptions");t.appendChild(i),this.rows=[],this.setName=function(e){t.setAttribute("ss:Name",e)},this.cell=function(t,i){for(;i>=this.rows.length;){var r=e.createElement("Row");n.appendChild(r),this.rows.push(new o(r))}return this.rows[i].cell(t)},this.enableGridlines=function(t){var n=DayPilot.list(i.childNodes).find(function(t){return"x:DoNotDisplayGridlines"===t.tagName});if(!n&&!t){var o=e.createElement("x:DoNotDisplayGridlines");i.appendChild(o)}n&&t&&i.removeChild(n)};var o=function(t){this.cells=[],this.getElement=function(){return t},this.cell=function(i){for(;i>=this.cells.length;){var o=e.createElement("Cell");t.appendChild(o),this.cells.push(new n(o))}return this.cells[i]};var n=function(t){this.setText=function(n){var i=e.createElement("Data");i.setAttribute("ss:Type","String");var o=e.createTextNode(n);for(i.appendChild(o);t.firstChild;)t.removeChild(t.firstChild);return t.appendChild(i),this},this.setColspan=function(e){return e>1?t.setAttribute("ss:MergeAcross",e-1):t.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(e){return e>1?t.setAttribute("ss:MergeDown",e-1):t.removeAttribute("ss:MergeDown"),this},this.setStyle=function(e){if(!(e instanceof a))throw"Invalid argument, Style expected";return t.setAttribute("ss:StyleID",e.getId()),this}}}},a=function(t){var n=DayPilot.guid();t.setAttribute("ss:ID",n);var i=e.createElement("ss:Alignment");t.appendChild(i);var o=e.createElement("ss:Interior");t.appendChild(o);var r=e.createElement("ss:Borders");t.appendChild(r),this.setHorizontalAlignment=function(t){i.setAttribute("ss:Horizontal",t)},this.setVerticalAlignment=function(t){i.setAttribute("ss:Vertical",t)},this.setBackColor=function(t){var e=DayPilot.Util.normalizeColor(t);o.setAttribute("ss:Color",e),o.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(t){function n(t,n){var i=e.createElement("ss:Border");return i.setAttribute("ss:Position",t),i.setAttribute("ss:LineStyle","Continuous"),i.setAttribute("ss:Color",DayPilot.Util.normalizeColor(n)),i}this.clearBorders();var i=n("Left",t);r.appendChild(i);var o=n("Right",t);r.appendChild(o);var a=n("Top",t);r.appendChild(a);var s=n("Bottom",t);r.appendChild(s)},this.clearBorders=function(){for(;r.firstChild;)r.removeChild(r.firstChild)},this.getId=function(){return n},this.setId=function(e){t.setAttribute("ss:ID",n=e)},this.setName=function(e){t.setAttribute("ss:Name",e)}};this.init()},DayPilot.Export=function(t){this.toElement=function(){return t.getElement()},this.dimensions=function(){return{width:t.getWidth(),height:t.getHeight()}},this.toHtml=function(){return t.getSource()},this.toDataUri=function(){return t.getDataUri()},this.toBlob=function(){return t.getBlob()},this.print=function(e){(e=e||{}).orientation=e.orientation||"portrait";var n=document.createElement("iframe");n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("frameborder",0),n.setAttribute("src","about:blank"),n.onload=function(){var i=n.contentWindow.document;if(i.body.appendChild(t.getElement()),"landscape"===e.orientation){var o=DayPilot.sheet(i);o.add("@page","size: landscape;"),o.commit()}n.contentWindow.document.execCommand("print",!1,null)||(n.contentWindow.focus(),n.contentWindow.print()),setTimeout(function(){document.body.removeChild(n)},10)},document.body.appendChild(n)},this.download=function(e){e=e||t.getDefaultFileName();var n=t.getBlob();DayPilot.Util.downloadBlob(n,e)}},DayPilot.Exception=function(t){return new Error(t)},DayPilot.Locale=function(t,e){if(this.id=t,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,e)for(var n in e)this[n]=e[n]},DayPilot.Locale.all={},DayPilot.Locale.find=function(t){if(!t)return null;var e=t.toLowerCase();return e.length>2&&(e=DayPilot.Util.replaceCharAt(e,2,"-")),DayPilot.Locale.all[e]},DayPilot.Locale.register=function(t){DayPilot.Locale.all[t.id]=t},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","mar\ufffd","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","mar\ufffd","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["ned\ufffdle","pond\ufffdl\ufffd","\ufffdter\ufffd","st\ufffdeda","\ufffdtvrtek","p\ufffdtek","sobota"],dayNamesShort:["ne","po","\ufffdt","st","\ufffdt","p\ufffd","so"],monthNames:["leden","\ufffdnor","b\ufffdezen","duben","kv\ufffdten","\ufffderven","\ufffdervenec","srpen","z\ufffd\ufffd\ufffd","\ufffd\ufffdjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["sondag","mandag","tirsdag","onsdag","torsdag","fredag","lordag"],dayNamesShort:["so","ma","ti","on","to","fr","lo"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["J\ufffdnner","Februar","M\ufffdrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["J\ufffdn","Feb","M\ufffdr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\ufffdrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\ufffdrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","M\ufffdrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","mi\ufffdrcoles","jueves","viernes","s\ufffdbado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","mi\ufffdrcoles","jueves","viernes","s\ufffdbado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","s\ufffd."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kes\ufffdkuu","hein\ufffdkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kes\ufffd","hein\ufffd","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\ufffdvrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\ufffdcembre",""],monthNamesShort:["janv.","f\ufffdvr.","mars","avr.","mai","juin","juil.","aout","sept.","oct.","nov.","d\ufffdc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\ufffdvrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\ufffdcembre",""],monthNamesShort:["janv.","f\ufffdvr.","mars","avr.","mai","juin","juil.","aout","sept.","oct.","nov.","d\ufffdc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\ufffdvrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\ufffdcembre",""],monthNamesShort:["janv.","f\ufffdvr.","mars","avr.","mai","juin","juil.","aout","sept.","oct.","nov.","d\ufffdc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\ufffdvrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\ufffdcembre",""],monthNamesShort:["janv.","f\ufffdvr.","mars","avr.","mai","juin","juil.","aout","sept.","oct.","nov.","d\ufffdc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","f\ufffdvrier","mars","avril","mai","juin","juillet","aout","septembre","octobre","novembre","d\ufffdcembre",""],monthNamesShort:["janv.","f\ufffdvr.","mars","avr.","mai","juin","juil.","aout","sept.","oct.","nov.","d\ufffdc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","m\ufffdrcores","xoves","venres","s\ufffdbado"],dayNamesShort:["do","lu","ma","m\ufffd","xo","ve","s\ufffd"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuno","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuno","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","lunedi","martedi","mercoledi","giovedi","venerdi","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","lunedi","martedi","mercoledi","giovedi","venerdi","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["???","???","???","???","???","???","???"],dayNamesShort:["?","?","?","?","?","?","?"],monthNames:["1?","2?","3?","4?","5?","6?","7?","8?","9?","10?","11?","12?",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["sondag","mandag","tirsdag","onsdag","torsdag","fredag","lordag"],dayNamesShort:["so","ma","ti","on","to","fr","lo"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["sondag","mandag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["so","ma","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","ter\ufffda-feira","quarta-feira","quinta-feira","sexta-feira","s\ufffdbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","mar\ufffdo","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedzia\ufffdek","wtorek","\ufffdroda","czwartek","pi\ufffdtek","sobota"],dayNamesShort:["N","Pn","Wt","\ufffdr","Cz","Pt","So"],monthNames:["stycze\ufffd","luty","marzec","kwiecie\ufffd","maj","czerwiec","lipiec","sierpie\ufffd","wrzesie\ufffd","pa\ufffddziernik","listopad","grudzie\ufffd",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa\ufffd","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","ter\ufffda-feira","quarta-feira","quinta-feira","sexta-feira","s\ufffdbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","mar\ufffdo","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminic\ufffd","luni","mar?i","miercuri","joi","vineri","s\ufffdmb\ufffdt\ufffd"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["???????????","???????????","???????","?????","???????","???????","???????"],dayNamesShort:["??","??","??","??","??","??","??"],monthNames:["??????","???????","????","??????","???","????","????","??????","????????","???????","??????","???????",""],monthNamesShort:["???","???","???","???","???","???","???","???","???","???","???","???",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nede\ufffda","pondelok","utorok","streda","\ufffdtvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","\ufffdt","pi","so"],monthNames:["janu\ufffdr","febru\ufffdr","marec","apr\ufffdl","m\ufffdj","j\ufffdn","j\ufffdl","august","september","okt\ufffdber","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["s\ufffdndag","mandag","tisdag","onsdag","torsdag","fredag","l\ufffdrdag"],dayNamesShort:["s\ufffd","ma","ti","on","to","fr","l\ufffd"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Sali","\ufffdar\ufffdamba","Per\ufffdembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","\ufffda","Pe","Cu","Ct"],monthNames:["Ocak","\ufffdubat","Mart","Nisan","Mayis","Haziran","Temmuz","Agustos","Eyl\ufffdl","Ekim","Kasim","Aralik",""],monthNamesShort:["Oca","\ufffdub","Mar","Nis","May","Haz","Tem","Agu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["???","???","???","???","???","???","???"],dayNamesShort:["?","?","?","?","?","?","?"],monthNames:["??","??","??","??","??","??","??","??","??","??","???","???",""],monthNamesShort:["1?","2?","3?","4?","5?","6?","7?","8?","9?","10?","11?","12?",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(t){var e=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=DayPilot.Date.today(),this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(t){var n=e.navigator.control;n&&(n.selectMode=t,n.select(e.day))},this.addView=function(t,n){var i;if("string"==typeof t){if(!(i=document.getElementById(t)))throw"Element not found: "+t}else i=t;var o=i,r={isView:!0};return r.id=o.id,r.control=o,r.options=n||{},r.hide=function(){o.hide?o.hide():o.nav&&o.nav.top?o.nav.top.style.display="none":o.style.display="none"},r.sendNavigate=function(t){o.backendUrl||"function"==typeof WebForm_DoCallback&&o.uniqueID?o.commandCallBack&&o.commandCallBack("navigate",{day:t}):(o.startDate=t,o.update())},r.show=function(){e.c(),o.show?o.show():o.nav&&o.nav.top?o.nav.top.style.display="":o.style.display=""},r.selectMode=function(){if(r.options.navigatorSelectMode)return r.options.navigatorSelectMode;if(o.isCalendar)switch(o.viewType){case"Day":return"day";case"Week":case"WorkWeek":return"week";default:return"day"}else if(o.isMonth)switch(o.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(r),r},this.addTrigger=function(t,n){var i;if("string"==typeof t){if(!(i=document.getElementById(t)))throw"Element not found: "+t}else i=t;var o=this.f(n);o||(o=this.addView(n));var r={isTrigger:!0};return r.element=i,r.id=i.id,r.view=o,r.onClick=function(t){e.show(r),e.g(r),(t=t||window.event)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},DayPilot.re(i,"click",r.onClick),this.triggers.push(r),r},this.addButton=this.addTrigger,this.select=function(t){var e=this.j(t);e?e.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.j=function(t){for(var e=0;e<this.triggers.length;e++){var n=this.triggers[e];if(n.id===t)return n}return null},this.g=function(t){if(this.selectedClass){for(var e=0;e<this.triggers.length;e++)DayPilot.Util.removeClass(this.triggers[e].element,this.selectedClass);DayPilot.Util.addClass(t.element,this.selectedClass)}},this.addNavigator=function(t){e.navigator.control=t,t.timeRangeSelectedHandling="JavaScript",t.onTimeRangeSelected=function(){var n,i,o;if(1===t.api)n=arguments[0],i=arguments[1],o=arguments[2];else{var r=arguments[0];n=r.start,i=r.end,o=r.day}e.day=o,function(t,n,i){var o={};o.start=t,o.end=n,o.day=i,o.target=e.active.control,o.preventDefault=function(){this.preventDefault.value=!0};var r=e.k;r&&r.start===o.start&&r.end===o.end&&r.day===o.day&&r.target===o.target||(e.k=o,"function"==typeof e.onChange&&(e.onChange(o),o.preventDefault.value)||"function"==typeof e.onTimeRangeSelect&&(e.onTimeRangeSelect(o),o.preventDefault.value)||(e.active.sendNavigate(e.day),"function"==typeof e.onChanged&&e.onChanged(o),"function"==typeof e.onTimeRangeSelected&&e.onTimeRangeSelected(o)))}(n,i,o)}},this.show=function(t){var n,i;if(t.isTrigger)n=(i=t).view;else if(n=t.isView?t:this.f(t),this.active===n)return;if(e.onSelect){var o={};o.source=i?i.element:null,o.target=n.control,e.onSelect(o)}this.active=n,n.show();var r=n.selectMode();e.navigator.updateMode(r)},this.f=function(t){for(var e=0;e<this.views.length;e++)if(this.views[e].control===t)return this.views[e];return null},this.c=function(){for(var t=0;t<this.views.length;t++)this.views[t].hide()},this.events={},this.events.load=function(t,n,i){if(!e.active||!e.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";e.active.control.events.load(t,n,i)},this.k=null,this.l=function(){if(t)for(var n in t)"triggers"===n?DayPilot.list(t.triggers).each(function(t){e.addTrigger(t.id,t.view)}):"navigator"===n?e.addNavigator(t.navigator):e[n]=t[n]},this.l()},function(){if(!DayPilot.Global.defaultCss){var t=DayPilot.sheet();t.add(".bubble_default_main","cursor: default;"),t.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),t.add(".calendar_default_main","border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),t.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #333;background: #f3f3f3;"),t.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),t.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),t.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),t.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;"),t.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),t.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),t.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),t.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),t.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),t.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),t.add(".calendar_default_event","cursor: default;"),t.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),t.add(".calendar_default_shadow_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;background-color: #666666; opacity: 0.5;filter: alpha(opacity=50);"),t.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),t.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),t.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),t.add(".calendar_default_now","background-color: red;"),t.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),t.add(".calendar_default_shadow_forbidden .calendar_default_shadow_inner","background-color: red;"),t.add(".calendar_default_shadow_top",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".calendar_default_shadow_bottom",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".calendar_default_crosshair_vertical, .calendar_default_crosshair_horizontal, .calendar_default_crosshair_left, .calendar_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".calendar_default_loading","background-color: orange; color: white; padding: 2px;"),t.add(".calendar_default_scroll","background-color: #f3f3f3;"),t.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),t.add(".menu_default_main, .menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),t.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),t.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),t.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),t.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),t.add(".menu_default_main a:hover","background-color: #f3f3f3;"),t.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),t.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),t.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),t.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),t.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),t.add(".menu_default_item a i","height: 20px;line-height: 20px;"),t.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),t.add(".menubar_default_item:hover","background-color: #f2f2f2;"),t.add(".menubar_default_item_active","background-color: #f2f2f2;"),t.add(".month_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;"),t.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),t.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),t.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),t.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),t.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3;"),t.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),t.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),t.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),t.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),t.add(".month_default_selected .month_default_event_inner","background: #ddd;"),t.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),t.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),t.add(".month_default_loading","background-color: orange; color: white; padding: 2px;"),t.add(".navigator_default_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),t.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),t.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),t.add(".navigator_default_day","color: black;"),t.add(".navigator_default_weekend","background-color: #f0f0f0;"),t.add(".navigator_default_dayheader","color: black;"),t.add(".navigator_default_line","border-bottom: 1px solid #c0c0c0;"),t.add(".navigator_default_dayother","color: gray;"),t.add(".navigator_default_todaybox","border: 1px solid red;"),t.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),t.add(".navigator_default_busy","font-weight: bold;"),t.add(".navigator_default_cell","text-align: center;"),t.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),t.add(".navigator_default_title","text-align: center;"),t.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),t.add(".navigator_default_dayheader","text-align: center;"),t.add(".navigator_default_weeknumber","text-align: center;"),t.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),t.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),t.add(".scheduler_default_timeheader","cursor: default;color: #333;"),t.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #333;background: #f3f3f3;"),t.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #333;background: #f3f3f3;"),t.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;"),t.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),t.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),t.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #c0c0c0;"),t.add(".scheduler_default_divider_horizontal","background-color: #c0c0c0;"),t.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),t.add(".scheduler_default_matrix_vertical_break","background-color: #999;"),t.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),t.add(".scheduler_default_resourcedivider","background-color: #c0c0c0;"),t.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".scheduler_default_event","font-size:12px;color:#333;"),t.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),t.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),t.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),t.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),t.add(".scheduler_default_columnheader_inner","font-weight: bold;"),t.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid #c0c0c0;"),t.add(".scheduler_default_columnheader_splitter:hover","background-color: #c0c0c0;"),t.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),t.add(".scheduler_default_cell","background-color: #f9f9f9;"),t.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),t.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),t.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),t.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),t.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),t.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),t.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),t.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),t.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),t.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),t.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),t.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),t.add(".scheduler_default_rowheader textarea","padding: 3px;"),t.add(".scheduler_default_rowheader_scroll","cursor: default;"),t.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),t.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),t.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),t.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".scheduler_default_link_dot","border-radius: 10px; background-color: red"),t.add(".scheduler_default_task_milestone .scheduler_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),t.add(".scheduler_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".scheduler_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),t.add(".gantt_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),t.add(".gantt_default_timeheader","cursor: default;color: #666;"),t.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #333;background: #f3f3f3;"),t.add(".gantt_default_rowheader,.gantt_default_corner","color: #333;background: #f3f3f3;"),t.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;"),t.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),t.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),t.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),t.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),t.add(".gantt_default_divider_horizontal","background-color: #aaa;"),t.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),t.add(".gantt_default_matrix_vertical_break","background-color: #000;"),t.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),t.add(".gantt_default_resourcedivider","background-color: #aaa;"),t.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".gantt_default_event","font-size:12px;color:#666;"),t.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),t.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),t.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),t.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),t.add(".gantt_default_columnheader_inner","font-weight: bold;"),t.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),t.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),t.add(".gantt_default_cell","background-color: #f9f9f9;"),t.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),t.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),t.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),t.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: #1155cc; filter: none; border: 0px none;"),t.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent #1155cc; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),t.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent #1155cc transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),t.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: #38761d; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),t.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""),t.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),t.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),t.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),t.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),t.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),t.add(".gantt_default_header_icon:hover","background-color: #ccc;"),t.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),t.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),t.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),t.add(".gantt_default_rowheader textarea","padding: 5px;"),t.add(".gantt_default_rowheader_scroll","cursor: default;"),t.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),t.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),t.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),t.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),t.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),t.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),t.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),t.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),t.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),t.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),t.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),t.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),t.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),t.add(".kanban_default_timeheader","cursor: default;color: #333;"),t.add(".kanban_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".kanban_default_colheadercell","color: #333;background: #f3f3f3;"),t.add(".kanban_default_rowheader,.kanban_default_corner","color: #333;background: #f3f3f3;"),t.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),t.add(".kanban_default_colheadercell","text-align: center;"),t.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),t.add(".kanban_default_divider, .kanban_default_splitter","background-color: #c0c0c0;"),t.add(".kanban_default_divider_horizontal","background-color: #c0c0c0;"),t.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),t.add(".kanban_default_matrix_vertical_break","background-color: #000;"),t.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),t.add(".kanban_default_rowheaderdivider","background-color: #c0c0c0;"),t.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".kanban_default_card","font-size:12px;color:#333;"),t.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".kanban_default_cell","background-color: #fff;"),t.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".kanban_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),t.add(".kanban_default_header_icon:hover","background-color: #ccc;"),t.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),t.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),t.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),t.add(".kanban_default_rowheader textarea","padding: 3px;"),t.add(".kanban_default_rowheader_scroll","cursor: default;"),t.add(".kanban_default_card_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),t.add(".kanban_default_cell","background-color: #fff;"),t.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),t.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),t.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),t.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),t.add(".kanban_default_swimlane_collapse:before","content: '^';"),t.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),t.add(".kanban_default_swimlane_expand:before","content: '>';"),t.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".kanban_default_columnmove_position","background-color: #333;"),t.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.commit(),DayPilot.Global.defaultCss=!0}}();var o=function(t){var e=this;this.id=t,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var n;if(!t)throw"error: id not provided";if("string"==typeof t)n=document.getElementById(t);else{if(!t.appendChild)throw"error: invalid object provided";n=t}this.div=n,this.blocks=[];for(var i=0;i<this.widths.length;i++){var o=document.createElement("div");o.style.display="inline-block",o.style.height=null!==e.height?e.height+"px":"100%",o.style.width=this.widths[i]-this.splitterWidth+"px",o.style.overflow="hidden",o.style.verticalAlign="top",o.style.position="relative",o.setAttribute("unselectable","on"),o.className=this.css.title,n.appendChild(o);var r=document.createElement("div");r.innerHTML=this.titles[i],r.setAttribute("unselectable","on"),r.className=this.css.titleInner,o.appendChild(r);var a=document.createElement("div");a.style.display="inline-block",a.style.height=null!==e.height?e.height+"px":"100%",a.style.width=this.splitterWidth+"px",a.style.position="relative",a.appendChild(document.createElement("div")),a.style.cursor="col-resize",a.setAttribute("unselectable","on"),a.className=this.css.splitter;var s={};s.index=i,s.width=this.widths[i],a.data=s,a.onmousedown=function(t){e.drag.start=DayPilot.page(t),e.drag.data=this.data,e.div.style.cursor="col-resize",(t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1},n.appendChild(a);var l={};l.section=o,l.handle=a,this.blocks.push(l)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var t=0;t<this.blocks.length;t++)this.blocks[t].handle.data.width=this.widths[t],this.m(t)},this.m=function(t){this.blocks[t].section.style.width=this.widths[t]-this.splitterWidth+"px"},this.totalWidth=function(){for(var t=0,e=0;e<this.widths.length;e++)t+=this.widths[e];return t},this.gMouseMove=function(t){if(e.drag.start){var n=e.drag.data,i=DayPilot.page(t),o=n.index;e.widths[o]=Math.max(5,n.width+(i.x-e.drag.start.x)),e.m(o);var r={};r.widths=this.widths,r.index=n.index,e.updating(r)}},this.gMouseUp=function(t){if(e.drag.start){e.drag.start=null,document.body.style.cursor="",e.div.style.cursor="";var n=e.drag.data;n.width=e.widths[n.index];var i={};i.widths=this.widths,i.index=n.index,e.updated(i)}},this.dispose=function(){DayPilot.list(this.blocks).each(function(t){t.handle.onmousedown=null,DayPilot.de(t.section),DayPilot.de(t.handle)}),this.unregisterGlobalHandlers()},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)},this.unregisterGlobalHandlers=function(){DayPilot.ue(document,"mousemove",this.gMouseMove),DayPilot.ue(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=o}}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot.DatePicker&&(DayPilot.DatePicker=function(t){}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var t=this.list.pop();t&&t.hide()}},DayPilot.ModalStatic.remove=function(t){for(var e=DayPilot.ModalStatic.list,n=0;n<e.length;n++)if(e[n]===t)return void e.splice(n,1)},DayPilot.ModalStatic.close=function(t){DayPilot.ModalStatic.result(t),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(t){var e=DayPilot.ModalStatic.list;e.length>0&&(e[e.length-1].result=t)},DayPilot.ModalStatic.displayed=function(t){for(var e=DayPilot.ModalStatic.list,n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var t=this.list[this.list.length-1];t&&t.stretch()}},DayPilot.ModalStatic.last=function(){var t=DayPilot.ModalStatic.list;return t.length>0?t[t.length-1]:null};var t=new function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t);var e=!!t.styleSheet;return{rules:[],commit:function(){try{e&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},add:function(n,i,o){if(e)this.rules.push(n+"{"+i+"}");else if(t.sheet.insertRule)void 0===o&&(o=t.sheet.cssRules.length),t.sheet.insertRule(n+"{"+i+"}",o);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(n,i,o)}}}};t.add(".modal_default_main","border: 10px solid #ccc;"),t.add(".modal_default_content","padding: 10px 0px;"),t.add(".modal_default_inner","padding: 20px;"),t.add(".modal_default_input","padding: 10px 0px;"),t.add(".modal_default_buttons","padding: 10px 0px;"),t.add(".modal_default_background","opacity: 0.3; background-color: #000;"),t.add(".modal_default_ok","padding: 3px; width: 80px;"),t.add(".modal_default_cancel","padding: 3px; width: 80px;"),t.add(".modal_min_main","border: 1px solid #ccc;"),t.add(".modal_min_background","opacity: 0.3; background-color: #000;"),t.add(".modal_min_ok","padding: 3px 10px;"),t.add(".modal_min_cancel","padding: 3px 10px;"),t.commit(),DayPilot.Modal=function(t){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=99999,this.left=null,this.width=500,this.top=20,this.height=200,this.closed=null,this.onClosed=null,this.onShow=null;var e=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.ne=!1,this.oe=null,this.pe=null,this.showHtml=function(t){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";this.div||this.qe(),this.sd(),this.useIframe?window.setTimeout(function(t,e){return function(){t.setInnerHTML(t.id+"iframe",e)}}(this,t),0):t.nodeType?this.div.appendChild(t):this.div.innerHTML=t,this.sd(),this.se(),this.te()},this.ve=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(t){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.qe();var n=this.loadingHtml;n&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",n)),this.re(this.iframe,"load",this.we),this.iframe.src=t,this.sd(),this.se(),this.te()}else e.xe({url:t,success:function(t){e.showHtml(t.request.responseText)},error:function(t){e.showHtml("Error loading the modal dialog")}})},this.te=function(){if("function"==typeof e.onShow){var t={};t.root=e.ye(),e.onShow(t)}},this.ye=function(){return e.iframe?e.iframe.contentWindow.document:e.div},this.xe=function(t){var e=new XMLHttpRequest;if(e){var n=t.success||function(){},i=t.error||function(){},o=t.data;e.open(t.method||"GET",t.url,!0),e.setRequestHeader("Content-type","text/plain"),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||304===e.status)(t={}).request=e,n(t);else if(i){var t;(t={}).request=e,i(t)}else window.console&&console.log("HTTP error "+e.status)},4!==e.readyState&&("object"==typeof o&&(o=JSON.stringify(o)),e.send(o))}},this.sd=function(){var t=window,n=document,i=t.pageYOffset?t.pageYOffset:n.documentElement&&n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){e.hideDiv.onclick=function(){e.hide({backgroundClick:!0})}},500),this.div.className=this.theme?this.theme+"_main":"",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=i+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.div.style.height=this.useIframe||!this.autoStretch?this.height+"px":""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.we=function(){e.iframe.contentWindow.modal=e,e.autoStretch&&e.stretch()},this.stretch=function(){if(this.useIframe){for(var t=e.ze().x-40,n=this.width;n<t&&this.Ae();n+=10)this.div.style.width=n+"px",this.div.style.marginLeft="-"+Math.floor(n/2)+"px";for(var i=this.maxHeight||e.ze().y-2*this.top,o=this.height;o<i&&this.Be();o+=10)this.iframe.style.height=o+"px",this.div.style.height=o+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.we)}else this.div.style.height=""},this.Ae=function(){for(var t=this.iframe.contentWindow.document,e="BackCompat"===t.compatMode?t.body:t.documentElement,n=e.scrollWidth,i=t.body.children,o=0;o<i.length;o++)n=Math.max(n,i[o].offsetLeft+i[o].offsetWidth);return n>e.clientWidth},this.Be=function(){for(var t=this.iframe.contentWindow.document,e="BackCompat"===t.compatMode?t.body:t.documentElement,n=e.scrollHeight,i=t.body.children,o=0;o<i.length;o++)n=Math.max(n,i[o].offsetTop+i[o].offsetHeight);return n>e.clientHeight},this.ze=function(){var t=document;return"CSS1Compat"===t.compatMode&&t.documentElement&&t.documentElement.clientWidth?{x:t.documentElement.clientWidth,y:t.documentElement.clientHeight}:{x:t.body.clientWidth,y:t.body.clientHeight}},this.se=function(){this.ne||(this.re(window,"resize",this.Ce),this.re(window,"scroll",this.De),this.dragDrop&&(this.re(document,"mousemove",this.Ee),this.re(document,"mouseup",this.Fe)),this.ne=!0)},this.Ge=function(t){t.target===e.div&&(e.div.style.cursor="move",e.He(),e.pe=e.mc(t||window.event),e.oe={x:e.div.offsetLeft,y:e.div.offsetTop})},this.Ee=function(t){if(e.pe){t=t||window.event;var n=e.mc(t),i=n.x-e.pe.x,o=n.y-e.pe.y;e.div.style.marginLeft="0px",e.div.style.top=e.oe.y+o+"px",e.div.style.left=e.oe.x+i+"px"}},this.Fe=function(t){e.pe&&(e.Ie(),e.div.style.cursor=null,e.pe=null)},this.He=function(){if(this.useIframe){var t=document.createElement("div");t.style.backgroundColor="#ffffff",t.style.filter="alpha(opacity=80)",t.style.opacity="0.80",t.style.width="100%",t.style.height=this.height+"px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",this.div.appendChild(t),this.mask=t}},this.Ie=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.Ce=function(){},this.De=function(){},this.Je=function(){if(e.hideDiv&&e.div&&"none"!==e.hideDiv.style.display&&"none"!==e.div.style.display){var t=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;e.scrollWithPage||(e.div.style.top=t+e.top+"px")}},this.re=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},this.ue=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},this.mc=function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}},this.abs=function(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t.offsetParent;)e.x+=(t=t.offsetParent).offsetLeft,e.y+=t.offsetTop;return e},this.qe=function(){var t=document.createElement("div");t.id=this.id+"hide",t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.style.right="0px",t.style.bottom="0px",t.oncontextmenu=function(){return!1},t.onmousedown=function(){return!1},document.body.appendChild(t);var e=document.createElement("div");e.id=this.id+"popup",e.style.position="fixed",e.style.left="50%",e.style.top="0px",e.style.backgroundColor="white",e.style.width="50px",e.style.height="50px",this.dragDrop&&(e.onmousedown=this.Ge);var n=null;this.useIframe&&((n=document.createElement("iframe")).id=this.id+"iframe",n.name=this.id+"iframe",n.frameBorder="0",n.style.width="100%",n.style.height="50px",e.appendChild(n)),document.body.appendChild(e),this.div=e,this.iframe=n,this.hideDiv=t},this.setInnerHTML=function(t,n){var i=window.frames[t],o=i.contentWindow||i.document||i.contentDocument;o.document&&(o=o.document),null==o.body&&o.write("<body></body>"),n.nodeType?o.body.appendChild(n):o.body.innerHTML=n,e.autoStretch&&(e.autoStretchFirstLoadOnly&&e.Ke||(e.stretch(),e.Ke=!0))},this.close=function(t){this.result=t,this.hide()},this.hide=function(t){var n={};n.backgroundClick=!!(t=t||{}).backgroundClick,n.result=this.result,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(n),n.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),DayPilot.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(n):this.closed&&this.closed(),this.result=null,this.disposeOnClose&&(e.Le(e.div),e.Le(e.hideDiv),e.div=null,e.hideDiv=null,e.iframe=null))},this.Le=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},this.Me=function(){if(t)for(var e in t)this[e]=t[e]},this.Me(),(e=e||{}).height=e.height||40,e.useIframe=!1},DayPilot.Modal.prompt=function(t,e,n){},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},void 0===DayPilot.getPromise&&(DayPilot.getPromise=function(t){return"undefined"!=typeof Promise?new Promise(t):(DayPilot.Promise=function(t){var e=this;this.then=function(e,n){return t(e=e||function(){},n=n||function(){}),DayPilot.getPromise(t)},this.catch=function(n){return e.then(null,n),DayPilot.getPromise(t)}},new DayPilot.Promise(t))})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function t(t){for(var e=document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY);e&&e.parentNode;)if((e=e.parentNode).daypilotMainD)return e.calendar;return!1}function e(t){var e=t.touches[0].pageY,n={};return n.x=t.touches[0].pageX,n.y=e,n}if(void 0===DayPilot.Scheduler){var n=function(){var t=navigator.userAgent;return t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&!(t.indexOf("Chrome")>-1)}(),i={};DayPilot.Scheduler=function(t,s){function l(t,e){return 1-t/e}this.v="2018.2.3324";var c=this;this.id=t,this.isScheduler=!0,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.api=2,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.navigatorBackSync=null,this.backendUrl=null,this.beforeCellRenderCaching=!0,this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.cornerHtml="",this.crosshairType="Header",this.cssClassPrefix="scheduler_default",this.days=1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.drawBlankCells=!0,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.dynamicLoadingDelayedCellRendering=!1,this.eventEditMinWidth=100,this.eventEndSpec="DateTime",this.eventHeight=25,this.eventHtmlLeftMargin=10,this.eventHtmlRightMargin=10,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.eventMinWidth=1,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventMoveSkipNonBusiness=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventUpdateInplaceOptimization=!1,this.eventsLoadMethod="GET",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.eventVersionPosition="Above",this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.headerHeight=20,this.heightSpec="Auto",this.height=300,this.hideBorderFor100PctHeight=!1,this.hideUntilInit=!0,this.infiniteScrollingEnabled=!1,this.infiniteScrollingMargin=50,this.infiniteScrollingStepDays=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.linksLoadMethod="GET",this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.overrideWheelScrolling=!1,this.messageBarPosition="Top",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowCreateHeight=null,this.rowCreateHtml="New row...",this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthMarginRight=0,this.rowHeaderCols=null,this.rowHeaderWidth=80,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.rowsLoadMethod="GET",this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollStep=null,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.separators=[],this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=DayPilot.Date.today(),this.syncResourceTree=!1,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.timeHeaderTextWrappingEnabled=!1,this.treeAutoExpand=!0,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.treePreventParentUsage=!1,this.timeFormat="Auto",this.timeline=null,this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.resourceCollapseHandling="Enabled",this.resourceExpandHandling="Enabled",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeHeaderClickHandling="Enabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy","function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.resourceBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.resourceBubble=null),DayPilot.browser.ie&&(this.scrollDelayCells=100,this.scrollDelayFloats=100),1===c.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null,this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeResHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onBeforeTimeHeaderExport=null,this.onBeforeRowHeaderExport=null,this.onDomAddEvent=null,this.onDomRemoveEvent=null,this.onEventFilter=null,this.onRowFilter=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.C=0,this.$f=!0,this._f=!1,this.ag=!1,this.bg=!1,this.cg=-1,this.dg=-1,this.xd=!1,this.eg=-1,this.fg=!1,this.gg=!0,this.rowlist=DayPilot.list(),this.itline=DayPilot.list(),this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.u={},this.u.cells=[],this.u.linesVertical={},this.u.linesHorizontal={},this.u.timeHeaderGroups=[],this.u.timeHeader={},this.u.pixels=[],this.u.breaks=[],this.u.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(t){return 0===t.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader","timeouts","rowHeaderCols"],this.members.noCssOnly=[],this.D="javasc",this.nav={},this.M=function(t,e){if(t=JSON.parse(t),c.onScrollCalled=!1,t.CallBackRedirect)document.location.href=t.CallBackRedirect;else{if("function"==typeof c.onCallBackResult){var n={};if(n.result=t,n.preventDefault=function(){n.preventDefault.value=!0},c.onCallBackResult(n),n.preventDefault.value)return c.ab(),c._(),c.wa(),t.Message&&c.message&&c.message(t.Message),c.aa(t.CallBackData,!0),c.hg(),void c.ig()}if(t.BubbleGuid){var i=t.BubbleGuid,o=this.bubbles[i];return delete this.bubbles[i],c._(),void 0!==t.Result.BubbleHTML&&o&&o.updateView(t.Result.BubbleHTML,o),void c.hg()}if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),void 0!==t.ClientState&&(c.clientState=null===t.ClientState?{}:t.ClientState),"None"===t.UpdateType)return c._(),c.hg(),t.Message&&c.message(t.Message),void c.aa(t.CallBackData,!0);if(t.VsUpdate){var r=document.createElement("input");r.type="hidden",r.name=c.id+"_vsupdate",r.id=r.name,r.value=t.VsUpdate,c.Ne.innerHTML="",c.Ne.appendChild(r)}void 0!==t.TagFields&&(c.tagFields=t.TagFields),void 0!==t.SortDirections&&(c.sortDirections=t.SortDirections),c.u.drawArea=null,"Full"===t.UpdateType&&(c.resources=t.Resources,c.colors=t.Colors,c.palette=t.Palette,c.dirtyColors=t.DirtyColors,c.cellProperties=t.CellProperties,c.cellConfig=t.CellConfig,c.separators=t.Separators,c.timeline=t.Timeline,c.timeHeader=t.TimeHeader,c.timeHeaders=t.TimeHeaders,void 0!==t.Links&&(c.links.list=t.Links),void 0!==t.RowHeaderColumns&&(c.rowHeaderColumns=t.RowHeaderColumns),c.startDate=t.StartDate?new DayPilot.Date(t.StartDate):c.startDate,c.days=t.Days?t.Days:c.days,c.cellDuration=t.CellDuration?t.CellDuration:c.cellDuration,c.cellGroupBy=t.CellGroupBy?t.CellGroupBy:c.cellGroupBy,c.cellWidth=t.CellWidth?t.CellWidth:c.cellWidth,void 0!==t.Scale&&(c.scale=t.Scale),c.viewType=t.ViewType?t.ViewType:c.viewType,void 0!==t.ShowNonBusiness&&(c.showNonBusiness=t.ShowNonBusiness),c.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:c.businessBeginsHour,c.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:c.businessEndsHour,void 0!==t.DynamicLoading&&(c.dynamicLoading=t.DynamicLoading),void 0!==t.TreeEnabled&&(c.treeEnabled=t.TreeEnabled),c.locale=t.Locale?t.Locale:c.locale,void 0!==t.TimeZone&&(c.timeZone=t.TimeZone),c.timeFormat=t.TimeFormat?t.TimeFormat:c.timeFormat,c.rowHeaderCols=t.RowHeaderCols?t.RowHeaderCols:c.rowHeaderCols,void 0!==t.DurationBarMode&&(c.durationBarMode=t.DurationBarMode),void 0!==t.CornerHTML&&(c.cornerHtml=t.CornerHTML),c.hashes=t.Hashes,c.jg(),c.kg(),c.lg(),c.ea()),"Scroll"!==t.Action&&c.fa(t.Events),"Full"===t.UpdateType&&(c.mg(),c.ng()),c.og(),c.ra(),c.pg(),c.u.drawArea=null,"Scroll"!==t.Action?(c.qg(),c.ga(),"Auto"!==c.heightSpec&&"Max"!==c.heightSpec||c.na(),c.rg(),c.P(),c.sg(),c.multiselect.clear(!0),c.multiselect.tg(t.SelectedEvents),c.ug(),c.vg(),c.sa()):(c.multiselect.clear(!0),c.multiselect.tg(t.SelectedEvents),c.wg(t.Events)),"HoldForever"!==c.timeRangeSelectedHandling&&c.xg(),"Full"===t.UpdateType&&(c.setScroll(t.ScrollX,t.ScrollY),c.Jf()),c.yg(),c.ab(),t.SelectedRows&&c.zg(t.SelectedRows),c._(),"Full"===t.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){c.mg(),c.na()},0),c.wa(),t.Message&&c.message&&c.message(t.Message),c.aa(t.CallBackData,!0),c.hg(),c.ig(),"Full"!==t.UpdateType||"Scroll"===t.Action||c.onScrollCalled||setTimeout(function(){c.Ag()},0)}},this.ab=function(){if(c.todo&&c.todo.del){var t=c.todo.del;t.parentNode.removeChild(t),c.todo.del=null}},this.aa=function(t,e){window.setTimeout(function(t,e){return function(){if(c.xa()){if("function"==typeof c.onAfterRender){var n={};n.isCallBack=e,n.isScroll=!1,n.data=t,c.onAfterRender(n)}}else c.afterRender&&c.afterRender(t,e)}}(t,e),0)},this.scrollTo=function(t,e,n){c.Bg.enabled?(c.Bg.scrollToRequested=t,setTimeout(function(){var t=c.Bg.scrollToRequested;t&&c.Cg(t,e,n)},0)):c.Cg(t,e,n)},this.Cg=function(t,e,n){if(t){if(!c.B)return void(c.Dg={date:t,animated:e,position:n});if("Days"===c.viewType){var i=c.Eg(new DayPilot.Date(t));if(!i)return;return void setTimeout(function(){c.nav.scroll.scrollTop=i.top},100)}var o;if(t instanceof DayPilot.Date)o=this.getPixels(t).left;else if("string"==typeof t)o=this.getPixels(new DayPilot.Date(t)).left;else{if("number"!=typeof t)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";o=t}var r=this.Fg.clientWidth,a=this.nav.scroll.clientWidth;switch((n=n||"left").toLowerCase()){case"left":break;case"middle":o-=a/2;break;case"right":o-=a}if(o<0&&(o=0),o>r-a&&(o=r-a),!e)return void c.Gg(o);var s=Math.abs(c.nav.scroll.scrollLeft-o)/r,l=50;if("number"==typeof e)l=e;else if("string"==typeof e)switch(e){case"fast":l=30;break;case"normal":l=50;break;case"slow":l=100;break;case"linear":l=Math.floor(100*s)}s>.6&&(l=Math.min(l,80)),this.Hg(o,l)}},this.Hg=function(t,e){for(var n={steps:[],index:0,delay:10,next:function(){var t=n.steps[n.index];return n.index+=1,t},finished:function(){c.Ag()}},i=c.getScrollX(),o=(e=e||100,t-i),r=0;r<e;r++){var a=r/e,s=2*(a-.5)/(Math.pow(2*(a-.5),2)+1)+.5;n.steps.push(i+o*s)}n.steps.push(t),function t(e){var n=e.next();return void 0===n?void(e.finished&&e.finished()):(c.setScrollX(n),window.clearTimeout(c.refreshTimeout),void setTimeout(function(){t(e)},e.delay))}(n)},this.scrollToResource=function(t){DayPilot.complete(function(){var e=c.Ig(t);e&&setTimeout(function(){c.nav.scroll.scrollTop=e.top},100)})},this.Jg=function(){if(this.floatingTimeHeaders&&this.timeHeader){var t=this.Kg();if(t){this.Lg();for(var e=t.pixels.left+u.shiftX,n=t.pixels.right+u.shiftX,i=[],o=0;o<this.timeHeader.length;o++)for(var r=0;r<this.timeHeader[o].length;r++){var a=this.timeHeader[o][r],s=a.left,l=a.left+a.width,c=null;if(s<e&&e<l&&((c={}).x=r,c.y=o,c.marginLeft=e-s,c.marginRight=0,c.div=this.u.timeHeader[r+"_"+o],i.push(c)),s<n&&n<l){c||((c={}).x=r,c.y=o,c.marginLeft=0,c.div=this.u.timeHeader[r+"_"+o],i.push(c)),c.marginRight=l-n;break}}for(var d=0;d<i.length;d++)this.Mg((c=i[d]).div,c.marginLeft,c.marginRight)}}},this.yg=function(){this.Jg(),this.Ng()},this.Og={};var d=this.Og;d.eventsInRectangle=function(t,e,n,i){var o=t,r=t+n,a=e,s=e+i;return DayPilot.list(c.elements.events).filter(function(t){var e=t.event,n=c.rowlist[e.part.dayIndex].top+e.part.top,i=n+e.part.height;if(DayPilot.Util.overlaps(e.part.left,e.part.left+e.part.width,o,r)&&DayPilot.Util.overlaps(n,i,a,s))return!0})},d.events=function(t){var e=[],n=(t=t||"All",c.Kg());if(!n)return DayPilot.list(e);for(var i=n.pixels.left,o=n.pixels.right,r=0;r<c.elements.events.length;r++){var a=c.elements.events[r],s=a.event,l=s.part.left,d=s.part.left+s.part.width;switch(t){case"Left":l<i&&i<d&&e.push(a);break;case"All":DayPilot.Util.overlaps(l,d,i,o)&&e.push(a)}}return DayPilot.list(e).addProps({area:n})},this.Ng=function(){if(this.floatingEvents){var t=d.events("Left");this.Pg(),t.filter(function(t){return"Milestone"!==t.event.data.type}).forEach(function(e){c.Qg(e,t.area.pixels.left-e.event.part.left,0)})}},this.elements.sections=[],this.elements.hsections=[],this.Mg=function(t,e,n){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.className=this.q("_timeheader_float"),i.style.position="absolute",i.style.left=e+"px",i.style.right=n+"px",i.style.top="0px",i.style.bottom="0px",i.style.overflow="hidden";var o=document.createElement("div");o.className=this.q("_timeheader_float_inner"),o.setAttribute("unselectable","on");var r=t.cell.th;r.innerHTML&&(o.innerHTML=r.innerHTML),r.fontColor&&(o.style.color=r.fontColor),i.appendChild(o),t.section=i,t.insertBefore(i,t.firstChild.nextSibling),t.firstChild.innerHTML="",this.elements.hsections.push(t)},this.Lg=function(){for(var t=0;t<this.elements.hsections.length;t++){var e=this.elements.hsections[t],n=e.cell;n&&e.firstChild&&(e.firstChild.innerHTML=n.th.innerHTML),DayPilot.de(e.section),e.section=null}this.elements.hsections=[]},this.Qg=function(t,e,n){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.className=this.q(A.eventFloat),i.style.position="absolute",i.style.left=e+"px",i.style.right=n+"px",i.style.top="0px",i.style.bottom="0px",i.style.overflow="hidden";var o=document.createElement("div");o.className=this.q(A.eventFloatInner),o.setAttribute("unselectable","on"),o.innerHTML=t.event.client.html(),t.event.data.fontColor&&(o.style.color=t.event.data.fontColor),i.appendChild(o),t.section=i,t.insertBefore(i,t.firstChild.nextSibling),t.firstChild.innerHTML="";var r=t.event,a=r.cache?r.cache.areas:r.data.areas;a=a||[];var s={offsetX:c.Rg(o),eventDiv:t,areas:a.filter(function(t){return!(t.start||r.end)})};DayPilot.Areas.attach(i,t.event,s),DayPilot.Areas.disable(t),this.elements.sections.push(t)},this.Sg=null,this.Rg=function(t){return null===c.Sg&&(c.Sg=parseInt(new DayPilot.StyleReader(t).get("padding-left"))),c.Sg},this.Pg=function(){for(var t=0;t<this.elements.sections.length;t++){var e=this.elements.sections[t],n=e.event;n&&(e.firstChild.innerHTML=n.client.html()),DayPilot.de(e.section),DayPilot.Areas.enable(e),e.section=null}this.elements.sections=[]},this.setScrollX=function(t){c.Bg.enabled?(c.Bg.scrollXRequested=t,setTimeout(function(){var t=c.Bg.scrollXRequested;"number"==typeof t&&c.Gg(t)},0)):c.Gg(t)},this.Gg=function(t){var e=c.nav.scroll,n=c.Tg();e.clientWidth+t>n&&(t=n-e.clientWidth),c.divTimeScroll.scrollLeft=t,e.scrollLeft=t},this.setScrollY=function(t){c.Bg.enabled?(c.Bg.scrollYRequested=t,setTimeout(function(){var t=c.Bg.scrollYRequested;"number"==typeof t&&c.Ug(t)},0)):c.Ug(t)},this.Ug=function(t){var e=c.nav.scroll,n=c.eg;e.clientHeight+t>n&&(t=n-e.clientHeight),c.divResScroll.scrollTop=t,e.scrollTop=t},this.setScroll=function(t,e){c.setScrollX(t),c.setScrollY(e)},this.message=function(t,e){if(null!==t){var n={};"object"==typeof arguments[1]&&(e=(n=arguments[1]).delay),e=e||this.messageHideAfter||2e3;var i,o=this.Vg()+1,r=this.Wg()+M.splitterWidth(),a=DayPilot.sw(c.nav.scroll)+1,s=DayPilot.sh(c.nav.scroll)+1;if(this.nav.message)i=c.nav.message;else{(i=document.createElement("div")).style.position="absolute",i.style.left=r+"px",i.style.right=a+"px",i.style.display="none",DayPilot.re(i,DayPilot.touch.start,function(t){c.nav.message.style.display="none",t.preventDefault(),t.stopPropagation()}),i.onmousemove=function(){c.messageHideOnMouseOut&&i.messageTimeout&&!i.status&&clearTimeout(i.messageTimeout)},i.onmouseout=function(){c.messageHideOnMouseOut&&"none"!==c.nav.message.style.display&&(i.messageTimeout=setTimeout(c.Ia,500))};var l=document.createElement("div");l.onclick=function(){c.nav.message.style.display="none"},l.className=this.q("_message"),i.appendChild(l);var d=document.createElement("div");d.style.position="absolute",d.className=this.q("_message_close"),d.onclick=function(){c.nav.message.style.display="none"},i.appendChild(d),this.nav.top.appendChild(i),this.nav.message=i}var u=function(){var i=c.nav.message;i.firstChild.className=c.q("_message"),n.cssClass&&DayPilot.Util.addClass(i.firstChild,n.cssClass),c.nav.message.firstChild.innerHTML=t;var r=DayPilot.sw(c.nav.scroll)+1;c.nav.message.style.right=r+"px";var a=c.messageBarPosition||"Top";"Bottom"===a?(c.nav.message.style.bottom=s+"px",c.nav.message.style.top=""):"Top"===a&&(c.nav.message.style.bottom="",c.nav.message.style.top=o+"px"),DayPilot.fade(c.nav.message,.2,function(){i.messageTimeout=setTimeout(c.Ia,e)})};clearTimeout(i.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(c.nav.message,-.2,u):u()}},this.Ia=function(){c.nav&&c.nav.message&&DayPilot.fade(c.nav.message,-.2,function(){c.nav.message.style.display="none"})},this.Xg=function(){c.nav&&c.nav.message&&(c.nav.message.style.display="none")},this.message.show=function(t){c.message(t)},this.message.hide=function(){c.Ia()},this.Yg=null,this.na=function(){if(this.nav.scroll){!function(){var t=c.Tg();c.Fg.style.height=c.eg+"px",c.Fg.style.width=t+"px","Auto"!==c.cellWidthSpec||c.Zg?c.nav.scroll.style.overflowX=t>c.nav.scroll.clientWidth?"auto":"hidden":(c.nav.scroll.style.overflowX="hidden",c.nav.scroll.scrollLeft=0)}(),null!==this.Yg&&(this.nav.top.style.border=this.Yg,this.Yg=null),"Parent100Pct"!==this.heightSpec&&"Max100Pct"!==this.heightSpec||(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.Yg=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.Vg()-1),this.nav.scroll.style.height="30px";var t=this.ic(),e=t+this.Vg()+1;t>=0&&(this.nav.scroll.style.height=t+"px",this.$g.style.height=t+"px"),this.nav.divider&&((!e||isNaN(e)||e<0)&&(e=0),this.nav.divider.style.height=e+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=e+"px"),c.nav.resScrollSpace&&(c.nav.resScrollSpace.style.height=t+20+"px");for(var n=0;n<this.elements.separators.length;n++)this.elements.separators[n].style.height=this.eg+"px";for(n=0;n<this.elements.linesVertical.length;n++)this.elements.linesVertical[n].style.height=this.eg+"px";c._g()}},this.kg=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.u.pixels=[],this.itline=DayPilot.list();var t="Auto"===this.cellWidthSpec;if(function(){if(t){var e=0;c.s()&&c.timeline?e=c.timeline.length:"Manual"===c.scale?e=c.timeline.length:(c.ah(),e=c.itline.length,c.itline=DayPilot.list());var n=c.bh();if(e>0&&n>0){var i=n/e;c.cellWidth=Math.max(i,c.cellWidthMin),c.Zg=i<c.cellWidthMin}}}(),this.s()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var e=null,n=0,i=0;i<this.timeline.length;i++){if((a={}).start=new DayPilot.Date((r=this.timeline[i]).start),a.end=r.end?new DayPilot.Date(r.end):a.start.addMinutes(this.cellDuration),r.width)a.left=r.left||n,a.width=r.width||this.cellWidth,n+=a.width;else{var o=Math.floor(n+this.cellWidth)-Math.floor(n);a.left=Math.floor(n),a.width=o,n+=this.cellWidth}a.breakBefore=e&&e.ticks!==a.start.ticks,e=a.end,this.itline.push(a)}}t&&this.ch()}else{if(this.timeHeader=[],"Manual"===this.scale)for(this.itline=DayPilot.list(),n=0,e=null,i=0;i<this.timeline.length;i++){var r,a;if((a={}).start=new DayPilot.Date((r=this.timeline[i]).start),a.end=r.end?new DayPilot.Date(r.end):a.start.addMinutes(this.cellDuration),e&&a.start.ticks<e.ticks)throw"The timeline must be sequential";var s=r.width||this.cellWidth;o=Math.floor(n+s)-Math.floor(n),a.left=Math.floor(n),a.width=o,n+=s,a.breakBefore=e&&e.ticks!==a.start.ticks,e=a.end,this.itline.push(a)}else this.ah();this.dh()}},this.infinite={},this.infinite.shiftStart=function(t){u.shiftStart(t)},this.infinite.scrollTo=function(t){u.shiftTo(t)},this.eh={};var u=this.eh;u.shiftX=0,u.active=!1,u.updateRowStarts=function(){DayPilot.list(c.rowlist).each(function(t,e){t.start=c.Fa(),t.data=null,c.fh(e)})},u.isEnabled=function(){return c.infiniteScrollingEnabled&&!c.s()},u.shiftTo=function(t){var e=(t=new DayPilot.Date(t)).addDays(-c.infiniteScrollingStepDays).getDatePart(),n=new DayPilot.Duration(e.getTime()-c.startDate.getDatePart().getTime()).totalDays();u.shiftStart(n,t)},u.shiftStart=function(t,e){var n;u.active=!0;var i=c.startDate,o=c.startDate.addDays(t);t>0&&(n=-c.getPixels(o).left),c.startDate=c.startDate.addDays(t),c.itline=DayPilot.list(),c.u.pixels=[],c.gh={},c.ah(),u.updateRowStarts(),t<0&&(n=c.getPixels(i).left),c.timeHeader=[],c.dh(),c.ng(),c.cellProperties={},c.rg(),c.sg(),c.fa(),c.P(),c.na(),void 0!==e?(c.scrollTo(new DayPilot.Date(e)),c.Ag()):c.nav.scroll.scrollLeft+=n,c.vg(),c.sa(),u.active=!1},this.ah=function(){for(var t=this.startDate.addDays("Days"!==this.viewType?this.days:1),e=this.startDate,n=this.hh(e),i=!1,o=0;n.ticks<=t.ticks&&n.ticks>e.ticks;){if(this.ih(e,n,!0)){var r=Math.floor(o+this.cellWidth)-Math.floor(o),a={};a.start=e,a.end=n,a.left=Math.floor(o),a.width=r,a.breakBefore=i,this.itline.push(a),o+=this.cellWidth,i=!1}else i=!0;n=this.hh(e=n)}},this.ch=function(){if(this.timeHeader)for(var t=0;t<this.timeHeader.length;t++)for(var e=this.timeHeader[t],n=0;n<e.length;n++){var i=e[n];i.left=this.getPixels(new DayPilot.Date(i.start)).left;var o=this.getPixels(new DayPilot.Date(i.end)).left;i.width=o-i.left}},this.dh=function(){var t=this.timeHeaders;if(t||(t=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]),this.itline.isEmpty()){this.timeHeader=[];for(var e=0;e<t.length;e++)this.timeHeader[e]=[]}else{var n=c.jh();for(e=0;e<t.length;e++){var i=t[e].groupBy,o=t[e].format;"Default"===i&&(i=this.cellGroupBy);for(var r=[],a=this.Fa();a.ticks<n.ticks;){var s={};if(s.start=a,s.end=this.kh(s.start,i),s.start.ticks===s.end.ticks)break;s.left=this.getPixels(s.start).left;var l=this.getPixels(s.end).left-s.left;if(s.width=l,s.colspan=Math.ceil(l/(1*this.cellWidth)),s.innerHTML="string"==typeof o?s.start.toString(o,M.locale()):this.lh(s,i),s.text=s.innerHTML,l>0){if("function"==typeof this.onBeforeTimeHeaderRender){var d={};d.start=s.start,d.end=s.end,d.text=s.innerHTML,d.html=s.innerHTML,d.toolTip=s.innerHTML,d.backColor=null,d.fontColor=null,d.level=this.timeHeader.length,d.cssClass=null;var u={};u.header=d,this.onBeforeTimeHeaderRender(u),s.text=s.innerHTML,s.innerHTML=d.html,s.backColor=d.backColor,s.fontColor=d.fontColor,s.toolTip=d.toolTip,s.areas=d.areas,s.cssClass=d.cssClass}r.push(s)}a=s.end}this.timeHeader.push(r)}}},this.ih=function(t,e){if("function"==typeof this.onIncludeTimeCell){var n={};n.start=t,n.end=e,n.visible=!0;var i={};return i.cell=n,this.onIncludeTimeCell(i),n.visible}return!!this.showNonBusiness||this.isBusiness({start:t,end:e},"Days"===c.viewType)},this.getPixels=function(t){var e=t.ticks,n=this.u.pixels[e];if(n)return n;var i=2218768416e5;if(0===this.itline.length||e<this.itline[0].start.ticks)return(c={cut:!1,left:0}).boxLeft=c.left,c.boxRight=c.left,c.i=null,c;for(var o=this.mh(t),r=Math.max(o.i-1,0);r<this.itline.length;r++){var a=this.itline[r],s=a.start.ticks,l=a.end.ticks;if(s<e&&e<l){(c={cut:!1}).left=a.left+this.Pc(a,e-s),c.boxLeft=a.left,c.boxRight=a.left+a.width,c.i=r;break}if(s===e){(c={cut:!1}).left=a.left,c.boxLeft=c.left,c.boxRight=c.left+a.width,c.i=r;break}if(l===e){(c={cut:!1}).left=a.left+a.width,c.boxLeft=c.left,c.boxRight=c.left,c.i=r+1;break}if(e<s&&e>i){(c={cut:!0}).left=a.left,c.boxLeft=c.left,c.boxRight=c.left,c.i=r;break}i=l}if(!c){var c,d=this.itline[this.itline.length-1];(c={cut:!0}).left=d.left+d.width,c.boxLeft=c.left,c.boxRight=c.left,c.i=null}return this.u.pixels[e]=c,c},this.getDate=function(t,e,n){var i=this.nh(t,n);if(!i)return null;var o=this.itline[i.x];if(!o)return null;var r=n&&!e?o.end:o.start;return e?r.addTime(this.oh(i.cell,i.offset)):r},this.nh=function(t,e){if(0===this.itline.length)return null;for(var n=0,i=0,o=0;o<this.itline.length;o++){if(t<(n+=(a=this.itline[o]).width||this.cellWidth)||e&&t===n)return(r={}).x=o,r.offset=t-i,r.cell=a,r;i=n}var r,a=c.itline.last();return(r={}).x=this.itline.length-1,r.offset=a.width||this.cellWidth,r.cell=a,r},this.ph=function(t){return this.mh(t)},this.qh=function(t){for(var e=new DayPilot.Date(t),n=0;n<this.itline.length;n++){var i=this.itline[n];if(i.start.ticks<=e.ticks&&e.ticks<i.end.ticks)return(o={hidden:!1}).current=i,o;if(e.ticks<i.start.ticks)return(o={hidden:!0}).previous=n>0?this.itline[n-1]:null,o.current=null,o.next=this.itline[n],o}var o;return(o={past:!0}).previous=this.itline[this.itline.length-1],o},this.mh=function(t){var e=new DayPilot.Date(t),n=0;if(e.ticks<this.itline[0].start.ticks)return(a={hidden:!0,previous:null,current:null}).next=this.itline[0],a.i=-1,a;var i=this.itline.length-1,o=this.itline[i];if(e.ticks>o.end.ticks)return(a={past:!0}).previous=this.itline[this.itline.length-1],a.i=this.itline.length,a;if(e.ticks===o.end.ticks)return(a={past:!1}).current=this.itline[this.itline.length-1],a.i=this.itline.length-1,a;for(var r=function(){for(var t,o=c.itline;n<=i;)if(o[t=Math.floor((n+i)/2)].start.ticks>e.ticks)i=t-1;else{if(!(o[t].end.ticks<e.ticks))return t;n=t+1}return n}();r<this.itline.length;r++){var a,s=this.itline[r];if(s.start.ticks<=e.ticks&&e.ticks<s.end.ticks)return(a={hidden:!1}).current=s,a.i=r,a;if(e.ticks<s.start.ticks)return(a={hidden:!0}).previous=r>0?this.itline[r-1]:null,a.current=null,a.next=this.itline[r],a.i=r,a}return(a={past:!0}).previous=this.itline[this.itline.length-1],a.i=this.itline.length,a},this.Pc=function(t,e){return Math.floor((t.width||this.cellWidth)*e/(t.end.ticks-t.start.ticks))},this.oh=function(t,e){return Math.floor(e/(t.width||this.cellWidth)*(t.end.ticks-t.start.ticks))},this.bf=function(t){DayPilot.Global.touch.start||i.preventEventClick||(k={},c.Ka(this,t))},this.eventClickPostBack=function(t,e){this.G("EventClick",t,e)},this.eventClickCallBack=function(t,e){this.I("EventClick",t,e)},this.Ka=function(t,e){var n=t.event;if(n){if(e=e||window.event,void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),!n.client.doubleClickEnabled())return void c.La(t,e);c.timeouts.click||(c.timeouts.click=[]),c.timeouts.click.push(window.setTimeout(function(t,e){return function(){c.La(t,e)}}(t,e),c.doubleClickTimeout))}},this.rh=function(t){return c.itline[t]},this.La=function(t,e){if("boolean"==typeof e)throw"Invalid _eventClickSingle parameters";var n=t.event;if(n){var i=e.ctrlKey,o=e.metaKey;if(n.client.clickEnabled())if(c.xa()){var r={};if(r.e=n,r.div=t,r.originalEvent=e,r.ctrl=i,r.meta=o,r.shift=e.shiftKey,r.preventDefault=function(){this.preventDefault.value=!0},r.control=c,r.toJSON=function(){return DayPilot.Util.copyProps(r,{},["e","ctrl","meta","shift"])},"function"==typeof c.onEventClick&&(c.onEventClick(r),r.preventDefault.value))return;switch(c.eventClickHandling){case"PostBack":c.eventClickPostBack(n);break;case"CallBack":c.eventClickCallBack(n);break;case"Edit":c.Ma(t);break;case"Select":c.Na(t,n,i,o);break;case"ContextMenu":(a=n.client.contextMenu())?a.show(n):c.contextMenu&&c.contextMenu.show(n);break;case"Bubble":c.bubble&&c.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==c.multiSelectRectangle)return P.start(),!1}"function"==typeof c.onEventClicked&&c.onEventClicked(r)}else switch(c.eventClickHandling){case"PostBack":c.eventClickPostBack(n);break;case"CallBack":c.eventClickCallBack(n);break;case"JavaScript":c.onEventClick(n);break;case"Edit":c.Ma(t);break;case"Select":c.Na(t,n,i,o);break;case"ContextMenu":var a;(a=n.client.contextMenu())?a.show(n):c.contextMenu&&c.contextMenu.show(n);break;case"Bubble":c.bubble&&c.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==c.multiSelectRectangle)return P.start(),!1}}},this.Ta=function(t){if(c.xa()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},e.control=c,e.toJSON=function(){return DayPilot.Util.copyProps(e,{},["e"])},"function"==typeof c.onEventDelete&&(c.onEventDelete(e),e.preventDefault.value))return;switch(c.eventDeleteHandling){case"PostBack":c.eventDeletePostBack(t);break;case"CallBack":c.eventDeleteCallBack(t);break;case"Update":c.events.remove(t)}"function"==typeof c.onEventDeleted&&c.onEventDeleted(e)}else switch(c.eventDeleteHandling){case"PostBack":c.eventDeletePostBack(t);break;case"CallBack":c.eventDeleteCallBack(t);break;case"JavaScript":c.onEventDelete(t)}},this.eventDeletePostBack=function(t,e){this.G("EventDelete",t,e)},this.eventDeleteCallBack=function(t,e){this.I("EventDelete",t,e)},this.setHScrollPosition=function(t){this.nav.scroll.scrollLeft=t},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.Na=function(t,e,n,i){c.jb(t,e,n,i)},this.eventSelectPostBack=function(t,e,n){var i={};i.e=t,i.change=e,this.G("EventSelect",i,n)},this.eventSelectCallBack=function(t,e,n){var i={};i.e=t,i.change=e,this.I("EventSelect",i,n)},this.jb=function(t,e,n,i){var o=c.multiselect,r=o.isSelected(e);if(n||i||!r||1!==o.kb.length)if(c.xa()){o.Hb=o.events();var a={};if(a.e=e,a.selected=r,a.ctrl=n,a.meta=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventSelect&&(c.onEventSelect(a),a.preventDefault.value))return;switch(c.eventSelectHandling){case"PostBack":c.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.lb="",window.mb=[],WebForm_InitCallback()),c.eventSelectCallBack(e,s);break;case"Update":o.nb(t,n,i)}"function"==typeof c.onEventSelected&&(a.change=o.isSelected(e)?"selected":"deselected",a.selected=o.isSelected(e),c.onEventSelected(a))}else{o.Hb=o.events(),o.nb(t,n,i);var s=o.isSelected(e)?"selected":"deselected";switch(c.eventSelectHandling){case"PostBack":c.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.lb="",window.mb=[],WebForm_InitCallback()),c.eventSelectCallBack(e,s);break;case"JavaScript":c.onEventSelect(e,s)}}},this.eventRightClickPostBack=function(t,e){this.G("EventRightClick",t,e)},this.eventRightClickCallBack=function(t,e){this.I("EventRightClick",t,e)},this.Pa=function(t){if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){var e=this.event;if((t=t||window.event).cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(c.xa()){var n={};if(n.e=e,n.div=this,n.originalEvent=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventRightClick&&(c.onEventRightClick(n),n.preventDefault.value))return!1;switch(c.eventRightClickHandling){case"PostBack":c.eventRightClickPostBack(e);break;case"CallBack":c.eventRightClickCallBack(e);break;case"ContextMenu":(i=e.client.contextMenu())?i.show(e):c.contextMenu&&c.contextMenu.show(this.event);break;case"Bubble":c.bubble&&c.bubble.showEvent(e)}"function"==typeof c.onEventRightClicked&&c.onEventRightClicked(n)}else switch(c.eventRightClickHandling){case"PostBack":c.eventRightClickPostBack(e);break;case"CallBack":c.eventRightClickCallBack(e);break;case"JavaScript":c.onEventRightClick(e);break;case"ContextMenu":var i;(i=e.client.contextMenu())?i.show(e):c.contextMenu&&c.contextMenu.show(this.event);break;case"Bubble":c.bubble&&c.bubble.showEvent(e)}return!1}},this.eventDoubleClickPostBack=function(t,e){this.G("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(t,e){this.I("EventDoubleClick",t,e)},this.Oa=function(t){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),c.timeouts.click){for(var e in c.timeouts.click)window.clearTimeout(c.timeouts.click[e]);c.timeouts.click=null}t=t||window.event;var n=this.event;if(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,c.xa()){var i={};if(i.e=n,i.originalEvent=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventDoubleClick&&(c.onEventDoubleClick(i),i.preventDefault.value))return;switch(c.eventDoubleClickHandling){case"PostBack":c.eventDoubleClickPostBack(n);break;case"CallBack":c.eventDoubleClickCallBack(n);break;case"Edit":c.Ma(this);break;case"Select":c.Na(div,n,t.ctrlKey,t.metaKey);break;case"Bubble":c.bubble&&c.bubble.showEvent(n);break;case"ContextMenu":(o=n.client.contextMenu())?o.show(n):c.contextMenu&&c.contextMenu.show(n)}"function"==typeof c.onEventDoubleClicked&&c.onEventDoubleClicked(i)}else switch(c.eventDoubleClickHandling){case"PostBack":c.eventDoubleClickPostBack(n);break;case"CallBack":c.eventDoubleClickCallBack(n);break;case"JavaScript":c.onEventDoubleClick(n);break;case"Edit":c.Ma(this);break;case"Select":c.Na(div,n,t.ctrlKey,t.metaKey);break;case"Bubble":c.bubble&&c.bubble.showEvent(n);break;case"ContextMenu":var o;(o=n.client.contextMenu())?o.show(n):c.contextMenu&&c.contextMenu.show(n)}},this.eventResizePostBack=function(t,e,n,i){this.Za("PostBack",t,e,n,i)},this.eventResizeCallBack=function(t,e,n,i){this.Za("CallBack",t,e,n,i)},this.Za=function(t,e,n,i,o){var r={};r.e=e,r.newStart=n,r.newEnd=i,this.Ua(t,"EventResize",r,o)},this.Ya=function(t,e,n){if("Disabled"!==this.eventResizeHandling)if(n=c.sf(n),c.xa()){var i={},o=function(){if(_.hide(),!i.preventDefault.value){switch(e=i.newStart,n=i.newEnd,c.eventResizeHandling){case"PostBack":c.eventResizePostBack(t,e,n);break;case"CallBack":c.eventResizeCallBack(t,e,n);break;case"Notify":c.eventResizeNotify(t,e,n);break;case"Update":c.uh(i)}"function"==typeof c.onEventResized&&c.onEventResized(i)}};i.e=t,i.async=!1,i.loaded=function(){o()},i.newStart=e,i.newEnd=n,i.preventDefault=function(){this.preventDefault.value=!0},i.multiresize=DayPilot.list(y.list),i.control=c,i.toJSON=function(){return DayPilot.Util.copyProps(i,{},["e","async","newStart","newEnd","multiresize"])};var r={};r.event=t,r.start=e,r.end=n,i.multiresize.splice(0,0,r),"function"==typeof c.onEventResize&&c.onEventResize(i),i.async?c.blockOnCallBack&&_.show():o()}else switch(c.eventResizeHandling){case"PostBack":c.eventResizePostBack(t,e,n);break;case"CallBack":c.eventResizeCallBack(t,e,n);break;case"JavaScript":c.onEventResize(t,e,n);break;case"Notify":c.eventResizeNotify(t,e,n);break;case"Update":c.uh(i)}},this.eventMovePostBack=function(t,e,n,i,o,r){this.bb("PostBack",t,e,n,i,o,r)},this.eventMoveCallBack=function(t,e,n,i,o,r){this.bb("CallBack",t,e,n,i,o,r)},this.bb=function(t,e,n,i,o,r,a){var s={};if(e&&e.preventDefault){var l=e;s.e=l.e,s.newStart=l.newStart,s.newEnd=l.newEnd,s.newResource=l.newResource,s.position=l.position,s.multimove=[],l.multimove.each(function(t){var e={};e.e=t.event,e.newStart=t.start,e.newEnd=t.end,e.newResource=t.event.resource(),e.e===l.e||e.e.data.id==l.e.data.id?e.newResource=l.newResource:b.rowoffset&&(e.newResource=c.rowlist[t.event.part.dayIndex+b.rowoffset].id),s.multimove.push(e)})}else s.e=e,s.newStart=n,s.newEnd=i,s.newResource=o,s.position=a;this.Ua(t,"EventMove",s,r)},this.vh=function(t,e,n){var i={};i.start=e.start,i.end=e.end,i.resource=e.resource,i.multirange=[],e.multirange.each(function(t){var e={};e.start=t.start,e.end=t.end,e.resource=t.resource,i.multirange.push(e)}),this.Ua(t,"TimeRangeSelected",i,n)},this.Ua=function(t,e,n,i){if("PostBack"===t)c.G(e,n,i);else if("CallBack"===t)c.I(e,n,i,"CallBack");else if("Immediate"===t)c.I(e,n,i,"Notify");else if("Queue"===t)c.queue.add(new DayPilot.Action(this,e,n,i));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===M.notifyType()?c.I(e,n,i,"Notify"):c.queue.add(new DayPilot.Action(c,e,n,i))}},this.eventMoveNotify=function(t,e,n,i,o,r){if(t&&t.preventDefault){var a=t;a.old=new DayPilot.Event(a.e.copy(),c),a.multimove.each(function(t){t.old=new DayPilot.Event(t.event.copy(),c)}),c.uh(a),a.e=a.old,delete a.old,a.multimove.each(function(t){t.event=t.old,delete t.old})}else{t=new DayPilot.Event(t.copy(),c);var s=c.events.wh(t.data);t.start(e),t.end(n),t.resource(i),t.commit(),s=s.concat(c.events.xh(t.data)),c.yh(s),c.zh(),c.Ah(s)}this.bb("Notify",t,e,n,i,o,r)},this.eventResizeNotify=function(t,e,n,i){var o=new DayPilot.Event(t.copy(),this),r=c.events.wh(t.data);t.start(e),t.end(n),t.commit(),r=r.concat(c.events.xh(t.data)),c.yh(r),c.zh(),c.Ah(r),this.Za("Notify",o,e,n,i)},this.multiselect={},this.multiselect.kb=[],this.multiselect.Gb=[],this.multiselect.Hb=[],this.multiselect.tg=function(t){c.multiselect.kb=DayPilot.list(t).map(function(t){return new DayPilot.Event(t,c)})},this.multiselect.Ib=function(){return JSON.stringify(c.multiselect.events())},this.multiselect.events=function(){var t=c.multiselect,e=DayPilot.list();e.ignoreToJSON=!0;for(var n=0;n<t.kb.length;n++)e.push(t.kb[n]);return e},this.multiselect.Jb=function(){},this.multiselect.nb=function(t,e,n){var i=c.multiselect;if(i.isSelected(t.event))if(c.allowMultiSelect)if(e||n)i.remove(t.event,!0);else{var o=i.kb.length;i.clear(),o>1&&i.add(t.event,!0)}else i.clear();else c.allowMultiSelect&&(e||n)?i.add(t.event,!0):(i.clear(),i.add(t.event,!0));i.sd(t),i.Jb()},this.multiselect.Kb=function(t){var e=c.multiselect;return e.Lb(t,e.initList)},this.multiselect.Mb=function(){for(var t=c.multiselect,e=[],n=0;n<t.kb.length;n++)e.push(t.kb[n].value())},this.multiselect.add=function(t,e){var n=c.multiselect;-1===n.indexOf(t)&&n.kb.push(t),e||n.Bh(t)},this.multiselect.remove=function(t,e){var n=c.multiselect,i=n.indexOf(t);-1!==i&&n.kb.splice(i,1),e||n.Bh(t)},this.multiselect.clear=function(t){var e=c.multiselect;e.kb=[],t||e.redraw()},this.multiselect.redraw=function(){var t=c.multiselect;t.Gb=[];for(var e=0;e<c.elements.events.length;e++){var n=c.elements.events[e];n.event&&n.event.isEvent&&(t.isSelected(n.event)?t.Ob(n):t.Pb(n))}},this.multiselect.sd=function(t){if(t){var e=c.multiselect;e.isSelected(t.event)?e.Ob(t):e.Pb(t)}},this.multiselect.Bh=function(t){var e=c.multiselect,n=c.qd(t);e.sd(n)},this.multiselect.Ob=function(t){var e=c.multiselect,n=c.q("_selected");t=e.Qb(t),DayPilot.Util.addClass(t,n),e.Gb.push(t)},this.multiselect.Qb=function(t){return t},this.multiselect.Rb=function(){for(var t=c.multiselect,e=0;e<t.Gb.length;e++)t.Pb(t.Gb[e],!0);t.Gb=[]},this.multiselect.Pb=function(t,e){var n=c.multiselect,i=c.q("_selected");if(DayPilot.Util.removeClass(t,i),!e){var o=DayPilot.indexOf(n.Gb,t);-1!==o&&n.Gb.splice(o,1)}},this.multiselect.isSelected=function(t){return!!t&&!!t.isEvent&&c.multiselect.Lb(t,c.multiselect.kb)},this.multiselect.indexOf=function(t){for(var e=t.data,n=0;n<c.multiselect.kb.length;n++)if(c.multiselect.kb[n].data===e)return n;return-1},this.multiselect.Lb=function(t,e){if(!e)return!1;for(var n=0;n<e.length;n++){var i=e[n];if(t===i)return!0;if("function"==typeof i.id){if(null!==i.id()&&null!==t.id()&&i.id()===t.id())return!0;if(null===i.id()&&null===t.id()&&i.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===i.start().toStringSortable())return!0}else{if(null!==i.id&&null!==t.id()&&i.id===t.id())return!0;if(null===i.id&&null===t.id()&&i.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===i.start)return!0}}return!1},this.multiselect.startRectangle=function(){P.start()},this.Ch=function(){this.sg(),this.vg()},this.Dh=function(){c.mg(),c.qg(),c.Eh(),c.progressiveRowRendering&&c.Fh()},this.sd=function(t){var e=!(t=t||{}).eventsOnly;e&&(this.s()||(c.timeHeader=null,c.cellProperties={}),c.gh={},c.jg(),c.kg(),t&&t.dontLoadResources||c.lg(),c.events.Gh(),c.Fc.clearCache()),this.fa(),this.Hh(),c.mg(),e&&(c.vd(),c.Ih(),c.ng(),c.zg(c.selectedRows),c.Jh()),c.og(),c.qg(),c.Eh(),c.ga(),f.hideLinkpoints(),this.P(),this.rg(),this.ig(),this.ea(),this.ug(),this.Ch(),c.na(),t.immediateEvents||t.eventsOnly?c.sa():setTimeout(function(){c.sa()},100),this.visible?c.gg!=c.visible&&this.show():this.hide(),this.gg=this.visible,this.yg(),(c.rd.scope||c.Bg.enabled)&&!c.B||this.Ag(),this.Kh(),this.wa()},this.Kh=function(){"function"==typeof c.onAfterUpdate&&c.onAfterUpdate({})},this.update=function(t){if(c.xd)throw new DayPilot.Exception("You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.");h.request(t)};var h={timeout:null,options:null,enabled:!1,request:function(t){h.enabled?(clearTimeout(h.timeout),h.mergeOptions(t),h.timeout=setTimeout(h.doit)):(h.mergeOptions(t),h.doit())},mergeOptions:function(t){if(t)for(var e in h.options||(h.options={}),t)h.options[e]=t[e]},doit:function(){var t=h.options;return h.options=null,c.B?DayPilot.Util.isOnlyProperty(t,"events")?(c.events.list=t.events,void c.sd({eventsOnly:!0})):DayPilot.Util.isOnlyProperty(t,"separators")?(c.separators=t.separators,void c.Ch()):DayPilot.Util.isOnlyProperty(t,"rowHeaderColumns")?(c.rowHeaderColumns=t.rowHeaderColumns,void c.Dh()):(c.yd(t),c.sd({immediateEvents:!0}),void c.aa(null,!1)):void c.yd(t)}};this.Ah=function(t,e,n){t=DayPilot.ua(t);for(var i=0;i<t.length;i++)c.Lh(o=t[i]);if(this.Mh){for(this.og(),this.qg(),this.rg(),this.sg(),i=0;i<t.length;i++)this.Nh(o=t[i]);for(i=0;i<t.length;i++)this.Oh(o=t[i]);this.ug(),this.vg(),this.Ph()}else{for(i=0;i<t.length;i++){var o=t[i];e||this.Nh(o),this.Oh(o)}DayPilot.list(t).each(function(t){c.Qh(t)}),c.ug()}c.Ng(),f.load(),c.multiselect.redraw(),n&&n(),this.ig()},this.sf=function(t){return"DateTime"===c.eventEndSpec?t:t.getDatePart().ticks===t.ticks?t.addDays(-1):t.getDatePart()},this.Te=function(t){return"DateTime"===c.eventEndSpec?t:t.getDatePart().addDays(1)},this.uf=function(t){return"DateTime"===c.eventEndSpec?t:t.getDatePart()},this._a=function(t,e,n,i,o,r,a){if(c.Sc=null,"Disabled"!==c.eventMoveHandling){n=c.sf(n);var s={};s.e=t,s.newStart=e,s.newEnd=n,s.newResource=i,s.external=o,s.ctrl=!1,s.meta=!1,s.shift=!1,r&&(s.shift=r.shiftKey,s.ctrl=r.ctrlKey,s.meta=r.metaKey),s.multimove=DayPilot.list(b.list),s.areaData=DayPilot.Global.movingAreaData,s.control=c,s.toJSON=function(){return DayPilot.Util.copyProps(s,{},["e","newStart","newEnd","newResource","external","ctrl","meta","shift","multimove","areaData"])};var l={};if(l.event=t,l.start=e,l.end=n,l.overlapping=!1,l.resource=i,s.multimove.splice(0,0,l),s.position=a,s.preventDefault=function(){this.preventDefault.value=!0},c.xa()){var d=function(){if(_.hide(),s.preventDefault.value)c.Rh();else{switch(e=s.newStart,n=s.newEnd,c.eventMoveHandling){case"PostBack":c.eventMovePostBack(s);break;case"CallBack":c.eventMoveCallBack(s);break;case"Notify":c.eventMoveNotify(s);break;case"Update":c.uh(s)}c.Rh(),"function"==typeof c.onEventMoved&&c.onEventMoved(s)}};s.async=!1,s.loaded=function(){d()},"function"==typeof c.onEventMove&&c.onEventMove(s),s.async?c.blockOnCallBack&&_.show():d()}else{switch(c.eventMoveHandling){case"PostBack":c.eventMovePostBack(s);break;case"CallBack":c.eventMoveCallBack(s);break;case"JavaScript":c.onEventMove(t,e,n,i,o,!!r&&r.ctrlKey,!!r&&r.shiftKey,a);break;case"Notify":c.eventMoveNotify(s);break;case"Update":c.uh(s)}c.Rh()}}},this.uh=function(t){var e=t.e,n=t.newEnd,i=t.newResource,o=t.external;e.start(t.newStart),e.end(n),e.resource(i),o?(e.commit(),c.events.add(e)):c.events.update(e),t.multimove&&!t.multimove.isEmpty()&&t.multimove.each(function(t){t.event!==e&&(t.event.start(t.start),t.event.end(t.end),b.rowoffset&&t.event.resource(c.rowlist[t.event.part.dayIndex+b.rowoffset].id),t.event.commit(),c.events.update(t.event))}),t.multiresize&&!t.multiresize.isEmpty()&&t.multiresize.each(function(t){t.event!==e&&(t.event.start(t.start),t.event.end(t.end),t.event.commit(),c.events.update(t.event))}),c.events.immediateRefresh(),c.ab()},this.cb=function(t,e){var n=c.db(e),i={};i.args=t,i.guid=n,c.I("Bubble",i)},this.db=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventMenuClickPostBack=function(t,e,n){var i={};i.e=t,i.command=e,this.G("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(t,e,n){var i={};i.e=t,i.command=e,this.I("EventMenuClick",i,n)},this.eb=function(t,e,n){switch(n){case"PostBack":c.eventMenuClickPostBack(e,t);break;case"CallBack":c.eventMenuClickCallBack(e,t)}},this.timeRangeSelectedPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.G("TimeRangeSelected",o,i)},this.timeRangeSelectedCallBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.I("TimeRangeSelected",o,i)},this.Sh=function(t){if(t){if(t.disabled)return void c.clearSelection();var e=c.Th(t);e&&c.gb(e.start,e.end,e.resource)}},this.gb=function(t,e,n){if("Disabled"!==c.timeRangeSelectedHandling){e=c.sf(e);var i={};if(i.control=c,i.start=t,i.end=e,i.resource=n,i.preventDefault=function(){this.preventDefault.value=!0},i.multirange=DayPilot.list(E.list).map(function(t){return c.Th(t)}),i.multirange.isEmpty()&&i.multirange.push({start:i.start,end:i.end,resource:i.resource}),i.toJSON=function(){return DayPilot.Util.copyProps(i,{},["start","end","resource","multirange"])},c.xa()){if("function"==typeof c.onTimeRangeSelect){if(c.onTimeRangeSelect(i),i.preventDefault.value)return;t=i.start,e=i.end}switch(c.Uh(c.rangeHold,t,e,i.multirange),c.Vh(c.rangeHold),c.timeRangeSelectedHandling){case"PostBack":c.vh("PostBack",i);break;case"CallBack":c.vh("CallBack",i)}"function"==typeof c.onTimeRangeSelected&&c.onTimeRangeSelected(i)}else switch(c.timeRangeSelectedHandling){case"PostBack":c.vh("PostBack",i);break;case"CallBack":c.vh("CallBack",i);break;case"JavaScript":c.onTimeRangeSelected(t,e,n,i.multirange)}}},this.Uh=function(t,e,n,i){if(t&&!(i&&i.length>1)){var o,r=c.Te(n),a=0;"Days"===c.viewType&&(a=c.Eg(e).start.getTime()-c.Fa().getTime()),e.getTime()<c.itline[0].start.getTime()?t.start.x=0:(o=c.ph(e.addTime(-a)),t.start.x=DayPilot.indexOf(c.itline,o.current||o.previous)),t.end.x=(o=c.ph(r.addSeconds(-1).addTime(-a))).past?c.itline.length-1:DayPilot.indexOf(c.itline,o.current||o.next)}},this.Eg=function(t){var e=t.getDatePart();return DayPilot.list(c.rowlist).find(function(t){return t.start.getDatePart()===e})},this.timeRangeDoubleClickPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.G("TimeRangeDoubleClick",o,i)},this.timeRangeDoubleClickCallBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.I("TimeRangeDoubleClick",o,i)},this.hb=function(t,e,n){if(e=c.sf(e),c.xa()){var i={};if(i.start=t,i.end=e,i.resource=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeRangeDoubleClick&&(c.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(c.timeRangeDoubleClickHandling){case"PostBack":c.timeRangeDoubleClickPostBack(t,e,n);break;case"CallBack":c.timeRangeDoubleClickCallBack(t,e,n)}"function"==typeof c.onTimeRangeDoubleClicked&&c.onTimeRangeDoubleClicked(i)}else switch(c.timeRangeDoubleClickHandling){case"PostBack":c.timeRangeDoubleClickPostBack(t,e,n);break;case"CallBack":c.timeRangeDoubleClickCallBack(t,e,n);break;case"JavaScript":c.onTimeRangeDoubleClick(t,e,n)}},this.timeRangeMenuClickPostBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.G("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.I("TimeRangeMenuClick",i,n)},this.fb=function(t,e,n){switch(n){case"PostBack":c.timeRangeMenuClickPostBack(e,t);break;case"CallBack":c.timeRangeMenuClickCallBack(e,t)}},this.linkMenuClickPostBack=function(t,e,n){var i={};i.link=t,i.command=e,this.G("LinkMenuClick",i,n)},this.linkMenuClickCallBack=function(t,e,n){var i={};i.link=t,i.command=e,this.I("LinkMenuClick",i,n)},this.Wh=function(t,e,n){switch(n){case"PostBack":c.linkMenuClickPostBack(e,t);break;case"CallBack":c.linkMenuClickCallBack(e,t)}},this.rowMenuClickPostBack=function(t,e,n){var i={};i.resource=t,i.command=e,this.G("RowMenuClick",i,n)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(t,e,n){var i={};i.resource=t,i.command=e,this.I("RowMenuClick",i,n)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.Xh=function(t,e,n){switch(n){case"PostBack":c.rowMenuClickPostBack(e,t);break;case"CallBack":c.rowMenuClickCallBack(e,t)}},this.Yh=function(t,e){var n=c.Zh(t);n.data.name=e,n.data.html&&(n.data.html=e),c.rows.update(n)},this.$h=function(t,e){if(e){var n={};if(n.text=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof c.onRowCreate||(c.onRowCreate(n),!n.preventDefault.value)){switch(c.rowCreateHandling){case"CallBack":c.rowCreateCallBack(n.text);break;case"PostBack":c.rowCreatePostBack(n.text)}"function"==typeof c.onRowCreated&&c.onRowCreated(n)}}},this._h=function(t,e,n){if(t.isNewRow)n||c.$h(t,e);else{var i=DayPilot.indexOf(c.rowlist,t),o=c.Zh(t,i);if(c.xa()){var r={};if(r.resource=o,r.row=o,r.newText=e,r.canceled=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowEdit&&(c.onRowEdit(r),r.preventDefault.value))return;if(!n){switch(c.rowEditHandling){case"PostBack":c.rowEditPostBack(o,e);break;case"CallBack":c.rowEditCallBack(o,e);break;case"Update":c.Yh(t,e)}"function"==typeof c.onRowEdited&&c.onRowEdited(r)}}else switch(c.rowEditHandling){case"PostBack":c.rowEditPostBack(o,e);break;case"CallBack":c.rowEditCallBack(o,e);break;case"JavaScript":c.onrowEdit(o,e)}}},this.rowCreatePostBack=function(t,e){var n={};n.text=t,this.G("RowCreate",n,e)},this.rowCreateCallBack=function(t,e){var n={};n.text=t,this.I("RowCreate",n,e)},this.rowEditPostBack=function(t,e,n){var i={};i.resource=t,i.newText=e,this.G("RowEdit",i,n)},this.rowEditCallBack=function(t,e,n){var i={};i.resource=t,i.newText=e,this.I("RowEdit",i,n)},this.rowMovePostBack=function(t,e,n,i){var o={};o.source=t,o.target=e,o.position=n,this.G("RowMove",o,i)},this.rowMoveCallBack=function(t,e,n,i){var o={};o.source=t,o.target=e,o.position=n,this.I("RowMove",o,i)},this.rowMoveNotify=function(t,e,n,i){var o={};o.source=t,o.target=e,o.position=n,this.I("RowMove",o,i,"Notify")},this.rowClickPostBack=function(t,e){var n={};n.resource=t,this.G("RowClick",n,e)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(t,e){var n={};n.resource=t,this.I("RowClick",n,e)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.ai=function(t,e,n,i){"Disabled"!==c.rowDoubleClickHandling?(c.timeouts.resClick||(c.timeouts.resClick=[]),c.timeouts.resClick.push(window.setTimeout(function(t,e,n,i){return function(){c.bi(t,e,n,i)}}(t,e,n,i),c.doubleClickTimeout))):c.bi(t,e,n,i)},this.bi=function(t,e,n,i){var o=c.resourceHeaderClickHandling||c.rowClickHandling;if(c.xa()){var r={};if(r.resource=t,r.row=t,r.ctrl=e,r.shift=n,r.meta=i,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowClick&&(c.onRowClick(r),r.preventDefault.value))return;if("function"==typeof c.onResourceHeaderClick&&(c.onResourceHeaderClick(r),r.preventDefault.value))return;switch(o){case"PostBack":c.rowClickPostBack(t);break;case"CallBack":c.rowClickCallBack(t);break;case"Select":c.ci(t.$.row,e,n,i);break;case"Edit":c.di.edit(t.$.row)}"function"==typeof c.onRowClicked&&c.onRowClicked(r),"function"==typeof c.onResourceHeaderClicked&&c.onResourceHeaderClicked(r)}else switch(o){case"PostBack":c.rowClickPostBack(t);break;case"CallBack":c.rowClickCallBack(t);break;case"JavaScript":c.onRowClick(t);break;case"Select":c.ci(t.$.row,e,n);break;case"Edit":c.di.edit(t.$.row)}},this.timeHeaderClickPostBack=function(t,e){var n={};n.header=t,this.G("TimeHeaderClick",n,e)},this.timeHeaderClickCallBack=function(t,e){var n={};n.header=t,this.I("TimeHeaderClick",n,e)},this.ei=function(t){if(c.xa()){var e={};if(e.header=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onTimeHeaderClick&&(c.onTimeHeaderClick(e),e.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":c.timeHeaderClickPostBack(t);break;case"CallBack":c.timeHeaderClickCallBack(t)}"function"==typeof c.onTimeHeaderClicked&&c.onTimeHeaderClicked(e)}else switch(this.timeHeaderClickHandling){case"PostBack":c.timeHeaderClickPostBack(t);break;case"CallBack":c.timeHeaderClickCallBack(t);break;case"JavaScript":c.onTimeHeaderClick(t)}},this.resourceCollapsePostBack=function(t,e){var n={};n.resource=t,this.G("ResourceCollapse",n,e)},this.resourceCollapseCallBack=function(t,e){var n={};n.resource=t,this.I("ResourceCollapse",n,e)},this.fi=function(t){if(c.xa()){var e={};if(e.resource=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onResourceCollapse&&(c.onResourceCollapse(e),e.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":c.resourceCollapsePostBack(t);break;case"CallBack":c.resourceCollapseCallBack(t)}}else switch(this.resourceCollapseHandling){case"PostBack":c.resourceCollapsePostBack(t);break;case"CallBack":c.resourceCollapseCallBack(t);break;case"JavaScript":c.onResourceCollapse(t)}},this.resourceExpandPostBack=function(t,e){var n={};n.resource=t,this.G("ResourceExpand",n,e)},this.resourceExpandCallBack=function(t,e){var n={};n.resource=t,this.I("ResourceExpand",n,e)},this.gi=function(t){if(c.xa()){var e={};if(e.resource=t,e.row=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onResourceExpand&&(c.onResourceExpand(e),e.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":c.resourceExpandPostBack(t);break;case"CallBack":c.resourceExpandCallBack(t)}}else switch(this.resourceExpandHandling){case"PostBack":c.resourceExpandPostBack(t);break;case"CallBack":c.resourceExpandCallBack(t);break;case"JavaScript":c.onResourceExpand(t)}},this.eventEditPostBack=function(t,e,n){var i={};i.e=t,i.newText=e,this.G("EventEdit",i,n)},this.eventEditCallBack=function(t,e,n){var i={};i.e=t,i.newText=e,this.I("EventEdit",i,n)},this.eventEditNotify=function(t,e,n,i){var o=new DayPilot.Event(t.copy(),this);t.text(e),c.events.update(t,null,i);var r={};r.e=o,r.newText=e,this.I("EventEdit",r,n,"Notify")},this.ib=function(t,e,n){if(c.xa()){var i={};if(i.e=t,i.newText=e,i.canceled=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onEventEdit&&(c.onEventEdit(i),i.preventDefault.value))return;if(!n)switch(c.eventEditHandling){case"PostBack":c.eventEditPostBack(t,e);break;case"CallBack":c.eventEditCallBack(t,e);break;case"Update":t.text(e),c.events.update(t,null,{inplace:!0})}"function"==typeof c.onEventEdited&&c.onEventEdited(i)}else switch(c.eventEditHandling){case"PostBack":c.eventEditPostBack(t,e);break;case"CallBack":c.eventEditCallBack(t,e);break;case"Notify":c.eventEditNotify(t,e,null,{inplace:!0});break;case"JavaScript":c.onEventEdit(t,e)}},this.commandCallBack=function(t,e){this.hi("CallBack",t,e)},this.commandPostBack=function(t,e){this.hi("PostBack",t,e)},this.hi=function(t,e,n){var i={};i.command=e,this.Ua(t,"Command",i,n)},this.G=function(t,e,n){var i={};i.action=t,i.type="PostBack",i.parameters=e,i.data=n,i.header=this.H();var o="JSON"+JSON.stringify(i);__doPostBack(c.uniqueID,o)},this.I=function(t,e,n,i){if(c.s()){void 0===i&&(i="CallBack"),this.O(),c.J();var o={};o.action=t,o.type=i,o.parameters=e,o.data=n,o.header=this.H();var r,a=JSON.stringify(o);r="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(a)):"JSON"+a,this.ii(o),this.backendUrl?DayPilot.request(this.backendUrl,this.K,r,this.L):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.M,null,this.callbackError,!0)}else c.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning")},this.ii=function(t){"function"==typeof c.onCallBackStart&&c.onCallBackStart({})},this.hg=function(){var t={};"function"==typeof c.onCallBackEnd&&setTimeout(function(){c.onCallBackEnd(t)},0)},this.s=function(){return"javasc"!==c.D&&-1===c.D.indexOf("DCODE")||c.devsb},this.N=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.L=function(t){if("function"==typeof c.onAjaxError){var e={};e.request=t,c.onAjaxError(e)}else"function"==typeof c.ajaxError&&c.ajaxError(t)},this.K=function(t){c.M(t.responseText)},this.H=function(){var t={};t.v=this.v,t.control="dps",t.id=this.id,t.startDate=c.startDate,t.days=c.days,t.cellDuration=c.cellDuration,t.cellGroupBy=c.cellGroupBy,t.cellWidth=c.cellWidth,t.cellWidthSpec=c.cellWidthSpec,t.viewType=c.viewType,t.showNonBusiness=c.showNonBusiness,t.businessBeginsHour=c.businessBeginsHour,t.businessEndsHour=c.businessEndsHour,t.weekStarts=c.weekStarts,t.treeEnabled=c.treeEnabled,t.locale=c.locale,t.timeZone=c.timeZone,t.tagFields=c.tagFields,t.timeHeaders=c.timeHeaders,t.cssClassPrefix=c.cssClassPrefix,t.durationBarMode=c.durationBarMode,t.rowHeaderColumns=c.rowHeaderColumns,t.rowMarginBottom=c.rowMarginBottom,t.rowMarginTop=c.rowMarginTop,t.rowMinHeight=c.rowMinHeight,t.scale=c.scale,t.clientState=c.clientState,this.nav.scroll&&(t.scrollX=Math.max(0,this.nav.scroll.scrollLeft),t.scrollY=Math.max(0,this.nav.scroll.scrollTop)),t.selected=c.multiselect.events(),t.selectedRows=D.ji(),t.hashes=c.hashes;var e=c.ki(t.scrollX,t.scrollY),n=c.li(e),i=c.mi(e);if(t.rangeStart=n.start,t.rangeEnd=n.end,t.resources=i,t.dynamicLoading=c.dynamicLoading,t.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(t.tree=this.U()),this.syncLinks&&(t.links=this.ni()),"Manual"===this.scale&&(t.timeline=this.oi()),"function"==typeof c.onCallBackHeader){var o={};o.header=t,c.onCallBackHeader(o)}return t},this.oi=function(){var t=[];return DayPilot.list(c.timeline).each(function(e){var n={};n.start=e.start,n.end=e.end,n.width=e.width,t.push(n)}),t},this.ni=function(){var t=[],e=function(t){var e={};if(t.tags)for(var n in t.tags)e[n]=""+t.tags[n];return e};if(!DayPilot.isArray(c.links.list))return t;for(var n=0;n<c.links.list.length;n++){var i=c.links.list[n],o={};o.id=i.id,o.from=i.from,o.to=i.to,o.type=i.type,o.tags=e(i),t.push(o)}return t},this.getViewPort=function(){var t=this.nav.scroll.scrollLeft-u.shiftX,e=this.nav.scroll.scrollTop,n={};if("Days"!==c.viewType){var i=c.ki(t,e),o=c.li(i),r=c.mi(i);n.start=o.start,n.end=o.end,n.resources=r}else i=c.ki(t,e),o=c.pi(i),n.start=o.start,n.end=o.end,n.resources=[];return n},this.ki=function(t,e){var n={start:{},end:{}};n.start.x=Math.floor(t/c.cellWidth),n.end.x=Math.floor((t+c.nav.scroll.clientWidth)/c.cellWidth),n.start.y=c.qi(e).i,n.end.y=c.qi(e+c.nav.scroll.clientHeight).i,n.start.x=Math.max(n.start.x,0);var i=this.itline.length;return n.end.x>=i&&(n.end.x=i-1),n},this.li=function(t){var e={};if(this.itline.length<=0)return e.start=this.startDate,e.end=this.startDate,e;if(!this.itline[t.start.x])throw"Internal error: area.start.x is null.";return e.start=this.itline[t.start.x].start,e.end=this.itline[t.end.x].end,e},this.mi=function(t){t||(t=this.ki(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var e=[];e.ignoreToJSON=!0;for(var n=t.start.y;n<=t.end.y;n++){var i=c.rowlist[n];i&&!i.hidden&&e.push(i.id)}return e},this.pi=function(t){t||(t=this.ki(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop));var e={};if(0===c.rowlist.length)return e;var n=c.itline[c.itline.length-1].end.getTime()-c.itline[0].start.getTime();return e.start=c.rowlist[t.start.y]&&c.rowlist[t.start.y].start,e.end=c.rowlist[t.end.y]&&c.rowlist[t.end.y].start.addTime(n),e},this.U=function(){var t=[];t.ignoreToJSON=!0;for(var e=0;e<this.rowlist.length;e++){var n=this.rowlist[e];if(!(n.level>0||n.isNewRow)){var i=this.Y(e);t.push(i)}}return t},this.Z=function(t){var e=[];e.ignoreToJSON=!0;for(var n=0;n<t.length;n++){var i=t[n];c.rowlist[i].isNewRow||e.push(c.Y(i))}return e},this.Y=function(t){var e=this.rowlist[t];if("function"==typeof c.onGetNodeState){var n={};if(n.row=e,n.preventDefault=function(){n.preventDefault.value=!0},n.result={},c.onGetNodeState(n),n.preventDefault.value)return n.result}var i={};return i.Value=e.id,i.BackColor=e.backColor,i.Name=e.name,i.InnerHTML=e.html,i.ToolTip=e.toolTip,i.Expanded=e.expanded,i.Children=this.Z(e.children),i.Loaded=e.loaded,i.IsParent=e.isParent,i.Columns=this.ri(e),e.start.getTime()!==c.Fa().getTime()&&(i.Start=e.start),e.minHeight!==c.rowMinHeight&&(i.MinHeight=e.minHeight),e.marginBottom!==c.rowMarginBottom&&(i.MarginBottom=e.marginBottom),e.marginTop!==c.rowMarginTop&&(i.MarginTop=e.marginTop),e.eventHeight!==c.eventHeight&&(i.EventHeight=e.eventHeight),i},this.ri=function(t){if(!t.columns||0===t.columns.length)return null;var e=[];e.ignoreToJSON=!0;for(var n=0;n<t.columns.length;n++){var i={};i.InnerHTML=t.columns[n].html,e.push(i)}return e},this.q=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.vd=function(){c.nav.top.className!==c.q("_main")&&(c.nav.top.className=c.q("_main"),c.nav.dh1.className=c.q("_divider_horizontal"),c.nav.dh2.className=c.q("_divider_horizontal"),c.divResScroll.className=c.q("_rowheader_scroll"),c.nav.divider.className=c.q("_divider")+" "+c.q("_splitter"),c.nav.scroll.className=c.q("_scrollable"),c.Fg.className=c.q("_matrix"),c.nav.loading.className=c.q("_loading"))},this.T=function(){this.nav.top.dispose=this.dispose,function(t){for(var e=[],n=0;n<t.length;n++)e.push(t.charCodeAt(n)-1);new Function(String.fromCharCode.apply(this,e))()}("wbs!mi>mpdbujpo/iptuobnf<jg)mi/joefyPg)(ebzqjmpu/psh(*>>.2''mi/joefyPg)(mpdbmiptu(*>>.2*tfuUjnfpvu)gvodujpo)*|bmfsu)(Zpv!bsf!vtjoh!b!usjbm!wfstjpo!pg!EbzQjmpu!Qsp/(*~-211111+)Nbui/sboepn)*+7,7**<")},this.dispose=function(){var t=c;if(t.si&&!t.xd){for(var e in t.xd=!0,t.O(),clearInterval(t.cd),clearInterval(t.ui),t.timeouts){var n=t.timeouts[e];DayPilot.isArray(n)?DayPilot.list(n).each(function(t){clearTimeout(t)}):clearTimeout(n)}t.P(),t.divBreaks=null,t.divCells=null,t.divCorner=null,t.divCrosshair=null,t.divEvents=null,t.divHeader&&(t.divHeader.rows=null),t.divHeader=null,t.divLines=null,t.divNorth=null,t.divRange=null,t.divResScroll=null,t.divSeparators=null,t.divSeparatorsAbove=null,t.divStretch=null,t.divTimeScroll=null,t.$g=null,t.Ne=null,t.Fg.calendar=null,t.Fg=null,t.nav.loading=null,t.nav.top.onmousemove=null,t.nav.top.onmouseout=null,t.nav.top.dispose=null,t.nav.top.ontouchstart=null,t.nav.top.ontouchmove=null,t.nav.top.ontouchend=null,t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top=null,t.nav.scroll.onscroll=null,t.nav.scroll.root=null,t.nav.scroll=null,t.vi&&(t.vi.dispose(),t.vi=null),t.daypilot&&delete t.daypilot,DayPilot.ue(window,"resize",t.Ce),i.unregister(t),w=null}},this.ya=function(t){var e,n=c.wi(e=t.nodeType?t.event:t),o=e;if(!c.xi(n.rowIndex)){var r=e.part.height||c.Fc.eventHeight(),a=e.part&&e.part.top&&c.rowlist[e.part.dayIndex]?e.part.top+c.rowlist[e.part.dayIndex].top:n.top,s=n.left;!(o.cache&&void 0!==o.cache.moveVDisabled?!o.cache.moveVDisabled:!o.data.moveVDisabled)&&i.moving&&(a=c.rowlist[o.part.dayIndex].top),!(o.cache&&void 0!==o.cache.moveHDisabled?!o.cache.moveHDisabled:!o.data.moveHDisabled)&&i.moving&&(s=e.part.left);var l=document.createElement("div");l.setAttribute("unselectable","on"),l.style.position="absolute",l.style.width=n.width+"px",l.style.height=r+"px",l.style.left=s+"px",l.style.top=a+"px",l.style.zIndex=101,l.style.overflow="hidden";var d=document.createElement("div");return l.appendChild(d),l.className=this.q("_shadow"),d.className=this.q("_shadow_inner"),c.divShadow.appendChild(l),l.calendar=c,l}},this.qi=function(t){for(var e,n={},i=0,o=0,r=this.rowlist.length,a=0;a<r;a++){var s=this.rowlist[a];if(!s.hidden&&(t<(o+=s.height)||a===r-1)){i=o-s.height,e=s;break}}return n.top=i,n.bottom=o,n.i=a,n.element=e,n},this.links={},this.links.list=[],this.links.addData=function(t){c.links.list.push(t),f.load()},this.links.load=function(t,e,n,i){if(!t)throw new DayPilot.Exception("links.load(): 'url' parameter required");i=i||{};var o=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof n&&n(e)},r=function(t){var n,i=t.request;try{n=JSON.parse(i.responseText)}catch(t){var r={};return r.exception=t,void o(r)}if(DayPilot.isArray(n)){var a={preventDefault:function(){this.preventDefault.value=!0}};if(a.data=n,"function"==typeof e&&e(a),a.preventDefault.value)return;c.links.list=n,c.B&&c.update()}};if(c.linksLoadMethod&&"POST"===c.linksLoadMethod.toUpperCase())DayPilot.ajax({method:"POST",contentType:"application/json",data:{start:c.visibleStart().toString(),end:c.visibleEnd().toString()},url:t,success:r,error:o});else{var a=t;if(!i.dontAddStartEnd){var s="start="+c.visibleStart().toString()+"&end="+c.visibleEnd().toString();a+=a.indexOf("?")>-1?"&"+s:"?"+s}DayPilot.ajax({method:"GET",url:a,success:r,error:o})}};var f={};this.yi=f,f.clear=function(){c.divLinksAbove.innerHTML="",c.divLinksBelow.innerHTML="",c.elements.links=[]},f.showLinkpoints=function(){d.events().each(function(t){f.showLinkpoint(t)})},f.showLinkpoint=function(t){var e=c.linkPointSize,n=e/2,i=t.event.part.left,o=c.rowlist[t.event.part.dayIndex].top+t.event.part.top,r=t.event.part.height,a=t.event.part.right,s=DayPilot.Util.div(c.divLinkpoints,i-n,o-n+r/2,e,e);s.className=c.q("_linkpoint"),s.style.boxSizing="border-box",s.coords={x:i,y:o+r/2},s.type="Start",s.event=t.event,f.activateLinkpoint(s),c.elements.linkpoints.push(s);var l=DayPilot.Util.div(c.divLinkpoints,a-n,o-n+r/2,e,e);l.className=c.q("_linkpoint"),l.style.boxSizing="border-box",l.coords={x:a,y:o+r/2},l.type="Finish",l.event=t.event,f.activateLinkpoint(l),c.elements.linkpoints.push(l)},f.activateLinkpoint=function(t){t.onmousedown=function(e){return e=e||window.event,a.source=t,a.calendar=c,f.showLinkpoints(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1},t.onmousemove=function(e){DayPilot.Util.addClass(t,c.q("_linkpoint_hover")),f.clearHideTimeout()},t.onmouseout=function(e){a.source&&a.source.event===t.event||DayPilot.Util.removeClass(t,c.q("_linkpoint_hover"))},t.onmouseup=function(e){if(a.source){var n=a.source.type+"To"+t.type,i=a.source.event.id(),o=t.event.id(),r={};if(r.from=i,r.to=o,r.type=n,r.id=null,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onLinkCreate&&(c.onLinkCreate(r),r.preventDefault.value))return;var s=function(){DayPilot.isArray(c.links.list)||(c.links.list=[]),c.links.list.push({from:i,to:o,type:n,id:r.id}),f.load()};switch(c.linkCreateHandling){case"Update":s();break;case"CallBack":c.zi(r);break;case"PostBack":c.Ai(r);break;case"Notify":s(),c.Bi(r)}"function"==typeof c.onLinkCreated&&c.onLinkCreated(r)}}},f.hideLinkpoints=function(){c.divLinkpoints.innerHTML="",c.elements.linkpoints=[]},f.hideTimeout=null,f.hideLinkpointsWithDelay=function(){f.hideTimeout=setTimeout(function(){f.hideLinkpoints()},100)},f.clearHideTimeout=function(){f.hideTimeout&&(clearTimeout(f.hideTimeout),f.hideTimeout=null)},f.load=function(){if(f.clear(),DayPilot.isArray(c.links.list))for(var t=0;t<c.links.list.length;t++){var e=c.links.list[t];f.drawLinkId(e.from,e.to,e)}},f.drawLinkId=function(t,e,n){var i=c.events.find(t),o=c.events.find(e);f.drawLink(i,o,n)},f.drawLink=function(t,e,n){var i,o;if(i=t&&t.tagName&&"div"===t.tagName.toLowerCase()?t:c.qd(t),o=e&&e.tagName&&"div"===e.tagName.toLowerCase()?e:c.qd(e),i&&o){var r,a,s=i.offsetTop,l=o.offsetTop,d=i.offsetLeft+i.offsetWidth,u=o.offsetLeft+o.offsetWidth,h=o.offsetLeft,p=i.offsetLeft,g=o.offsetHeight;switch(n.type||"FinishToStart"){case"FinishToStart":(r={x:d,y:s}).y>(a={x:h,y:l}).y&&(l+g>s?a.y=r.y:r.x<=a.x&&(a.y+=g,a.bottom=!0));break;case"StartToFinish":r={x:p,y:s},a={x:u,y:l};break;case"StartToStart":r={x:p,y:s},a={x:h,y:l};break;case"FinishToFinish":r={x:d,y:s},a={x:u,y:l}}return f.drawLinkXy(r,a,n)}},f.clearShadow=function(){c.divLinkShadow.innerHTML="",c.elements.linkshadow=[]},f.drawShadow=function(t,e){if(f.clearShadow(),DayPilot.browser.ielt9)f.drawShadowOldStyle(t,e);else{var n=c.divLinkShadow,i=DayPilot.line(t.x,t.y,e.x,e.y,!0);n.appendChild(i),c.elements.linkshadow.push(i)}},f.drawShadowOldStyle=function(t,e){var n=Math.min(t.x,e.x),i=c.divLinkShadow,o="black",r=DayPilot.Util.div(i,n,t.y,t.x-n,2);r.style.backgroundColor=o,c.elements.linkshadow.push(r);var a=DayPilot.Util.div(i,n,t.y,2,e.y-t.y);a.style.backgroundColor=o,c.elements.linkshadow.push(a);var s=DayPilot.Util.div(i,n,e.y,e.x-n,2);s.style.backgroundColor=o,c.elements.linkshadow.push(s);var l=DayPilot.Util.div(i,e.x-6,e.y-5,0,0);l.style.borderColor="transparent transparent transparent black",l.style.borderStyle="solid",l.style.borderWidth="6px",c.elements.linkshadow.push(l)},f.drawLinkXy=function(t,e,n){var i={divs:[],props:n,clear:function(){DayPilot.de(this.divs),this.divs.forEach(function(t){DayPilot.rfa(c.elements.links,t)})}},o=c.eventHeight/2,r=n.width||1,a=n.type||"FinishToStart",s=n.color,l=n.style,d=c.divLinksAbove,u=c.eventHeight,h=c.linkBottomMargin,f=function(t,e){s&&(t.style["border"+e+"Color"]=s),l&&(t.style["border"+e+"Style"]=l)},p=[],g=function(t,e){c.elements.links.push(t),v(t),m(t),t.divs=p,e||p.push(t),i.divs.push(t)},m=function(t){t.oncontextmenu=function(t){if(t=t||window.event,c.contextMenuLink){var e=new DayPilot.Link(n,c);c.contextMenuLink.show(e)}t.cancelBubble=!0,t.preventDefault&&t.preventDefault()}},v=function(t){t.onmouseenter=function(){DayPilot.Util.addClass(t.divs,c.q("_link_hover"))},t.onmouseleave=function(){DayPilot.Util.removeClass(t.divs,c.q("_link_hover"))}};if("FinishToStart"===a)if(t.y===e.y&&t.x===e.x){var y=t.x-5,b=t.y+u-h-5;s?((A=DayPilot.Util.div(d,y,b,10,10)).style.borderRadius="10px",A.style.backgroundColor=s):((A=DayPilot.Util.div(d,y,b,10,10)).className=c.q("_link_dot"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)}else if(t.y>e.y||t.y==e.y&&e.bottom)if(t.x<=e.x)b=e.y,(S=DayPilot.Util.div(d,t.x,x=t.y+u-h,(y=e.x+o)-t.x,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,y,x,r,b-x)).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),s?((A=DayPilot.Util.div(d,y-5+Math.floor(r/2),b-5,0,0)).style.borderColor=t.y<e.y?s+" transparent transparent transparent":"transparent transparent "+s+" transparent",A.style.borderStyle="solid",A.style.borderWidth="5px"):((A=DayPilot.Util.div(d,y-6+Math.floor(r/2),b-6,6,6)).className=c.q(t.y<e.y?"_link_arrow_down":"_link_arrow_up"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0);else{var w=e.y+u+5;(S=DayPilot.Util.div(d,t.x,t.y+u-h,o+r,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,t.x+o,t.y+u-h,r,w-(t.y+u-h))).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),(D=DayPilot.Util.div(d,e.x-o,w,t.x+2*o+r-e.x,r)).style.boxSizing="border-box",D.style.borderBottomWidth=r+"px",D.className=c.q("_link_horizontal"),DayPilot.Util.addClass(D,n.cssClass),f(D,"Bottom"),g(D),(C=DayPilot.Util.div(d,e.x-o,w,r,e.y-w+u-h)).style.boxSizing="border-box",C.style.borderRightWidth=r+"px",C.className=c.q("_link_vertical"),DayPilot.Util.addClass(C,n.cssClass),f(C,"Right"),g(C),(T=DayPilot.Util.div(d,e.x-o,e.y+u-h,o,r)).style.boxSizing="border-box",T.style.borderBottomWidth=r+"px",T.className=c.q("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),f(T,"Bottom"),g(T),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderWidth="6px",A.style.borderColor="transparent transparent transparent "+s,A.style.borderStyle="solid"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_right"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)}else if(t.y===e.y)t.x<e.x?((S=DayPilot.Util.div(d,t.x,x=t.y+u-h,(y=e.x)-t.x,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderWidth="6px",A.style.borderColor="transparent transparent transparent "+s,A.style.borderStyle="solid"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_right"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)):(w=e.y+u+5,(S=DayPilot.Util.div(d,t.x,t.y+u-h,o+r,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,t.x+o,t.y+u-h,r,w-(t.y+u-h))).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),(D=DayPilot.Util.div(d,e.x-o,w,t.x+2*o+r-e.x,r)).style.boxSizing="border-box",D.style.borderBottomWidth=r+"px",D.className=c.q("_link_horizontal"),DayPilot.Util.addClass(D,n.cssClass),f(D,"Bottom"),g(D),(C=DayPilot.Util.div(d,e.x-o,w,r,e.y-w+u-h)).style.boxSizing="border-box",C.style.borderRightWidth=r+"px",C.className=c.q("_link_vertical"),DayPilot.Util.addClass(C,n.cssClass),f(C,"Right"),g(C),(T=DayPilot.Util.div(d,e.x-o,e.y+u-h,o,r)).style.boxSizing="border-box",T.style.borderBottomWidth=r+"px",T.className=c.q("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),f(T,"Bottom"),g(T),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderWidth="6px",A.style.borderColor="transparent transparent transparent "+s,A.style.borderStyle="solid"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_right"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0));else if(t.x>e.x)w=e.y-5,(S=DayPilot.Util.div(d,t.x,t.y+u-h,o+r,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,t.x+o,t.y+u-h,r,w-(t.y+u-h))).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),(D=DayPilot.Util.div(d,e.x-o,w,t.x+2*o+r-e.x,r)).style.boxSizing="border-box",D.style.borderBottomWidth=r+"px",D.className=c.q("_link_horizontal"),DayPilot.Util.addClass(D,n.cssClass),f(D,"Bottom"),g(D),(C=DayPilot.Util.div(d,e.x-o,w,r,e.y-w+u-h)).style.boxSizing="border-box",C.style.borderRightWidth=r+"px",C.className=c.q("_link_vertical"),DayPilot.Util.addClass(C,n.cssClass),f(C,"Right"),g(C),(T=DayPilot.Util.div(d,e.x-o,e.y+u-h,o,r)).style.boxSizing="border-box",T.style.borderBottomWidth=r+"px",T.className=c.q("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),f(T,"Bottom"),g(T),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderWidth="6px",A.style.borderColor="transparent transparent transparent "+s,A.style.borderStyle="solid"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_right"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0);else{var x;b=e.y,(S=DayPilot.Util.div(d,t.x,x=t.y+u-h,(y=e.x+o)-t.x,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,y,x,r,b-x)).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),s?((A=DayPilot.Util.div(d,y-5+Math.floor(r/2),b-5,0,0)).style.borderColor=t.y<e.y?s+" transparent transparent transparent":"transparent transparent "+s+"transparent",A.style.borderStyle="solid",A.style.borderWidth="5px"):((A=DayPilot.Util.div(d,y-6+Math.floor(r/2),b-6,6,6)).className=c.q(t.y<e.y?"_link_arrow_down":"_link_arrow_up"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)}else if("StartToFinish"===a){var D,C;w=e.y-5,(S=DayPilot.Util.div(d,e.x,e.y+u-h,o+r,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,e.x+o,e.y+u-h,r,w-(e.y+u-h)+0)).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),(D=DayPilot.Util.div(d,t.x-o,w,e.x+2*o+r-t.x,r)).style.boxSizing="border-box",D.style.borderBottomWidth=r+"px",D.className=c.q("_link_horizontal"),DayPilot.Util.addClass(D,n.cssClass),f(D,"Bottom"),g(D),(C=DayPilot.Util.div(d,t.x-o,w,r,t.y+u-h-w+0)).style.boxSizing="border-box",C.style.borderRightWidth=r+"px",C.className=c.q("_link_vertical"),DayPilot.Util.addClass(C,n.cssClass),f(C,"Right"),g(C),(T=DayPilot.Util.div(d,t.x-o,t.y+u-h,o,r)).style.boxSizing="border-box",T.style.borderBottomWidth=r+"px",T.className=c.q("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),f(T,"Bottom"),g(T),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderColor="transparent "+s+" transparent transparent",A.style.borderStyle="solid",A.style.borderWidth="6px"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_left"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)}else if("StartToStart"===a){var _=Math.min(t.x,e.x)-o;(S=DayPilot.Util.div(d,_,t.y+u-h,t.x-_,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,_,t.y+u-h,r,e.y-t.y)).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),(T=DayPilot.Util.div(d,_,e.y+u-h,e.x-_,r)).style.boxSizing="border-box",T.style.borderBottomWidth=r+"px",T.className=c.q("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),f(T,"Bottom"),g(T),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderColor="transparent transparent transparent "+s,A.style.borderStyle="solid",A.style.borderWidth="6px"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_right"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)}else if("FinishToFinish"===a){var S,k,T,A,P=Math.max(e.x,t.x)+o;(S=DayPilot.Util.div(d,t.x,t.y+u-h,P-t.x,r)).style.boxSizing="border-box",S.style.borderBottomWidth=r+"px",S.className=c.q("_link_horizontal"),DayPilot.Util.addClass(S,n.cssClass),f(S,"Bottom"),g(S),(k=DayPilot.Util.div(d,P,t.y+u-h,r,e.y-t.y)).style.boxSizing="border-box",k.style.borderRightWidth=r+"px",k.className=c.q("_link_vertical"),DayPilot.Util.addClass(k,n.cssClass),f(k,"Right"),g(k),(T=DayPilot.Util.div(d,e.x,e.y+u-h,P-e.x,r)).style.boxSizing="border-box",T.style.borderBottomWidth=r+"px",T.className=c.q("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),f(T,"Bottom"),g(T),s?((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,0,0)).style.borderColor="transparent "+s+" transparent transparent",A.style.borderStyle="solid",A.style.borderWidth="6px"):((A=DayPilot.Util.div(d,e.x-6,e.y+u-h-5,6,6)).className=c.q("_link_arrow_left"),DayPilot.Util.addClass(A,n.cssClass)),g(A,!0)}return i},this.zi=function(t,e){var n={};n.from=t.from,n.to=t.to,n.type=t.type,c.I("LinkCreate",n,e)},this.Bi=function(t,e){var n={};n.from=t.from,n.to=t.to,n.type=t.type,c.I("LinkCreate",n,e,"Notify")},this.Ai=function(t,e){var n={};n.from=t.from,n.to=t.to,n.type=t.type,c.G("LinkCreate",n,e)},this.Ci=function(t){var e=0,n=0;if(t>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var i=0;i<=t;i++){var o=this.rowlist[i];o.hidden||(e+=o.height,n++)}var r={};return r.top=e-o.height,r.height=o.height,r.bottom=e,r.i=n-1,r.data=o,r},this.Ed=function(){return!(!this.backendUrl||void 0!==c.events.list&&c.events.list)},this.events.find=function(t){if(!c.events.list||void 0===c.events.list.length)return null;if("function"==typeof t)return c.Di(t);for(var e=c.events.list.length,n=0;n<e;n++)if(c.events.list[n].id===t)return new DayPilot.Event(c.events.list[n],c);return null},this.Di=function(t){for(var e=c.events.list.length,n=0;n<e;n++){var i=new DayPilot.Event(c.events.list[n],c);if(t(i))return i}return null},this.events.focus=function(t){var e=c.Ei(t);e&&e.focus()},this.events.scrollIntoView=function(t){if(c.Ei(t)){var e=t.start();(e<c.Fa()||c.jh()<e)&&c.scrollTo(e,"fast","middle");var n=t.resource();-1===c.getViewPort().resources.indexOf(n)&&c.scrollToResource(n)}},this.events.all=function(){for(var t=[],e=0;e<c.events.list.length;e++){var n=new DayPilot.Event(c.events.list[e],c);t.push(n)}return DayPilot.list(t)},this.events.filter=function(t){c.events.md=t,c.sd({eventsOnly:!0})},this.events.edit=function(t){var e=c.qd(t);return e||DayPilot.list(c.events.Fi.rows).isEmpty()?void c.Ma(e):void setTimeout(function(){c.Ma(c.qd(t))})},this.events.load=function(t,e,n){if(!t)throw new DayPilot.Exception("events.load(): 'url' parameter required");var i=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof n&&n(e)},o=function(t){var n,o=t.request;try{n=JSON.parse(o.responseText)}catch(t){var r={};return r.exception=t,void i(r)}if(DayPilot.isArray(n)){var a={preventDefault:function(){this.preventDefault.value=!0}};if(a.data=n,"function"==typeof e&&e(a),a.preventDefault.value)return;c.events.list=n,c.B&&c.update()}};if(c.eventsLoadMethod&&"POST"===c.eventsLoadMethod.toUpperCase())DayPilot.ajax({method:"POST",contentType:"application/json",data:{start:c.visibleStart().toString(),end:c.visibleEnd().toString()},url:t,success:o,error:i});else{var r=t,a="start="+c.visibleStart().toString()+"&end="+c.visibleEnd().toString();r+=r.indexOf("?")>-1?"&"+a:"?"+a,DayPilot.ajax({method:"GET",url:r,success:o,error:i})}},this.events.findRecurrent=function(t,e){if(!c.events.list||void 0===c.events.list.length)return null;for(var n=c.events.list.length,i=0;i<n;i++)if(c.events.list[i].recurrentMasterId===t&&c.events.list[i].start.getTime()===e.getTime())return new DayPilot.Event(c.events.list[i],c);return null},this.events.wh=function(t){for(var e=[],n=0;n<c.rowlist.length;n++){var i=c.rowlist[n];if(!i.isNewRow){c.fh(n);for(var o=0;o<i.events.length;o++)if(c.td(i.events[o].data,t)){e.push(n),i.events.splice(o,1);break}}}return e},this.events.Gi=function(t){for(var e=0;e<c.rowlist.length;e++){var n=c.rowlist[e];if(!n.isNewRow){c.fh(e);for(var i=0;i<n.events.length;i++)if(c.td(n.events[i].data,t))return n.events[i]}}return null},this.events.xh=function(t){var e=[],n=c.Hi()||"Days"===c.viewType,i=DayPilot.indexOf(c.events.list,t);c.fd(i);for(var o=0;o<c.rowlist.length;o++){var r=c.rowlist[o];if(!r.isNewRow){c.fh(o);var a=c.Ii(t,r);if(a&&("function"==typeof c.onBeforeEventRender&&(a.cache=c.u.events[i]),e.push(o),!n))break}}return e},this.td=function(t,e){return(t=t instanceof DayPilot.Event?t.data:t)===(e=e instanceof DayPilot.Event?e.data:e)||t.id===e.id||!(!DayPilot.Util.isNullOrUndefined(t.id)||DayPilot.Util.isNullOrUndefined(t.recurrentMasterId))&&t.recurrentMasterId===e.recurrentMasterId&&new DayPilot.Date(t.start)===new DayPilot.Date(e.start)},this.events.update=function(t,e,n){var i={};i.oldEvent=new DayPilot.Event(t.copy(),c),i.newEvent=new DayPilot.Event(t.temp(),c),n=n||{};var o=new DayPilot.Action(c,"EventUpdate",i,e);if(DayPilot.list(c.events.list).find(function(e){return c.td(e,t.data)})){if(c.rd.scope)c.rd.notify(function(){t.commit()});else if(c.Bg.skip=!0,(c.eventUpdateInplaceOptimization||n.inplace)&&i.oldEvent.resource()===i.newEvent.resource()&&i.oldEvent.start()===i.newEvent.start()&&i.oldEvent.end()===i.newEvent.end()){t.commit();var r=c.qd(t);if(r){var a=r.event.part;c.Ji(r),DayPilot.rfa(c.elements.events,r),t.part=a}c.events.wh(t.data);var s=c.events.xh(t.data);c.yh(s);var l=c.events.Gi(t.data);l&&c.$b(l)}else s=c.events.wh(t.data),t.commit(),s=s.concat(c.events.xh(t.data)),c.events.Ki(s);return o}},this.events.remove=function(t,e){var n={};n.e=new DayPilot.Event(t.data,c);var i=new DayPilot.Action(c,"EventRemove",n,e);if((a=DayPilot.indexOf(c.events.list,t.data))>=0&&c.events.list.splice(a,1),c.rd.scope)c.rd.notify();else{c.Bg.skip=!0;var o=c.events.wh(t.data);if(c.eventUpdateInplaceOptimization&&1===o.length&&!c.events.rb(t)){c.Li(c.rowlist[o[0]]);var r=c.qd(t);if(r){var a=c.elements.events.indexOf(r);c.elements.events.splice(a,1),c.Ji(r)}}else c.events.Ki(o)}return i},this.events.add=function(t,e){t instanceof DayPilot.Event||(t=new DayPilot.Event(t)),t.calendar=c,c.events.list||(c.events.list=[]),DayPilot.list(c.events.list).find(function(e){return(e instanceof DayPilot.Event?e.data:e)===t.data})||c.events.list.push(t.data);var n=new DayPilot.Action(c,"EventAdd",i,e);if(!c.B)return n;if(c.rd.scope)c.rd.notify();else{c.Bg.skip=!0;var i={};i.e=t;var o=c.events.xh(t.data),r=t.data.height||c.eventHeight;if(c.eventUpdateInplaceOptimization&&1===o.length&&!c.events.rb(t)&&r<=c.eventHeight&&!c.eventVersionsEnabled){var a=c.rowlist[o[0]];c.Li(a);var s=a.events.find(function(e){return e.data===t.data});s.part.top=0,s.part.height=r,s.part.line=0,c.$b(s)}else c.events.Ki(o)}return n},this.events.rb=function(t){var e=t instanceof DayPilot.Event?t.data:t,n=new DayPilot.Date(e.start),i=new DayPilot.Date(e.end);return!!DayPilot.list(c.events.list).find(function(t){if(c.td(e,t))return!1;if(e.resource!==t.resource)return!1;var o=new DayPilot.Date(t.start),r=new DayPilot.Date(t.end);return DayPilot.Util.overlaps(n,i,o,r)})},this.events.addByData=function(t){c.events.add(new DayPilot.Event(t))},this.events.removeByData=function(t){var e=c.events.find(t.id);if(!e)throw new DayPilot.Exception("The event to be removed was not found");c.events.remove(e)},this.events.updateByData=function(t){var e=c.events.find(t.id);if(!e)throw new DayPilot.Exception("The event to be updated was not found");c.events.remove(e),c.events.add(new DayPilot.Event(t))},this.events.removeById=function(t){var e=c.events.find(t);if(!e)throw new DayPilot.Exception("The event to be removed was not found");c.events.remove(e)},this.events.Fi={rows:[]},this.events.Mi=null,this.events.Gh=function(){clearTimeout(c.events.Mi),c.events.Fi.rows=[]},this.events.Ni=0,this.events.Ki=function(t){var e=c.events.Fi.rows;DayPilot.list(t).each(function(t){e.push(t)}),c.events.Fi.rows=DayPilot.ua(e),c.events.Mi||(c.events.Mi=setTimeout(c.events.immediateRefresh,c.events.Ni))},this.events.immediateRefresh=function(){clearTimeout(c.events.Mi),c.events.Mi=null;var t=c.events.Fi.rows;c.events.Fi.rows=[],c.yh(t),c.zh(),c.B&&("Gantt"===c.viewType?c.update():(c.Ah(t),c.na(),c.Oi()))},this.Bg={},this.Bg.enabled=!1,this.Bg.skip=!1,this.Bg.skipUpdate=function(){return c.Bg.skip},this.Bg.skipped=function(){c.Bg.skip=!1},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";c.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=c.queue.list,c.I("Notify",e,t,"Notify"),c.queue.list=[]},this.queue.clear=function(){c.queue.list=[]},this.queue.pop=function(){return c.queue.list.pop()},this.cells.find=function(t,e){var n=c.getPixels(new DayPilot.Date(t));if(!n)return g();var i=n.i,o=c.Ig(e);return o?this.findXy(i,o.index):g()},this.cells.findByPixels=function(t,e){var n=c.nh(t);if(!n)return g();t=n.x;var i=c.qi(e);return i?this.findXy(t,e=i.i):g()},this.cells.all=function(){for(var t=[],e=c.itline.length,n=c.rowlist.length,i=0;i<e;i++)for(var o=0;o<n;o++){var r=c.cells.findXy(i,o);t.push(r[0])}return g(t)},this.cells.Pi=function(t,e){var n=c.rh(t),i=c.rowlist[e],o=i.start.getTime()-c.Fa().getTime(),r=n.start.addTime(o),a=n.end.addTime(o),s={};s.x=t,s.y=e,s.i=t+"_"+e,s.resource=i.id,s.start=r,s.end=a,s.calendar=c,s.isParent=i.children&&i.children.length,s.update=function(){if(!c.rowlist[s.y].hidden){c.Qi(c.u.cells[s.i]);var t=c.Kg();t.xStart<=s.x&&s.x<=t.xEnd&&t.yStart<=s.y&&s.y<=t.yEnd&&c.of(s.x,s.y)}},s.utilization=function(t){return i.sections||i.calculateUtilization(),i.sections.forRange(r,a).maxSum(t)},s.events=function(){return i.events.forRange(r,a)},s.div=c.u.cells[s.i];var l=c.Ri(t,e);return s.properties=l,s},this.cells.findXy=function(t,e){if(DayPilot.isArray(t)){for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(c.cells.Pi(o.x,o.y))}return g(n)}return null===t||null===e?g():g(c.cells.Pi(t,e))};var p=function(t){var e=DayPilot.list();if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)e.push(t[n]);else"object"==typeof t&&e.push(t);return e};this.Si=function(t){var e=DayPilot.list();if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)e.push(t[n]);else"object"==typeof t&&e.push(t);return e.cssClass=function(t){return this.each(function(e){e.properties.cssClass=DayPilot.Util.addClassToString(e.properties.cssClass,t),e.update()}),this},e.removeClass=function(t){return this.each(function(e){e.properties.cssClass=DayPilot.Util.removeClassFromString(e.properties.cssClass,t),e.update()}),this},e.addClass=e.cssClass,e.html=function(t){return this.each(function(e){e.properties.html=t,e.update()}),this},e.invalidate=function(){return this.each(function(t){delete c.gh[t.i]}),this},e};var g=this.Si;this.rd={},this.rd.scope=null,this.rd.notify=function(t){c.rd.scope&&DayPilot.Util.safeApply(c.rd.scope,t)},this.debug=new DayPilot.Debug(this),this.Ti=function(t){if("Days"!==c.viewType)throw"Checking row start when viewType !== 'Days'";for(var e=0;e<c.rowlist.length;e++){var n=c.rowlist[e],i=(n.element?n.element.data:n.data).start;if(t.getTime()>=i.getTime()&&t.getTime()<i.addDays(1).getTime())return i}return null},this.Ui=function(t){var e=c.Fa();if(t.ticks===e.ticks)return t;var n=e;if(t.ticks<e.ticks){for(var i=this.itline[0].end.ticks-this.itline[0].start.ticks;n.ticks>t.ticks;)n=n.addTime(-i);return n}if("Days"===c.viewType){var o,r=this.Ti(t).getTime()-c.Fa().getTime();if((o=this.ph(t.addTime(-r))).current)return o.current.start.addTime(r);if(o.past)return o.previous.end.addTime(r);throw"getBoxStart(): time not found"}if((o=this.ph(t)).current)return o.current.start;if(o.past)return o.previous.end;if(o.hidden){var a=o.next.start.getTime()-t.getTime(),s=o.next.end.getTime()-o.next.start.getTime(),l=Math.ceil(a/s)*s;return o.next.start.addTime(-l)}throw"getBoxStart(): time not found"},this.wi=function(t){var e=this.qi(c.coords.y);if("function"!=typeof t.end)throw"e.end function is not defined";if(!t.end())throw"e.end() returns null";var n=DayPilot.DateUtil.diff(t.rawend(),t.start());n=Math.max(n,1);var o=M.useBox(n),r=t.data&&"Milestone"===t.data.type,a=c.eventHeight,s=0,l=c.coords.x;if(r&&(l+=a/2),"Manual"===c.scale){var d=function(){var t,e=(t=c.getDate(c.coords.x,!0,!0)).addTime(-n),i=c.getPixels(e).boxLeft,o=c.getPixels(t).boxRight;return(t=Math.min(o,c.coords.x))-i}(),u=Math.min(i.moveOffsetX?i.moveOffsetX:0,d);l=c.coords.x-u}var h=0,f="Days"===this.viewType||this.Vi();if(f&&!t.part.external&&(h=this.rowlist[t.part.dayIndex].start.getTime()-this.Fa().getTime()),o&&!r){var p=c.ph(t.start()),g=!p.hidden&&!p.past;s=t.start().getTime()-this.Ui(t.start().addTime(-h)).addTime(h).getTime(),g&&(s=function(t,e){var n=c.Wi(c.ph(t).current),i=c.Wi(c.nh(l).cell);if(n>1.2*i){var o=e>0?1:-1;for(e=Math.abs(e);e>=i;)e-=i;e*=o}return e}(t.start(),s))}var m=i.movingEvent?i.movingEvent.calendar:c;m!==c&&m.Xi()!==c.Xi()&&(s=0);var v=0;if(i.moveDragStart&&"Manual"!==c.scale&&m===c)if(o){var y=t.start().addTime(-h),b=this.Ui(y);v=i.moveDragStart.getTime()-b.getTime();var w=60*c.Xi()*1e3;v=Math.floor(v/w)*w}else v=i.moveDragStart.getTime()-t.start().addTime(-h).getTime();else v=0;this.eventMoveToPosition&&(v=0);var x=this.getDate(l,!0).addTime(-v).addTime(h);i.resizing&&(x=t.start()),this.snapToGrid&&(x=this.Ui(x.addTime(-h)).addTime(h));var D=(x=x.addTime(s)).addTime(n),C=x,_=D;if(f){_=(C=x.addTime(-h)).addTime(n);var S=e.element.data.start.getTime()-this.Fa().getTime();D=(x=C.addTime(S)).addTime(n)}if(i.moveDragStart&&c.eventMoveSkipNonBusiness){var k=e.i,T=i.moveDragStart.addTime(h);this.snapToGrid&&(T=this.Ui(T.addTime(-h)).addTime(h));var A=!t.part.dayIndex,P=0;A||(P=c.Yi(t.start(),T,t.part.dayIndex)),n=c.Zi(t);var E=c.getDate(l,!0);c.snapToGrid&&(E=c.getDate(l)),u=c.$i(E,P,k),x=E.addTime(-u).addTime(h),this.snapToGrid&&(x=this.Ui(x.addTime(-h)).addTime(h)),s=A?0:c.Yi(this.Ui(t.start().addTime(-h)).addTime(h),t.start(),k),x=x.addTime(s),(D=c._i(x,n,k))>=c.visibleEnd()&&(x=(D=c.visibleEnd()).addTime(-c.aj(D,n))),C=x.addTime(-h),_=D.addTime(-h)}var R=this.getPixels(C),N=this.getPixels(_),I=o?R.boxLeft:R.left,O=o?N.boxRight-I:N.left-I;r&&(I-=(O=a)/2);var H={};return H.top=e.top,H.left=I,H.row=e.element,H.rowIndex=e.i,H.width=O,H.start=x,H.end=D,H.relativeY=c.coords.y-e.top,H},this.bj=function(t,e){var n=c.ph(t),i=c.ph(e),o=null,r=0;n.hidden&&(o=t);for(var a=n.i;a<=i.i;a++){var s=c.itline[a];o&&o<s.start&&(r+=s.start.getTime()-o.getTime()),o=s.end}return r},this._i=function(t,e,n){var i=e,o=c.rowlist[n].data.start.getTime()-c.Fa().getTime(),r=t.addTime(-o),a=c.cj(r,n);if(!a)throw new DayPilot.Exception("No next cell found");var s=DayPilot.indexOf(c.itline,a);if(a.start>t);else{if((i-=a.end.getTime()-r.getTime())<=0)return t.addTime(e);s+=1}for(var l=s;l<c.itline.length;l++)if(c.Ri(l,n).business){var d=c.itline[l],u=d.start.addTime(o),h=d.end.addTime(o).getTime()-u.getTime();if(i<=h)return u.addTime(i);i-=h}return u||(u=c.itline[c.itline.length-1].end),u.addTime(i)},this.Yi=function(t,e,n){var i=c.rowlist[n].data.start.getTime()-c.Fa().getTime(),o=(c.ph(t),t.addTime(-i)),r=e.addTime(-i),a=c.cj(o,n);if(!a)throw new DayPilot.Exception("No next cell found");var s=0,l=DayPilot.indexOf(c.itline,a);if(a.start<=r){if(e<a.end.addTime(i))return a.start>o?e.getTime()-a.start.addTime(i).getTime():e.getTime()-t.getTime();s+=o>a.start?a.end.getTime()-o.getTime():a.end.getTime()-a.start.getTime(),l+=1}for(var d=l;d<c.itline.length;d++)if(c.Ri(d,n).business){var u=c.itline[d],h=u.start.addTime(i),f=u.end.addTime(i),p=f.getTime()-h.getTime();if(e<h)return s;if(e<f)return s+(e.getTime()-h.getTime());s+=p}var g=e.getTime()-c.itline.last().end.addTime(i).getTime();return s+Math.min(0,g)},this.Zi=function(t){if(t.part.duration){if(isNaN(t.part.duration))throw new DayPilot.Exception("Unable to get calculated duration");return t.part.duration}var e=t.part.dayIndex;return c.Yi(t.start(),t.rawend(),e)},this.aj=function(t,e){var n=0,i=e;if(!(a=c.ph(t)).current)throw new DayPilot.Exception("Current cell not found.");if(t.addTime(-e)>a.current.start)return e;n+=t.getTime()-a.current.start.getTime(),i-=t.getTime()-a.current.start.getTime();var o=DayPilot.indexOf(c.itline,a.current);o-=1;for(var r=a.current.start;o>=0;){var a;r>(a=c.itline[o]).end&&(n+=r.getTime()-a.end.getTime()),r=a.start;var s=a.end.getTime()-a.start.getTime();if(i<=s)return n+i;n+=s,i-=s,o-=1}throw new DayPilot.Exception("Unable to backward calculate offset in visible timeline")},this.$i=function(t,e,n){var i=0,o=e;if(!(s=c.ph(t)).current)throw new DayPilot.Exception("Current cell not found.");var r=DayPilot.indexOf(c.itline,s.current);if(c.Ri(r,n).business){if(t.addTime(-e)>=s.current.start)return e}else if(0===e||t.addTime(-e)>=s.current.start)return t.getTime()-c.cj(t,n).start.getTime();i+=t.getTime()-s.current.start.getTime(),o-=t.getTime()-s.current.start.getTime(),r-=1;for(var a=s.current.start;r>=0;){var s;a>(s=c.itline[r]).end&&(i+=a.getTime()-s.end.getTime()),a=s.start;var l=s.end.getTime()-s.start.getTime();if(c.Ri(r,n).business){if(o<=l)return i+o;i+=l,o-=l}else i+=l;r-=1}return i+o},this.cj=function(t,e){var n=c.ph(t),i=0;if(n.past)return null;if(n.current)i=n.i;else{if(!n.next)return null;i=DayPilot.indexOf(c.itline,n.next)}for(var o=i;o<c.itline.length;o++)if(c.dj(o,e))return c.itline[o];return null},this.dj=function(t,e){return c.Ri(t,e).business},this.Xi=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600;case"Manual":if(c.itline.length>0){var t=c.itline[0];return(t.end.getTime()-t.start.getTime())/6e4}return c.cellDuration}throw"can't guess cellDuration value"},this.Wi=function(t){return t.end.ticks-t.start.ticks},this.xi=function(t){return this.treePreventParentUsage&&this.ej(t)},this.ej=function(t){var e=this.rowlist[t];return!!e.isParent||!!(this.treeEnabled&&e.children&&e.children.length>0)},this.fj={},this.gj=function(){if(c.treeAutoExpand){var t=this.wi(i.movingEvent).rowIndex,e=this.ej(t),n=this.fj;n.timeout&&n.y!==t&&(clearTimeout(n.timeout),n.timeout=null),e&&(n.y=t,!n.timeout&&!c.rowlist[n.y].expanded&&(n.timeout=setTimeout(function(){!c.rowlist[n.y].expanded&&(c.hj(n.y),c.ij()),n.timeout=null},500)))}},this.jj=function(){clearTimeout(c.fj.timeout)},this.Rc=function(){var t,e=i.resizingShadow.width,n=i.resizingShadow.left,o=i.resizingEvent,r=i.resizing.dpBorder;t=c.rowlist[o.part.dayIndex].start.getTime()-c.Fa().getTime();var a=null,s=null,l=!c.snapToGrid;"left"===r?(a=c.getDate(n,l).addTime(t),s=o.rawend()):"right"===r&&(a=o.start(),s=c.getDate(n+e,l,!0).addTime(t)),i.resizingShadow.start=a,i.resizingShadow.end=s,y.update()},this.exportAs=function(t,e){var n=m.generate(t,e);return new DayPilot.Export(n)},this.export=this.exportAs,this.Bd={};var m=this.Bd;m.getWidth=function(){var t=m.Dd;switch(t){case"viewport":return c.nav.top.offsetWidth;case"full":return c.Tg()+m.getRowHeaderWidth();case"range":return c.getPixels(m.getRangeEnd()).boxRight-c.getPixels(m.getRangeStart()).boxLeft+m.getRowHeaderWidth();default:throw"Unsupported export mode: "+t}},m.getHeight=function(){var t=m.Dd;switch(t){case"viewport":return c.nav.top.offsetHeight-DayPilot.sh(c.nav.scroll)-1;case"full":return c.kj()+c.Vg()-DayPilot.sh(c.nav.scroll);case"range":var e=m.getRows();if(0===e.length)return c.Vg();var n=e.first(),i=e.last();return i.top-n.top+i.height+c.Vg();default:throw"Unsupported export mode: "+t}},m.getRangeStart=function(){var t=m.Cd.dateFrom||c.Fa();return new DayPilot.Date(t)},m.getRangeEnd=function(){var t=m.Cd.dateTo||c.jh();return new DayPilot.Date(t)},m.getRangeResStart=function(){return m.Cd.resourceFrom?c.Ig(m.Cd.resourceFrom):c.rowlist.find(function(t){return!t.hidden})},m.getRangeResEnd=function(){return m.Cd.resourceTo?c.Ig(m.Cd.resourceTo):c.rowlist.last()},m.getRowHeaderWidth=function(){return c.Wg()},m.getTimeHeaderHeight=function(){return c.Vg()},m.getCanvas=function(){return m.canvas()},m.getRectangles=function(){var t=m.getRowHeaderWidth(),e=m.getTimeHeaderHeight(),n={};n.main={x:0,y:0,w:m.getWidth(),h:m.getHeight()},n.corner={x:0,y:0,w:t,h:e},n.grid={x:t,y:e,w:m.getWidth()-t,h:m.getHeight()-e};var i=n.grid.w,o=c.itline.last();o&&o.left+o.width<n.grid.w&&(i=o.left+o.width);var r=n.grid.h,a=c.rowlist.last();return a&&a.top+a.height<n.grid.h&&(r=a.top+a.height),n.gridContent={x:t,y:e,w:i,h:r},n},m.getRows=function(){var t,e,n,i,o=m.Dd,r=DayPilot.list();switch(o){case"viewport":e=(t=c.lj)+c.nav.scroll.offsetHeight,n=c.qi(t).i,i=c.qi(e).i;break;case"full":t=0,n=0,i=c.rowlist.length;break;case"range":var a=m.getRangeResStart(),s=m.getRangeResEnd();if(!a)throw"Resource specified using resourceFrom option not found during export.";if(!s)throw"Resource specified using resourceTo option not found during export.";n=a.index,i=s.index}i<c.rowlist.length&&(i+=1);for(var l=n;l<i;l++){var d=c.rowlist[l];d.hidden||r.push(d)}return r.offset=n,r},m.getEvents=function(){var t=m.Dd;switch(t){case"full":var e=DayPilot.list();return DayPilot.list(c.rowlist).each(function(t){t.hidden||DayPilot.list(t.events).each(function(t){e.push(t)})}),e;case"viewport":return d.events().map(function(t){return t.event});case"range":e=DayPilot.list();var n=m.getRangeStart(),i=m.getRangeEnd();return m.getRows().each(function(t){DayPilot.list(t.events).filter(function(t){return DayPilot.Util.overlaps(t.start(),t.end(),n,i)}).each(function(t){e.push(t)})}),e;default:throw"Unsupported export mode: "+t}},m.getTimeline=function(){var t=m.Dd;switch(t){case"full":return DayPilot.list(c.itline).addProps({offset:0});case"viewport":return m.getViewportTimeline();case"range":return m.getRangeTimeline();default:throw"Unsupported export mode: "+t}},m.getRangeTimeline=function(){var t=DayPilot.list();if(c.itline&&c.itline.length>0){var e=c.ph(m.getRangeStart()).i,n=c.ph(m.getRangeEnd()).i,i=c.mj();n=Math.min(n,i-1);for(var o=e=Math.max(e,0);o<=n;o++)t.push(c.itline[o]);t.offset=e}return t},m.getViewportTimeline=function(){var t=DayPilot.list();if(c.itline&&c.itline.length>0){var e=c.nj,n=e+c.oj,i=c.nh(e).x,o=c.nh(n,!0).x,r=c.mj();o=Math.min(o,r);for(var a=i=Math.max(i,0);a<=o;a++)t.push(c.itline[a]);t.offset=i}return t},m.getTimeHeader=function(t){if("full"===m.Dd)return DayPilot.list(c.timeHeader[t]);var e,n,i=DayPilot.list();n=(e=m.getViewportOffsetStart())+m.getViewportOffsetWidth();var o=c.pj(t,e),r=c.pj(t,n);r||(r={x:c.timeHeader[t].length-1});for(var a=o.x;a<=r.x;a++)i.push(c.timeHeader[t][a]);return i},m.fakeDurationBar=function(){var t=document.createElement("div");t.style.display="none",t.className=c.q(A.event);var e=document.createElement("div");e.className=c.q(A.eventBar);var n=document.createElement("div");return n.className=c.q(A.eventBarInner),document.body.appendChild(t),e.appendChild(n),t.appendChild(e),t},m.fakeCell=function(){var t=document.createElement("div");t.style.display="none",t.className=c.q("_cell"),t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px";var e=document.createElement("div");return e.className=c.q("_cell_inner"),t.appendChild(e),c.divCells.appendChild(t),t},m.fakeRowHeader=function(){var t=document.createElement("div");t.style.display="none",t.className=c.q("_rowheader"),t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px";var e=document.createElement("div");return e.className=c.q("_rowheader_inner"),t.appendChild(e),c.divResScroll.appendChild(t),t},m.fakeExpand=function(){var t=document.createElement("div");return t.style.display="none",t.className=c.q("_tree_image_expand"),document.body.appendChild(t),t},m.extractUrl=function(t){var e=/url\((")?([^"].*[^"])\1\)/.exec(t);return e?e[2]:null},m.getImages=function(){var t={},e=m.fakeExpand();return t.expand=m.extractUrl(new DayPilot.StyleReader(e).get("background-image")),e.className=c.q("_tree_image_collapse"),t.collapse=m.extractUrl(new DayPilot.StyleReader(e).get("background-image")),e.className=c.q("_tree_image_no_children"),t.nochildren=m.extractUrl(new DayPilot.StyleReader(e).get("background-image")),DayPilot.de(e),t},m.getFont=function(t){return new DayPilot.StyleReader(t).getFont()},m.getViewportOffsetStart=function(){switch(m.Dd){case"full":return 0;case"viewport":return c.nav.scroll.scrollLeft;case"range":return c.getPixels(m.getRangeStart()).boxLeft}},m.getViewportOffsetTop=function(){switch(m.Dd){case"full":return 0;case"viewport":return c.nav.scroll.scrollTop;case"range":return m.getRangeResStart().top}},m.getViewportOffsetWidth=function(){switch(m.Dd){case"full":return c.Tg();case"viewport":return c.nav.scroll.offsetWidth;case"range":return c.getPixels(m.getRangeEnd()).boxRight-m.getViewportOffsetStart()}},m.excelBoard=function(){var t=new DayPilot.Excel,e=t.worksheets.create("Scheduler"),n=new DayPilot.StyleReader(c.nav.corner).get("background-color"),i=new DayPilot.StyleReader(c.nav.top).get("border-top-color"),o=DayPilot.list(c.elements.events).map(function(t){return t.firstChild}).last(),r=new DayPilot.StyleReader(o).get("border-right-color");t.styles.getDefault().setBackColor("#ffaaaa");var a=t.styles.create();a.setHorizontalAlignment("Center"),a.setBackColor(n),a.setBorderColor(i);var s=t.styles.create();s.setVerticalAlignment("Top"),s.setBackColor(n),s.setBorderColor(i);var l=t.styles.create();l.setVerticalAlignment("Top"),l.setBackColor("#ff0000"),l.setBorderColor(r),e.enableGridlines(!1),e.cell(0,0).setRowspan(c.timeHeader.length).setStyle(a),e.cell(10,10).setText("hi there"),DayPilot.list(c.timeHeader).each(function(t,n){m.getTimeHeader(n,"full").each(function(t,i){var o=t.colspan;e.cell(i+1,n+0).setText(t.innerHTML).setColspan(o).setStyle(a)})}),DayPilot.list(c.rowlist).each(function(t,n){for(var i={x:0,y:1},o="",r=0;r<t.level;r++)o+="  ";e.cell(i.x,n+i.y).setText(o+t.html).setRowspan(t.lines.length).setStyle(s)});var d={x:0,y:c.timeHeader.length},u=d.y;return DayPilot.list(c.rowlist).each(function(t,n){DayPilot.list(t.lines).each(function(t,i){var o=d.x;DayPilot.list(t).each(function(t){var i=c.ph(t.start()).i,r=1+c.ph(t.end()).i-i;e.cell(i+o,n+u).setText(t.client.html()).setColspan(r).setStyle(l),o+=r-1})}),u+=t.lines.length-1}),t},m.Cd=null,m.Dd=null,m.generate=function(t,e){"object"==typeof t&&(e=t,t=null),e=e||{},t=t||e.format||"svg";var n=e.scale||1;if("xls"===t)return m.excelBoard();"jpg"===t.toLowerCase()&&(t="jpeg");var i=e.area||"viewport";m.Cd=e,m.Dd=i,m.getRows().each(function(t){c.qj(t)});var o,r=m.getWidth(),a=m.getHeight();switch(t.toLowerCase()){case"svg":o=new DayPilot.Svg(r,a);break;case"png":o=new DayPilot.Canvas(r,a,"image/png",n);break;case"jpeg":o=new DayPilot.Canvas(r,a,"image/jpeg",n,e.quality);break;default:throw"Export format not supported: "+t}var s=m.getRectangles(),l=m.getImages(),d=new DayPilot.StyleReader(c.nav.top).get("background-color"),u=new DayPilot.StyleReader(c.nav.corner).get("background-color"),h=new DayPilot.StyleReader(c.nav.top).get("border-top-color"),f=new DayPilot.StyleReader(c.nav.divider).get("background-color"),p=DayPilot.list(c.elements.events).map(function(t){return t.firstChild}).last(),g=new DayPilot.StyleReader(p).get("border-right-color"),v=m.getFont(p),y=new DayPilot.StyleReader(p).get("color"),b=new DayPilot.StyleReader(p).get("background-color");b=DayPilot.Util.isTransparentColor(b)?"white":b;var w=m.fakeDurationBar(),x=new DayPilot.StyleReader(w.firstChild).get("background-color"),D=new DayPilot.StyleReader(w.firstChild.firstChild).get("background-color");DayPilot.de(w);var C=m.fakeCell(),_=new DayPilot.StyleReader(C).get("background-color");DayPilot.Util.addClass(C,c.q("_cell_business"));var S=new DayPilot.StyleReader(C).get("background-color"),k=m.getFont(C),T=new DayPilot.StyleReader(C).get("color");DayPilot.de(C);var A=DayPilot.Util.firstPropValue(c.u.linesVertical),P=new DayPilot.StyleReader(A).get("background-color"),E=c.u.timeHeader["0_0"],M=m.getFont(E),N=new DayPilot.StyleReader(E).get("color"),I=new DayPilot.StyleReader(E).get("background-color"),O=m.fakeRowHeader(),H=m.getFont(O),L=new DayPilot.StyleReader(O).get("color"),B=new DayPilot.StyleReader(O).get("background-color");if(DayPilot.de(O),c.rowHeaderColumns&&c.vi&&c.vi.blocks[0])var F=c.vi.blocks[0].section.firstChild,j=new DayPilot.StyleReader(F).getFont(),z=new DayPilot.StyleReader(F).get("color");var U=m.getViewportOffsetStart(),$=m.getViewportOffsetTop();o.fillRect(s.main,"white"),o.fillRect(s.main,d),o.fillRect(s.corner,u);var W=s.corner.x;DayPilot.list(c.rowHeaderColumns).each(function(t,e){var n=c.rowHeaderCols[e],i={};i.x=W,i.w=n+1,i.y=s.corner.h-c.vi.height,i.h=c.vi.height+1;var r=DayPilot.Util.copyProps(i);r.x+=3,r.w-=3,o.text(r,t.name||t.title||"",j,z),o.rect(i,h),W+=n});var q="function"==typeof c.onBeforeTimeHeaderExport;DayPilot.list(c.timeHeader).each(function(t,e){m.getTimeHeader(e,i).each(function(t){var n,i=s.grid.x+t.left-U,r=t.width,a=R.timeHeader(e),l=a.top,d=a.height,u=t.innerHTML,f=t.backColor;if(q){var p={header:{}};p.header.start=t.start,p.header.end=t.end,p.header.level=e,p.header.text=t.text,p.header.html=t.innerHTML,p.text=t.innerHTML,p.backColor=t.backColor,c.onBeforeTimeHeaderExport(p),u=p.text,f=p.backColor}r-=n=Math.max(0,s.grid.x-i);var g={x:i+=n,y:l,w:1+(r-=n=Math.max(0,i+r-(s.grid.x+s.grid.w))),h:d+1};o.fillRect(g,f=f||I),o.rect(g,h),o.text(g,u,M,N,"center")})}),m.getTimeline().each(function(t){var e=s.grid.x+t.left-U;(e+=Math.max(0,s.grid.x-e))!==s.grid.x&&o.line(e,s.grid.y+1,e,s.grid.y+s.grid.h-2,P)});var V="function"==typeof c.onBeforeCellExport;m.getRows().each(function(t,e,n){e=t.index,m.getTimeline().each(function(n,i,r){var a=c.Ri(i=r.offset+i,e),l=a.business,d=c.rj(i,e),u=a.html,h=a.horizontalAlignment||"left",f=a.backColor||(l?S:_);V&&(d||((d={}).cell=c.cells.findXy(i,e)[0]),d.text=u,d.horizontalAlignment=h,d.backColor=f,c.onBeforeCellExport(d),u=d.text,h=d.horizontalAlignment,f=d.backColor);var p=s.grid.y+t.top-$;p+=Math.max(0,s.grid.y-p);var g=s.grid.x+n.left-U,m={x:g+=Math.max(0,s.grid.x-g),y:p,w:n.width,h:t.height};o.fillRect(m,f);var v={};v.x=m.x+1,v.y=m.y+1,v.w=m.w-2,v.h=m.h-2,u&&o.text(v,u,k,T,h)})}),m.getRows().each(function(t){var e=s.grid.y+t.top-$;(e+=Math.max(0,s.grid.y-e))!==s.grid.y&&o.line(s.gridContent.x+1,e,s.gridContent.x+s.gridContent.w-1,e,P)});var Y="function"==typeof c.onBeforeRowHeaderRender,G="function"==typeof c.onBeforeRowHeaderExport;return m.getRows().each(function(t){var e=s.grid.y+t.top-$;e+=Math.max(0,s.grid.y-e);var n=c.treeEnabled&&!t.isNewRow,i=n?t.level*c.treeIndent+c.treeImageMarginLeft:3,r={x:0,y:e,w:s.grid.x+1,h:t.height+1},a=t;Y&&(a=c.sj(t).row);var d={};d.text=a.html,d.backColor=a.backColor||B,d.fontSize=H.size,d.fontFamily=H.family,d.fontStyle=H.style,d.fontColor=a.fontColor||L,d.borderColor=h,d.horizontalAlignment="left",d.row=c.Zh(t),d.row.columns=[],a.columns.forEach(function(t){var e=DayPilot.Util.copyProps(t,{},["html","backColor","horizontalAlignment"]);e.text=t.html,e.fontSize=d.fontSize,e.fontFamily=d.fontFamily,e.fontStyle=d.fontStyle,e.fontColor=d.fontColor,e.horizontalAlignment=e.horizontalAlignment||d.horizontalAlignment,e.backColor=e.backColor||d.backColor,d.row.columns.push(e)}),t.isNewRow&&(d.text=c.rowCreateHtml),G&&c.onBeforeRowHeaderExport(d);var u,f={x:i,y:e+c.treeImageMarginTop,w:10,h:10},p=n?i+10+3:i,g={x:p,y:e,w:n?r.w-p:r.w,h:t.height+1};c.rowHeaderCols&&(g.w=c.rowHeaderCols[0]-p),o.fillRect(r,d.backColor),o.text(g,d.text,{size:d.fontSize,family:d.fontFamily,style:d.fontStyle},d.fontColor,d.horizontalAlignment),o.rect(r,d.borderColor),n&&(u=DayPilot.list(t.children).isEmpty()?l.nochildren:t.expanded?l.collapse:l.expand,o.image(f,u)),c.rowHeaderCols&&(i=r.x,DayPilot.list(c.rowHeaderCols).each(function(t,e){if(0!==e){var n=d.row.columns[e-1]||{},a=DayPilot.Util.copyProps(r);a.x=i,a.w=t+1;var s=DayPilot.Util.copyProps(a);s.x+=3,s.w-=3,o.fillRect(a,n.backColor||d.backColor),n.text&&o.text(s,n.text,{size:n.fontSize,family:n.fontFamily,style:n.fontStyle},n.fontColor,n.horizontalAlignment),o.rect(a,d.borderColor)}i+=t}))}),m.getEvents().each(function(t){var e=c.rowlist[t.part.dayIndex].top,n=t.part.width,i=t.part.barWidth,r=t.client&&t.client.barVisible&&t.client.barVisible(),a=s.grid.y+e+t.part.top-$;a+=Math.max(0,s.grid.y-a);var l=s.grid.x+t.part.left-U,d=Math.max(0,s.grid.x-l);l+=d,n-=d,i-=d;var u=t.cache||t.data,h=u.barColor||D,f=u.barBackColor||x,p=u.backColor||b,m=u.fontColor||y,w={};w.e=t,w.text=t.text?t.text():t.client.html(),w.fontSize=v.size,w.fontFamily=v.family,w.fontStyle=v.style,w.fontColor=m,w.backColor=p,w.borderColor=g,w.horizontalAlignment="left",w.barHeight=5,w.textPadding=2,"function"==typeof c.onBeforeEventExport&&c.onBeforeEventExport(w);var C={x:l,y:a,w:n,h:t.part.height},_={x:l,y:a,w:n,h:w.barHeight},S={x:l+t.part.barLeft,y:a,w:i,h:w.barHeight};o.fillRect(C,w.backColor),o.text(C,w.text,{size:w.fontSize,family:w.fontFamily,style:w.fontStyle},w.fontColor,w.horizontalAlignment,w.textPadding),o.rect(C,w.borderColor),r&&(o.fillRect(_,f),i>0&&o.fillRect(S,h)),DayPilot.list(u.areas).each(function(e){if("Hover"!==(e.visibility||e.v)){var n=e.left;e.start&&(n=c.getPixels(new DayPilot.Date(e.start)).left-t.part.left);var i=e.width||e.w;e.right?i=t.part.width-e.right-n:e.end&&(i=c.getPixels(new DayPilot.Date(e.end)).left-e.left-t.part.left+1);var r=e.top,s=e.height||e.h;"number"==typeof e.bottom&&(s=t.part.height-e.bottom-r);var d={x:l+n,y:a+r,w:i,h:s};if(e.backColor&&o.fillRect(d,e.backColor),e.image){var u=new Image;u.src=e.image,o.image(d,u)}else e.html&&o.text(d,e.html,{size:e.fontSize||w.fontSize,family:e.fontFamily||w.fontFamily,style:e.fontStyle||w.fontStyle},e.fontColor||w.fontColor,null,e.padding)}})}),o.rect(s.main,h),o.line(s.grid.x,0,s.grid.x,s.main.h,f),o.line(0,s.grid.y,s.main.w,s.grid.y,f),o},this.tj={};var v=this.tj;v.findJointDivs=function(t){var e=t.data.join;return e?DayPilot.list(c.elements.events).filter(function(n){return n.event.data.join===e&&n.event!==t}):DayPilot.list()},this.uj={};var y=this.uj;y.divs=[],y.list=[],y.forbidden=!1,y.additional=function(){var t=DayPilot.list(),e=c.multiselect.isSelected(i.resizing.event),n=c.allowMultiResize;if(t=DayPilot.list(),e&&n&&(t=DayPilot.list(c.multiselect.Gb).filter(function(t){return t!==i.resizing})),c.jointEventsResize){var o=v.findJointDivs(i.resizingEvent);t=t.concat(o)}return t},y.update=function(){y.clear(),y.draw()},y.clear=function(){DayPilot.de(y.divs),y.divs=[]},y.draw=function(){if(i.resizing){var t=i.resizingEvent,e=i.resizingShadow,n=e.start.getTime()-t.start().getTime(),o=e.end.getTime()-t.end().getTime();if(y.list=[],y.forbidden=!1,y.invalid=!1,y.rowoffset=0,y.additional().each(function(t){if(t.event){var e=t.event,i=c.rowlist[e.part.dayIndex+0];if(!i)return void(y.invalid=!0);var r=e.part.top+i.top,a=e.part.height,s=e.start().addTime(n),l=e.end().addTime(o),d={};d.event=e,d.start=s,d.end=l,d.overlapping=!1,y.list.push(d);var u=c.getPixels(s),h=c.getPixels(l),f=DayPilot.DateUtil.diff(e.rawend(),e.start());f=Math.max(f,1);var p=M.useBox(f),g=p?u.boxLeft:u.left,m=p?h.boxRight-g:h.left-g,v=document.createElement("div");v.style.position="absolute",v.style.left=g+"px",v.style.top=r+"px",v.style.height=a+"px",v.style.width=m+"px",v.style.zIndex=101,v.style.overflow="hidden",v.className=c.q("_shadow"),v.info=d;var b=document.createElement("div");b.className=c.q("_shadow_inner"),v.appendChild(b),c.Fg.appendChild(v),y.divs.push(v)}}),y.invalid){var r=c.q("_shadow_overlap");return void DayPilot.list(y.divs).each(function(t){DayPilot.Util.addClass(t,r)})}DayPilot.list(y.divs).each(function(t){if(t.info){var e=t,n=t.info,o=c.rowlist[t.info.event.part.dayIndex+0],r=c.getPixels(n.start),a=c.getPixels(n.end),s=r.left,l=a.left-s,d=DayPilot.list(y.list).map(function(t){return t.event.data}).add(i.resizing.event.data);c.vj(e,o,s,l,d),c.wj(e,n.start,n.end,n.resource),e.overlapping&&(n.overlapping=!0,y.forbidden=!0)}})}},this.xj={},this.xj.modifiedProps=function(){var t=new DayPilot.Scheduler,e=DayPilot.Util.members(c,2),n=[];return n.push("<div id='dp'></div>"),n.push("<script>"),n.push("var dp = new DayPilot.Scheduler('dp');"),e.properties.each(function(e){var i,o,r=e.name,a=r.split(".");if(a.length>1){var s=a[0],l=a[1];i=JSON.stringify(t[s][l]),o=JSON.stringify(c[s][l])}else i=JSON.stringify(t[r]),o=JSON.stringify(c[r]);i!==o&&n.push("dp."+r+" = "+o+";")}),e.events.each(function(t){var e=t.name;"function"==typeof c[e]&&n.push("dp."+e+" = "+c[e].toString()+";")}),n.push("dp.init();"),n.push("<\/script>"),n.join("\n")},this.yj={};var b=this.yj;b.divs=[],b.list=[],b.forbidden=!1,b.verticalAll=function(){return"All"===c.multiMoveVerticalMode},b.additional=function(){var t=DayPilot.list(),e=c.multiselect.isSelected(i.movingEvent),n=c.allowMultiMove;if(t=DayPilot.list(),e&&n&&(t=DayPilot.list(c.multiselect.Gb).filter(function(t){return t!==i.moving&&t!==k.moving})),c.jointEventsMove){var o=v.findJointDivs(i.movingEvent);t=t.concat(o)}return t},b.update=function(){b.clear(),b.draw()},b.draw=function(){if(i.moving){var t=i.movingEvent,e=i.movingShadow.start.getTime()-t.start().getTime(),n=t.part.dayIndex,o=DayPilot.indexOf(c.rowlist,i.movingShadow.row)-n;if(b.verticalAll()||(o=0),b.list=[],b.forbidden=!1,b.invalid=!1,b.rowoffset=o,b.additional().each(function(t){if(t.event){var n=t.event,i=c.rowlist[n.part.dayIndex+o];if(!i)return void(b.invalid=!0);var r=n.part.top+i.top,a=n.part.height;o&&(r=i.top,a=i.height);var s=n.start().addTime(e),l=n.end().addTime(e),d={};d.event=n,d.start=s,d.end=l,d.resource=i.id,d.overlapping=!1,b.list.push(d);var u=c.getPixels(s),h=c.getPixels(l),f=DayPilot.DateUtil.diff(n.rawend(),n.start());f=Math.max(f,1);var p=M.useBox(f),g=p?u.boxLeft:u.left,m=p?h.boxRight-g:h.left-g,v=document.createElement("div");v.style.position="absolute",v.style.left=g+"px",v.style.top=r+"px",v.style.height=a+"px",v.style.width=m+"px",v.style.zIndex=101,v.style.overflow="hidden",v.className=c.q("_shadow"),v.info=d;var y=document.createElement("div");y.className=c.q("_shadow_inner"),v.appendChild(y),c.Fg.appendChild(v),b.divs.push(v)}}),b.invalid){var r=c.q("_shadow_overlap");return void DayPilot.list(b.divs).each(function(t){DayPilot.Util.addClass(t,r)})}DayPilot.list(b.divs).each(function(t){if(t.info){var e=t,n=t.info,r=c.rowlist[t.info.event.part.dayIndex+o],a=c.getPixels(n.start),s=c.getPixels(n.end),l=a.left,d=s.left-l,u=DayPilot.list(b.list).map(function(t){return t.event.data}).add(i.movingEvent.data);c.vj(e,r,l,d,u),c.wj(e,n.start,n.end,n.resource),e.overlapping&&(n.overlapping=!0,b.forbidden=!0)}})}},b.clear=function(){DayPilot.de(b.divs),b.divs=[]},this.zj=function(){var t=i.resizing.dpBorder,e=i.resizing.event,n=e.part.left;"right"==t&&(n+=e.part.width);var o,r,a=i.resizing.event.calendar.cellWidth,s=i.resizing.event.part.width,l=i.resizing.event.part.left,d=c.coords.x-n;if("right"===t){if(o=l,c.snapToGrid){var u=c.nh(s+l+d).cell;(r=u.left+u.width-l)<a&&(r=a)}else r=s+d;var h=c.Tg();l+r>h&&(r=h-l),i.resizingShadow.left=l,i.resizingShadow.width=r}else{if("left"!==t)throw"Invalid dpBorder.";c.snapToGrid?(d>=s&&(d=s),(o=Math.floor((l+d+0)/a)*a)<0&&(o=0)):o=l+d,r=s-(o-l);var f=a;c.snapToGrid?"Never"===c.useEventBoxes&&(f=s<a?s:1):f=1,r<f&&(o=l+s-(r=f)),i.resizingShadow.left=o,i.resizingShadow.width=r}!function(){i.resizingShadow.overlapping=!1;var t=i.resizing.event,e=c.rowlist[t.part.dayIndex];c.vj(i.resizingShadow,e,o,r,t.data);var n=i.resizingShadow;if(n.start){var a={start:n.start,end:c.sf(n.end)};c.wj(i.resizingShadow,a.start,a.end,e.id)}}(),c.Aj()},this.ij=function(){if(c.coords&&i.movingEvent){c.Xg();var t=i.movingShadow,e=this.wi(i.movingEvent);if(!c.xi(e.rowIndex)){var n=i.movingEvent,o=0,r=0;!function(){if(c.ag){var t=e.relativeY,n=c.nh(e.left).x,i=(s=e.row).evColumns[n],a=i.events.find(function(e){return t<e.part.top+e.part.height+c.eventMarginBottom});a||(a=i.events.last()),a&&(r=a.part.top,o=DayPilot.indexOf(i.events,a),t-a.part.top>a.part.height/2&&(r=a.part.top+a.part.height+c.eventMarginBottom/2,o+=1))}else{t=e.relativeY;for(var s=e.row,l=c.Fc.eventHeight(),d=s.lines.length,u=0;u<s.lines.length;u++)if(s.lines[u].isFree(e.left,c.cellWidth)){d=u;break}var h=Math.floor((t-0+l/2)/l);h=Math.min(d,h),h=Math.max(0,h),r=c.rowMarginTop+(o=h)*(c.Fc.eventHeight()+c.eventMarginBottom)+c.eventMarginBottom/2}}(),r>0&&(r-=3);var a=n.cache&&void 0!==n.cache.moveVDisabled?!n.cache.moveVDisabled:!n.data.moveVDisabled,s=n.cache&&void 0!==n.cache.moveHDisabled?!n.cache.moveHDisabled:!n.data.moveHDisabled,l=!b.additional().isEmpty();if(l&&"Disabled"===c.multiMoveVerticalMode&&(a=!1),a)if(this.xi(e.rowIndex)){var d;if(!(p=t.row))return;d=e.rowIndex<p.index?1:-1;for(var u=e.rowIndex;u!==p.index;u+=d){var h=this.rowlist[u];if(!this.xi(u)&&!h.hidden){t.style.top=h.top+"px",t.style.height=Math.max(h.height,0)+"px",t.row=h,c.eventMoveToPosition&&(o=d>0?0:h.lines.length-1,t.style.top=e.top+r+"px",t.style.height="3px",t.line=o);break}}}else t.row=e.row,t.style.height=Math.max(e.row.height,0)+"px",t.style.top=e.top+"px",c.eventMoveToPosition&&(t.style.top=e.top+r+"px",t.style.height="3px",t.line=o);else{var p,g=(p=c.rowlist[n.part.dayIndex]).lines.length;for(u=0;u<p.lines.length;u++)if(p.lines[u].isFree(e.left,c.cellWidth)){g=u;break}if(l||(t.style.height=Math.max(p.height,0)+"px",t.style.top=p.top+"px"),t.row=p,c.eventMoveToPosition&&!l)if(e.row===p)t.style.top=p.top+r+"px",t.style.height="3px",t.line=o;else{var m=e.rowIndex>p.index&&g>0?g*c.Fc.eventHeight()-3:0;t.style.top=p.top+m+"px",t.style.height="3px",t.line=0}}s?(t.style.left=e.left+"px",t.style.width=c.eventMoveToPosition?c.cellWidth+"px":e.width+"px",t.start=e.start,t.end=e.end):(t.style.left=n.part.left+"px",t.start=n.start(),t.end=n.rawend(),e.left=n.part.left),function(){t.overlapping=!1;var o=t.row,r=n.data,a=e.width,s=e.left,l=DayPilot.list(b.list).map(function(t){return t.event.data}).add(r);c.vj(t,o,s,a,l),c.wj(i.movingShadow,t.start,t.end,t.row.id)}(),function(){var e=c.Sc;if(!e||e.start.getTime()!==t.start.getTime()||e.end.getTime()!==t.end.getTime()||e.resource!==t.row.id){b.update();var a=!!i.drag&&n.part.external,s={};s.start=t.start,s.end=c.sf(t.end),s.duration=new DayPilot.Duration(s.start,s.end),s.e=n,s.external=a,s.resource=t.row.id,s.html=null,s.row=c.Zh(t.row),s.position=t.line,s.overlapping=t.overlapping||b.forbidden,s.allowed=!0,s.left={},s.left.html=s.start.toString(c.eventMovingStartEndFormat,M.locale()),s.left.enabled=c.eventMovingStartEndEnabled,s.left.space=5,s.left.width=null,s.right={},s.right.html=s.end.toString(c.eventMovingStartEndFormat,M.locale()),s.right.enabled=c.eventMovingStartEndEnabled,s.right.space=5,s.right.width=null,s.multimove=DayPilot.list(b.list),s.shift=c.coords.shift,s.ctrl=c.coords.ctrl,s.meta=c.coords.meta,s.alt=c.coords.alt,s.areaData=DayPilot.Global.movingAreaData,s.link=null;var l={};l.event=n,l.start=s.start,l.end=s.end,l.overlapping=s.overlapping,l.resource=s.resource,s.multimove.splice(0,0,l),c.Sc=s;var d={start:s.start,end:s.end,resource:s.resource};if("function"==typeof c.onEventMoving&&c.onEventMoving(s),t.allowed=s.allowed,s.start!==d.start||s.end!==d.end){var u=s.start,h=c.Te(s.end);t.start=u,t.end=h;var p=DayPilot.DateUtil.diff(u,h);p=Math.max(p,1);var g=M.useBox(p),m=g?c.getPixels(u).boxLeft:c.getPixels(u).left,v=g?c.getPixels(h).boxRight:c.getPixels(h).left;t.style.left=m+"px",t.style.width=v-m+"px"}if(s.resource!==d.resource){var y=c.Ig(s.resource);y&&(t.row=y,t.style.height=Math.max(y.height,0)+"px",t.style.top=y.top+"px",c.eventMoveToPosition&&(t.style.top=y.top+r+"px",t.style.height="3px",t.line=o))}t.firstChild.innerHTML=s.html?s.html:"",c.Bj(t,s),c.Cj(i.movingShadow,s),s.link&&(DayPilot.Global.movingLink&&DayPilot.Global.movingLink.clear(),DayPilot.Global.movingLink=f.drawLink(s.link.from,t,s.link))}}()}}},this.vj=function(t,e,n,i,o){if(!c.allowEventOverlap){!function(){t.overlapping=!1;for(var r=0;r<e.lines.length;r++)if(!e.lines[r].isFree(n,i,o))return void(t.overlapping=!0);if(c.allowMultiRange){var a=e.index;DayPilot.list(E.list).some(function(e){var o=e.div,r=parseInt(o.style.left),s=parseInt(o.style.width);return t!==o&&e.start.y===a&&DayPilot.Util.overlaps(n,n+i,r,r+s)})&&(t.overlapping=!0)}}();var r=t.overlapping,a=c.q("_shadow_overlap");r?DayPilot.Util.addClass(t,a):DayPilot.Util.removeClass(t,a)}},this.wj=function(t,e,n,i){if(c.cellConfig&&c.cellConfig.hasDisabled||c.gh.Dj){c.Ej(e,n,i)&&(t.overlapping=!0);var o=c.q("_shadow_overlap");t.overlapping?DayPilot.Util.addClass(t,o):DayPilot.Util.removeClass(t,o)}},this.Ej=function(t,e,n){var i=c.rows.find(n).cells.forRange(t,e);return!!i&&i.some(function(t){return t.properties.disabled})},this.Bj=function(t,e){var n=c.q("_shadow_forbidden");!e.allowed||b.invalid?DayPilot.Util.addClass(t,n):DayPilot.Util.removeClass(t,n)},this.Cj=function(t,e){if(this.Fj(),t.calendar===c){var n={};n.left=parseInt(t.style.left),n.top=parseInt(t.style.top),n.right=n.left+parseInt(t.style.width);var i=e.left.width||10,o=document.createElement("div");if(o.style.position="absolute",o.style.left=n.left-i-e.left.space+"px",o.style.top=n.top+"px",o.style.height=c.eventHeight+"px",o.style.overflow="hidden",o.style.boxSizing="border-box",o.innerHTML=e.left.html,o.className=this.q("_event_move_left"),o.onmousemove=c.Gj,e.left.enabled)if(c.divHover.appendChild(o),e.left.width)o.style.width=i+"px";else{o.style.whiteSpace="nowrap";var r=o.offsetWidth,a=n.left-r-e.left.space;o.style.width=r+"px",o.style.left=a+"px";var s=c.nav.scroll.scrollLeft;a<s&&c.divHover.removeChild(o);var l=c.Hj()+(a-s);l>0&&(o.style.left=l+"px",o.style.top=n.top-c.nav.scroll.scrollTop+c.Vg()+"px",c.nav.top.appendChild(o),c.elements.hover.push(o))}i=e.right.width||10;var d=document.createElement("div");d.style.position="absolute",d.style.left=n.right+e.right.space+"px",d.style.top=n.top+"px",d.style.height=c.eventHeight+"px",d.style.overflow="hidden",d.style.boxSizing="border-box",e.right.width?d.style.width=e.right.width+"px":d.style.whiteSpace="nowrap",d.innerHTML=e.right.html,d.className=this.q("_event_move_right"),d.onmousemove=c.Gj,e.right.enabled&&(c.divHover.appendChild(d),n.right+e.right.space+d.offsetWidth>=c.nav.scroll.scrollWidth&&c.divHover.removeChild(d))}},this.Fj=function(){c.divHover.innerHTML="",DayPilot.de(c.elements.hover),c.elements.hover=[]},this.Ij=function(){this.rowHeaderCols=this.rowHeaderColumns?DayPilot.Util.propArray(this.rowHeaderColumns,"width",c.rowHeaderColumnDefaultWidth):null},this.Hj=function(){var t=0;if(this.Ij(),this.rowHeaderCols)for(var e=0;e<this.rowHeaderCols.length;e++)t+=this.rowHeaderCols[e];else t=this.rowHeaderWidth;return t},this.Jj=function(){return this.Kj(c.progressiveRowRenderingPreload)},this.Kj=function(t){t=t||0;var e=0,n=c.rowlist.length;if(c.progressiveRowRendering){var i=c.Kg();e=i.yStart,n=i.yEnd+1,e=Math.max(0,e-t),n=Math.min(c.rowlist.length,n+t)}return{start:e,end:n}},this.Lj=function(){if(this.ad()){var t=!1,e=0;if(this.rowHeaderWidthAutoFit){var n=this.divHeader;if(!n)return;if(!n.rows)return;for(var i=[],o=c.Jj(),r=o.start;r<o.end;r++){var a=n.rows[r];if(a&&!a.hidden&&!a.autofitDone){a.autofitDone=!0;for(var s=0;s<a.cells.length;s++){var l=a.cells[s].firstChild.firstChild;if(l&&l.style){var d=l.style.width,u=l.style.right;l.style.position="absolute",l.style.width="auto",l.style.right="auto",l.style.whiteSpace="nowrap";var h=l.offsetWidth+2;l.style.position="",l.style.width=d,l.style.right=u,l.style.whiteSpace="",void 0===i[s]&&(i[s]=0),i[s]=Math.max(i[s],h)}}}}if(this.Ij(),this.rowHeaderCols)for(r=0;r<i.length;r++)this.rowHeaderCols[r]&&(i[r]>this.rowHeaderCols[r]&&(this.rowHeaderCols[r]=i[r],t=!0),e+=this.rowHeaderCols[r]);else e=this.rowHeaderWidth,this.rowHeaderWidth<i[0]+c.rowHeaderWidthMarginRight&&(e=i[0]+c.rowHeaderWidthMarginRight,t=!0)}t&&(this.vi&&(this.vi.widths=this.rowHeaderCols,this.vi.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=e),this.Eh(),this.Mj())}},this.mg=function(){this.Nj=!0,this.Ij();var t=this.Hj(),e=this.divHeader;if(e){if(DayPilot.browser.ie)for(var n=0;n<e.childNodes.length;n++)DayPilot.de(e.childNodes[n]);e.innerHTML="",DayPilot.puc(e)}else(e=document.createElement("div")).onmousemove=function(){c.V()},this.divHeader=e;if(e.style.width=t+"px",e.style.height=c.eg+"px",e.rows=[],c.progressiveRowRendering);else{var i=this.rowlist.length;for(n=0;n<i;n++)c.Oj(n)}c.Pj(),this.divResScroll.appendChild(e),this.rowHeaderWidthAutoFit&&this.Lj()},this.Fh=function(){if(c.progressiveRowRendering){for(var t=this.Jj(),e=0;e<c.rowlist.length;e++)t.start<=e&&e<t.end?c.Oj(e):c.Qj(e);if(this.rowHeaderWidthAutoFit){var n=c.Wg();if(this.Lj(),c.Wg()!==n){var i=this.cellWidth;this.jg(),this.cellWidth!==i&&(c.kg(),c.ng(),c.na(),c.fa(),c.Rj())}}}},this.Pj=function(){var t=c.divHeader;(n=document.createElement("div")).style.position="absolute",t.appendChild(n),c.nav.resScrollSpace=n,n.setAttribute("unselectable","on");var e=document.createElement("div");e.style.position="relative",e.style.height="100%",e.className=this.q("_rowheader"),n.appendChild(e);var n,i=this.Hj();(n=c.nav.resScrollSpace).style.width=i+"px",n.style.top=this.eg+"px",n.style.height=c.divResScroll.clientHeight+20+"px"},this.Qj=function(t){var e=c.divHeader.rows[t];e&&(DayPilot.de(e.cells),c.divHeader.rows[t]=null)},this.Lh=function(t){this.Qj(t),this.Oj(t)},this.Oj=function(t){var e=c.divHeader,n=this.divHeader;if(!n.rows[t]){var i=this.rowHeaderCols,r=i?this.rowHeaderCols.length:0,a=this.Hj(),s=this.rowlist[t];if(s&&!s.hidden){var l=this.sj(s);n.rows[t]={},n.rows[t].cells=[],(v=document.createElement("div")).style.position="absolute",v.style.top=s.top+"px",v.row=s,v.index=t;var d=l.row,u=i?i[0]:this.rowHeaderWidth;v.style.width=u+"px",v.style.border="0px none",d.toolTip&&(v.title=d.toolTip),v.setAttribute("unselectable","on"),v.setAttribute("aria-label",void 0!==d.ariaLabel?d.ariaLabel:d.html),v.onmousemove=c.Sj,v.onmouseout=c.Tj,v.onmouseup=c.Uj,v.oncontextmenu=c.Vj,v.onclick=c.Wj,v.ondblclick=c.Xj,(b=document.createElement("div")).style.width=u+"px",b.setAttribute("unselectable","on"),b.className=this.q("_rowheader"),d.cssClass&&DayPilot.Util.addClass(b,d.cssClass),d.backColor&&(b.style.background=d.backColor),d.fontColor&&(b.style.color=d.fontColor),d.horizontalAlignment&&(b.style.textAlign=d.horizontalAlignment),b.style.height=s.height+"px",b.style.overflow="hidden",b.style.position="relative",(x=document.createElement("div")).setAttribute("unselectable","on"),x.className=this.q("_rowheader_inner"),b.appendChild(x);var h="Disabled"!==this.rowMoveHandling,f=d.areas||[];h&&!d.moveDisabled&&f.push({v:"Hover",w:10,bottom:0,top:0,left:0,css:c.q("_rowmove_handle"),action:"Move"});var p=c.Zh(s);if(DayPilot.Areas.attach(b,p,{areas:f,allowed:function(){return!o.row}}),(D=document.createElement("div")).style.position="absolute",D.style.bottom="0px",D.style.width="100%",D.style.height="1px",D.className=this.q(A.resourcedivider),b.appendChild(D),function(){if(c.treeEnabled&&!s.isNewRow){var e=s.level*c.treeIndent+c.treeImageMarginLeft;h&&(e+=10);var n=10,i=document.createElement("div");i.style.width="10px",i.style.height="10px",i.style.backgroundRepeat="no-repeat",i.style.position="absolute",i.style.left=e+"px",i.style.top=c.treeImageMarginTop+"px",s.loaded||0!==s.children.length?s.children.length>0?(i.className=c.q(s.expanded?"_tree_image_collapse":"_tree_image_expand"),i.style.cursor="pointer",i.index=t,i.onclick=function(t){c.hj(this.index),(t=t||window.event).cancelBubble=!0}):i.className=c.q("_tree_image_no_children"):(i.className=c.q("_tree_image_expand"),i.style.cursor="pointer",i.index=t,i.onclick=function(t){c.Yj(this.index),(t=t||window.event).cancelBubble=!0}),x.appendChild(i)}var o=document.createElement("div");c.treeEnabled&&(o.style.marginLeft=e+n+"px"),o.innerHTML=d.html,v.textDiv=o,v.cellDiv=b,x.appendChild(o)}(),v.appendChild(b),e.appendChild(v),n.rows[t].cells.push(v),s.columns&&0!==s.columns.length)for(var g=u,m=1;m<r;m++){var v,y=d.columns[m-1]||{};(v=document.createElement("div")).style.position="absolute",v.style.top=s.top+"px",v.style.left=g+"px",e.appendChild(v),n.rows[t].cells.push(v),v.row=s,v.index=t,d.toolTip&&(v.title=d.toolTip),v.setAttribute("unselectable","on"),v.onmousemove=c.Sj,v.onmouseout=c.Tj,v.onmouseup=c.Uj,v.oncontextmenu=c.Vj,v.onclick=c.Wj,v.ondblclick=c.Xj;var b=document.createElement("div"),w=i[m];g+=w;var x,D,C=y.backColor||d.backColor;C&&(b.style.backgroundColor=C),b.style.width=w+"px",b.style.height=s.height+"px",b.style.overflow="hidden",b.style.position="relative",b.setAttribute("unselectable","on"),DayPilot.Util.addClass(b,this.q("_rowheader")),DayPilot.Util.addClass(b,this.q("_rowheadercol")),DayPilot.Util.addClass(b,this.q("_rowheadercol"+m)),d.cssClass&&DayPilot.Util.addClass(b,d.cssClass),y.cssClass&&DayPilot.Util.addClass(b,y.cssClass),y.horizontalAlignment&&(b.style.textAlign=y.horizontalAlignment),(x=document.createElement("div")).setAttribute("unselectable","on"),x.className=this.q("_rowheader_inner"),b.appendChild(x),(D=document.createElement("div")).style.position="absolute",D.style.bottom="0px",D.style.width="100%",D.style.height="1px",D.className=this.q("_resourcedivider"),b.appendChild(D);var _=document.createElement("div");_.innerHTML=y.html||"",v.textDiv=_,v.cellDiv=b,x.appendChild(_),DayPilot.Areas.attach(b,p,{areas:y.areas,allowed:function(){return!o.row}}),v.appendChild(b)}else v.colSpan=r>0?r:1,b.style.width=a+"px"}}},this.Vj=function(){var t=this.row;return t.contextMenu&&t.contextMenu.show(c.Zh(t)),!1},this.Wj=function(t){if(!D.cancelClick){var e=this.row,n=c.Zh(e,this.index);return e.isNewRow?void c.di.edit(e):void c.ai(n,t.ctrlKey,t.shiftKey,t.metaKey)}},this.Xj=function(t){if(c.timeouts.resClick){for(var e in c.timeouts.resClick)window.clearTimeout(c.timeouts.resClick[e]);c.timeouts.resClick=null}var n=this.row,i=c.Zh(n,this.index);if(c.xa()){var o={};if(o.resource=i,o.row=i,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowDoubleClick&&(c.onRowDoubleClick(o),o.preventDefault.value))return;switch(c.rowDoubleClickHandling){case"PostBack":c.rowDoubleClickPostBack(i);break;case"CallBack":c.rowDoubleClickCallBack(i);break;case"Select":c.ci(n,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":c.di.edit(n)}"function"==typeof c.onRowDoubleClicked&&c.onRowDoubleClicked(o)}else switch(c.rowDoubleClickHandling){case"PostBack":c.rowDoubleClickPostBack(i);break;case"CallBack":c.rowDoubleClickCallBack(i);break;case"JavaScript":c.onRowDoubleClick(i);break;case"Select":c.ci(n,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":c.di.edit(n)}},this.rowDoubleClickPostBack=function(t,e){var n={};n.resource=t,this.G("RowDoubleClick",n,e)},this.rowDoubleClickCallBack=function(t,e){var n={};n.resource=t,this.I("RowDoubleClick",n,e)},this.Zj=function(t){if("Disabled"!==c.timeHeaderClickHandling){var e={};e.start=this.cell.start,e.level=this.cell.level,e.end=this.cell.end,e.end||(e.end=new DayPilot.Date(e.start).addMinutes(c.cellDuration)),c.ei(e)}},this.Zh=function(t){return new DayPilot.Row(t,c)},this.fh=function(t){var e=this.rowlist[t];if(e.events||e.resetEvents(),!e.data){e.data={},e.data.start=new DayPilot.Date(e.start),e.data.startTicks=e.data.start.getTime();var n=this.jh().getTime()-this.Fa().getTime();e.data.end=M.isResourcesView()?e.data.start.addTime(n):e.data.start.addDays(1),e.data.endTicks=e.data.end.getTime(),e.data.offset=e.start.getTime()-this.Fa().getTime(),e.data.i=t}},this.fa=function(t){if(t?this.events.list=t:this.events.list||(this.events.list=[]),null!=this.events.list&&!DayPilot.isArray(this.events.list))throw"DayPilot.Scheduler.events.list expects an array object";w.prepareRows(!0);for(var e,n=this.events.list,i=n.length,o="function"==typeof this.onBeforeEventRender,r="Resources"===c.viewType,a=0;a<i;a++){var s=n[a];if(s){if("object"!=typeof s)throw new DayPilot.Exception("Event data item must be an object");if(!s.start)throw new DayPilot.Exception("Event data item must specify 'start' property");if(s instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";if("string"!=typeof s.id&&"number"!=typeof s.id&&"string"!=typeof s.recurrentMasterId&&"number"!=typeof s.recurrentMasterId)throw new DayPilot.Exception("All events must have an id property (string or number)");"Milestone"===s.type&&(s.end=s.start),o&&this.fd(a),"*"===s.resource?e=c.rowlist:r?e=DayPilot.list(w.rowcache[s.resource]).concat(w.rowcache["*"]):"Days"===c.viewType?e=c.rowlist:"Gantt"===c.viewType&&(e=w.rowcache[s.id]);for(var l=0;e&&l<e.length;l++){var d=this.Ii(s,e[l]);d&&o&&(d.cache=this.u.events[a])}}}DayPilot.list(c.rowlist).each(function(t){c.Li(t)}),this.zh()},this.$j={};var w=this.$j;w.rowCache={},w.prepareRows=function(t){w.rowcache={};for(var e=0;e<c.rowlist.length;e++){var n=c.rowlist[e];if(t&&n.resetEvents(),c.fh(e),n.id){var i=n.id.toString();w.rowcache[i]||(w.rowcache[i]=DayPilot.list()),w.rowcache[i].push(n)}}},w.loadEvent=function(t){},this.Hi=function(){var t={};if("Resources"!==c.viewType)return!1;for(var e=0;e<c.rowlist.length;e++){var n=c.rowlist[e].id;if(t[n])return!0;t[n]=!0}return!1},this.fd=function(t){var e=this.u.events,n=this.events.list[t],i={};for(var o in n instanceof DayPilot.Event&&(n=n.data),n)i[o]=n[o];if("function"==typeof this.onBeforeEventRender){var r={};r.e=i,r.data=i,this.onBeforeEventRender(r)}e[t]=i},this.Li=function(t){if(t.lines=[],t.sections=null,!t.isNewRow){if(this.sortDirections?t.events.sort(this.od):c.ag||t.events.sort(this.nd),c.ag)return void S.loadRow(t);var e=c.groupConcurrentEvents;if(e)for(var n=0;n<t.blocks.length;n++)t.blocks[n].clear();DayPilot.list(t.events).each(function(e){if(!e.part.height)return t.eventHeight?void(e.part.height=t.eventHeight):void(e.part.height=M.eventHeight())});for(var i=0;i<t.events.length;i++)t.putIntoLine(s=t.events[i]),e&&t.putIntoBlock(s);var o=0;for(n=0;n<t.lines.length;n++)(l=t.lines[n]).top=o,o+=(l.height||t.eventHeight)*t.eventStackingLineHeight/100;if(e)for(i=0;i<t.blocks.length;i++){var r=t.blocks[i];r.lines=[],r.events.sort(this.od);for(var a=0;a<r.events.length;a++){var s;r.putIntoLine(s=r.events[a])}for(r.lines.length<=c.groupConcurrentEventsLimit&&(r.expanded=!0),DayPilot.list(r.events).map(function(t){return t.id()}).some(function(t){return DayPilot.contains(c._j,t)})&&(r.expanded=!0),o=0,n=0;n<r.lines.length;n++){var l;(l=r.lines[n]).top=o,o+=(l.height||t.eventHeight)*t.eventStackingLineHeight/100}}}},this.yh=function(t){t=DayPilot.ua(t);for(var e=0;e<t.length;e++)c.Li(c.rowlist[t[e]]);if(c.ag)S.calculateEventPositions();else for(e=0;e<t.length;e++)c.qj(c.rowlist[t[e]])},this.Vi=function(){var t="Manual"===c.scale?c.itline[0].start:c.startDate;return DayPilot.list(c.rowlist).some(function(e){return!!e.start&&e.start.getTime()!==new DayPilot.Date(t).getTime()})},this.Ii=function(t,e){if(!e.hideEvents){var n=new DayPilot.Date(t.start),i=new DayPilot.Date(t.end);i=c.Te(i);var o=n.ticks,r=i.ticks;if(r<o)return null;var a=null;if("function"==typeof c.onBeforeEventRender){var s=DayPilot.indexOf(c.events.list,t);a=c.u.events[s]}if(a){if(a.hidden)return null}else if(t.hidden)return null;var l=!1;switch(this.viewType){case"Days":l=!(r<=e.data.startTicks||o>=e.data.endTicks)||o===r&&o===e.data.startTicks;break;case"Resources":l=(e.id===t.resource||"*"===e.id||"*"===t.resource)&&(!(r<=e.data.startTicks||o>=e.data.endTicks)||o===r&&o===e.data.startTicks);break;case"Gantt":l=e.id===t.id&&!(r<=e.data.startTicks||o>=e.data.endTicks)}if(!l)return null;var d=new DayPilot.Event(t,c);d.part.dayIndex=e.data.i,d.part.start=e.data.startTicks<o?n:e.data.start,d.part.end=e.data.endTicks>r?i:e.data.end;var u=this.getPixels(d.part.start.addTime(-e.data.offset)),h=this.getPixels(d.part.end.addTime(-e.data.offset));d.part.start===d.part.end&&(h=this.getPixels(d.part.end.addTime(-e.data.offset).addSeconds(1))),a&&a.height?d.part.height=a.height:t.height&&(d.part.height=t.height),d.part.ak=function(){var t=this.height;if(c.eventVersionsEnabled&&!DayPilot.list(d.data.versions).isEmpty()){var e=d.versions.length;t+=e*c.eventVersionHeight,t+=e*c.eventVersionMargin}return t+c.eventMarginBottom};var f=u.left,p=h.left;if(d.part.startPixels=u,d.part.endPixels=h,f===p){if(u.cut||h.cut)return null;var g=(d.part.start.addTime(-e.data.offset).getTime()+d.part.end.addTime(-e.data.offset).getTime())/2;if(c.getPixels(new DayPilot.Date(Math.floor(g))).cut)return null}if(d.part.box=M.useBox(r-o),"Milestone"===t.type){var m=t.width||c.eventHeight;d.part.end=d.part.start,d.part.left=f-m/2,d.part.width=m,d.part.barLeft=0,d.part.barWidth=m}else if(d.part.box){var v=u.boxLeft,y=h.boxRight;d.part.left=v,d.part.width=y-v,d.part.barLeft=Math.max(f-d.part.left,0),d.part.barWidth=Math.max(p-f,1)}else d.part.left=f,d.part.width=Math.max(p-f,1),d.part.barLeft=0,d.part.barWidth=Math.max(p-f-1,1);if(d.part.width=Math.max(d.part.width,c.eventMinWidth),c.eventVersionsEnabled&&c.bk(d,e),"function"==typeof c.onEventFilter&&c.events.md){var b={};if(b.filter=c.events.md,b.visible=!0,b.e=d,c.onEventFilter(b),!b.visible)return null}return e.events.push(d),d}},this.bk=function(t,e){t.versions=[];var n=DayPilot.list(t.data.versions);n.isEmpty()||n.each(function(n){var i=new DayPilot.Date(n.start),o=new DayPilot.Date(n.end),r=c.getPixels(i.addTime(-e.data.offset)),a=c.getPixels(o.addTime(-e.data.offset));i.ticks===o.ticks&&(a=c.getPixels(o.addTime(-e.data.offset).addTime(1)));var s=r.left,l=a.left;if(s===l&&(r.cut||a.cut))return null;var d={};d.left=s,d.continueLeft=i<e.data.start,d.right=l,d.continueRight=o>e.data.end,d.width=l-s,t.versions.push(d)})},this.nd=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var n=t.start().ticks-e.start().ticks;return 0!==n?n:e.end().ticks-t.end().ticks},this.od=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return c.nd(t,e);for(var n=0,i=0;0===n&&void 0!==t.data.sort[i]&&void 0!==e.data.sort[i];)n=t.data.sort[i]===e.data.sort[i]?0:"number"==typeof t.data.sort[i]&&"number"==typeof e.data.sort[i]?t.data.sort[i]-e.data.sort[i]:c.pd(t.data.sort[i],e.data.sort[i],c.sortDirections[i]),i++;return n},this.pd=function(t,e,n){var i="desc"!==n?-1:1,o=-i;if(null===t&&null===e)return 0;if(null===e)return o;if(null===t)return i;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?i:o},this.ci=function(t,e,n,i){if(c.xa()){var o=DayPilot.indexOf(c.rowlist,t),r=c.Zh(t,o),a=(d=-1!==DayPilot.indexOf(D.selected,t))?"deselected":"selected",s={};if(s.row=r,s.selected=d,s.ctrl=e,s.shift=n,s.meta=i,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowSelect&&(c.onRowSelect(s),s.preventDefault.value))return;var l=n&&!e&&!i;switch(n||(D.ck={row:t,index:o}),l&&(D.fixRowSelectLast(),D.selectRange(D.ck.index,o)),c.rowSelectHandling){case"PostBack":c.rowSelectPostBack(r,a);break;case"CallBack":c.rowSelectCallBack(r,a);break;case"Notify":!l&&D.select(t,e,n,i),c.rowSelectNotify(r,a);break;case"Update":!l&&D.select(t,e,n,i)}"function"==typeof c.onRowSelected&&(s.selected=-1!==DayPilot.indexOf(D.selected,t),c.onRowSelected(s))}else{var d;switch(D.select(t,e,n),o=DayPilot.indexOf(c.rowlist,t),r=c.Zh(t,o),a=(d=-1!==DayPilot.indexOf(D.selected,t))?"deselected":"selected",c.rowSelectHandling){case"PostBack":c.rowSelectPostBack(r,a);break;case"CallBack":c.rowSelectCallBack(r,a);break;case"Notify":c.rowSelectNotify(r,a);break;case"JavaScript":c.onRowSelect(r,a)}}},this.rowSelectPostBack=function(t,e,n){var i={};i.resource=t,i.change=e,this.G("RowSelect",i,n)},this.rowSelectCallBack=function(t,e,n){var i={};i.resource=t,i.change=e,this.I("RowSelect",i,n)},this.rowSelectNotify=function(t,e,n){var i={};i.resource=t,i.change=e,this.I("RowSelect",i,n,"Notify")},this.rows={},this.rows.selection={};var x=this.rows.selection;x.get=function(){var t=[];return DayPilot.list(D.selected).each(function(e){t.push(c.Zh(e))}),t},x.clear=function(){D.clearSelection()},x.add=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";DayPilot.list(D.selected).some(function(e){return e===t.$.row})||D.selected.push(t.$.row),D.dk(),x.ek()},x.remove=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected";x.isSelected(t)&&(D.unselect(t.$.row),DayPilot.rfa(D.selected,t.$.row)),x.ek()},x.isSelected=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected";return-1!==DayPilot.indexOf(D.selected,t.$.row)},x.ek=function(){c.selectedRows=DayPilot.list(D.selected).map(function(t){return t.id})},this.rows.all=function(){for(var t=[],e=0;e<c.rowlist.length;e++){var n=c.Zh(c.rowlist[e]);t.push(n)}return p(t)},this.rows.visible=function(){for(var t=[],e=0;e<c.rowlist.length;e++)if(!(n=c.rowlist[e]).hidden){var n=c.Zh(c.rowlist[e]);t.push(n)}return p(t)},this.rows.each=function(t){c.rows.all().each(t)},this.rows.filter=function(t){c.rows.md=t,c.B&&c.sd({immediateEvents:!0})},this.rows.find=function(t,e){var n,i=DayPilot.list(w.rowcache[t]);return(n="string"==typeof e?i.find(function(t){return e===t.start.toString()}):i.first())?new DayPilot.Row(n,c):null},this.rows.load=function(t,e,n){if(!t)throw new DayPilot.Exception("rows.load(): 'url' parameter required");var i=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof n&&n(e)},o=function(t){var n,o=t.request;try{n=JSON.parse(o.responseText)}catch(t){var r={};return r.exception=t,void i(r)}if(DayPilot.isArray(n)){var a={preventDefault:function(){this.preventDefault.value=!0}};if(a.data=n,"function"==typeof e&&e(a),a.preventDefault.value)return;c.resources=n,c.B&&c.update()}};c.rowsLoadMethod&&"POST"===c.rowsLoadMethod.toUpperCase()?DayPilot.ajax({method:"POST",url:t,success:o,error:i}):DayPilot.ajax({method:"GET",url:t,success:o,error:i})},this.rows.expand=function(t){for(var e=[],n=t||1,i=0;i<c.rowlist.length;i++){var o=c.rowlist[i],r=-1===n;o.level<n&&(r=!0),r&&!o.expanded&&o.children&&o.children.length>0&&e.push(o.index)}if(0!==e.length)if(1===e.length)c.hj(e[0]);else{for(i=0;i<e.length;i++)c.rowlist[e[i]].resource.expanded=!0;c.sd()}},this.rows.expandAll=function(){c.rows.expand(-1)},this.rows.collapseAll=function(){c.rowlist.each(function(t){t.resource.expanded=!1}),c.sd()},this.rows.headerHide=function(){c.fk=!0,c.gk(),c.Mj(),c._g()},this.rows.headerShow=function(){c.fk=!1,c.gk(),c.Mj(),c._g()},this.rows.headerToggle=function(){c.fk?c.rows.headerShow():c.rows.headerHide()},this.rows.edit=function(t){D.edit(t.$.row)},this.rows.remove=function(t){var e=t.$.row.resource,n=C.findParentArray(e);if(!n)throw"Cannot find source node parent";var i=DayPilot.indexOf(n,e);n.splice(i,1),c.update()},this.rows.update=function(t){if(!(t instanceof DayPilot.Row))throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");var e=t.index,n=c.rowlist[e],i=t.data,o=t.parent()?t.parent().$.row:null,r=c.hk(i);(t=c.ik(r,o)).hidden=n.hidden,t.level=n.level,t.children=n.children,t.index=e,t.top=n.top,t.height=n.height,c.rowlist[e]=t,t.resetEvents(),c.fh(e),c.jk(t),c.Li(t),c.Lh(e),c.rg(),c.ug()},this.jk=function(t){for(var e=c.events.list,n=e.length,i="function"==typeof c.onBeforeEventRender,o=0;o<n;o++){var r=e[o];if(r){if(r instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if("Days"===c.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");if("Gantt"===c.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");if("*"===r.resource||"*"===t.id||r.resource===t.id){i&&this.fd(o);var a=this.Ii(r,t);a&&i&&(a.cache=this.u.events[o])}}}},this.kk=function(){var t=o.source,e=o.target,n=o.position,i=o.sourceCalendar;if(D.resetMoving(),c.xa()){var r={};if(r.source=c.Zh(t),r.source.calendar=i,r.target=c.Zh(e),r.position=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof c.onRowMove&&(c.onRowMove(r),r.preventDefault.value))return;switch(c.rowMoveHandling){case"Update":D.move(r);break;case"CallBack":c.rowMoveCallBack(r.source,r.target,r.position);break;case"PostBack":c.rowMovePostBack(r.source,r.target,r.position);break;case"Notify":D.move(r),c.rowMoveNotify(r.source,r.target,r.position)}"function"==typeof c.onRowMoved&&c.onRowMoved(r)}else switch(t=c.Zh(t),e=c.Zh(e),n=n,c.rowMoveHandling){case"CallBack":c.rowMoveCallBack(t,e,n);break;case"PostBack":c.rowMovePostBack(t,e,n);break;case"JavaScript":c.onRowMove(t,e,n)}},this.zg=function(t){var e=DayPilot.list(t);D.selected=[],e.isEmpty()||(c.$f=!1,c.ea()),e.each(function(t){var e=c.Ig(t);e&&D.selected.push(e)}),D.dk()},this.di={};var D=this.di;D.edit=function(t){D.lk(t)},D.rowSelectLastSetDefault=function(){D.ck={row:c.rowlist[0],index:0}},D.rowSelectSetLast=function(t){var e=DayPilot.indexOf(c.rowlist,t);if(-1===e)throw"DayPilot.Scheduler: Row not found when selecting a range";D.ck={row:t,index:e}},D.fixRowSelectLast=function(){D.ck||D.rowSelectLastSetDefault();var t=DayPilot.indexOf(c.rowlist,D.ck.row);if(!(t>-1)){var e=c.Ig(D.ck.row.id);e?(t=DayPilot.indexOf(c.rowlist,e),D.ck={row:e,index:t}):D.rowSelectLastSetDefault()}},D.createOverlay=function(t){var e=c.Hj(),n=c.q("_rowmove_source"),i=DayPilot.Util.div(c.divHeader,0,t.top,e,t.height);i.className=n,t.moveOverlay=i},D.deleteOverlay=function(t){t&&(DayPilot.de(t.moveOverlay),t.moveOverlay=null)},D.lk=function(t){var e=D.mk(t).cells[0];if(e.input)return e.input;DayPilot.Areas.disable(e.firstChild);var n=e.clientWidth;t.isNewRow&&(n=c.Wg());var i=document.createElement("textarea");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.width=n+"px",i.style.height=t.height+"px",i.style.border="0px none",i.style.overflow="hidden",i.style.boxSizing="border-box",i.style.resize="none",i.style.paddingLeft=t.level*c.treeIndent+"px";var o=e.textDiv;i.style.fontFamily=DayPilot.gs(o,"fontFamily")||DayPilot.gs(o,"font-family"),i.style.fontSize=DayPilot.gs(o,"fontSize")||DayPilot.gs(o,"font-size"),i.value=t.name||"",e.firstChild.appendChild(i),e.input=i;var r=function(){try{e.input.parentNode.removeChild(e.input)}catch(t){}e.input=null};return i.focus(),i.onblur=function(){i.onblur=null;var n=i.value;r(),DayPilot.Areas.enable(e.firstChild),c._h(t,n,i.canceled)},i.onkeydown=function(t){var e=window.event?event.keyCode:t.keyCode;return 27===e&&(i.canceled=!0,r()),13!==e||(i.onblur(),!1)},i.setSelectionRange?i.setSelectionRange(0,9999):i.select(),i},D.selected=[],D.select=function(t,e,n,i){var o=-1!==DayPilot.indexOf(D.selected,t);if(e||i){if(o)return D.unselect(t),void DayPilot.rfa(D.selected,t)}else o=!1,D.clearSelection();D.nk(t),o||D.selected.push(t),x.ek()},D.selectRange=function(t,e){D.clearSelection();for(var n=Math.min(t,e),i=Math.max(t,e),o=n;o<=i;o++){var r=c.rowlist[o];D.nk(r),D.selected.push(r)}x.ek()},D.dk=function(){for(var t=0;t<D.selected.length;t++)D.nk(D.selected[t])},D.nk=function(t){if(-1===(a=DayPilot.indexOf(c.rowlist,t))){var e=c.Ig(t.id);if(!e)return;a=e.index}for(var n=c.q("_cell_selected"),i=[],o=0;o<c.itline.length;o++)(d={}).x=o,d.y=a,i.push(d);c.cells.findXy(i).addClass(n),n=c.q("_rowheader_selected");for(var r=c.divHeader,a=0;a<r.rows.length;a++){var s=r.rows[a];if(s&&s.cells[0]&&s.cells[0].row===t)for(var l=0;l<s.cells.length;l++){var d;DayPilot.Util.addClass((d=s.cells[l]).firstChild,n)}}},D.ji=function(){var t=[];if(!D.selected)return t;for(var e=0;e<D.selected.length;e++){var n=D.selected[e],i=DayPilot.indexOf(c.rowlist,n),o=c.Zh(n,i);t.push(o.toJSON())}return t},D.unselect=function(t){for(var e=c.q("_cell_selected"),n=DayPilot.indexOf(c.rowlist,t),i=[],o=0;o<c.itline.length;o++)(s={}).x=o,s.y=n,i.push(s);c.cells.findXy(i).removeClass(e),e=c.q("_rowheader_selected");var r=D.mk(t);if(r)for(var a=0;a<r.cells.length;a++){var s;DayPilot.Util.removeClass((s=r.cells[a]).firstChild,e)}},D.ck=null,D.clearSelection=function(){for(var t=0;t<D.selected.length;t++)D.unselect(D.selected[t]);D.selected=[],c.selectedRows=[]},D.mk=function(t){for(var e=c.divHeader,n=0;n<e.rows.length;n++){var i=e.rows[n];if(i&&i.cells[0]&&i.cells[0].row===t)return i}return null},D.selectById=function(t){var e=c.Ig(t);e&&D.select(e)},D.startMoving=function(t){var e=DayPilot.Global.rowmoving;e.row=t,e.sourceCalendar=c,e.cursor=c.divResScroll.style.cursor,c.divResScroll.style.cursor="move",D.createOverlay(t)},D.resetMoving=function(){c.divResScroll.style.cursor=o.cursor,DayPilot.de(o.div),D.deleteOverlay(o.row),DayPilot.Global.rowmoving=o={}},D.move=function(t){var e=t.source.$.row.resource,n=t.target.$.row.resource,i=t.position;if("forbidden"!==i){var o=t.source.calendar.ok.findParentArray(e);if(!o)throw"Cannot find source node parent";var r=DayPilot.indexOf(o,e);o.splice(r,1);var a=C.findParentArray(n);if(!a)throw"Cannot find target node parent";var s=DayPilot.indexOf(a,n);switch(i){case"before":a.splice(s,0,e);break;case"after":a.splice(s+1,0,e);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(e)}c.update()}};var C={};this.ok=C,C.findParentArray=function(t){return C.findInArray(c.resources,t)},C.findInArray=function(t,e){if(-1!==DayPilot.indexOf(t,e))return t;for(var n=0;n<t.length;n++){var i=t[n];if(i.children&&i.children.length>0){var o=C.findInArray(i.children,e);if(o)return o}}return null},this.lg=function(){this.rowlist=DayPilot.list();var t=this.resources,e=this.s();if(e||("Gantt"===this.viewType?t=this.pk():"Days"===this.viewType&&(t=this.qk())),!e||"Days"!==this.viewType||t&&0!==t.length||(t=this.qk()),null!=t&&!DayPilot.isArray(t))throw"DayPilot.Scheduler.resources expects an array object";this.rk(t,{i:0},0,null,this.treeEnabled,!1),"Disabled"!==c.rowCreateHandling&&this.sk()},this.sk=function(){var t={id:"NEW",isNewRow:!0,html:""};t.index=c.rowlist.length,t.loaded=!0,t.start=this.startDate,t.children=[],t.height=c.eventHeight,t.marginBottom=0,t.marginTop=0,t.getHeight=function(){return c.rowCreateHeight?c.rowCreateHeight:c.eventHeight+c.rowMarginBottom+c.rowMarginTop},t.putIntoLine=function(){},t.resetEvents=function(){},this.rowlist.push(t)},this.pk=function(){var t=[];if(this.fg&&this.resources)for(var e=0;e<this.resources.length;e++)t.push(this.resources[e]);if(this.events.list){for(e=0;e<this.events.list.length;e++){var n=this.events.list[e],i={};i.id=n.id,i.name=n.text,t.push(i)}return t}},this.qk=function(){for(var t=[],e=c.Fa(),n=this.Fc.locale(),i=0;i<this.days;i++){var o=e.addDays(i);if(c.showNonBusiness||c.businessWeekends||0!=o.dayOfWeek()&&6!=o.dayOfWeek()){var r={};r.name=o.toString(n.datePattern,n),r.start=o,t.push(r)}}return t},this.Fa=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.jh=function(){if(this.itline&&this.itline.length>0){var t=c.itline[this.itline.length-1].end;return"Days"!==c.viewType?t:t.addDays(c.days-1)}return c.startDate.addDays(c.days)},this.visibleStart=function(){return this.Fa()},this.visibleEnd=function(){return this.jh()},this.ik=function(t,e){var n={};if(n.backColor=t.backColor,n.fontColor=t.fontColor,n.cssClass=t.cssClass,n.expanded=t.expanded,n.name=t.name,n.html=t.html?t.html:n.name,n.eventHeight=void 0!==t.eventHeight?t.eventHeight:c.Fc.eventHeight(),n.minHeight=void 0!==t.minHeight?t.minHeight:c.rowMinHeight,n.marginBottom=void 0!==t.marginBottom?t.marginBottom:c.rowMarginBottom,n.marginTop=void 0!==t.marginTop?t.marginTop:c.rowMarginTop,n.eventStackingLineHeight=void 0!==t.eventStackingLineHeight?t.eventStackingLineHeight:c.eventStackingLineHeight,n.loaded=!t.dynamicChildren,n.id=t.id||t.value,n.toolTip=t.toolTip,n.children=[],n.columns=[],n.start=t.start?new DayPilot.Date(t.start):this.Fa(),n.isParent=t.isParent,n.contextMenu=t.contextMenu?DayPilot.Util.evalVariable(t.contextMenu):this.contextMenuResource,n.areas=t.areas,n.moveDisabled=t.moveDisabled,n.bubbleHtml=t.bubbleHtml,n.tags=t.tags,n.task=t.task,n.swimlane=t.swimlane,n.hideEvents=t.hideEvents,n.height=n.eventHeight,n.resource=t.tk,n.lines=[],n.blocks=[],n.isRow=!0,n.getHeight=function(){var t=0;if(c.groupConcurrentEvents)for(var e=0;e<this.blocks.length;e++)t=Math.max(t,this.blocks[e].getHeight());else if(this.lines.length>0){var n=this.lines[this.lines.length-1];t=(n.top||0)+(n.height||this.eventHeight)}return 0===t&&(t=this.eventHeight),t>this.minHeight?t:this.minHeight},n.resetEvents=function(){var t=this;t.events=DayPilot.list(),t.events.forRange=function(e,n){e=new DayPilot.Date(e),n=new DayPilot.Date(n);for(var i=DayPilot.list(),o=0;o<t.events.length;o++){var r=t.events[o];DayPilot.Util.overlaps(r.start(),r.end(),e,n)&&i.push(r)}return i}},n.calculateUtilization=function(){for(var t=this,e=t.sections=function(){for(var e=function(){for(var e=[],n=0;n<t.events.length;n++){var i=t.events[n];DayPilot.contains(e,i.start().toString())||e.push(i.start().toString()),DayPilot.contains(e,i.rawend().toString())||e.push(i.rawend().toString())}return e.sort(),e}(),n=[],i={start:t.data.start},o=0;o<e.length;o++)i.end=new DayPilot.Date(e[o]),n.push(i),i={start:new DayPilot.Date(e[o])};return i.end=t.data.end,n.push(i),n.forRange=function(t,e){for(var n=DayPilot.list(),i=0;i<this.length;i++){var o=this[i];DayPilot.Util.overlaps(t,e,o.start,o.end)&&n.push(o)}return n.maxSum=function(t){for(var e=0,n=0;n<this.length;n++){var i=this[n].sum(t);i>e&&(e=i)}return e},n},n}(),n=0;n<e.length;n++){var i=e[n];i.events=DayPilot.list();for(var o=0;o<t.events.length;o++){var r=t.events[o];DayPilot.Util.overlaps(i.start,i.end,r.start(),r.rawend())&&i.events.push(r)}i.sum=function(t){for(var e=0,n=0;n<this.events.length;n++){var i=this.events[n],o=0;void 0===t?o=1:i.tag(t)?o=i.tag(t):i.data[t]&&(o=i.data[t]),"number"==typeof o&&(e+=o)}return e}}},n.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++)if((n=this.lines[e]).isFree(t.part.left,t.part.width))return n.add(t),e;var n;return(n=[]).height=0,n.add=function(t){this.push(t);var e=t.part.ak();e>n.height&&(n.height=e)},n.isFree=function(t,e,n){for(var i=t+e-1,o=this.length,r=0;r<o;r++){var a=this[r];if(!(i<a.part.left||t>a.part.left+a.part.width-1)){if(DayPilot.contains(n,a.data))continue;return!1}}return!0},n.add(t),this.lines.push(n),this.lines.length-1},n.putIntoBlock=function(t){for(var e=0;e<this.blocks.length;e++){if(-1!==DayPilot.indexOf((n=this.blocks[e]).events,t))return;if(n.overlapsWith(t.part.left,t.part.width))return n.events.push(t),t.part.block=n,n.min=Math.min(n.min,t.part.left),n.max=Math.max(n.max,t.part.left+t.part.width),e}var n;(n={expanded:!1}).row=this,n.events=DayPilot.list(),n.lines=DayPilot.list(),n.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++)if((n=this.lines[e]).isFree(t.part.left,t.part.width))return n.add(t),e;var n;(n=[]).height=0,n.add=function(t){this.push(t),t.part.height>n.height&&(n.height=t.part.height)},n.isFree=function(t,e){for(var n=t+e-1,i=this.length,o=0;o<i;o++){var r=this[o];if(!(n<r.part.left||t>r.part.left+r.part.width-1))return!1}return!0},n.add(t),this.lines.push(n)},n.overlapsWith=function(t,e){return!(t+e-1<this.min||t>this.max-1)},n.getHeight=function(){if(!this.expanded)return c.eventHeight;if(this.lines.length>0){var t=this.lines[this.lines.length-1];return(t.top||0)+(t.height||c.eventHeight)}return c.eventHeight},n.clear=function(){n.events=DayPilot.list(),n.min=null,n.max=null},n.events.push(t),t.part.block=n,n.min=t.part.left,n.max=t.part.left+t.part.width,this.blocks.push(n)},n.uk=!1,n.vk=e,n.wk=function(){this.hidden=!this.xk(),this.uk=!1,this.vk&&this.vk.wk()},n.xk=function(){return!this.vk||this.vk.xk()&&this.vk.expanded},t.columns)for(var i=0;i<t.columns.length;i++)n.columns.push(t.columns[i]);return n},this.Hh=function(){c.rowlist.each(function(t){if("function"==typeof c.onRowFilter&&c.rows.md){var e=t.vk,n={visible:!0};n.row=c.Zh(t),n.filter=c.rows.md,c.onRowFilter(n),t.uk=!n.visible,n.visible?e&&e.wk():t.hidden=!0}})},this.rk=function(t,e,n,i,o,r){if(t)for(var a=0;a<t.length;a++)if(t[a]){var s={};if(s.level=n,s.hidden=r,s.index=e.i,!t[a].hidden){var l=this.hk(t[a],s),d=c.ik(l,i);r&&(d.hidden=!0),d.level=n,d.index=e.i,null!==i&&i.children.push(e.i),this.rowlist.push(d),e.i++,o&&l.children&&l.children.length&&this.rk(l.children,e,n+1,d,!0,r||!d.expanded)}}},this.yk=["html","backColor","cssClass","areas","horizontalAlignment"],this.sj=function(t){if(t.isNewRow)return{row:{cssClass:c.q("_row_new"),moveDisabled:!0,html:c.rowCreateHtml||""}};var e={};if(e.row=this.Zh(t),DayPilot.Util.copyProps(t,e.row,["html","backColor","fontColor","cssClass","toolTip","contextMenu","moveDisabled"]),e.row.columns=DayPilot.Util.createArrayCopy(t.columns,c.yk),e.row.areas=DayPilot.Util.createArrayCopy(t.areas),void 0===e.row.columns&&c.rowHeaderColumns&&c.rowHeaderColumns.length>0){r.columns=[];for(var n=0;n<c.rowHeaderColumns.length;n++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(e),e},this.hk=function(t,e){var n=this.zk(t,e);if("function"==typeof this.onBeforeResHeaderRender){var i={};i.resource=n,this.onBeforeResHeaderRender(i)}return n},this.zk=function(t,e){var n={get data(){return this.tk}};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];if(void 0===t.html&&(n.html=t.name),void 0===n.columns&&c.rowHeaderColumns&&c.rowHeaderColumns.length>0){n.columns=[];for(var o=0;o<c.rowHeaderColumns.length;o++)n.columns.push({})}return n.tk=t,n},this.Ak=function(){this.Fd(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.q("_main")),this.nav.top.setAttribute("role","region"),this.nav.top.setAttribute("aria-label","scheduler"),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.q("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.q("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.Uf,this.nav.top.onmouseout=function(){c.jj()},this.nav.top.ontouchstart=T.onMainTouchStart,this.nav.top.ontouchmove=T.onMainTouchMove,this.nav.top.ontouchend=T.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var t=this.Wg();if("DivBased"===this.Fc.layout()){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.width=t+"px",e.appendChild(this.Hc());var n=document.createElement("div");n.style.height="1px",n.className=this.q("_divider_horizontal"),e.appendChild(n),this.nav.dh1=n,e.appendChild(this.Bk()),this.nav.left=e;var i=document.createElement("div");i.style.position="absolute",i.style.left=t+"px",i.style.width=M.splitterWidth()+"px",i.style.height=this.Vg()+this.ic()+"px",i.className=this.q("_divider")+" "+this.q("_splitter"),i.setAttribute("unselectable","on"),this.nav.divider=i,this.rowHeaderScrolling&&this.Ck();var o=document.createElement("div");o.style.marginLeft=t+M.splitterWidth()+"px",o.style.marginRight="1px",o.style.position="relative",o.appendChild(this.Dk()),this.nav.right=o;var r=document.createElement("div");r.style.height="1px",r.style.position="absolute",r.style.top=this.Vg()+"px",r.style.width="100%",r.className=this.q("_divider_horizontal"),o.appendChild(r),this.nav.dh2=r,o.appendChild(this.Ek());var a=document.createElement("div");a.style.clear="left",this.nav.top.appendChild(e),this.nav.top.appendChild(i),this.nav.top.appendChild(o),this.nav.top.appendChild(a)}else{var s=document.createElement("table");s.cellPadding=0,s.cellSpacing=0,s.border=0,s.style.position="absolute";var l=s.insertRow(-1);l.insertCell(-1).appendChild(this.Hc()),l.insertCell(-1).appendChild(this.Dk());var d=s.insertRow(-1);d.insertCell(-1).appendChild(this.Bk()),d.insertCell(-1).appendChild(this.Ek()),this.nav.top.appendChild(s)}if(this.Ne=document.createElement("div"),this.Ne.style.display="none",this.nav.top.appendChild(this.Ne),this.N()){var u=document.createElement("input");u.type="hidden",u.id=this.id+"_state",u.name=this.id+"_state",this.nav.state=u,this.nav.top.appendChild(u)}var h=document.createElement("div");h.style.position="absolute",h.style.left=this.Wg()+M.splitterWidth()+5+"px",h.style.top=this.Vg()+5+"px",h.style.display="none",h.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(h,this.q("_loading")),this.nav.loading=h,this.nav.top.appendChild(h),this.Fk()},this.Uf=function(t){if(o.row){var e=DayPilot.mo3(c.divHeader,t),n=c.qi(e.y),r=c.rowlist[n.i];if(!r)return;if(r.isNewRow)return;var a=e.y-n.top,s=n.bottom-n.top,l=s/3,d=2*l,u=s/2,h="before",f=r.children&&r.children.length>0;if(h=function(){for(var t=n.i,e=r.level;t>=0;){var i=c.rowlist[t];if(t--,!(e<=i.level)){if(i===o.row)return!0;if(0===i.level)return!1;e=i.level}}return!1}()||n.i===o.row.index?"forbidden":c.treeEnabled?f?a<u?"before":"child":a<l?"before":a<d?"child":"after":f?"before":a<u?"before":"after",o.row.moveDisabled&&(h="forbidden"),o.calendar=c,o.source=o.row,o.target=c.rowlist[n.i],o.position=h,o.last&&o.last.target===o.target&&o.last.position===o.position)o.last&&(o.position=o.last.position);else if("function"==typeof c.onRowMoving){var p={};p.source=c.Zh(o.source),p.target=c.Zh(o.target),p.position=h,c.onRowMoving(p),o.position=p.position}o.last={},o.last.target=o.target,o.last.position=o.position,function(){o.div&&DayPilot.de(o.div);var t=n.top,e=o.position,i=c.rowlist[n.i].level*c.treeIndent;switch(e){case"before":t=n.top;break;case"child":t=n.top+u;break;case"after":t=n.bottom;break;case"forbidden":t=n.top+u}var r=c.Hj()-i,a=document.createElement("div");a.style.position="absolute",a.style.left=i+"px",a.style.width=r+"px",a.style.top=t+"px",a.className=c.q("_rowmove_position_"+e),o.div=a,c.divResScroll.appendChild(a)}()}else if(i.splitting){var g=DayPilot.mo3(c.nav.top,t).x,m=c.Hj(),v=Math.min(m,g-1);c.rowHeaderWidth=v,c.fk=!1,c.gk()}},this.ga=function(){var t=this.Vg();this.nav.corner.style.height=t+"px",this.divTimeScroll.style.height=t+"px",this.divNorth.style.height=t+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=t+"px",this.nav.dh2.style.top=t+"px"),this.nav.loading.style.top=t+5+"px",this.nav.scroll.style.top=t+1+"px"},this.Wg=function(){return this.fk?0:this.rowHeaderScrolling?this.rowHeaderWidth:this.Hj()},this.Ck=function(){var t=this.nav.divider;t.style.cursor="col-resize",t.setAttribute("unselectable","on"),t.onmousedown=function(t){var e=i.splitting={};return e.cursor=c.nav.top.style.cursor,e.cleanup=function(){c.nav.top.style.cursor=e.cursor,"function"==typeof c.onRowHeaderResized&&c.onRowHeaderResized({})},c.nav.top.style.cursor="col-resize",!1}},this.gk=function(){var t=M.splitterWidth(),e=this.Wg();if(this.nav.corner.style.width=e+"px",this.divCorner.style.width=e+"px",this.divResScroll.style.width=e+"px","DivBased"===M.layout()&&(this.nav.left.style.width=e+"px",this.nav.divider.style.left=e-t+"px",this.nav.right.style.marginLeft=e+"px"),this.nav.message&&(this.nav.message.style.left=e+t+"px"),this.nav.loading&&(this.nav.loading.style.left=e+t+5+"px"),this.nav.hideIcon){var n=this.nav.hideIcon,i=c.q("_header_icon_show"),o=c.q("_header_icon_hide");n.style.left=e-1+"px",c.fk?(DayPilot.Util.removeClass(n,o),DayPilot.Util.addClass(n,i)):(DayPilot.Util.removeClass(n,i),DayPilot.Util.addClass(n,o))}},this.Gk=function(){this.Ij();var t=this.Hj(),e=function(t,e,n){if(t&&t.style){var i=t.firstChild;c.Nj?(t.style.width=e+"px",i.style.width=e+"px","number"==typeof n&&(t.style.left=n+"px")):i.style.width=e+"px"}},n=this.divHeader;n.style.width=t+"px";for(var i=c.Jj(),o=i.start;o<i.end;o++){var r=n.rows[o];if(r)if(r.cells[0].colSpan>1)e(r.cells[0],t);else if(this.rowHeaderCols)for(var a=0,s=0;s<r.cells.length;s++)e(r.cells[s],l=this.rowHeaderCols[s],a),a+=l;else{var l;e(r.cells[0],l=this.rowHeaderWidth)}}c.nav.resScrollSpace&&(c.nav.resScrollSpace.style.width=t+"px"),this.W()},this.Eh=function(){this.gk(),this.Gk()},this.Hk=function(){var t=c.nav.corner,e=this.rowHeaderColumns,n=document.createElement("div");n.style.position="absolute",n.style.bottom="0px",n.style.left="0px",n.style.width="100%",n.style.height=M.headerHeight()+"px",n.style.overflow="hidden",c.nav.columnScroll=n;var i=document.createElement("div");i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="5000px",i.style.height=M.headerHeight()+"px",i.style.overflow="hidden",i.className=this.q("_columnheader"),n.appendChild(i);var o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.className=this.q("_columnheader_inner"),i.appendChild(o),c.vi&&(c.vi.dispose(),c.vi=null);var r=new DayPilot.Splitter(o);r.widths=DayPilot.Util.propArray(e,"width",c.rowHeaderColumnDefaultWidth),r.height=M.headerHeight(),r.css.title=this.q("_columnheader_cell"),r.css.titleInner=this.q("_columnheader_cell_inner"),r.css.splitter=this.q("_columnheader_splitter"),r.titles=DayPilot.list(e).map(function(t){return t.html||t.name||t.title||""}),r.updating=function(t){DayPilot.Util.updatePropsFromArray(c.rowHeaderColumns,"width",this.widths),c.Eh()},r.updated=function(t){if(c.Mj(),c.xa())"function"==typeof c.onRowHeaderColumnResized&&((e={}).column=c.rowHeaderColumns[t.index],c.onRowHeaderColumnResized(e));else switch(c.rowHeaderColumnResizedHandling){case"CallBack":case"PostBack":break;case"JavaScript":var e;"function"==typeof c.onRowHeaderColumnResized&&((e={}).column=c.rowHeaderColumns[t.index],c.onRowHeaderColumnResized(e))}},r.color="#000000",r.opacity=30,r.init(),t.appendChild(n),this.vi=r},this.Ih=function(){var t=this.nav.corner;t.innerHTML="",t.className=this.q("_corner");var e=document.createElement("div");if(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.right="0px",e.style.bottom="0px",e.className=this.q("_corner_inner"),this.divCorner=e,e.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.right="0px",n.style.bottom=M.headerHeight()+1+"px",t.appendChild(n);var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.height="1px",i.style.bottom=M.headerHeight()+"px",i.className=this.q("_divider"),t.appendChild(i),n.appendChild(e),this.Hk()}else t.appendChild(e);var o=document.createElement("div");o.style.position="absolute",o.style.padding="2px",o.style.top="0px",o.style.left="1px",o.style.backgroundColor="#FF6600",o.style.color="white",o.innerHTML="DEMO",DayPilot.Util.isNullOrUndefined(void 0)&&t.appendChild(o)},this.Fk=function(){var t=this.Wg()+M.splitterWidth()-1,e=this.Vg()+3,n=DayPilot.Util.div(this.nav.top,t,e,10,20);n.style.cursor="pointer",n.className=c.q("_header_icon"),DayPilot.Util.addClass(n,c.q("_header_icon_hide")),n.onclick=function(){c.rows.headerToggle()},this.nav.hideIcon=n},this.Jh=function(){c.nav.hideIcon&&(c.nav.hideIcon.style.display=c.rowlist.length>0&&c.rowHeaderHideIconEnabled?"":"none")},this.Hc=function(){var t=this.Wg(),e=document.createElement("div");return c.nav.corner=e,e.style.width=t+"px",e.style.height=this.Vg()+"px",e.style.overflow="hidden",e.style.position="relative",e.setAttribute("unselectable","on"),e.onmousemove=function(){c.V()},e.oncontextmenu=function(){return!1},this.Ih(),e},this.Vg=function(){if(c.timeHeaders){var t=R.timeHeader(c.timeHeaders.length-1);return t.top+t.height}return this.timeHeader?c.timeHeader.length*M.headerHeight():0},this.Ik=null,this.Jk=function(){return c.scrollStep||c.eventHeight},this.Bk=function(){var t=document.createElement("div");t.style.width=this.Wg()+"px",t.style.height=this.ic()+"px",t.style.overflow="hidden",t.style.position="relative",t.className=c.q("_rowheader_scroll");var e=c.Jk(),n=-1!==navigator.userAgent.indexOf("Mobile");return n&&(t.style.overflowY="auto"),t.onmousemove=function(){c.V()},t.onscroll=function(){if(c.nav.columnScroll&&c.rowHeaderScrolling&&(c.nav.columnScroll.scrollLeft=t.scrollLeft),c.Ik&&clearTimeout(c.Ik),n){var e=c.kj()-c.nav.scroll.offsetHeight;t.scrollTop=Math.min(t.scrollTop,e),c.nav.scroll.scrollTop=t.scrollTop}else c.Ik=setTimeout(function(){c.nav.scroll.scrollTop=t.scrollTop},500)},t.addEventListener("wheel",function(n){c.nav.scroll.scrollTop=t.scrollTop+(c.overrideWheelScrolling||c.scrollStep?n.deltaY>0?e:-e:n.deltaY),n.preventDefault&&n.preventDefault()},!1),t.oncontextmenu=function(){return!1},t.onmouseenter=function(){c.rowHeaderScrolling&&(t.style.overflowX="auto")},t.onmouseleave=function(){c.rowHeaderScrolling&&(t.style.overflowX="hidden")},t.setAttribute("role","region"),t.setAttribute("aria-label","scheduler rows"),this.divResScroll=t,this.$g=t,t},this.Kk=function(t){if("TableBased"===M.layout()){var e=parseInt(this.width,10),n=isNaN(e)||-1!==this.width.indexOf("%"),i=(/MSIE/i.test(navigator.userAgent),this.Hj());n?this.nav.top&&this.nav.top.offsetWidth>0&&(t.style.width=this.nav.top.offsetWidth-6-i+"px"):t.style.width=e-i+"px"}},this.Ce=function(t){c.pg(),c.Ag()},this.pg=function(){"TableBased"===c.Fc.layout()&&(c.Kk(c.nav.scroll),c.Kk(c.divTimeScroll)),c.na(),c.Mj(),c.Lk(),c.u.drawArea=null},this.Mk=null,this.ui=null,this.Nk=function(){c.watchWidthChanges&&(c.ui||(this.ui=setInterval(function(){return c.nav&&c.nav.top?(c.Mk||(c.Mk={},c.Mk.counter=0,c.Mk.changed=!1,c.Mk.width=c.nav.top.offsetWidth),c.Mk.width!==c.nav.top.offsetWidth&&(c.Mk.changed=!0,c.Mk.counter=0,c.Mk.width=c.nav.top.offsetWidth),c.Mk.changed&&(c.Mk.counter+=1),void(c.Mk.changed&&c.Mk.counter>2&&(c.Mk.changed=!1,c.pg(),c.Ag()))):void clearInterval(c.ui)},20)))},this.Lk=function(){var t=c.rangeHold;c.clearSelection(),c.rangeHold=t,c.Vh(t,!0)},this.Mj=function(){c.B&&"Auto"===c.cellWidthSpec&&(c.jg(),c.kg(),c.ng(),c.rg(),c.ug(),c.sg(),c.vg(),c.P(),c.fa(),c.sa(),c.na())},this.jg=function(){if("Auto"===this.cellWidthSpec){var t=this.nav.top.clientWidth-this.Wg()-c.Ok();if(this.mj()){var e=t/this.mj();this.cellWidth=Math.max(e,c.cellWidthMin),c.Zg=e<c.cellWidthMin}}},this.Ok=function(){return"Auto"===c.heightSpec?0:"Max"===c.heightSpec||"Fixed"===c.heightSpec||"Parent100Pct"===c.heightSpec?c.kj()>c.height?DayPilot.sw(c.nav.scroll):0:DayPilot.sw(c.nav.scroll)},this.bh=function(){var t=this.nav.top.clientWidth,e=this.Wg(),n=this.ic(),i=0;return this.kj()>n&&!("Auto"===c.heightSpec)&&(i=DayPilot.swa()),t-e-2-i},this.Dk=function(){var t=document.createElement("div");t.style.overflow="hidden",t.style.position="absolute",t.style.display="block",t.style.top="0px",t.style.width="100%",t.style.height=this.Vg()+"px",t.style.overflow="hidden",t.onmousemove=function(){c.V(),c.cellBubble&&c.cellBubble.delayedHide()},this.Kk(t),this.divTimeScroll=t;var e=document.createElement("div");return e.style.width=this.mj()*this.cellWidth+5e3+"px",this.divNorth=e,t.appendChild(e),t},this.ic=function(){var t=0,e=c.heightSpec;return"Fixed"===e||"Parent100Pct"===e?this.height?this.height:0:(t=c.kj(),("Max"===e||"Max100Pct"===e)&&t>c.height?c.height:t)},this.Pk=null,this.Qk=0,this.Rk=0,this.Sk=0,this._g=function(){"function"!=typeof c.onHeightChanged&&"function"!=typeof c.onDimensionsChanged||(c.Pk&&clearTimeout(c.Pk),c.Pk=setTimeout(function(){var t=c.nav.top.offsetHeight,e=c.Qk;c.Qk=t;var n=c.nav.top.offsetWidth,i=c.Rk;c.Rk=n;var o,r=c.Wg(),a=c.Sk;c.Sk=r,"function"==typeof c.onHeightChanged&&t!==e&&((o={}).oldHeight=e,o.newHeight=t,c.onHeightChanged(o)),"function"!=typeof c.onDimensionsChanged||t===e&&n===i&&r===a||((o={}).oldHeight=e,o.newHeight=t,o.oldWidth=i,o.newWidth=n,o.oldRowHeaderWidth=a,o.newRowHeaderWidth=r,c.onDimensionsChanged(o))},100))},this.kj=function(){var t;return-1!==this.eg?(t=this.eg,this.eg>0&&"auto"===c.nav.scroll.style.overflowX&&(t+=DayPilot.sh(c.nav.scroll))):t=this.rowlist.length*this.Fc.eventHeight(),t},this.V=function(){this.W(),this.Tk(),this.Uk(),this.Fj(),this.jj(),c.cellBubble&&c.cellBubble.hideOnMouseOut(),c.bubble&&c.bubble.hideOnMouseOut()},this.Ek=function(){var t=document.createElement("div");if(t.style.overflow="auto",t.style.overflowX="auto",t.style.overflowY="auto",t.style.position="absolute",t.style.height=this.ic()+"px",t.style.top=this.Vg()+1+"px",t.style.width="100%",t.className=this.q("_scrollable"),t.oncontextmenu=function(){return!1},this.Kk(t),c.overrideWheelScrolling){var e=c.Jk();t.onwheel=function(n){c.nav.scroll.scrollTop=t.scrollTop+(n.deltaY>0?e:-e),n.preventDefault&&n.preventDefault()},t.onmousewheel=function(n){n=n||window.event,c.nav.scroll.scrollTop=t.scrollTop+(n.wheelDelta<0?e:-e),n.preventDefault&&n.preventDefault(),n.returnValue=!1}}this.nav.scroll=t,this.Fg=document.createElement("div"),this.Fg.style.MozUserSelect="none",this.Fg.style.KhtmlUserSelect="none",this.Fg.style.webkitUserSelect="none",this.Fg.daypilotMainD=!0,this.Fg.calendar=this,n&&(this.Fg.style.webkitTransform="translateZ(0px)"),this.Fg.style.position="absolute";var i=this.Tg();return i>0&&!isNaN(i)&&(this.Fg.style.width=i+"px"),this.Fg.setAttribute("unselectable","on"),this.Fg.onmousedown=this.Vk,this.Fg.onmousemove=this.Gj,this.Fg.onmouseup=this.Wk,this.Fg.oncontextmenu=this.Xk,this.Fg.ondblclick=this.Yk,this.Fg.className=this.q("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.Fg.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.Xk,this.Fg.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.Xk,this.Fg.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.Xk,this.Fg.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.Xk,this.Fg.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.Fg.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.Yk,this.Fg.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.Xk,this.Fg.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.Fg.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.Xk,this.Fg.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.Fg.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.Fg.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.Fg.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.Fg.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.Fg.appendChild(this.divHover),this.divShadow=document.createElement("div"),this.divShadow.style.position="absolute",this.Fg.appendChild(this.divShadow),t.appendChild(this.Fg),t},this.Zk={};var _=this.Zk;_.create=function(){if(!c.nav.overlay){var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.className=c.q("_block"),c.nav.top.appendChild(t),c.nav.overlay=t}},_.show=function(){_.create(),c.nav.overlay.style.display=""},_.hide=function(){c.nav.overlay&&(c.nav.overlay.style.display="none")},this.J=function(t){var e=t?0:100;c.loadingTimeout&&window.clearTimeout(c.loadingTimeout),c.loadingTimeout=window.setTimeout(function(){c.loadingLabelVisible&&(c.nav.loading.innerHTML=c.loadingLabelText,c.nav.loading.style.display=""),c.blockOnCallBack&&_.show()},e)},this._=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&_.hide()},this.loadingStart=function(){c.J()},this.loadingStop=function(){c._()},this.uiBlock=function(){_.show()},this.uiUnblock=function(){_.hide()},this.ud=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.Ad=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.q(t),document.body.appendChild(e);var n=e.offsetHeight,i=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=n,o.width=i,o},this.wa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.C>=this.autoRefreshMaxCount)){this.O();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){c.dd()},1e3*this.autoRefreshInterval)}},this.O=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(t){c.wa(t)},this.autoRefreshPause=function(){c.O()},this.$k=function(){return!(i.resizing||i.moving||i.drag||i.range)},this.dd=function(){if(c.$k()){var t=!1;if("function"==typeof this.onAutoRefresh){var e={};e.i=this.C,e.preventDefault=function(){this.preventDefault.value=!0},c.onAutoRefresh(e),e.preventDefault.value&&(t=!0)}!t&&this.s()&&this.commandCallBack(this.autoRefreshCommand),this.C++}this.C<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){c.dd()},1e3*this.autoRefreshInterval))},this.ed=function(){i.globalHandlers||(i.globalHandlers=!0,DayPilot.re(document,"mousemove",i.gMouseMove),DayPilot.re(document,"mouseup",i.gMouseUp),DayPilot.re(document,"mousedown",i.gMouseDown),DayPilot.re(document,"touchmove",i.gTouchMove),DayPilot.re(document,"touchend",i.gTouchEnd),DayPilot.re(window,"keyup",i.gKeyUp)),DayPilot.re(window,"resize",this.Ce)},this._k=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.Ag,c.nj=this.nav.scroll.scrollLeft,c.lj=this.nav.scroll.scrollTop,c.oj=this.divNorth.clientWidth},this.Jf=function(){if(this.nav.state){var t={};t.scrollX=this.nav.scroll.scrollLeft,t.scrollY=this.nav.scroll.scrollTop;var e=c.ki(t.scrollX,t.scrollY),n=c.li(e),i=c.mi(e);t.rangeStart=n.start,t.rangeEnd=n.end,t.resources=i,this.syncResourceTree&&(t.tree=this.U()),this.nav.state.value=DayPilot.he(JSON.stringify(t))}},this.vg=function(){if(this.separators)for(var t=0;t<this.separators.length;t++)this.ld(t)},this.al={},this.al.step=300,this.al.delay=10,this.al.mode="display",this.al.layers=!1,this.qj=function(t){if(c.ag)S.calculateEventPositionsRow(t);else for(var e=0,n=0;n<t.lines.length;n++){var i=t.lines[n];i.height=0,i.top=e;for(var o=0;o<i.length;o++){var r=i[o];r.part.line=n,r.part.height||(r.part.height=t.eventHeight);var a=r.part.ak();a>i.height&&(i.height=a),r.part.top=e+t.marginTop;var s="Above"===c.eventVersionPosition;if(c.eventVersionsEnabled&&!DayPilot.list(r.data.versions).isEmpty()){var l=r.part.top;s||(l+=r.part.height+c.eventVersionMargin),DayPilot.list(r.data.versions).each(function(t,e){r.versions[e]&&(r.versions[e].top=l+e*(c.eventVersionHeight+c.eventVersionMargin),s&&(r.part.top+=c.eventVersionHeight,r.part.top+=c.eventVersionMargin))})}r.part.top+=c.eventMarginBottom,r.part.right=r.part.left+r.part.width,r.part.fullTop=this.rowlist[r.part.dayIndex].top+r.part.top,r.part.fullBottom=r.part.fullTop+r.part.height}e+=(i.height||t.eventHeight)*t.eventStackingLineHeight/100}};var S={loadRow:function(t){t.evColumns=DayPilot.list(c.itline).map(function(t,e){return{events:DayPilot.list()}}),DayPilot.list(t.events).each(function(e){var n=e.start(),i=c.ph(n);t.evColumns[i.i].events.push(e)})},calculateEventPositions:function(){var t=c.bg,e=0;DayPilot.list(c.rowlist).each(function(n){var i=0;n.evColumns.each(function(e,o){var r=c.itline[o],a=c.rowMarginTop;e.events.each(function(e){e.part.left=r.left,e.part.width=r.width,e.part.top=a,e.part.height||(e.part.height=t?S.getEventAutoHeight(e)+c.durationBarHeight:n.eventHeight),a+=e.part.height+c.eventMarginBottom}),e.height=a,e.height>i&&(i=e.height)}),n.maxColumnHeight=i,n.top=e;var o=n.height;n.height=n.getHeight(),i>c.rowMarginTop&&(n.height=i+c.rowMarginBottom),o!==n.height&&(c.Mh=!0),e+=n.height}),c.eg=e},getEventAutoHeight:function(t){var e=t.client.html(),n=document.createElement("div");n.style.position="absolute",n.style.top="-2000px",n.style.left="-2000px",n.style.width=t.part.width+"px",n.className=c.q(A.event);var i=document.createElement("div");i.className=c.q(A.eventInner),i.innerHTML=e,i.style.position="static",i.style.overflow="auto",n.appendChild(i);var o=c.divEvents;o.appendChild(n);var r=n.offsetHeight;return o.removeChild(n),r},calculateEventPositionsRow:function(t){S.calculateEventPositions()},drawEventsWithoutCheckingOverflow:function(){DayPilot.list(c.rowlist).each(function(t){S.drawEventsRow(t)})},drawEvents:function(){S.drawEventsWithoutCheckingOverflow(),S.checkOverflow(),c.qg(),c.na()},checkOverflow:function(){if(c.bg){var t=!1;DayPilot.list(c.elements.events).each(function(e){var n=e.firstChild,i=n.scrollHeight+(n.offsetHeight-n.clientHeight+e.offsetHeight-e.clientHeight),o=e.event.part.height;e.event.part.height=i,o!==i&&(t=!0)}),t&&(c.P(),S.calculateEventPositions(),S.drawEventsWithoutCheckingOverflow(),c.rg(),c.ug())}},drawEventsRow:function(t){t.evColumns.each(function(t,e){t.events.each(function(t){c.$b(t)})})}};this.sa=function(t){if(!c.xd){if(c.ag)return void S.drawEvents();var e=this.al.step;this.al.layers&&(c.divEvents=document.createElement("div"),c.divEvents.style.position="absolute",c.Fg.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.al.mode?this.divEvents.style.display="none":"visibility"===this.al.mode&&(this.divEvents.style.visibility="hidden"),this.divEvents.setAttribute("role","region"),this.divEvents.setAttribute("aria-label","scheduler events");for(var n="Progressive"===this.dynamicEventRendering,i=this.Kg(),o=i.pixels.top,r=i.pixels.bottom,a=c.allowMultiMove||c.allowMultiResize,s=0;s<this.rowlist.length;s++){var l=this.rowlist[s],d=l.top-this.dynamicEventRenderingMargin;if(!n||a||!(r<=d||o>=d+l.height+2*this.dynamicEventRenderingMargin)){this.qj(l);for(var u=0;u<l.lines.length;u++)for(var h=l.lines[u],p=0;p<h.length;p++){var g=this.$b(h[p]);if(t&&g&&--e<=0)return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){c.sa(t)},c.al.delay)}}}this.divEvents.style.display="",DayPilot.list(c.multiselect.kb).isEmpty()||c.multiselect.redraw(),this.Ng(),f.load()}},this.Oh=function(t){var e=this.rowlist[t];if(c.ag)S.drawEventsRow(e);else{this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.Fg.insertBefore(this.divEvents,this.divSeparatorsAbove),this.qj(e);for(var n=0;n<e.lines.length;n++)for(var i=e.lines[n],o=0;o<i.length;o++)this.$b(i[o]);this.divEvents.style.display=""}},this.P=function(){if(this.elements.events)for(var t=this.elements.events.length,e=0;e<t;e++)this.Ji(this.elements.events[e]);this.elements.events=[]},this.Nh=function(t){if(this.elements.events){for(var e=this.elements.events.length,n=[],i=0;i<e;i++){var o=this.elements.events[i];o.event.part.dayIndex===t&&(this.Ji(o),n.push(i))}for(i=n.length-1;i>=0;i--)this.elements.events.splice(n[i],1)}},this.Ji=function(t){if("function"==typeof c.onDomRemoveEvent){var e=t.domArgs;t.domArgs=null,c.onDomRemoveEvent(e)}t.parentNode&&t.parentNode.removeChild(t),t.onclick=null,t.oncontextmenu=null,t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onmousedown=null,t.ondblclick=null,t.event&&(t.event.rendered=null,t.event=null),t.related&&DayPilot.de(t.related)},this.bl=function(t){t.event&&(t.event.rendered=!1),t.onclick=null,t.onmousedown=null,t.event=null,t.parentNode&&t.parentNode.removeChild(t)},this.cl=function(){if("Progressive"===this.dynamicEventRendering&&c.dynamicEventRenderingCacheSweeping){var t=c.dynamicEventRenderingCacheSize||0;this.divEvents.style.display="none";for(var e=[],n=this.elements.events.length-1;n>=0;n--){var i=this.elements.events[n];this.dl(i.event)?t>0?(t--,e.unshift(i)):this.Ji(i):e.unshift(i)}this.elements.events=e,this.divEvents.style.display=""}},this.fl=function(t){for(var e=[],n=this.Kg(),i=this.elements.cells.length-1;i>=0;i--){var o=this.elements.cells[i];n.xStart<o.coords.x&&o.coords.x<=n.xEnd&&n.yStart<o.coords.y&&o.coords.y<=n.yEnd?e.unshift(o):t>0?(t--,e.unshift(o)):this.Qi(o)}},this.Qi=function(t){if(t&&t.coords){var e=t.coords.x,n=t.coords.y;DayPilot.rfa(c.elements.cells,t),DayPilot.de(t),c.u.cells[e+"_"+n]=null}},this.sg=function(){if(this.elements.separators)for(var t=0;t<this.elements.separators.length;t++)DayPilot.de(this.elements.separators[t]);this.elements.separators=[]},this.gl=function(){var t="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var e=this.nav.scroll.scrollTop,n=e+this.nav.scroll.clientHeight,i=0;i<this.rowlist.length;i++){var o=this.rowlist[i];if(!t||!(n<=o.top||e>=o.top+o.height))for(var r=0;r<o.lines.length;r++)for(var a=o.lines[r],s=0;s<a.length;s++)if(this.hl(a[s]))return!0}return!1},this.hl=function(t){if(t.rendered)return!1;var e=this.nav.scroll.scrollLeft;return!("Progressive"===this.dynamicEventRendering&&(e+this.nav.scroll.clientWidth<=t.part.left||e>=t.part.left+t.part.width))},this.dl=function(t){if(!t.rendered)return!0;var e=this.Kg();return e.pixels.right+this.dynamicEventRenderingMargin<=t.part.left||e.pixels.left-this.dynamicEventRenderingMargin>=t.part.right||e.pixels.bottom<=t.part.fullTop||e.pixels.top>=t.part.fullBottom},this._j=DayPilot.list(),this.il=function(t){if(t.rendered)return!1;if(t.row.hidden)return!1;var e=t.min,n=t.max-t.min,i=c.eventHeight,o=t.row.top,r=document.createElement("div");r.style.position="absolute",r.style.left=e+"px",r.style.top=o+"px",r.style.width=n+"px",r.style.height=i+"px",r.className=c.q("_event_group"),r.style.cursor="pointer";var a={group:{}};a.group.count=t.events.length,a.group.events=DayPilot.list(t.events,!0),a.group.html="[+] "+t.events.length+" events","function"==typeof c.onBeforeGroupRender&&c.onBeforeGroupRender(a);var s=document.createElement("div");return s.innerHTML=a.group.html,r.appendChild(s),r.onmousedown=function(t){(t=t||window.event).cancelBubble=!0},r.onclick=function(t){var e=r.event;e.expanded=!0,c.bl(r);var n=DayPilot.indexOf(c.elements.events,r);-1!==n&&c.elements.events.splice(n,1);var i=c._j;DayPilot.list(e.events).each(function(t){i.push(t.id())}),c.zh(),c.Ah(e.part.dayIndex),c.na(),(t=t||window.event).cancelBubble=!0},t.part={},t.part.left=e,t.part.width=n,t.part.height=c.eventHeight,t.part.dayIndex=DayPilot.indexOf(c.rowlist,t.row),t.part.top=0,t.part.isBlock=!0,t.client={},t.client.html=function(){return a.group.html},t.data={},r.event=t,this.elements.events.push(r),this.divEvents.appendChild(r),t.rendered=!0,!0},this.$b=function(t,e){var n=(e=e||{}).forced;if(t.rendered)return!1;if(c.groupConcurrentEvents){var i=t.part.block;if(i.events.length>1&&!i.expanded)return c.il(i)}var o="Progressive"===this.dynamicEventRendering,r=t.part.dayIndex,a=this.rowlist[r];if(a.hidden)return!1;var s=a.top,l=(H=this.Kg()).pixels.left-this.dynamicEventRenderingMargin,d=H.pixels.right+this.dynamicEventRenderingMargin,u=H.pixels.top,h=H.pixels.bottom,f=t.part.left,p=t.part.left+t.part.width,g=t.part.top+s,m=g+t.part.height,v=c.multiselect.Kb(t);if(!n&&!v&&o&&(d<=f||l>=p||h<=g||u>=m))return!1;var y="Milestone"===t.data.type,b=t.part.width,w=t.part.height,x=t.cache||t.data;b=Math.max(0,b),w=Math.max(0,w);var D=document.createElement("div");if(D.related=[],function(e){c.eventVersionsEnabled&&DayPilot.list(t.data.versions).each(function(n,i){if(n){var o=t.versions[i];if(o){var r=document.createElement("div");r.style.position="absolute",r.style.left=o.left+"px",r.style.top=s+o.top+"px",r.style.width=o.width+"px",r.style.height=c.eventVersionHeight+"px",r.className=c.q(A.event)+" "+c.q("_event_previous")+" "+c.q("_event_version"),n.toolTip&&(r.title=n.toolTip),n.cssClass&&DayPilot.Util.addClass(r,n.cssClass);var a=document.createElement("div");a.setAttribute("unselectable","on"),a.className=c.q(A.eventInner),a.innerHTML=n.html||n.text||"",n.backColor&&(a.style.background=n.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(a.style.filter="")),n.fontColor&&(a.style.color=n.fontColor),n.borderColor&&(a.style.borderColor=n.borderColor),n.backImage&&(a.style.backgroundImage="url("+n.backImage+")",n.backRepeat&&(a.style.backgroundRepeat=n.backRepeat)),r.appendChild(a),o.continueLeft&&!y&&DayPilot.Util.addClass(r,c.q("_event_continueleft")),o.continueRight&&!y&&DayPilot.Util.addClass(r,c.q("_event_continueright"));var l=o.width;if(c.durationBarVisible&&!n.barHidden&&l>0){var d=100*o.barLeft/l,u=Math.ceil(100*o.barWidth/l);"PercentComplete"===c.durationBarMode&&(d=0,u=n.complete||0);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=c.q(A.eventBar),h.style.position="absolute",n.barBackColor&&(h.style.backgroundColor=n.barBackColor);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=c.q(A.eventBarInner),f.style.left=d+"%",f.style.width=0<u&&u<=1?"1px":u+"%",n.barColor&&(f.style.backgroundColor=n.barColor),n.barImageUrl&&(f.style.backgroundImage="url("+n.barImageUrl+")"),h.appendChild(f),r.appendChild(h)}if(n.htmlLeft){var p=c.eventHtmlLeftMargin,g=document.createElement("div");g.style.position="absolute",g.style.right=-(o.left-p)+"px",g.style.top=s+o.top+"px",g.style.height=c.eventHeight+"px",g.style.boxSizing="border-box",g.innerHTML=n.htmlLeft,g.className=c.q("_event_left"),g.type="divLeft",g.versionPart=o,e.related.push(g),c.divEvents.appendChild(g)}if(n.htmlRight){p=c.eventHtmlRightMargin;var m=document.createElement("div");m.style.position="absolute",m.style.left=o.left+o.width+p+"px",m.style.top=s+o.top+"px",m.style.height=c.eventHeight+"px",m.style.boxSizing="border-box",m.innerHTML=n.htmlRight,m.className=c.q("_event_right"),m.type="divRight",m.versionPart=o,e.related.push(m),c.divEvents.appendChild(m)}r.versionPart=o,r.type="version",e.related.push(r),c.divEvents.appendChild(r)}}})}(D),x.htmlLeft){var C=c.eventHtmlLeftMargin,_=document.createElement("div");_.style.position="absolute",_.style.right=-(t.part.left-C)+"px",_.style.top=s+t.part.top+"px",_.style.height=c.eventHeight+"px",_.style.boxSizing="border-box",_.innerHTML=x.htmlLeft,_.className=c.q("_event_left"),_.type="divLeft",D.related.push(_),this.divEvents.appendChild(_)}if(x.htmlRight){C=c.eventHtmlRightMargin;var S=document.createElement("div");S.style.position="absolute",S.style.left=t.part.left+t.part.width+C+"px",S.style.top=s+t.part.top+"px",S.style.height=c.eventHeight+"px",S.style.boxSizing="border-box",S.innerHTML=x.htmlRight,S.className=c.q("_event_right"),S.type="divRight",D.related.push(S),this.divEvents.appendChild(S)}u=s+t.part.top,D.style.position="absolute",D.style.left=t.part.left+c.eventMarginLeft+"px",D.style.top=s+t.part.top+"px",D.style.width=b-c.eventMarginLeft-c.eventMarginRight+"px",D.style.height=w+"px",c.eventTextWrappingEnabled||(D.style.whiteSpace="nowrap"),D.style.overflow="hidden",D.className=this.q(A.event),y&&DayPilot.Util.addClass(D,c.q("_task_milestone")),"Group"===t.data.type&&(DayPilot.Util.addClass(D,c.q("_task_parent")),DayPilot.Util.addClass(D,c.q("_task_group"))),x.cssClass&&DayPilot.Util.addClass(D,x.cssClass),"number"==typeof t.part.line&&DayPilot.Util.addClass(D,this.q(A.eventLine+t.part.line)),D.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(D.title=t.client.toolTip()||""),D.onmousemove=this._b,D.onmouseout=this.bc,D.onmousedown=this.cc,D.onmouseup=this.jl,D.ontouchstart=T.onEventTouchStart,D.ontouchmove=T.onEventTouchMove,D.ontouchend=T.onEventTouchEnd,t.client.clickEnabled()&&(D.onclick=this.bf),t.client.doubleClickEnabled()&&(D.ondblclick=this.Oa),D.oncontextmenu=this.Pa,D.setAttribute("aria-label",void 0!==x.ariaLabel?x.ariaLabel:x.text),D.setAttribute("tabindex","-1");var k=document.createElement("div");k.setAttribute("unselectable","on"),k.className=c.q(A.eventInner),x.backColor&&(k.style.background=x.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(k.style.filter="")),x.fontColor&&(k.style.color=x.fontColor),x.borderColor&&(k.style.borderColor=x.borderColor),x.backImage&&(k.style.backgroundImage="url("+x.backImage+")",x.backRepeat&&(k.style.backgroundRepeat=x.backRepeat)),D.appendChild(k);var P=t.start().getTime()===t.part.start.getTime(),E=t.rawend().getTime()===t.part.end.getTime();if(P||y||DayPilot.Util.addClass(D,this.q("_event_continueleft")),E||y||DayPilot.Util.addClass(D,this.q("_event_continueright")),t.client.barVisible()&&b>0&&!y){var M=100*t.part.barLeft/b,R=Math.ceil(100*t.part.barWidth/b);"PercentComplete"===this.durationBarMode&&(M=0,R=x.complete||0);var N=document.createElement("div");N.setAttribute("unselectable","on"),N.className=this.q(A.eventBar),N.style.position="absolute",x.barBackColor&&(N.style.backgroundColor=x.barBackColor);var I=document.createElement("div");I.setAttribute("unselectable","on"),I.className=this.q(A.eventBarInner),I.style.left=M+"%",I.style.width=0<R&&R<=1?"1px":R+"%",x.barColor&&(I.style.backgroundColor=x.barColor),x.barImageUrl&&(I.style.backgroundImage="url("+x.barImageUrl+")"),N.appendChild(I),D.appendChild(N)}if(D.row=r,x.areas)for(var O=0;O<x.areas.length;O++){var H;if("Visible"===((H=x.areas[O]).visibility||H.v||"Visible")){(H.start||H.end)&&(H.left=c.getPixels(new DayPilot.Date(H.start)).left-t.part.left,H.width=c.getPixels(new DayPilot.Date(H.end)).left-H.left-t.part.left);var L=DayPilot.Areas.createArea(D,t,H);D.appendChild(L)}}if(D.event=t,v&&(c.multiselect.add(D.event,!0),c.multiselect.sd(D)),function(){var e={};e.e=t,e.element=null,D.domArgs=e,"function"==typeof c.onDomAddEvent&&c.onDomAddEvent(e),e.element?k.appendChild(e.element):y||(k.innerHTML=t.client.innerHTML())}(),this.elements.events.push(D),this.divEvents.appendChild(D),t.rendered=!0,c.xa()){if("function"==typeof c.onAfterEventRender){var B={};B.e=D.event,B.div=D,c.onAfterEventRender(B)}}else c.afterEventRender&&c.afterEventRender(D.event,D);return!0},this.xa=function(){return 2===c.api},this.Ph=function(){for(var t=0;t<this.elements.events.length;t++){var e=this.elements.events[t],n=e.event,i=this.rowlist[n.part.dayIndex].top,o=i+n.part.top;e.style.top=o+"px",DayPilot.list(e.related).filter(function(t){return!!t.versionPart}).each(function(t){t.style.top=i+t.versionPart.top+"px"}),DayPilot.list(e.related).filter(function(t){return!t.versionPart&&("divLeft"===t.type||"divRight"===t.type)}).each(function(t){t.style.top=o+"px"})}},this.qd=function(t){if(!t)return null;for(var e=0;e<c.elements.events.length;e++){var n=c.elements.events[e];if(n.event===t||n.event.data===t.data)return n}return null},this.Ei=function(t){var e=c.events.Gi(t.data);return e?(c.qj(c.rowlist[e.part.dayIndex]),c.$b(e,{forced:!0}),c.qd(e)):null},this.bc=function(t){var e=this;DayPilot.Areas.hideAreas(e,t),e.active||(DayPilot.Util.removeClass(e,c.q("_event_hover")),c.kl(e),a.source||f.hideLinkpointsWithDelay(),c.bubble&&"Bubble"===c.eventHoverHandling&&c.bubble.hideOnMouseOut())},this.ll=function(t){if("function"==typeof this.onEventMouseOver){var e={};e.div=t,e.e=t.event,this.onEventMouseOver(e)}},this.kl=function(t){if("function"==typeof this.onEventMouseOut){var e={};e.div=t,e.e=t.event,this.onEventMouseOut(e)}},this._b=function(t){t=t||window.event,c.cellBubble&&c.cellBubble.delayedHide();for(var e=this;e&&!e.event;)e=e.parentNode;if(c.ml(e,t),!e.active){var n=[];"Disabled"===c.eventDeleteHandling||(e.event.cache?e.event.cache.deleteDisabled:e.event.data.deleteDisabled)||n.push({action:"JavaScript",v:"Hover",w:17,h:17,top:(c.durationBarVisible?c.durationBarHeight:0)+2,right:2,css:c.q(A.eventDelete),js:function(t){c.Ta(t)}});var i=e.event.cache?e.event.cache.areas:e.event.data.areas;i&&i.length>0&&(n=n.concat(i)),DayPilot.Areas.showAreas(e,e.event,null,n),DayPilot.Util.addClass(e,c.q("_event_hover")),c.ll(e)}"Disabled"===c.linkCreateHandling||a.source||(f.clearHideTimeout(),f.hideLinkpoints(),c.$k()&&f.showLinkpoint(e)),t.srcElement?t.srcElement.insideEvent=!0:t.insideEvent=!0},this.nl={};var k=this.nl;this.jl=function(t){if(c.ionicEventClickFix){var e=k.originalMouse;if(e){var n=DayPilot.mc(t);e.x===n.x&&e.y===n.y&&(c.bf.call(this,t),t.preventDefault(),t.stopPropagation())}}},this.cc=function(t){c.V(),void 0!==DayPilot.Bubble&&(DayPilot.Bubble.hideActive(),DayPilot.Bubble.cancelShowing()),t=t||window.event,c.coords||(c.coords=DayPilot.mo3(c.Fg,t));var e=DayPilot.Util.mouseButton(t);if(t.preventDefault(),t.stopPropagation(),e.left){if("Disabled"!==c.multiSelectRectangle&&t.shiftKey)return P.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(i.preventEventClick=!0,i.resizing=this,i.resizingEvent=this.event,i.originalMouse=DayPilot.mc(t),document.body.style.cursor=this.style.cursor,f.hideLinkpoints()):("move"===this.style.cursor||"Full"===c.moveBy&&this.event.client.moveEnabled())&&(k.start=!0,k.moving=this,k.movingEvent=this.event,k.originalMouse=DayPilot.mc(t),k.moveOffsetX=DayPilot.mo3(this,t).x,k.moveDragStart=c.getDate(c.coords.x,!0),f.hideLinkpoints())}DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide()},this.dc={};var T=c.dc;void 0===DayPilot.Global.touch&&(DayPilot.Global.touch={}),DayPilot.Global.touch.active=!1,DayPilot.Global.touch.start=!1,T.timeouts=[],T.onEventTouchStart=function(t){if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){t.stopPropagation(),T.clearTimeouts(),DayPilot.Global.touch.start=!0,DayPilot.Global.touch.active=!1;var n=this;T.timeouts.push(window.setTimeout(function(){DayPilot.Global.touch.active=!0,DayPilot.Global.touch.start=!1,c.coords=T.relativeCoords(t),t.preventDefault();var i=n.event;switch(c.eventTapAndHoldHandling){case"Move":if(i.client.moveEnabled()){var o=e(t);T.startMoving(n,o)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(t);var r=i.client.contextMenu();r?r.show(i):c.contextMenu&&c.contextMenu.show(i)}},c.tapAndHoldTimeout))}},T.onEventTouchMove=function(t){T.clearTimeouts(),DayPilot.Global.touch.start=!1},T.onEventTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(T.clearTimeouts(),DayPilot.Global.touch.start){DayPilot.Global.touch.start=!1,t.preventDefault(),t.stopPropagation();var e=this;window.setTimeout(function(){c.La(e,t)})}window.setTimeout(function(){DayPilot.Global.touch.start=!1,DayPilot.Global.touch.active=!1},500)}},T.onMainTouchStart=function(t){DayPilot.Global.touch.active||DayPilot.Global.touch.start||t.touches.length>1||"Disabled"===c.timeRangeSelectedHandling||(T.clearTimeouts(),DayPilot.Global.touch.start=!0,DayPilot.Global.touch.active=!1,T.timeouts.push(window.setTimeout(function(){DayPilot.Global.touch.active=!0,DayPilot.Global.touch.start=!1,t.preventDefault(),c.coords=T.relativeCoords(t),T.range=c.ol()},c.tapAndHoldTimeout)),c.coords=T.relativeCoords(t))},T.onMainTouchMove=function(t){if(T.clearTimeouts(),DayPilot.Global.touch.start=!1,i.resizing)return t.preventDefault(),void T.updateResizing();if(DayPilot.Global.touch.active){if(t.preventDefault(),c.coords=T.relativeCoords(t),i.moving)return void T.updateMoving();if(T.range){var e=T.range;e.end={x:Math.floor(c.coords.x/c.cellWidth)},c.Vh(e)}}},T.onMainTouchEnd=function(t){if(T.clearTimeouts(),DayPilot.Global.touch.active){if(i.moving){t.preventDefault();var e=i.movingEvent;if(c!==i.movingShadow.calendar)return;var n=i.movingShadow.start,o=i.movingShadow.end,r="Days"!==c.viewType?i.movingShadow.row.id:null,a=i.drag&&e.part.external,s=i.movingShadow.overlapping,l=!i.movingShadow.allowed;if(DayPilot.Util.removeClass(i.moving,c.q(c.pl.eventMovingSource)),DayPilot.de(i.movingShadow),c.Fj(),i.movingShadow.calendar=null,document.body.style.cursor="",i.moving=null,i.movingEvent=null,i.movingShadow=null,c.yj.clear(),s||l||c.yj.forbidden||c.yj.invalid)return;c._a(e,n,o,r,a)}if(T.range){var d=T.range;T.range=null,(u=c.elements.range2)&&u.overlapping?c.clearSelection():c.Sh(d)}}else if(DayPilot.Global.touch.start){if(c.coords.x<c.getScrollX())return;var u;d=c.ol(),c.Vh(d),(u=c.elements.range2)&&u.overlapping?c.clearSelection():c.Sh(d)}window.setTimeout(function(){DayPilot.Global.touch.start=!1,DayPilot.Global.touch.active=!1},500)},T.clearTimeouts=function(){for(var t=0;t<T.timeouts.length;t++)clearTimeout(T.timeouts[t]);T.timeouts=[]},T.relativeCoords=function(t){var e=t.touches[0].pageX,n=t.touches[0].pageY,i=DayPilot.abs(c.Fg);return{x:e-i.x,y:n-i.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},T.startMoving=function(t,e){i.moving=t,i.movingEvent=t.event,i.originalMouse=e;var n=DayPilot.abs(t);i.moveOffsetX=e.x-n.x,i.moveDragStart=c.getDate(c.coords.x,!0),i.movingShadow=c.ya(t),c.ij()},T.startResizing=function(t,e){i.resizing=t,i.resizingEvent=t.event,i.resizing.dpBorder=e,i.resizingShadow||(i.resizingShadow=c.ya(t)),c.zj()},T.updateResizing=function(){i.resizingShadow||(i.resizingShadow=c.ya(i.resizing)),c.zj()},T.updateMoving=function(){i.movingShadow&&i.movingShadow.calendar!==c&&c.Fj(),i.movingShadow||(i.movingShadow=c.ya(i.moving)),i.movingShadow.calendar.ij()},this.ml=function(t,e){var n=this.eventResizeMargin,o=this.eventMoveMargin,r=t;if(void 0!==i){var a=DayPilot.mo3(t,e);if(a&&(c.eventOffset=a,!i.resizing&&!i.moving)){var s=r.event.part.start.toString()===r.event.start().toString(),l=r.event.part.end.toString()===r.event.rawend().toString();"Top"===c.moveBy&&a.y<=o&&r.event.client.moveEnabled()&&"Disabled"!==c.eventMoveHandling?t.style.cursor="move":("Top"===c.moveBy||"Full"===c.moveBy)&&a.x<=n&&r.event.client.resizeEnabled()&&"Disabled"!==c.eventResizeHandling?s?(t.style.cursor="w-resize",t.dpBorder="left"):t.style.cursor="not-allowed":"Left"===c.moveBy&&a.x<=o&&r.event.client.moveEnabled()&&"Disabled"!==c.eventMoveHandling?t.style.cursor="move":t.offsetWidth-a.x<=n&&r.event.client.resizeEnabled()&&"Disabled"!==c.eventResizeHandling?l?(t.style.cursor="e-resize",t.dpBorder="right"):t.style.cursor="not-allowed":i.resizing||i.moving||(t.style.cursor=r.event.client.clickEnabled()&&"Disabled"!==c.eventClickHandling?"pointer":"default"),void 0===DayPilot.Bubble||!c.bubble||"Bubble"!==c.eventHoverHandling||"default"!==t.style.cursor&&"pointer"!==t.style.cursor||(this.gd=a,c.bubble.showEvent(t.event))}}},this.mj=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.Th=function(t){if(!(t=t||i.range||c.rangeHold))return null;var e=c.rowlist[t.start.y];if(!e)return null;var n,o=t.ql?t.ql:t,r=e.id,a=o.end.x>o.start.x?o.start.x:o.end.x,s=o.end.x>o.start.x?o.end.x:o.start.x;n=e.start.getTime()-this.Fa().getTime();var l=this.itline[a].start.addTime(n),d=this.itline[s].end.addTime(n);return new DayPilot.Selection(l,d,r,c)},this.Fb=function(t){var e=t.parentNode,n=c.eventEditMinWidth,i=document.createElement("textarea");return i.style.position="absolute",i.style.width=(t.offsetWidth<n?n:t.offsetWidth-2)+"px",i.style.height=t.offsetHeight-2+"px",i.style.fontFamily=DayPilot.gs(t,"fontFamily")||DayPilot.gs(t,"font-family"),i.style.fontSize=DayPilot.gs(t,"fontSize")||DayPilot.gs(t,"font-size"),i.style.left=t.offsetLeft+"px",i.style.top=t.offsetTop+"px",i.style.border="1px solid black",i.style.padding="0px",i.style.marginTop="0px",i.style.backgroundColor="white",i.value=DayPilot.tr(t.event.text()),i.event=t.event,e.appendChild(i),i},this.rl=function(t){var e=d.events();e.sort(function(t,e){var n=t.event,i=e.event;return n.part.dayIndex!==i.part.dayIndex?n.part.dayIndex-i.part.dayIndex:n.start()!==i.start()?n.start().getTime()-i.start().getTime():i.end().getTime()-n.end().getTime()});var n=e.indexOf(t);return-1===n?null:n+1<e.length?e[n+1]:e[0]},this.Ma=function(t){if(t&&(i.editing&&i.editing.blur(),t.event)){var e=this.Fb(t);i.editing=e,DayPilot.re(e,DayPilot.touch.start,function(t){t.stopPropagation()}),e.onblur=function(){if(e.onblur=null,i.editing===e&&(i.editing=null),e.parentNode&&e.parentNode.removeChild(e),t.event){var n=(t.event.text(),e.value);c.ib(t.event,n,e.canceling)}},e.onmousedown=function(t){(t=t||window.event).stopPropagation&&t.stopPropagation()},e.onkeypress=function(t){return 13!==(window.event?event.keyCode:t.keyCode)||(this.onblur(),!1)},e.cancel=function(){i.editing&&(i.editing.canceling=!0,i.editing.blur())},e.onkeydown=function(e){var n=window.event?event.keyCode:e.keyCode;if(27===n)i.editing.cancel();else if(9===n){var o=c.rl(t);return i.editing.cancel(),o&&(DayPilot.browser.ie?setTimeout(function(){c.Ma(o)},0):c.Ma(o)),!1}},e.select(),e.focus()}},this.Sj=function(t){if(void 0!==DayPilot.Bubble&&c.resourceBubble){var e=c.Zh(this.row);e.div=this,c.resourceBubble.showResource(e)}},this.Tj=function(t){void 0!==DayPilot.Bubble&&c.resourceBubble&&c.resourceBubble.hideOnMouseOut();var e=this.firstChild;DayPilot.Areas.hideAreas(e,t),e.data=null},this.Uj=function(t){o.row&&(D.cancelClick=!0,setTimeout(function(){D.cancelClick=!1},100))},this.ng=function(){if(this.timeHeader){this.u.timeHeader={};var t=document.createElement("div");t.style.position="relative",this.nav.timeHeader=t;for(var e=0;e<this.timeHeader.length;e++)for(var n=this.timeHeader[e],i=0;i<n.length;i++)this.sl(i,e);var o=this.divNorth;if(1===o.childNodes.length)o.replaceChild(t,o.childNodes[0]);else{if(DayPilot.browser.ie&&o&&o.firstChild){for(var r=[],a=0;a<o.firstChild.childNodes.length;a++)r.push(o.firstChild.childNodes[a]);DayPilot.de(r)}o.innerHTML="",o.appendChild(t)}var s=this.Tg();o.style.width=s+5e3+"px",c.divCorner.innerHTML=this.cornerHtml||"",s>0&&(this.divStretch.style.width=s+"px")}},this.lh=function(t,e){var n=null,i=this.Fc.locale(),o=t.start;switch(e=e||this.cellGroupBy){case"Hour":n="Clock12Hours"===c.Fc.timeFormat()?o.toString("h tt",i):o.toString("H",i);break;case"Day":n=o.toString(i.datePattern);break;case"Week":n=1===M.weekStarts()?o.weekNumberISO():o.weekNumber();break;case"Month":n=o.toString("MMMM yyyy",i);break;case"Quarter":n="Q"+Math.floor(o.getMonth()/3+1);break;case"Year":n=o.toString("yyyy");break;case"None":n="";break;case"Cell":n=this.ul(o,(t.end.ticks-t.start.ticks)/6e4);break;default:throw"Invalid cellGroupBy value"}return n},this.ul=function(t,e){var n=this.Fc.locale();return(e=e||this.cellDuration)<60?t.toString("mm"):e<1440?"Clock12Hours"===c.Fc.timeFormat()?t.toString("h tt",n):t.toString("H",n):e<10080?t.toString("d"):10080===e?1===M.weekStarts()?t.weekNumberISO():t.weekNumber():t.toString("MMMM yyyy",n)},this.hh=function(t){var e=this.scale;switch(e){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return t.addMinutes(1);case"CellDuration":return t.addMinutes(this.cellDuration);default:return this.kh(t,e)}},this.kh=function(t,e){var n,i=this.startDate.addDays("Days"!==this.viewType?this.days:1);"Manual"===c.scale&&(i=c.jh());var o=60;switch(e=e||this.cellGroupBy){case"Hour":t.getHours()+t.getMinutes()+t.getSeconds()+t.getMilliseconds()>0&&(t=t.getDatePart().addHours(t.getHours())),n=t.addHours(1);break;case"Day":n=t.getDatePart().addDays(1);break;case"Week":for(n=t.getDatePart().addDays(1);n.dayOfWeek()!==M.weekStarts();)n=n.addDays(1);break;case"Month":n=(n=t.addMonths(1)).firstDayOfMonth();for(var r=DayPilot.DateUtil.diff(n,t)/6e4%o==0;!r;)n=n.addHours(1),r=DayPilot.DateUtil.diff(n,t)/6e4%o==0;break;case"Quarter":for(n=(n=t.addMonths(1)).firstDayOfMonth();n.getMonth()%3;)n=n.addMonths(1);for(r=DayPilot.DateUtil.diff(n,t)/6e4%o==0;!r;)n=n.addHours(1),r=DayPilot.DateUtil.diff(n,t)/6e4%o==0;break;case"Year":for(n=(n=t.addYears(1)).firstDayOfYear(),r=DayPilot.DateUtil.diff(n,t)/6e4%o==0;!r;)n=n.addHours(1),r=DayPilot.DateUtil.diff(n,t)/6e4%o==0;break;case"None":n=i;break;case"Cell":var a=this.ph(t);n=a.current?a.current.end:a.past?a.previous.end:a.next.start;break;default:throw"Invalid cellGroupBy value"}return n.getTime()>i.getTime()&&(n=i),n},this.pl={},this.pl.timeheadercol="_timeheadercol",this.pl.timeheadercolInner="_timeheadercol_inner",this.pl.resourcedivider="_resourcedivider",this.pl.eventFloat="_event_float",this.pl.eventFloatInner="_event_float_inner",this.pl.event="_event",this.pl.eventInner="_event_inner",this.pl.eventBar="_event_bar",this.pl.eventBarInner="_event_bar_inner",this.pl.eventDelete="_event_delete",this.pl.eventLine="_event_line",this.pl.eventMovingSource="_event_moving_source";var A=this.pl;this.sl=function(t,e){var n=this.nav.timeHeader,i=this.timeHeader[e][t],o=e<this.timeHeader.length-1,r=i.left,a=i.width,s=R.timeHeader(e),l=s.top,d=s.height,u=document.createElement("div");u.style.position="absolute",u.style.top=l+"px",u.style.left=r+"px",u.style.width=a+"px",u.style.height=d+"px",i.toolTip&&(u.title=i.toolTip),u.setAttribute("aria-hidden","true"),i.cssClass&&DayPilot.Util.addClass(u,i.cssClass),u.setAttribute("unselectable","on"),u.style.KhtmlUserSelect="none",u.style.MozUserSelect="none",u.style.webkitUserSelect="none",u.oncontextmenu=function(){return!1},u.cell={},u.cell.start=i.start,u.cell.end=i.end,u.cell.level=e,u.cell.th=i,u.onclick=this.Zj,u.style.overflow="hidden",c.timeHeaderTextWrappingEnabled||(u.style.whiteSpace="nowrap");var h=document.createElement("div");h.setAttribute("unselectable","on"),i.innerHTML&&(h.innerHTML=i.innerHTML),i.backColor&&(h.style.background=i.backColor),i.fontColor&&(h.style.color=i.fontColor);var f=this.q(A.timeheadercol),p=this.q(A.timeheadercolInner);o&&(f=this.q("_timeheadergroup"),p=this.q("_timeheadergroup_inner")),DayPilot.Util.addClass(u,f),DayPilot.Util.addClass(h,p),DayPilot.Util.addClass(u,c.q("_timeheader_cell")),DayPilot.Util.addClass(h,c.q("_timeheader_cell_inner")),DayPilot.list(i.areas).each(function(t){t.start&&(t.left=c.getPixels(new DayPilot.Date(t.start)).left-r,t.end&&(t.width=c.getPixels(new DayPilot.Date(t.end)).left-t.left-r))}),u.appendChild(h),DayPilot.Areas.attach(u,i,{areas:i.areas}),this.u.timeHeader[t+"_"+e]=u,n.appendChild(u)},this.zh=function(){if(c.ag)S.calculateEventPositions();else for(var t=0;t<this.rowlist.length;t++){var e=this.rowlist[t],n=e.getHeight()+e.marginBottom+e.marginTop;e.height!==n&&(this.Mh=!0),e.height=n}},this.qg=function(){var t=this.divHeader;if(!t)return!1;for(var e=this.rowlist.length,n=0,i=0;i<e;i++){var o=this.rowlist[i];if(!o.hidden){var r=this.Nj?i:n;if(t.rows[r]){for(var a=0;a<t.rows[r].cells.length;a++){var s=t.rows[r].cells[a];this.Nj&&(s.style.top=o.top+"px");var l=o.height;s&&s.firstChild&&parseInt(s.firstChild.style.height,10)!==l&&(s.firstChild.style.height=l+"px")}n++}}}this.Nj&&c.nav.resScrollSpace&&(c.nav.resScrollSpace.style.top=c.eg+"px")},this.ld=function(t){var e=this.separators[t];e.location=e.location||e.Location,e.color=e.color||e.Color,e.layer=e.layer||e.Layer,e.width=e.width||e.Width,e.opacity=e.opacity||e.Opacity;var n=new DayPilot.Date(e.location),i=e.color,o=e.width?e.width:1,r=!!e.layer&&"AboveEvents"===e.layer,a=e.opacity?e.opacity:100;if(!(n.getTime()<this.Fa().getTime()||n.getTime()>=this.jh().getTime())){var s=this.getPixels(n);if(!s.cut&&!(s.left<0||s.left>this.mj()*this.cellWidth)){var l=document.createElement("div");l.style.width=o+"px",l.style.height=c.eg+"px",l.style.position="absolute",l.style.left=s.left-1+"px",l.style.top="0px",l.style.backgroundColor=i,l.style.opacity=a/100,l.style.filter="alpha(opacity="+a+")",r?this.divSeparatorsAbove.appendChild(l):this.divSeparators.appendChild(l),this.elements.separators.push(l)}}},this.Yk=function(t){if("Disabled"===c.timeRangeDoubleClickHandling)return!1;if(i.timeRangeTimeout&&(clearTimeout(i.timeRangeTimeout),i.timeRangeTimeout=null),c.coords||(c.coords=DayPilot.mo3(c.Fg,t)),(t=t||window.event).stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,c.vl(c.coords)){var e=c.Th(c.rangeHold);c.hb(e.start,e.end,e.resource)}else i.range=c.ol(),i.range&&(i.rangeCalendar=c,e=c.Th(i.range),c.hb(e.start,e.end,e.resource),c.rangeHold=i.range)},this.Vk=function(t){if(!DayPilot.Global.touch.start&&!DayPilot.Global.touch.active){if(c.wl(),c.Tk(),c.coords||(c.coords=DayPilot.mo3(c.Fg,t)),i.rectangleSelect)return!1;t=t||window.event;var e=DayPilot.Util.mouseButton(t);if(e.middle||e.right&&c.vl(c.coords))return!1;if(c.vl(c.coords))return!1;var n=t.metaKey,o=t.shiftKey,r=t.ctrlKey||n,a={action:"None"};if("Disabled"!==c.multiSelectRectangle&&o?a.action="RectangleSelect":"Disabled"!==c.timeRangeSelectedHandling&&(a.action="TimeRangeSelect"),a.shift=o,a.ctrl=o,a.meta=n,a.originalEvent=t,a.preventDefault=function(){a.action="None"},"function"==typeof c.onGridMouseDown&&c.onGridMouseDown(a),"None"===a.action)return t.preventDefault(),t.stopPropagation(),!1;if("RectangleSelect"===a.action){var s={};return s.start=c.coords,s.calendar=c,i.rectangleSelect=s,!1}c.allowMultiRange&&!r&&E.clear();var l=c.qi(c.coords.y).i;return!c.rowlist[l].isNewRow&&(i.range=c.ol(),i.range&&(i.range.ctrl=r,i.rangeCalendar=c),!1)}},this.ol=function(){var t={},e=this.nh(c.coords.x).x;return t.start={y:c.qi(c.coords.y).i,x:e},t.end={x:e},this.xi(c.qi(c.coords.y).i)?null:(t.calendar=c,c.Vh(t),t)},this.Aj=function(){c.Rc();var t=i.resizingShadow,e=i.resizing;!function(){var n=c.xl,o={start:t.start,end:c.sf(t.end)};t.original=o;var r=t.original;if(!r||!n||n.start!==r.start||n.end!==c.sf(r.end)){var a={};a.start=o.start,a.end=o.end,a.duration=new DayPilot.Duration(a.start,a.end),a.e=e.event,a.allowed=!0,a.resizing="left"===i.resizing.dpBorder?"start":"end",a.left={},a.left.html=a.start.toString(c.eventResizingStartEndFormat,M.locale()),a.left.enabled=c.eventResizingStartEndEnabled,a.left.space=5,a.left.width=null,a.right={},a.right.html=a.end.toString(c.eventResizingStartEndFormat,M.locale()),a.right.enabled=c.eventResizingStartEndEnabled,a.right.space=5,a.right.width=null,a.multiresize=DayPilot.list(y.list);var s={};s.event=e,s.start=a.start,s.end=a.end,a.multiresize.splice(0,0,s),c.xl=o,"function"==typeof c.onEventResizing&&c.onEventResizing(a),t.allowed=a.allowed;var l=a.start,d=c.Te(a.end);if(t.finalStart=l,t.finalEnd=d,"Days"===c.viewType){var u=c.rowlist[e.event.part.dayIndex].start.getTime()-c.Fa().getTime();l=l.addTime(-u),d=d.addTime(-u)}var h=DayPilot.DateUtil.diff(l,d);h=Math.max(h,1);var f=M.useBox(h),p=f?c.getPixels(l).boxLeft:c.getPixels(l).left,g=f?c.getPixels(d).boxRight:c.getPixels(d).left;t.style.left=p+"px",t.style.width=g-p+"px",t.left=p,t.width=g-p,c.Bj(i.resizingShadow,a),c.Cj(i.resizingShadow,a)}}()},this.Wk=function(t){if(i.rectangleSelect)return(t=t||window.event).cancelBubble=!0,t.preventDefault&&t.preventDefault(),i.gMouseUp(t),!1;if(k={},c.rangeHold&&DayPilot.Util.mouseButton(t).left){var e=c.rangeHold;if(c.vl(c.coords)){var n=function(t){return function(){i.timeRangeTimeout=null;var e=c.Th(t);if(e){var n={};n.start=e.start,n.end=e.end,n.resource=e.resource,n.preventDefault=function(){n.preventDefault.value=!0},"function"==typeof c.onTimeRangeClick&&c.onTimeRangeClick(n),n.preventDefault.value||"function"==typeof c.onTimeRangeClicked&&c.onTimeRangeClicked(n)}}};"Disabled"!=c.timeRangeClickHandling&&("Disabled"===c.timeRangeDoubleClickHandling?n(e)():(clearTimeout(i.timeRangeTimeout),i.timeRangeTimeout=setTimeout(n(e),c.doubleClickTimeout)))}}},this.yl=function(){return i.resizing||i.moving||i.range},this.Gj=function(t){if(!DayPilot.Global.touch.active){i.activeCalendar=c,t=t||window.event;var e=DayPilot.mc(t);c.coords=DayPilot.mo3(c.Fg,t),t.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),k.start&&DayPilot.distance(k.originalMouse,e)>3&&(DayPilot.Util.copyProps(k,i),document.body.style.cursor="move",k={}),i.resizing&&i.resizingEvent.calendar===c?(i.resizing.event||(i.resizing.event=i.resizingEvent),c.zl()):i.movingEvent&&(i.movingEvent.calendar===c||i.movingEvent.calendar.dragOutAllowed)?c.Al():i.range&&i.range.calendar===c?(i.range.moved=!0,c.Bl()):a.source?f.drawShadow((s=a.source).coords,c.coords):i.rectangleSelect&&(i.rectangleSelect.moved=!0,P.draw()),"Disabled"!==c.crosshairType&&c.Cl(),c.Dl();var n=t.insideEvent;if(window.event&&window.event.srcElement&&(n=window.event.srcElement.insideEvent),c.cellBubble&&c.coords&&c.rowlist&&c.rowlist.length>0&&!n){var o=c.nh(c.coords.x).x;if(0<=(M=c.qi(c.coords.y).i)&&M<c.rowlist.length&&0<=o&&o<c.itline.length){var r={};r.calendar=c,r.start=c.itline[o].start,r.end=c.itline[o].end,r.resource=c.rowlist[M].id,r.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t},c.cellBubble.showCell(r)}}if(i.drag){if(c.wl(),i.gShadow&&document.body.removeChild(i.gShadow),i.gShadow=null,!i.movingShadow&&c.coords&&c.rowlist.length>0){if(!i.movingEvent){i.moving=i.drag.schedulerSourceEvent||{};var s,d=i.drag.event;if(d){if(c!==d.calendar){var h=d.calendar,p=d,g=DayPilot.Util.copyProps(d.data);(d=new DayPilot.Event(g)).calendar=h,d.part.duration=h.Zi(p)}}else{var m=c.itline[0].start,v=(t={id:i.drag.id,start:m,end:m.addSeconds(i.drag.duration),text:i.drag.text},i.drag.data);if(v){var y=["duration","element","remove","duration","id","text"];for(var b in v)DayPilot.contains(y,b)||(t[b]=v[b])}(d=new DayPilot.Event(t)).calendar=c,d.part.duration=i.drag.duration}d.part.external=!0,(s=i.drag.schedulerSourceEvent)&&s.event&&s.event.calendar===c&&(d.part.external=!1),i.moving.event?d.part.external&&(i.moving.event.part.external=!0):i.moving.event=d,i.movingEvent=d}i.movingShadow=c.ya(i.movingEvent)}t.cancelBubble=!0}if("Always"===c.autoScroll||"Drag"===c.autoScroll&&(i.moving||i.resizing||i.range||i.rectangleSelect)){var w=c.nav.scroll,x={x:c.coords.x,y:c.coords.y};x.x-=w.scrollLeft,x.x+=u.shiftX,x.y-=w.scrollTop;var D=w.clientWidth,C=w.clientHeight,_=30,S=x.x<_?x.x:0,T=D-x.x<_?D-x.x:0,A=x.y<_?x.y:0,E=C-x.y<_?C-x.y:0,M=(o=0,0);S&&(o=-50*l(S,_)),T&&(o=50*l(T,_)),A&&(M=-50*l(A,_)/2),E&&(M=50*l(A,_)/2),(i.resizing||i.range)&&(M=0),o||M?c.El(o,M):c.Tk()}}},this.Bl=function(){var t=i.range;t.end={x:c.nh(c.coords.x).x},c.Vh(t)},this.zl=function(){i.resizingShadow||(i.resizingShadow=c.ya(i.resizing)),c.zj()},this.Al=function(){i.movingShadow&&i.movingShadow.calendar!==c&&(i.movingShadow.calendar=null,DayPilot.de(i.movingShadow),i.movingShadow=null),i.movingShadow||(window.navigator.userAgent.indexOf("Chrome/61.0")>-1||DayPilot.Util.addClass(i.moving,c.q(A.eventMovingSource)),i.movingShadow=c.ya(i.movingEvent)),c.gj(),c.ij()},this.Fl={};var P=this.Fl;P.start=function(){var t={};t.start=c.coords,t.calendar=c,i.rectangleSelect=t},P.draw=function(){var t=i.rectangleSelect,e=i.rectangleSelect.start,n=c.coords;P.clear();var o,r,a,s,l,u,h,f,p=t.x,g=t.y,m=t.width,v=t.height;if(l=Math.min(e.x,n.x),h=Math.max(e.x,n.x),"Free"===c.multiSelectRectangle?(u=Math.min(e.y,n.y),f=Math.max(e.y,n.y)):"Row"===c.multiSelectRectangle&&(u=e.y,f=e.y),"Free"===c.multiSelectRectangle)o=l,r=u,a=h-l,s=f-u;else{if("Row"!==c.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+c.multiSelectRectangle;var y=c.qi(u).i,b=c.rowlist[y];r=b.top,s=b.height,o=c.nh(l).cell.left;var w=c.nh(h).cell;a=w.left+w.width-o}var x=DayPilot.Util.div(c.divRectangle,o,r,a,s);if(x.style.boxSizing="border-box",x.style.backgroundColor="#0000ff",x.style.border="1px solid #000033",x.style.opacity=.4,t.x=o,t.y=r,t.width=a,t.height=s,(t.x!==p||t.y!==g||t.width!==m||t.height!==v)&&"function"==typeof c.onRectangleEventSelecting){var D={};D.events=d.eventsInRectangle(t.x,t.y,t.width,t.height).map(function(t){return t.event}),D.start=c.getDate(t.x,!0),D.end=c.getDate(t.x+t.width,!0),c.onRectangleEventSelecting(D)}},P.clear=function(){c.divRectangle.innerHTML="",c.elements.rectangle=[]},this.Gl=function(){var t,e;return c.coords&&c.rowlist&&c.rowlist.length>0&&c.itline&&c.itline.length>0?(t=c.nh(c.coords.x).x,(e=c.qi(c.coords.y).i)>=c.rowlist.length?void 0:c.cells.findXy(t,e)[0]):null},this.Dl=function(){var t=this.Gl();if(this.hover.cell){if(this.hover.cell.x===t.x&&this.hover.cell.y===t.y)return;this.Uk()}if(this.hover.cell=t,"function"==typeof this.onCellMouseOver){var e={};e.cell=t,this.onCellMouseOver(e)}},this.Uk=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var t={};t.cell=this.hover.cell,this.onCellMouseOut(t)}this.hover.cell=null}},this.hover={},this.Cl=function(){var t=this.Gl();t&&(this.hover.cell&&this.hover.cell.x===t.x&&this.hover.cell.y===t.y||this.Qc())},this.wl=function(){this.divCrosshair.innerHTML="",this.Hl=null,this.Il=null},this.W=function(){if(this.wl(),this.Jl&&this.Jl.parentNode&&(this.Jl.parentNode.removeChild(this.Jl),this.Jl=null),this.Kl){for(var t=0;t<this.Kl.length;t++){var e=this.Kl[t];e.parentNode&&e.parentNode.removeChild(e)}this.Kl=null}this.dg=-1,this.cg=-1},this.Qc=function(){var t,e;if(c.coords&&c.rowlist&&c.rowlist.length>0&&(t=c.nh(c.coords.x).x,!((e=c.qi(c.coords.y).i)>=c.rowlist.length))){var n=c.rowlist[e];if("Full"===this.crosshairType){var i=this.itline[t],o=i.left;(p=this.Hl)||((p=document.createElement("div")).style.height=c.eg+"px",p.style.position="absolute",p.style.top="0px",p.className=c.q("_crosshair_vertical"),this.Hl=p,this.divCrosshair.appendChild(p)),p.style.left=o+"px",p.style.width=i.width+"px";var r=n.top,a=n.height,s=this.Tg();(p=this.Il)||((p=document.createElement("div")).style.width=s+"px",p.style.height=a+"px",p.style.position="absolute",p.style.top=r+"px",p.style.left="0px",p.className=c.q("_crosshair_horizontal"),this.Il=p,this.divCrosshair.appendChild(p)),p.style.top=r+"px",p.style.height=a+"px"}var l=this.Ll(this.coords.x);if(l&&this.dg!==l.x){this.Jl&&this.Jl.parentNode&&(this.Jl.parentNode.removeChild(this.Jl),this.Jl=null),a=R.timeHeader(c.timeHeaders.length-1).height,(p=document.createElement("div")).style.width=l.cell.width+"px",p.style.height=a+"px",p.style.left="0px",p.style.top="0px",p.style.position="absolute",p.className=c.q("_crosshair_top"),this.Jl=p;var d=this.divNorth,u=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.u.timeHeader[l.x+"_"+u].appendChild(p):d.firstChild.rows[u].cells[t]&&d.firstChild.rows[u].cells[t].firstChild.appendChild(p)}if(this.cg!==e){if(this.Kl){for(var h=0;h<this.Kl.length;h++){var f=this.Kl[h];f.parentNode&&f.parentNode.removeChild(f)}this.Kl=null}if(this.Kl=[],this.divHeader.rows[e])for(h=0;h<this.divHeader.rows[e].cells.length;h++){var p;s=c.Wg(),(p=document.createElement("div")).style.width=s+"px",p.style.height=n.height+"px",p.style.left="0px",p.style.top="0px",p.style.position="absolute",p.className=c.q("_crosshair_left"),this.Kl.push(p),this.divHeader.rows[e].cells[h].firstChild.appendChild(p)}}l&&(this.dg=l.x),this.cg=e}},this.pj=function(t,e){var n=c.timeHeader[t];if(!n)return null;for(var i=0;i<n.length;i++){var o=n[i];if(e>=o.left&&e<o.left+o.width){var r={};return r.cell=o,r.x=i,r}}return null},this.Ll=function(t){return c.pj(c.timeHeader.length-1,t)},this.Xk=function(t){if(t=t||window.event,"Disabled"===c.timeRangeSelectedHandling)return!1;if("Disabled"===c.timeRangeRightClickHandling)return!1;var e=null;if(e=c.vl(c.coords)?c.Th(c.rangeHold):c.Th()){e.end=c.sf(e.end);var n={};return n.start=e.start,n.end=e.end,n.resource=e.resource,n.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof c.onTimeRangeRightClick||(c.onTimeRangeRightClick(n),!n.preventDefault.value))&&("ContextMenu"===c.timeRangeRightClickHandling&&c.contextMenuSelection&&c.contextMenuSelection.show(e),"function"==typeof c.onTimeRangeRightClicked&&c.onTimeRangeRightClicked(n),t.cancelBubble=!0,!!c.allowDefaultContextMenu&&void 0)}},this.vl=function(t){var e=c.rangeHold;if(!e||!e.start||!e.end)return!1;var n=this.Ci(e.start.y),i=e.start.x<e.end.x;return t.x>=(i?e.start.x:e.end.x)*this.cellWidth&&t.x<=(i?e.end.x:e.start.x)*this.cellWidth+this.cellWidth&&t.y>=n.top&&t.y<=n.bottom},this.Vh=function(t,e){(t=t||i.range)&&t.calendar===c&&function(){var n=t.start.y,i=c.rowlist[n];if(i){var o=c.itline[t.end.x>t.start.x?t.end.x:t.start.x],r=c.Ml,a=c.itline[t.end.x>t.start.x?t.start.x:t.end.x].start.addTime(i.data.offset),s=o.end.addTime(i.data.offset);if(e||!r||r.start.getTime()!==a.getTime()||r.end.getTime()!==s.getTime()||r.resource!==c.rowlist[n].id){var l={start:a,end:c.sf(s)},d={};d.start=l.start,d.end=l.end,d.duration=new DayPilot.Duration(l.start,l.end),d.resource=c.rowlist[n].id,d.allowed=!0,d.left={},d.left.html=d.start.toString(c.timeRangeSelectingStartEndFormat,M.locale()),d.left.enabled=c.timeRangeSelectingStartEndEnabled,d.left.space=5,d.left.width=null,d.right={},d.right.html=d.end.toString(c.timeRangeSelectingStartEndFormat,M.locale()),d.right.enabled=c.timeRangeSelectingStartEndEnabled,d.right.space=5,d.right.width=null,c.Ml=d,"function"!=typeof c.onTimeRangeSelecting||e||c.onTimeRangeSelecting(d);var u=c.Nl(t);c.Uh(u,d.start,d.end);var h=function(t){var e=u.start.y,n=c.itline[u.end.x>u.start.x?u.start.x:u.end.x],i=c.itline[u.end.x>u.start.x?u.end.x:u.start.x],o=i.left+i.width-n.left,r=c.elements.range2;if(!r){(r=document.createElement("div")).style.position="absolute",r.setAttribute("unselectable","on"),r.className=c.q("_shadow");var a=document.createElement("div");a.className=c.q("_shadow_inner"),r.appendChild(a),c.divRange.appendChild(r)}return r.style.left=n.left+"px",r.style.top=c.rowlist[e].top+"px",r.style.width=o+"px",r.style.height=c.rowlist[e].height-1+"px",r.calendar=c,c.elements.range2=r,function(){r.overlapping=!1;var t=c.rowlist[e];c.vj(r,t,n.left,o,null),c.wj(r,n.start,i.end,t.id)}(),r}();c.Bj(h,d),t.ql=u,t.disabled=!d.allowed,c.Cj(h,d),d.start=l.start,d.end=l.end}}}()},this.Nl=function(t){return{start:{x:t.start.x,y:t.start.y},end:{x:t.end.x},disabled:t.disabled,calendar:t.calendar}},this.range={},this.range.all=function(){return E.get()},this.Ol={};var E=this.Ol;this.Ol.list=[],this.Ol.clear=function(){DayPilot.de(DayPilot.list(E.list).map(function(t){return t.div})),E.list=[]},this.Ol.add=function(t){t.div=c.elements.range2,c.elements.range2=null,c.Fj(),E.list.push(t)},this.Ol.get=function(){return DayPilot.list(E.list).map(function(t){return c.Th(t)})},this.Ol.dispatch=function(){if(c.allowMultiRange&&!i.range){var t=DayPilot.list(E.list).last();c.Sh(t)}},this.Pl=function(t){if("Disabled"===c.timeRangeSelectedHandling)return!1;if(!DayPilot.Global.touch.active&&!DayPilot.Global.touch.start){t=t||window.event;var e=DayPilot.Util.mouseButton(t);if(!i.range&&!i.rectangleSelect&&!(c.rangeHold&&c.vl(c.coords)&&(e.right||e.middle)||c.xi(c.qi(c.coords.y).i))){var n={},o=c.nh(c.coords.x).x;n.start={y:c.qi(c.coords.y).i,x:o},n.end={x:o},n.calendar=c,c.rangeHold=n,c.Sh(n)}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.timeouts.resClick=[],this.timeouts.updateFloats=null,this.Ag=function(t){c.ig();var e=c.nav.scroll;if(c.nj=e.scrollLeft,c.lj=e.scrollTop,c.oj=e.clientWidth,c.divTimeScroll.scrollLeft=c.nj,c.divResScroll.scrollTop=c.lj,u.isEnabled()&&c.B&&"Auto"!=c.cellWidthSpec)if(u.active);else{if(c.nav.scroll.scrollLeft<c.infiniteScrollingMargin)return u.active=!0,c.nav.scroll.style.overflowX="hidden",void setTimeout(function(){u.shiftStart(-c.infiniteScrollingStepDays)},100);if(c.nav.scroll.scrollWidth-(c.nav.scroll.scrollLeft+c.nav.scroll.clientWidth)<c.infiniteScrollingMargin)return u.active=!0,c.nav.scroll.style.overflowX="hidden",void setTimeout(function(){u.shiftStart(c.infiniteScrollingStepDays)},100)}c.navigatorBackSync&&function(){var t=DayPilot.Util.evalVariable(c.navigatorBackSync),e=c.getViewPort().start;t.select(e,{dontNotify:!0,dontFocus:!0})}(),c.dynamicLoading?(c.Jf(),c.dynamicLoadingDelayedCellRendering||c.Ql()(),c.Rl()):(c.timeouts.drawEvents&&(clearTimeout(c.timeouts.drawEvents),c.timeouts.drawEvents=null),c.scrollDelayEvents>0?c.timeouts.drawEvents=setTimeout(c.Sl(),c.scrollDelayEvents):c.sa(),c.timeouts.drawCells&&(clearTimeout(c.timeouts.drawCells),c.timeouts.drawCells=null),c.scrollDelayCells>0?c.timeouts.drawCells=setTimeout(c.Ql(),c.scrollDelayCells):c.Ql()(),c.timeouts.updateFloats&&(clearTimeout(c.timeouts.updateFloats),c.timeouts.updateFloats=null),c.scrollDelayFloats>0?c.timeouts.updateFloats=setTimeout(function(){c.yg()},c.scrollDelayFloats):c.yg(),c.onScrollCalled=!0)},this.Ql=function(){return function(){c&&(c.Jf(),c.ug())}},this.Sl=function(){return function(){c&&(c.gl()?window.setTimeout(function(){c.cl(),window.setTimeout(function(){c.sa(!0)},50)},50):c.Ng())}},this.ig=function(){this.u.eventHeight=null,this.u.drawArea=null},this.show=function(){this.visible=!0,this.gg=!0,c.nav.top.style.display="",this.ra(),this.pg(),this.Oi(),c.Ag()},this.hide=function(){this.visible=!1,this.gg=!1,c.nav.top.style.display="none"},this.Tl=function(){},this.Rl=function(){var t=c.nav.scroll;c.nj=t.scrollLeft,c.lj=t.scrollTop,c.oj=t.clientWidth,c.divTimeScroll.scrollLeft=c.nj,c.divResScroll.scrollTop=c.lj,c.refreshTimeout&&window.clearTimeout(c.refreshTimeout);var e=c.scrollDelayDynamic;c.refreshTimeout=window.setTimeout(c.Ul(t.scrollLeft,t.scrollTop),e),c.yg()},this.Vl=function(t){if(!c.events.list)return null;for(var e=(new DayPilot.Date(t.start).toString(),0);e<this.events.list.length;e++){var n=this.events.list[e];if(c.td(n,t)){var i={};return i.ex=n,i.index=e,i.modified=!c.Wl(t,n),i}}return null},this.Wl=function(t,e){for(var n in t)if(("object"!=typeof t[n]||t[n]instanceof DayPilot.Date)&&t[n]!==e[n])return!1;for(var n in e)if("object"!=typeof e[n]&&t[n]!==e[n])return!1;return!0},this.wg=function(t,e,n,i){var o=[];if(n)c.fa(t);else{var r=[];DayPilot.list(i).forEach(function(t){var e=DayPilot.list(c.events.list).find(function(e){return e.id===t});e&&r.push(e)}),r.forEach(function(t){var e=c.events.wh(t);o=o.concat(e)});for(var a=[],s=0;s<t.length;s++)a[s]=c.Vl(l=t[s]);for(s=0;s<t.length;s++){var l=t[s],d=a[s],u=d&&d.modified,h=!d;if(u){this.events.list[d.index]=l;var f=c.events.wh(d.ex);o=o.concat(f)}else h&&this.events.list.push(l);(u||h)&&(o=o.concat(c.events.xh(l)))}c.yh(o),c.zh()}c.og(),c.na(),n?(c.P(),c.qg(),c.ug(),c.sa()):c.Ah(o,!1,function(){e&&e(),c.cl(),c.sa()})},this.Ul=function(t,e){return c.s()?function(){c.scrollX=t,c.scrollY=e,c.I("Scroll")}:function(){if("function"==typeof c.onScroll){var t=function(t){c.wg(t.events,function(){c.xa()&&"function"==typeof c.onAfterRender&&c.onAfterRender({isCallBack:!1,isScroll:!0,data:null})},t.clearEvents,t.remove)},e={};e.viewport=c.getViewPort(),e.async=!1,e.events=[],e.remove=[],e.clearEvents=!1,e.loaded=function(){this.async&&t(e)},c.onScroll(e),e.async||t(e)}}},this.Xl=function(){var t=this.Kg(),e=t.xStart,n=t.xEnd-t.xStart,i=t.yStart,o=t.yEnd-t.yStart;this.cellProperties||(this.cellProperties={});for(var r=0;r<=n;r++){for(var a=e+r,s=0;s<o;s++)this.rowlist[c=i+s].hidden||this.of(a,c);this.Yl(a)}for(var l=this.Jj(),c=l.start;c<l.end;c++)this.rowlist[c].hidden||this.Zl(c)},this.ug=function(){c.xd||(c.progressiveRowRendering&&this.Fh(),null!==this.rowlist&&this.rowlist.length>0&&(this.cellSweeping&&this.fl(this.cellSweepingCacheSize),this.Xl(),this.$l(),D.dk()),this.Mh=!1)},this.$l=function(){for(var t=this.Kg(),e=t.xStart;e<t.xEnd;e++)e<this.itline.length-1&&this.itline[e+1].breakBefore&&this._l(e)},this._l=function(t){var e="x"+t;if(!this.u.breaks[e]){var n=this.itline[t+1].left-1,i=this.eg,o=document.createElement("div");o.style.left=n+"px",o.style.top="0px",o.style.width="1px",o.style.height=i+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.q("_matrix_vertical_break"),this.divBreaks.appendChild(o),this.elements.breaks.push(o),this.u.breaks[e]=o}},this.Kg=function(){if(c.u.drawArea)return c.u.drawArea;if(!this.nav.scroll)return null;var t=c.lj,e={},n=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,i=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,o=c.nj-n-u.shiftX,r=o+c.oj+2*n,a=0,s=0;if(c.itline&&c.itline.length>0){a=c.nh(o).x,s=c.nh(r,!0).x;var l=this.mj();s=Math.min(s,l),a=Math.max(a,0)}var d=t+this.nav.scroll.offsetHeight+2*i,h=this.qi(t-i).i,f=this.qi(d).i;return f<this.rowlist.length&&f++,e.xStart=a,e.xEnd=s,e.yStart=h,e.yEnd=f,e.pixels={},e.pixels.left=this.nav.scroll.scrollLeft-u.shiftX,e.pixels.right=this.nav.scroll.scrollLeft-u.shiftX+this.nav.scroll.clientWidth,e.pixels.top=this.nav.scroll.scrollTop,e.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,e.pixels.width=this.nav.scroll.scrollWidth,c.u.drawArea=e,e},this.Tg=function(){var t=0,e=this.itline[this.itline.length-1];return((t=e?e.left+e.width:0)<0||isNaN(t))&&(t=0),t},this.Zl=function(t){var e="y"+t;if(!this.u.linesHorizontal[e]){var n=this.rowlist[t].top+this.rowlist[t].height-1,i=this.Tg(),o=document.createElement("div");o.style.left="0px",o.style.top=n+"px",o.style.width=i+"px",o.style.height="1px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.q("_matrix_horizontal_line"),this.divLines.appendChild(o),this.u.linesHorizontal[e]=o}},this.Yl=function(t){var e=this.itline[t];if(e){var n="x"+t;if(!this.u.linesVertical[n]){var i=e.left+e.width-1,o=document.createElement("div");o.style.left=i+"px",o.style.top="0px",o.style.width="1px",o.style.height=c.eg+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.q("_matrix_vertical_line"),this.divLines.appendChild(o),this.elements.linesVertical.push(o),this.u.linesVertical[n]=o}}},this.hj=function(t){c.Bg.skip=!0;var e=this.rowlist[t],n=!e.expanded;e.expanded=n,e.resource&&(e.resource.expanded=n);var i=this.bm(t,e.expanded);if(!n)for(var o=0;o<i.length;o++)this.Nh(i[o]);this.og(),this.mg(),this.na(),this.ig(),this.Ph(),f.load(),this.rg(),this.ug(),this.sa(),this.Jf(),this.ig();var r=this.Zh(e,t);n?this.gi(r):this.fi(r)},this.Yj=function(t){var e={};if(e.index=t,"function"==typeof this.onLoadNode){var n={},i=this.rowlist[t].resource;n.resource=i,n.async=!1,n.loaded=function(){this.async&&(i.dynamicChildren=!1,i.expanded=!0,c.update())},this.onLoadNode(n),n.async||(i.dynamicChildren=!1,i.expanded=!0,this.update())}else this.I("LoadNode",e)},this.bm=function(t,e){var n=this.rowlist[t],i=[];if(null===n.children||0===n.children.length)return i;for(var o=0;o<n.children.length;o++){var r=n.children[o],a=this.rowlist[r];a.hidden=!(e&&n.expanded&&!a.uk),e===!a.hidden&&i.push(r);var s=this.bm(r,e);s.length>0&&(i=i.concat(s))}return i},this.El=function(t,e){this.Tk(),this.cm(t,e)},this.dm=function(t){if(!t)return!1;var e=this.nav.scroll.scrollLeft;return!(t<0&&e<=0||t>0&&e+this.nav.scroll.clientWidth>=this.nav.scroll.scrollWidth||(this.nav.scroll.scrollLeft+=t,c.coords.x+=t,c.em(),0))},this.fm=function(t){if(!t)return!1;var e=this.nav.scroll.scrollTop;return!(t<0&&e<=0||t>0&&e+this.nav.scroll.clientHeight>=this.nav.scroll.scrollHeight||(this.nav.scroll.scrollTop+=t,c.coords.y+=t,c.em(),0))},this.em=function(){i.resizing&&i.resizing.event.calendar===c?c.zl():i.moving&&(i.movingEvent.calendar===c||i.movingEvent.calendar.dragOutAllowed)?(i.moving.event||(i.moving.event=i.movingEvent),c.Al()):i.range&&i.range.calendar===c&&c.Bl()},this.cm=function(t,e){(this.dm(t)||this.fm(e))&&(this.gm=window.setTimeout(function(t,e){return function(){c.cm(t,e)}}(t,e),100))},this.Tk=function(){c.gm&&(window.clearTimeout(c.gm),c.gm=null)},this.og=function(){for(var t=0,e=0;e<this.rowlist.length;e++){var n=this.rowlist[e];n.hidden||(n.top=t,t+=n.height)}this.eg=t},this.rg=function(){DayPilot.browser.ie&&c.hm(),this.elements.cells=[],this.elements.breaks=[],this.u.cells=[],this.u.breaks=[],this.divCells.innerHTML="",this.divBreaks.innerHTML="",c.Rj()},this.Rj=function(){this.divLines.innerHTML="",this.u.linesVertical={},this.u.linesHorizontal={},this.elements.linesVertical=[]},this.hm=function(t){var e=DayPilot.list();for(var n in c.u.cells)e.push(c.u.cells[n]);e.each(function(t){c.Qi(t)})},this.Qh=function(t){var e=DayPilot.list();for(var n in c.u.cells)e.push(c.u.cells[n]);e.filter(function(e){return e&&e.coords&&e.coords.y===t}).each(function(t){c.Qi(t)})},this.im=0,this.jm=DayPilot.list(["html","cssClass","backColor","backImage","backRepeat","areas","disabled"]),this.km=c.jm.add("business"),this.of=function(t,e){if(this.B){var n=c.rh(t);if(n){var i=t+"_"+e;if(!this.u.cells[i]){var o=this.Ri(t,e);if(c.rj(t,e),!this.drawBlankCells){var r=!1;if(this.ej(e)?r=!1:this.lm(o,c.jm)||(r=!0),r)return}var a=document.createElement("div");if(a.style.left=n.left+"px",a.style.top=this.rowlist[e].top+"px",a.style.width=n.width+"px",a.style.height=this.rowlist[e].height+"px",a.style.position="absolute",o&&o.backColor&&(a.style.backgroundColor=o.backColor),a.setAttribute("unselectable","on"),a.className=this.q("_cell"),a.coords={},a.coords.x=t,a.coords.y=e,this.ej(e)&&DayPilot.Util.addClass(a,this.q("_cellparent")),o){o.cssClass&&DayPilot.Util.addClass(a,o.cssClass),DayPilot.Util.isNullOrUndefined(o.html)||(a.innerHTML=o.html),o.backImage&&(a.style.backgroundImage='url("'+o.backImage+'")'),o.backRepeat&&(a.style.backgroundRepeat=o.backRepeat),o.business&&c.cellsMarkBusiness&&DayPilot.Util.addClass(a,c.q("_cell_business")),DayPilot.list(o.areas).each(function(t){(t.start||t.end)&&(t.left=c.getPixels(new DayPilot.Date(t.start)).left-n.left,t.width=c.getPixels(new DayPilot.Date(t.end)).left-t.left-n.left)});var s=c.cells.findXy(t,e)[0];DayPilot.Areas.attach(a,s,{areas:o.areas})}this.divCells.appendChild(a),this.elements.cells.push(a),this.u.cells[i]=a}}}},this.gh={},this.Oi=function(){c.mm().each(function(t){c.Qh(t)}),c.ug()},this.mm=function(){for(var t=DayPilot.list(),e=this.Kg(),n=e.xStart,i=e.xEnd-e.xStart,o=e.yStart,r=e.yEnd-e.yStart,a=0;a<r;a++)for(var s=o+a,l=0;l<=i;l++)if(!this.rowlist[s].hidden&&!c.gh[n+l+"_"+s]){t.push(s);break}return t},this.rj=function(t,e){if("function"==typeof this.onBeforeCellRender){if(c.beforeCellRenderCaching&&c.gh[t+"_"+e])return;c.gh[t+"_"+e]=!0;var n=c.rh(t);if(!n)return;var i=c.cells.findXy(t,e)[0],o={};return o.cell=i,o.getPixels=function(t){return t=new DayPilot.Date(t),c.getPixels(t).left-n.left},this.onBeforeCellRender(o),DayPilot.Util.copyProps(o.cell,o.cell.properties,c.km),o.cell.properties.disabled&&(c.gh.Dj=!0),o}},this.lm=function(t,e){if(e){for(var n=0;n<e.length;n++)if(!DayPilot.Util.isNullOrUndefined(t[e[n]]))return!0}else for(var i in t)if(!DayPilot.Util.isNullOrUndefined(t[i]))return!0;return!1},this.clearSelection=function(){this.xg(),E.clear()},this.cleanSelection=this.clearSelection,this.selectTimeRange=function(t,e,n,i){var o=c.Ig(n),r=c.ph(t),a=r.current||r.next;if(!a)throw new DayPilot.Exception("Time range selection 'start' out of timeline");var s=c.ph(new DayPilot.Date(e).addSeconds(-1)),l=s.current||s.previous;if(!l)throw new DayPilot.Exception("Time range selection 'end' out of timeline");var d={};d.start={y:o.index,x:DayPilot.indexOf(c.itline,a)},d.end={x:DayPilot.indexOf(c.itline,l)},d.calendar=this,c.Vh(d),i||setTimeout(function(){c.Sh(d)},0)},this.Rh=function(){DayPilot.de(i.movingShadow),i.movingShadow=null,c.Fj(),c.yj.clear(),DayPilot.Global.movingLink&&(DayPilot.Global.movingLink.clear(),DayPilot.Global.movingLink=null)},this.xg=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.Fj(),c.rangeHold=null},this.Fc={};var M=this.Fc;M.clearCache=function(){delete c.u.eventHeight,delete c.u.headerHeight},M.locale=function(){return DayPilot.Locale.find(c.locale)},M.timeFormat=function(){return"Auto"!==c.timeFormat?c.timeFormat:M.locale().timeFormat},M.weekStarts=function(){if("Auto"===c.weekStarts){var t=M.locale();return t?t.weekStarts:0}return c.weekStarts||0},M.layout=function(){var t=/MSIE 6/i.test(navigator.userAgent);return"Auto"===c.layout?t?"TableBased":"DivBased":c.layout},M.notifyType=function(){var t;if("Immediate"===c.notifyCommit)t="Notify";else{if("Queue"!==c.notifyCommit)throw"Invalid notifyCommit value: "+c.notifyCommit;t="Queue"}return t},M.isResourcesView=function(){return"Days"!==c.viewType},M.useBox=function(t){return"Always"===c.useEventBoxes||"Never"!==c.useEventBoxes&&t<60*c.Xi()*1e3},M.eventHeight=function(){if(c.u.eventHeight)return c.u.eventHeight;var t=c.Ad("_event_height").height;return t||(t=c.eventHeight),c.u.eventHeight=t,t},M.headerHeight=function(){if(c.u.headerHeight)return c.u.headerHeight;var t=c.Ad("_header_height").height;return t||(t=c.headerHeight),c.u.headerHeight=t,t},M.splitterWidth=function(){return c.rowHeaderScrolling?c.rowHeaderSplitterWidth:1},this.nm={};var R=this.nm;R.timeHeader=function(t){for(var e={top:0,height:0},n=M.headerHeight(),i=0;i<=t;i++){var o=c.timeHeaders[i];e.top+=e.height,e.height=o.height||n}return e},this.Oc=function(t,e){var n=t+"_"+e;return this.cellProperties&&this.cellProperties[n]?this.cellProperties[n].backColor:null},this.Ri=function(t,e){var n=t+"_"+e;if(c.cellConfig)for(var i=0,o=0;o<c.resources.length;o++)if(!c.resources[o].hidden){if(i===e){e=o;break}i+=1}if(this.cellProperties||(this.cellProperties={}),this.cellProperties[n])return this.cellProperties[n];if(this.$f&&(this.cellProperties[n]=c.om(t,e)),!this.cellProperties[n]){var r=c.rowlist[e],a=r.id,s=r.start.getTime()-c.Fa().getTime(),l=c.rh(t),d=l.start.addTime(s),u=l.end.addTime(s),h={};h.start=d,h.end=u,h.resource=a;var f={};f.business=c.isBusiness(h),this.cellProperties[n]=f}return this.cellProperties[n]},this.pm=function(t,e,n){var i=e+"_"+n;return this.cellProperties[i]={},DayPilot.Util.copyProps(t,this.cellProperties[i],c.km),this.cellProperties[i]},this.om=function(t,e){if(!this.cellConfig)return null;var n=this.cellConfig,i=this.cellProperties[t+"_"+e];!i&&n.vertical&&(i=this.cellProperties[t+"_0"]),!i&&n.horizontal&&(i=this.cellProperties["0_"+e]),!i&&n.default&&(i=n.default);var o={};return DayPilot.Util.copyProps(i,o,c.km),o},this.ea=function(){if(!this.$f&&!this._f&&(this._f=!0,this.cellConfig)){var t=this.cellConfig;if(t.vertical)for(var e=0;e<t.x;e++)if(i=this.cellProperties[e+"_0"])for(var n=1;n<t.y;n++)this.pm(i,e,n);if(t.horizontal)for(n=0;n<t.y;n++)if(i=this.cellProperties["0_"+n])for(e=1;e<t.x;e++)this.pm(i,e,n);if(t.default){var i=t.default;for(n=0;n<t.y;n++)for(e=0;e<t.x;e++)this.cellProperties[e+"_"+n]||this.pm(i,e,n)}}},this.isBusiness=function(t,e){var n=t.start,i=(t.end.getTime()-n.getTime())/6e4;if(i<=1440&&!(c.businessWeekends||e||0!==t.start.dayOfWeek()&&6!==t.start.dayOfWeek()))return!1;if(i<720){var o=n.getHours();if(o+=n.getMinutes()/60,o+=n.getSeconds()/3600,(o+=n.getMilliseconds()/36e5)<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(o>=this.businessEndsHour)return!1}return!0},this.gc=function(){switch(c.D){case"aspnet":if(!this.N())throw new DayPilot.Exception("ASP.NET WebForms environment required. https://doc.daypilot.org/common/asp-net-webforms-required/");break;case"netmvc":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-asp-net-mvc/");break;case"javaxx":if(!this.backendUrl)throw new DayPilot.Exception("DayPilot.Scheduler.backendUrl required. https://doc.daypilot.org/common/backendurl-required-java/")}},this.ra=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.ad=function(){var t=c.nav.top;return!!t&&t.offsetWidth>0&&t.offsetHeight>0},this.bd=function(){var t=c.ad;t()||c.cd||(c.cd=setInterval(function(){t()&&(clearInterval(c.cd),c.show(),c.Lj())},100))},this.qm=function(t){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=t-(this.Vg()+2),this.na()},this.setHeight=this.qm,this.Ig=function(t){return DayPilot.list(w.rowcache[t]).first()},this.Fd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+t+"'."}},this.rm=function(){this.ud(),this.lg(),this.pg(),this.ed(),this.T(),i.register(this),this.aa(this.afterRenderData,!1),this._k(),this.wa(),this.I("Init")},this.init=function(){return this.gc(),this.sm(),this.tm(),this.bd(),this.Nk(),this},this.tm=function(){if(this.Fd(),!this.nav.top.dp){if(this.Ak(),this.Ed())return this.rm(),this.B=!0,void this.ig();this.ed(),this.T(),i.register(this),this._k(),this.sd();var t=c.rd.scope||c.Bg.enabled;c.scrollToDate?c.scrollTo(c.scrollToDate):c.scrollX||c.scrollY?c.setScroll(c.scrollX,c.scrollY):t||c.Ag(),c.scrollToResourceId&&(c.scrollToResource(c.scrollToResourceId),c.scrollToResourceId=null),window.setTimeout(function(){c.scrollY&&c.setScroll(c.scrollX,c.scrollY)},200),this.messageHTML&&window.setTimeout(function(){c.message(c.messageHTML)},0),this.wa(),this.ig(),this.aa(this.afterRenderData,!1),c.initEventEnabled&&setTimeout(function(){c.I("Init")}),this.Hd(),this.B=!0,this.si=!0;var e=c.Dg;e?c.scrollTo(e.date,e.animated,e.position):c.Ag()}},this.sm=function(){c.s()&&delete c.infinite},this.Id=null,this.yd=function(t){if(t){var e={events:{preInit:function(){var t=this.data;t&&(c.events.list=DayPilot.isArray(t.list)?t.list:t)},postInit:function(){}},links:{preInit:function(){var t=this.data;t&&(c.links.list=DayPilot.isArray(t.list)?t.list:t)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&c.scrollTo(this.data,t.scrollToAnimated,t.scrollToPosition)}},scrollX:{postInit:function(){this.data&&c.setScrollX(this.data)}},scrollY:{postInit:function(){this.data&&c.setScrollY(this.data)}}};for(var n in c.Id=e,c.Bg.scrollToRequested&&(e.scrollTo.data=c.Bg.scrollToRequested,c.Bg.scrollToRequested=null),c.Bg.scrollXRequested&&(e.scrollX.data=c.Bg.scrollXRequested,c.Bg.scrollXRequested=null),c.Bg.scrollYRequested&&(e.scrollY.data=c.Bg.scrollYRequested,c.Bg.scrollYRequested=null),t)if(e[n]){var i=e[n];i.data=t[n],i.preInit&&i.preInit()}else c[n]=t[n]}},this.Hd=function(){var t=c.Id;for(var e in t){var n=t[e];n.postInit&&n.postInit()}c.Id={}},this.temp={},this.temp.getPosition=function(){var t=Math.floor(c.coords.x/c.cellWidth),e=c.qi(c.coords.y).i;if(e<c.rowlist.length){var n={};return n.start=c.itline[t].start,n.end=c.itline[t].end,n.resource=c.rowlist[e].id,n}return null},this.internal={},this.internal.initialized=function(){return c.B},this.internal.dragInProgress=this.yl,this.internal.invokeEvent=this.Ua,this.internal.eventMenuClick=this.eb,this.internal.timeRangeMenuClick=this.fb,this.internal.resourceHeaderMenuClick=this.Xh,this.internal.linkMenuClick=this.Wh,this.internal.bubbleCallBack=this.cb,this.internal.findEventDiv=this.qd,this.internal.rowtools=this.di,this.internal.getNodeChildren=this.Z,this.internal.callback=function(){c.I.apply(c,arguments)},this.internal.createRowObject=this.Zh,this.internal.restools=this.ok,this.internal.gantt=null,this.internal.adjustEndIn=c.Te,this.internal.adjustEndNormalize=c.uf,this.internal.touch=c.dc,this.internal.cssNames=c.pl,this.internal.enableCellStacking=function(t){c.ag=!0,c.bg=t},this.internal.deleteDragSource=function(){c.ab()},this.internal.skipUpdate=c.Bg.skipUpdate,this.internal.skipped=c.Bg.skipped,this.internal.loadOptions=c.yd,this.internal.postInit=c.Hd,this.internal.enableAngular2=function(){c.Bg.enabled=!0},this.Init=this.init,this.yd(s)},new DayPilot.Scheduler,DayPilot.Row=function(t,e){if(!t)throw"Now row object supplied when creating DayPilot.Row";if(!e)throw"No parent control supplied when creating DayPilot.Row";var n=DayPilot.indexOf(e.rowlist,t);this.um={};var i=this.um;i.id=t.id,i.name=t.name,i.data=t.resource,i.tags=t.tags;var o=this;o.isRow=!0,o.menuType="resource",o.start=t.start,o.name=t.name,o.value=t.id,o.id=t.id,o.tags=t.tags,o.bubbleHtml=t.bubbleHtml,o.index=n,o.level=t.level,o.calendar=e,o.data=t.resource,o.vm=t,o.$={},o.$.row=t,o.toJSON=function(t){var e={};return e.start=this.start,e.name=this.name,e.value=this.value,e.id=this.id,e.index=this.index,e},o.parent=function(){return o.vm.vk?e.Zh(o.vm.vk):null},o.children=function(){var t=DayPilot.list(o.$.row.children).map(function(t){return e.Zh(e.rowlist[t])});return t.add=function(t){var e=o.$.row.resource;e.children||(e.children=[]),e.children.push(t)},t},o.loaded=function(){return o.vm.loaded},o.cells={},o.cells.all=function(){for(var t=[],n=e.itline.length,i=o.index,r=0;r<n;r++){var a=e.cells.findXy(r,i);t.push(a[0])}return e.Si(t)},o.cells.forRange=function(t,n){var i=o.start.getTime()-e.Fa().getTime();t=new DayPilot.Date(t),n=new DayPilot.Date(n);var r=e.Fa().addTime(i),a=e.jh().addTime(i);t<r&&(t=r),n>a&&(n=a);var s=e.cells.find(t,o.id)[0],l=e.cells.find(n.addTime(-1),o.id)[0];if(!s)return null;if(!l)return null;if(s.y!==l.y)return null;for(var c=s.y,d=[],u=s.x;u<=l.x;u++)d.push(e.cells.Pi(u,c));return e.Si(d)},o.cells.totalDuration=function(){return new DayPilot.Duration(o.cells.all().map(function(t){return t.end.getTime()-t.start.getTime()}).reduce(function(t,e){return t+e},0))},o.events={},o.events.all=function(){for(var t=DayPilot.list(),e=0;e<o.vm.events.length;e++)t.push(o.vm.events[e]);return t},o.events.isEmpty=function(){return 0===o.vm.events.length},o.events.forRange=function(t,e){return o.vm.events.forRange(t,e)},o.events.totalDuration=function(){var t=0;return o.events.all().each(function(e){t+=e.part.end.getTime()-e.part.start.getTime()}),new DayPilot.Duration(t)},o.groups={},o.groups.collapseAll=function(){for(var t=0;t<o.vm.blocks.length;t++)new r(o.vm.blocks[t]).wm();e.zh(),e.Ah(o.index),e.na()},o.groups.expandAll=function(){for(var t=0;t<o.vm.blocks.length;t++)new r(o.vm.blocks[t]).xm();e.zh(),e.Ah(o.index),e.na()},o.groups.expanded=function(){for(var t=[],n=0;n<o.vm.blocks.length;n++){var i=o.vm.blocks[n];i.expanded&&i.lines.length>e.groupConcurrentEventsLimit&&t.push(new r(i))}return DayPilot.list(t)},o.groups.collapsed=function(){for(var t=[],e=0;e<o.vm.blocks.length;e++){var n=o.vm.blocks[e];n.expanded||t.push(new r(n))}return DayPilot.list(t)},o.groups.all=function(){for(var t=[],e=0;e<o.vm.blocks.length;e++)t.push(new r(o.vm.blocks[e]));return DayPilot.list(t)},o.events.collapseGroups=o.groups.collapseAll,o.events.expandGroups=o.groups.expandAll,o.column=function(t){return new a(o,t)},o.toggle=function(){e.hj(o.index)},o.collapse=function(){o.$.row.expanded&&o.toggle()},o.expand=function(){o.$.row.expanded||o.toggle()},o.remove=function(){e.rows.remove(o)},o.edit=function(){e.rows.edit(o)},o.addClass=function(t){var n;if(n=e.divHeader.rows[(n=o).index]){var i=DayPilot.list(n.cells).map(function(t){return t.cellDiv});DayPilot.Util.addClass(i,t)}o.$.row.cssClass=DayPilot.Util.addClassToString(o.$.row.cssClass,t)},o.removeClass=function(t){var n;if(n=e.divHeader.rows[(n=o).index]){var i=DayPilot.list(n.cells).map(function(t){return t.cellDiv});DayPilot.Util.removeClass(i,t)}o.$.row.cssClass=DayPilot.Util.removeClassFromString(o.$.row.cssClass,t)};var r=function(t){this.xm=function(){t.expanded=!0;var n=e._j;DayPilot.list(t.events).each(function(t){n.push(t.id())});var i=function(t){for(var n=0;n<e.elements.events.length;n++){var i=e.elements.events[n];if(i.event===t)return i}return null}(t);if(i){e.bl(i);var o=DayPilot.indexOf(e.elements.events,i);-1!==o&&e.elements.events.splice(o,1)}},this.expand=function(){this.xm(),e.zh(),e.Ah(t.row.index),e.na()},this.wm=function(){if(t.lines.length>e.groupConcurrentEventsLimit){t.expanded=!1;var n=DayPilot.list(t.events).map(function(t){return t.id()});e._j=e._j.filter(function(t){return!DayPilot.contains(n,t)})}},this.collapse=function(){this.wm(),e.zh(),e.Ah(t.row.index),e.na()}},a=function(t,e){this.html=function(n){var i=t.calendar.divHeader.rows[t.index].cells[e].textDiv;return void 0===n?i.innerHTML:void(i.innerHTML=n)}}},i.moving=null,i.movingEvent=null,i.originalMouse=null,i.resizing=null,i.resizingEvent=null,i.preventEventClick=!1,i.globalHandlers=!1,i.timeRangeTimeout=null,i.selectedCells=null,i.dragStart=function(t,e,n,o){DayPilot.us(t);var r=i.drag={};return r.element=t,r.duration=e,r.text=o,r.id=n,r.data={id:n,text:o,duration:e,externalHtml:o},!1},DayPilot.Scheduler.startDragging=function(t){var e=(t=t||{}).element,n=t.keepElement?null:e;DayPilot.us(e);var o=i.drag={};return o.element=n,o.id=t.id,o.duration=t.duration||60,o.text=t.text||"",o.data=t,!1},DayPilot.Scheduler.makeDraggable=function(t){function e(){var e=t.duration||60;e instanceof DayPilot.Duration&&(e=e.totalSeconds());var n=i.drag={};n.element=o,n.id=t.id,n.duration=e,n.text=t.text||"",n.data=t}var n=(t=t||{}).element,o=t.keepElement?null:t.remove||n;if(!n)throw new DayPilot.Exception("makeDraggable(options): options.element must be specified");DayPilot.us(n),DayPilot.re(n,"mousedown",function(t){if(DayPilot.Util.mouseButton(t).left){e();var n=t.target||t.srcElement;if(n.tagName){var i=n.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return t.preventDefault&&t.preventDefault(),!1}}),n.ontouchstart=function(t){window.setTimeout(function(){e(),i.gTouchMove(t),t.preventDefault()},0),t.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(i.drag&&i.drag.schedulerSourceEvent){var t=i.drag.schedulerSourceEvent;DayPilot.Util.removeClass(t,t.event.calendar.q(e.pl.eventMovingSource))}var e;i.dragStop(),i.resizing&&(DayPilot.de(i.resizingShadow),i.resizing=null,i.resizingEvent=null,i.resizingShadow=null),i.moving&&(DayPilot.Util.removeClass(i.moving,(e=i.movingEvent.calendar).q(e.pl.eventMovingSource)),DayPilot.de(i.movingShadow),i.moving=null,i.movingEvent=null,i.movingShadow=null),i.range&&((e=i.range.calendar).clearSelection(),i.range=null),document.body.style.cursor="",DayPilot.list(i.registered).each(function(t){t.Tk(),t.Fj(),t.di.resetMoving()})},i.dragStop=function(){i.gShadow&&(document.body.removeChild(i.gShadow),i.gShadow=null),i.drag=null},i.register=function(t){i.registered||(i.registered=DayPilot.list(),i.registered.out=function(){i.registered.forEach(function(t){t.V()})});for(var e=0;e<i.registered.length;e++)if(i.registered[e]===t)return;i.registered.push(t)},i.unregister=function(t){var e=i.registered;if(e){var n=DayPilot.indexOf(e,t);-1!==n&&e.splice(n,1),0===e.length&&(e=null)}e||(DayPilot.ue(document,"mousemove",i.gMouseMove),DayPilot.ue(document,"mouseup",i.gMouseUp),DayPilot.ue(document,"mousedown",i.gMouseDown),DayPilot.ue(document,"touchmove",i.gTouchMove),DayPilot.ue(document,"touchend",i.gTouchEnd),DayPilot.ue(window,"keyup",i.gKeyUp),i.globalHandlers=!1)},i.gTouchMove=function(n){if(i.resizing&&((o=i.resizing.event.calendar).coords=o.dc.relativeCoords(n),o.dc.updateResizing(),n.preventDefault()),i.moving&&!i.drag&&((o=i.movingEvent.calendar).coords=o.dc.relativeCoords(n),o.dc.updateMoving(),n.preventDefault(),function(){if(o.dragOutAllowed){var e=t(n);if(!e||e!==o){var r=i.movingEvent;i.drag={};var a=i.drag;a.id=r.id(),a.text=r.text(),a.schedulerSourceEvent=i.moving,a.element=null,a.duration=(r.rawend().getTime()-r.start().getTime())/1e3,a.text=r.text(),a.id=r.id(),a.event=DayPilot.Util.copyProps(r,new DayPilot.Event),o.Fj(),DayPilot.de(i.movingShadow),i.movingShadow.calendar=null,i.movingShadow=null,i.registered.out()}}}()),i.drag){n.preventDefault();var o,r=e(n);if(o=t(n)){if(i.gShadow&&document.body.removeChild(i.gShadow),i.gShadow=null,o.coords=o.dc.relativeCoords(n),!i.movingShadow&&o.rowlist.length>0){if(!i.moving){i.moving={};var a=i.drag.event;if(!a){var s=o.itline[0].start,l=(n={id:i.drag.id,start:s,end:s.addSeconds(i.drag.duration),text:i.drag.text},i.drag.data);if(l){var c=["duration","element","remove","id","text"];for(var d in l)DayPilot.contains(c,d)||(n[d]=l[d])}(a=new DayPilot.Event(n)).calendar=o,a.part.duration=i.drag.duration}a.part.external=!0;var u=i.drag.schedulerSourceEvent;u&&u.event&&u.event.calendar===o&&(a.part.external=!1),i.movingEvent=a}i.movingShadow=o.ya(i.movingEvent)}i.moving&&o.dc.updateMoving()}else{DayPilot.de(i.movingShadow);var h=i.moving;i.moving=null,i.movingEvent=null,i.movingShadow=null,i.gShadow||(i.gShadow=i.createGShadow(i.drag.data),i.gShadow.source=h);var f=i.gShadow;f.style.left=r.x+"px",f.style.top=r.y+"px",i.registered.out()}}},i.gTouchEnd=function(t){i.gMouseUp(t)},i.gMouseMove=function(t){if(void 0!==i&&!(DayPilot.Global.touch.active||DayPilot.Global.touch.start||(t=t||window.event,t.insideMainD||t.srcElement&&t.srcElement.inside))){var e=DayPilot.mc(t);if(i.drag){if(!i.drag.startFired){var n=i.drag.data||{},o=n.onDragStart,r=!1;if("function"==typeof o){var a={};a.data=n,a.preventDefault=function(){a.preventDefault.value=!0},o(a),r=a.preventDefault.value}if(i.drag.startFired=!0,r)return void(i.drag=null)}document.body.style.cursor="move",i.gShadow||(i.gShadow=i.createGShadow(i.drag.data)),(s=i.gShadow).style.left=e.x+"px",s.style.top=e.y+"px",i.moving=null,i.movingEvent=null,i.movingShadow&&((l=i.movingShadow.calendar)&&l.Fj(),i.movingShadow.calendar=null,DayPilot.de(i.movingShadow),i.movingShadow=null)}else if(i.moving&&i.movingEvent&&i.movingEvent.calendar.dragOutAllowed&&!i.drag){var s,l=i.movingEvent.calendar;t=i.movingEvent,document.body.style.cursor="move",i.gShadow||(i.gShadow=i.createGShadow(t.data),i.gShadow.source=i.moving),(s=i.gShadow).style.left=e.x+"px",s.style.top=e.y+"px",i.drag={};var c=i.drag;c.schedulerSourceEvent=i.moving,c.element=null,c.duration=(t.rawend().getTime()-t.start().getTime())/1e3,c.text=t.text(),c.id=t.value(),c.event=DayPilot.Util.copyProps(t,new DayPilot.Event),l.Fj(),DayPilot.de(i.movingShadow),i.movingShadow.calendar=null,i.movingShadow=null}i.registered.out()}},i.gUnload=function(t){if(i.registered)for(var e=0;e<i.registered.length;e++)i.unregister(i.registered[e])},i.gMouseDown=function(t){i.editing&&i.editing.blur()},i.gKeyUp=function(t){17===(t=t||window.event).keyCode&&i.rangeCalendar&&i.rangeCalendar.Ol.dispatch()},i.gMouseUp=function(t){if(DayPilot.list(i.registered).each(function(t){t.Tk()}),i.resizing){var e=function(){var t=i.resizingEvent.calendar;document.body.style.cursor="",i.resizing=null,i.resizingEvent=null,DayPilot.de(i.resizingShadow),i.resizingShadow=null,t.Tl()};if(setTimeout(function(){i.preventEventClick=!1}),!i.resizingShadow)return void e();var n=i.resizingShadow.finalStart,r=i.resizingShadow.finalEnd,s=i.resizingShadow.overlapping,l=!i.resizingShadow.allowed;if((b=(c=i.resizingEvent).calendar).Fj(),b.uj.clear(),e(),s||l)return;b.Ya(c,n,r)}else if(i.movingEvent){if(e=function(){DayPilot.Global.movingAreaData=null;var t=i.movingShadow&&i.movingShadow.calendar;i.movingShadow&&(DayPilot.de(i.movingShadow),i.movingShadow.calendar=null),document.body.style.cursor="",i.moving=null,i.movingEvent=null,i.drag=null,t.Tl(),t&&(t.Sc=null)},!i.movingShadow)return void e();var c=i.movingEvent;if(!(b=i.movingShadow.calendar))return void e();if(DayPilot.Util.removeClass(i.moving,b.q(b.pl.eventMovingSource)),function(){if(i.drag&&i.drag.schedulerSourceEvent){var t=i.drag.schedulerSourceEvent;t&&t.event&&DayPilot.Util.removeClass(t,t.event.calendar.q(b.pl.eventMovingSource))}}(),!i.movingShadow.row)return void e();clearTimeout(b.fj.timeout),n=i.movingShadow.start,r=i.movingShadow.end;var d="Days"!==b.viewType?i.movingShadow.row.id:null,u=!!i.drag&&c.part.external,h=i.movingShadow.line;if(s=i.movingShadow.overlapping,l=!i.movingShadow.allowed,i.drag&&(b.todo||(b.todo={}),b.todo.del=i.drag.element,i.drag=null),i.movingShadow.calendar=null,document.body.style.cursor="",i.moving=null,i.movingEvent=null,s||l||b.yj.forbidden||b.yj.invalid)return void b.Rh();t=t||window.event,b._a(c,n,r,d,u,t,h),DayPilot.Global.movingAreaData=null}else if(i.range){t=t||window.event;var f=DayPilot.Util.mouseButton(t),p=i.range;e=function(){b.Tl()},(b=p.calendar).Ml=null;var g=t.ctrlKey||t.metaKey;if(b.allowMultiRange)return b.elements.range2.overlapping?(DayPilot.de(b.elements.range2),b.elements.range2=null,b.Fj()):b.Ol.add(p),i.range=null,g||b.Ol.dispatch(),void e();if(i.timeRangeTimeout)return clearTimeout(i.timeRangeTimeout),i.timeRangeTimeout=null,void e();b.rangeHold=p,i.range=null;var m=function(t){return function(){i.timeRangeTimeout=null;var e=b.elements.range2;return e&&e.overlapping?void b.clearSelection():(b.Sh(t),void("Hold"!==b.timeRangeSelectedHandling&&"HoldForever"!==b.timeRangeSelectedHandling||(b.rangeHold=t)))}},v=b.Nl(p);if(e(),!f.left)return void(i.timeRangeTimeout=null);if(p.moved||"Disabled"===b.timeRangeDoubleClickHandling)return m(v)(),(t=t||window.event).cancelBubble=!0,!1;i.timeRangeTimeout=setTimeout(m(v),b.doubleClickTimeout)}else if(o.row)(b=o.calendar)&&b.kk();else if(a.source)(b=a.calendar).yi.clearShadow(),b.yi.hideLinkpoints(),a.source=null,a.calendar=null;else if(i.splitting)i.splitting.cleanup(),i.splitting=null;else if(i.rectangleSelect){var y=i.rectangleSelect,b=y.calendar;if(!y.moved)return i.rectangleSelect=null,void(b.vl(b.coords)||b.Pl(t));var w=y.x,x=y.width,D=!1,C=b.Og.eventsInRectangle(w,y.y,x,y.height).map(function(t){return t.event});if("function"==typeof b.onRectangleEventSelect){var _;if((_={}).events=C,_.append=!1,_.start=b.getDate(w,!0),_.end=b.getDate(w+x,!0),_.preventDefault=function(){this.preventDefault.value=!0},b.onRectangleEventSelect(_),_.preventDefault.value)return b.Fl.clear(),void(i.rectangleSelect=null);D=_.append}D||b.multiselect.clear(!0),C.each(function(t){b.multiselect.add(t,!0)}),b.multiselect.redraw(),setTimeout(function(){b.Fl.clear(),i.rectangleSelect=null},0),"function"==typeof b.onRectangleEventSelected&&((_={}).events=C,b.onRectangleEventSelected(_))}i.drag&&(i.drag.event&&i.drag.event.part&&delete i.drag.event.part.external,i.drag=null,document.body.style.cursor=""),i.gShadow&&(i.gShadow.source&&DayPilot.Util.removeClass(i.gShadow.source,(b=i.gShadow.source.event.calendar).q(b.pl.eventMovingSource)),document.body.removeChild(i.gShadow),i.gShadow=null),i.moveOffsetX=null,i.moveDragStart=null},i.createGShadow=function(t){t=t||{};var e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.zIndex=101,e.style.pointerEvents="none",e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.className=t.externalCssClass,t.externalHtml&&(e.innerHTML=t.externalHtml),document.body.appendChild(e),e};var o={};DayPilot.Global.rowmoving=o;var a={};DayPilot.Global.linking=a,"undefined"!=typeof jQuery&&(jQuery.fn.daypilotScheduler=function(t){var e=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Scheduler(this.id||this,t);n.init(),this.daypilot=n,e||(e=n)}});return 1===this.length?e:n}),function(){var t=DayPilot.am();t&&t.directive("daypilotScheduler",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e[0].removeAttribute("id"),e[0].innerHTML=this.template.replace("{{id}}",n.id),function(e,n,i){var o=new DayPilot.Scheduler(n[0].firstChild);o.rd.scope=e;var r=i.id;r&&(e[r]=o);var a=i.publishAs;for(var s in a&&(0,t(a).assign)(e,o),i)0===s.indexOf("on")&&(DayPilot.Util.shouldApply(s)?function(n){o[n]=function(o){var r=t(i[n]);DayPilot.Util.safeApply(e,function(){r(e,{args:o})})}}(s):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(s));var l=e.$watch,c=i.config||i.daypilotConfig,d=i.events||i.daypilotEvents;c||o.init(),l.call(e,c,function(t,e){o.yd(t),o.B?(o.update(),o.Hd()):o.init()},!0),d&&l.call(e,d,function(t){o.events.list=t,o.sd({eventsOnly:!0})},!0),e.$on("$destroy",function(){o.dispose()})}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),void 0===DayPilot.Year&&(DayPilot.Year=function(t,e){this.v="2018.2.3324",this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.ym=[],this.vf=function(){this.root.dp=this,this.oe=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.q=function(t){return this.cssClassPrefix?this.cssClassPrefix+t:""},this.wf=function(){return this.showWeekNumbers?this.cellWidth:0},this.zm=function(){this.ym=[];var t=this.columns,e=12/t;this.root.className=this.q("_main"),this.root.style.width=t*(7*this.cellWidth+this.wf())+"px";for(var n=0;n<e;n++){for(var i=0;i<t;i++){var o=n*t+i,r=r+"_nav_"+o,a=document.createElement("div");a.id=r,a.style.float="left",this.root.appendChild(a);var s=new DayPilot.Navigator(r);s.startDate=this.oe.addMonths(o),s.cssOnly=this.cssOnly,s.cssClassPrefix=this.cssClassPrefix,s.cellWidth=this.cellWidth,s.showWeekNumbers=this.showWeekNumbers,s.internal.showLinks={},s.selectMode="none",s.timeRangeSelectedHandling="JavaScript",s.onTimeRangeSelected=this.Am,s.init(),s.root.className="",this.ym.push(s)}var l=document.createElement("div");l.style.clear="left",this.root.appendChild(l)}},this.Am=function(t){},this.init=function(){if(this.root=document.getElementById(t),!this.root.dp)return this.vf(),this.zm(),this}}),function(t){"use strict";function e(e,n){this.$select=t(e),this.options=this.mergeOptions(t.extend({},n,this.$select.data())),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.hide().after(this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions"],init:function(e,n,i,o,r){var a=t(e),s=ko.toJS(n());if(a.multiselect(s),i.has("options")){var l=i.get("options");ko.isObservable(l)&&ko.computed({read:function(){l(),setTimeout(function(){var t=a.data("multiselect");t&&t.updateOriginalOptions(),a.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(i.has("value")){var c=i.get("value");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout(function(){a.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(i.has("selectedOptions")){var d=i.get("selectedOptions");ko.isObservable(d)&&ko.computed({read:function(){d(),setTimeout(function(){a.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){a.multiselect("destroy")})},update:function(e,n,i,o,r){var a=t(e),s=ko.toJS(n());a.multiselect("setOptions",s),a.multiselect("rebuild")}}),e.prototype={defaults:{buttonText:function(e,n){if(0===e.length)return this.nonSelectedText;if(e.length==t("option",t(n)).length)return this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var i="";return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();i+=e+", "}),i.substr(0,i.length-2)},buttonTitle:function(e,n){if(0===e.length)return this.nonSelectedText;var i="";return e.each(function(){i+=t(this).text()+", "}),i.substr(0,i.length-2)},optionLabel:function(e){return t(e).attr("label")||t(e).text()},onChange:function(t,e){},onDropdownShow:function(t){},onDropdownHide:function(t){},onDropdownShown:function(t){},onDropdownHidden:function(t){},onSelectAll:function(){},buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:"<div />",dropRight:!1,selectedClass:"active",maxHeight:!1,checkboxName:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableClickableOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,templates:{button:'<button type="button" class="multiselect dropdown-toggle form-control" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:e,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:this.options.buttonWidth,overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,n){var i=t(n),o=i.prop("tagName").toLowerCase();i.prop("value")!==this.options.selectAllValue&&("optgroup"===o?this.createOptgroup(n):"option"===o&&("divider"===i.data("role")?this.createDivider():this.createOptionValue(n)))},this)),t("li input",this.$ul).on("change",t.proxy(function(e){var n=t(e.target),i=n.prop("checked")||!1,o=n.val()===this.options.selectAllValue;this.options.selectedClass&&(i?n.closest("li").addClass(this.options.selectedClass):n.closest("li").removeClass(this.options.selectedClass));var r=n.val(),a=this.getOptionByValue(r),s=t("option",this.$select).not(a),l=t("input",this.$container).not(n);if(o&&(i?this.selectAll():this.deselectAll()),o||(i?(a.prop("selected",!0),this.options.multiple?a.prop("selected",!0):(this.options.selectedClass&&t(l).closest("li").removeClass(this.options.selectedClass),t(l).prop("checked",!1),s.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&s.closest("a").css("outline","")):a.prop("selected",!1)),this.$select.change(),this.updateButtonText(),this.updateSelectAll(),this.options.onChange(a,i),this.options.preventInputChangeEvent)return!1},this)),t("li a",this.$ul).on("mousedown",function(t){if(t.shiftKey)return!1}),t("li a",this.$ul).on("touchstart click",t.proxy(function(e){e.stopPropagation();var n=t(e.target);if(e.shiftKey&&this.options.multiple){n.is("label")&&(e.preventDefault(),(n=n.find("input")).prop("checked",!n.prop("checked")));var i=n.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==n){var o=n.closest("li").index(),r=this.lastToggledInput.closest("li").index();if(o>r){var a=r;r=o,o=a}++r;var s=this.$ul.find("li").slice(o,r).find("input");s.prop("checked",i),this.options.selectedClass&&s.closest("li").toggleClass(this.options.selectedClass,i);for(var l=0,c=s.length;l<c;l++){var d=t(s[l]);this.getOptionByValue(d.val()).prop("selected",i)}}n.trigger("change")}n.is("input")&&!n.closest("li").is(".multiselect-item")&&(this.lastToggledInput=n),n.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var n=t(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!n.length)return;var i=n.index(n.filter(":focus"));38===e.keyCode&&i>0?i--:40===e.keyCode&&i<n.length-1?i++:~i||(i=0);var o=n.eq(i);if(o.focus(),32===e.keyCode||13===e.keyCode){var r=o.find("input");r.prop("checked",!r.prop("checked")),r.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&t("li.multiselect-group",this.$ul).on("click",t.proxy(function(e){e.stopPropagation();var n=!0,i=t(e.target).parent().nextUntil("li.multiselect-group").filter(":visible").find("input");i.each(function(){n=n&&t(this).prop("checked")}),i.prop("checked",!n).trigger("change")},this))},createOptionValue:function(e){var n=t(e);n.is(":selected")&&n.prop("selected",!0);var i=this.options.optionLabel(e),o=n.val(),r=this.options.multiple?"checkbox":"radio",a=t(this.options.templates.li),s=t("label",a);s.addClass(r);var l=t("<input/>").attr("type",r);this.options.checkboxName&&l.attr("name",this.options.checkboxName),s.append(l);var c=n.prop("selected")||!1;l.val(o),o===this.options.selectAllValue&&(a.addClass("multiselect-item multiselect-all"),l.parent().parent().addClass("multiselect-all")),s.append(" "+i),s.attr("title",n.attr("title")),this.$ul.append(a),n.is(":disabled")&&l.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),l.prop("checked",c),c&&this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)},createDivider:function(e){var n=t(this.options.templates.divider);this.$ul.append(n)},createOptgroup:function(e){var n=t(e).prop("label"),i=t(this.options.templates.liGroup);t("label",i).text(n),this.options.enableClickableOptGroups&&i.addClass("multiselect-group-clickable"),this.$ul.append(i),t(e).is(":disabled")&&i.addClass("disabled"),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(t(this.options.templates.divider));var e=t(this.options.templates.li);t("label",e).addClass("checkbox"),this.options.selectAllName?t("label",e).append('<input type="checkbox" name="'+this.options.selectAllName+'" />'):t("label",e).append('<input type="checkbox" />');var n=t("input",e);n.val(this.options.selectAllValue),e.addClass("multiselect-item multiselect-all"),n.parent().parent().addClass("multiselect-all"),t("label",e).append(" "+this.options.selectAllText),this.$ul.prepend(e),n.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var n=t(this.options.templates.filterClearBtn);n.on("click",t.proxy(function(e){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),t("li",this.$ul).show().removeClass("filter-hidden"),this.updateSelectAll()},this)),this.$filter.find(".input-group").append(n)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){var n,i;this.query!==e.target.value&&(this.query=e.target.value,t.each(t("li",this.$ul),t.proxy(function(e,o){var r=t("input",o).length>0?t("input",o).val():"",a=t("label",o).text(),s="";if("text"===this.options.filterBehavior?s=a:"value"===this.options.filterBehavior?s=r:"both"===this.options.filterBehavior&&(s=a+"\n"+r),r!==this.options.selectAllValue&&a){var l=!1;this.options.enableCaseInsensitiveFiltering&&s.toLowerCase().indexOf(this.query.toLowerCase())>-1?l=!0:s.indexOf(this.query)>-1&&(l=!0),t(o).toggle(l).toggleClass("filter-hidden",!l),t(o).hasClass("multiselect-group")?(n=o,i=l):(l&&t(n).show().removeClass("filter-hidden"),!l&&i&&t(o).show().removeClass("filter-hidden"))}},this))),this.updateSelectAll()},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.data("multiselect",null)},refresh:function(){t("option",this.$select).each(t.proxy(function(e,n){var i=t("li input",this.$ul).filter(function(){return t(this).val()===t(n).val()});t(n).is(":selected")?(i.prop("checked",!0),this.options.selectedClass&&i.closest("li").addClass(this.options.selectedClass)):(i.prop("checked",!1),this.options.selectedClass&&i.closest("li").removeClass(this.options.selectedClass)),t(n).is(":disabled")?i.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):i.prop("disabled",!1).closest("li").removeClass("disabled")},this)),this.updateButtonText(),this.updateSelectAll()},select:function(e,n){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];if(null!==o&&void 0!==o){var r=this.getOptionByValue(o),a=this.getInputByValue(o);void 0!==r&&void 0!==a&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&a.closest("li").addClass(this.options.selectedClass),a.prop("checked",!0),r.prop("selected",!0))}}this.updateButtonText(),this.updateSelectAll(),n&&1===e.length&&this.options.onChange(r,!0)},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll()},deselect:function(e,n){t.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++){var o=e[i];if(null!==o&&void 0!==o){var r=this.getOptionByValue(o),a=this.getInputByValue(o);void 0!==r&&void 0!==a&&(this.options.selectedClass&&a.closest("li").removeClass(this.options.selectedClass),a.prop("checked",!1),r.prop("selected",!1))}}this.updateButtonText(),this.updateSelectAll(),n&&1===e.length&&this.options.onChange(r,!1)},selectAll:function(e,n){e=void 0===e||e;var i=t("li input[type='checkbox']:enabled",this.$ul),o=i.filter(":visible"),r=i.length,a=o.length;if(e?(o.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").addClass(this.options.selectedClass)):(i.prop("checked",!0),t("li:not(.divider):not(.disabled)",this.$ul).addClass(this.options.selectedClass)),r===a||!1===e)t("option:enabled",this.$select).prop("selected",!0);else{var s=o.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(e){return-1!==t.inArray(t(this).val(),s)}).prop("selected",!0)}n&&this.options.onSelectAll()},deselectAll:function(e){if(e=void 0===e||e){var n=t("li input[type='checkbox']:enabled",this.$ul).filter(":visible");n.prop("checked",!1);var i=n.map(function(){return t(this).val()}).get();t("option:enabled",this.$select).filter(function(e){return-1!==t.inArray(t(this).val(),i)}).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).filter(":visible").removeClass(this.options.selectedClass)}else t("li input[type='checkbox']:enabled",this.$ul).prop("checked",!1),t("option:enabled",this.$select).prop("selected",!1),this.options.selectedClass&&t("li:not(.divider):not(.disabled)",this.$ul).removeClass(this.options.selectedClass)},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(e){var n=0,i=this.$select.empty();t.each(e,function(e,o){var r;t.isArray(o.children)?(n++,r=t("<optgroup/>").attr({label:o.label||"Group "+n,disabled:!!o.disabled}),function(e,n){for(var i=0;i<e.length;++i)o=e[i],r.append(t("<option/>").attr({value:o.value,label:o.label||o.value,title:o.title,selected:!!o.selected,disabled:!!o.disabled}));var o}(o.children)):r=t("<option/>").attr({value:o.value,label:o.label||o.value,title:o.title,selected:!!o.selected,disabled:!!o.disabled}),i.append(r)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t("li."+this.options.selectAllValue,this.$ul).length>0},updateSelectAll:function(){if(this.hasSelectAll()){var e=t("li:not(.multiselect-item):not(.filter-hidden) input:enabled",this.$ul),n=e.length,i=e.filter(":checked").length,o=t("li."+this.options.selectAllValue,this.$ul),r=o.find("input");i>0&&i===n?(r.prop("checked",!0),o.addClass(this.options.selectedClass),this.options.onSelectAll()):(r.prop("checked",!1),o.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var n=t("option",this.$select),i=e.toString(),o=0;o<n.length;o+=1){var r=n[o];if(r.value===i)return t(r)}},getInputByValue:function(e){for(var n=t("li input",this.$ul),i=e.toString(),o=0;o<n.length;o+=1){var r=n[o];if(r.value===i)return t(r)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,n){var i=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(n||window,i)},e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()}},t.fn.multiselect=function(n,i,o){return this.each(function(){var r=t(this).data("multiselect");r||(r=new e(this,"object"==typeof n&&n),t(this).data("multiselect",r)),"string"==typeof n&&(r[n](i,o),"destroy"===n&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=e,t(function(){t("select[data-role=multiselect]").multiselect()})}(window.jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,o,r,a,s,l,c,d,u,h,f,p,g,m;function v(t,e){return p.call(t,e)}function y(t,e){var n,i,o,r,a,s,l,c,d,u,f,p=e&&e.split("/"),g=h.map,v=g&&g["*"]||{};if(t){for(a=(t=t.split("/")).length-1,h.nodeIdCompat&&m.test(t[a])&&(t[a]=t[a].replace(m,"")),"."===t[0].charAt(0)&&p&&(t=p.slice(0,p.length-1).concat(t)),d=0;d<t.length;d++)if("."===(f=t[d]))t.splice(d,1),--d;else if(".."===f){if(0===d||1===d&&".."===t[2]||".."===t[d-1])continue;0<d&&(t.splice(d-1,2),d-=2)}t=t.join("/")}if((p||v)&&g){for(d=(n=t.split("/")).length;0<d;--d){if(i=n.slice(0,d).join("/"),p)for(u=p.length;0<u;--u)if(o=(o=g[p.slice(0,u).join("/")])&&o[i]){r=o,s=d;break}if(r)break;!l&&v&&v[i]&&(l=v[i],c=d)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function b(t,e){return function(){var n=g.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),s.apply(r,n.concat([t,e]))}}function w(t){return function(e){d[t]=e}}function x(t){if(v(u,t)){var e=u[t];delete u[t],f[t]=!0,a.apply(r,e)}if(!v(d,t)&&!v(f,t))throw new Error("No "+t);return d[t]}function D(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function C(t){return t?D(t):[]}return e&&e.requirejs||(e?i=e:e={},d={},u={},h={},f={},p=Object.prototype.hasOwnProperty,g=[].slice,m=/\.js$/,l=function(t,e){var n,i,o=D(t),r=o[0],a=e[1];return t=o[1],r&&(n=x(r=y(r,a))),r?t=n&&n.normalize?n.normalize(t,(i=a,function(t){return y(t,i)})):y(t,a):(r=(o=D(t=y(t,a)))[0],t=o[1],r&&(n=x(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},c={require:function(t){return b(t)},exports:function(t){var e=d[t];return void 0!==e?e:d[t]={}},module:function(t){return{id:t,uri:"",exports:d[t],config:(e=t,function(){return h&&h.config&&h.config[e]||{}})};var e}},a=function(t,e,n,i){var o,a,s,h,p,g,m,y=[],D=typeof n;if(g=C(i=i||t),"undefined"==D||"function"==D){for(e=!e.length&&n.length?["require","exports","module"]:e,p=0;p<e.length;p+=1)if("require"===(a=(h=l(e[p],g)).f))y[p]=c.require(t);else if("exports"===a)y[p]=c.exports(t),m=!0;else if("module"===a)o=y[p]=c.module(t);else if(v(d,a)||v(u,a)||v(f,a))y[p]=x(a);else{if(!h.p)throw new Error(t+" missing "+a);h.p.load(h.n,b(i,!0),w(a),{}),y[p]=d[a]}s=n?n.apply(d[t],y):void 0,t&&(o&&o.exports!==r&&o.exports!==d[t]?d[t]=o.exports:s===r&&m||(d[t]=s))}else t&&(d[t]=n)},n=i=s=function(t,e,n,i,o){if("string"==typeof t)return c[t]?c[t](e):x(l(t,C(e)).f);if(!t.splice){if((h=t).deps&&s(h.deps,h.callback),!e)return;e.splice?(t=e,e=n,n=null):t=r}return e=e||function(){},"function"==typeof n&&(n=i,i=o),i?a(r,t,e,n):setTimeout(function(){a(r,t,e,n)},4),s},s.config=function(t){return s(t)},n._defined=d,(o=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),v(d,t)||v(u,t)||(u[t]=[t,e,n])}).amd={jQuery:!0},e.requirejs=n,e.require=i,e.define=o),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){var e={};function n(t){var e=t.prototype,n=[];for(var i in e)"function"==typeof e[i]&&"constructor"!==i&&n.push(i);return n}function i(){this.listeners={}}e.Extend=function(t,e){var n={}.hasOwnProperty;function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},e.Decorate=function(t,e){var i=n(e),o=n(t);function r(){var n=Array.prototype.unshift,i=t.prototype.constructor;0<e.prototype.constructor.length&&(n.call(arguments,t.prototype.constructor),i=e.prototype.constructor),i.apply(this,arguments)}e.displayName=t.displayName,r.prototype=new function(){this.constructor=r};for(var a=0;a<o.length;a++){var s=o[a];r.prototype[s]=t.prototype[s]}function l(t){var n=function(){};t in r.prototype&&(n=r.prototype[t]);var i=e.prototype[t];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}}for(var c=0;c<i.length;c++){var d=i[c];r.prototype[d]=l(d)}return r},i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},e.Observable=i,e.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},e.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},e.__cache={};var o=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?t.setAttribute("data-select2-id",e=t.id):(t.setAttribute("data-select2-id",++o),e=o.toString())),e},e.StoreData=function(t,n,i){var o=e.GetUniqueElementId(t);e.__cache[o]||(e.__cache[o]={}),e.__cache[o][n]=i},e.GetData=function(n,i){var o=e.GetUniqueElementId(n);return i?e.__cache[o]&&null!=e.__cache[o][i]?e.__cache[o][i]:t(n).data(i):e.__cache[o]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=this.option(t.results[n]);e.push(i)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(i){var o=t.map(i,function(t){return t.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=t(this),i=e.GetData(this,"data");null!=i.element&&i.element.selected||null==i.element&&-1<t.inArray(""+i.id,o)?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var o={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&r.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o)i.setAttribute(a,o[a]);if(n.children){var s=t(i),l=document.createElement("strong");l.className="select2-results__group",t(l),this.template(n,l);for(var c=[],d=0;d<n.children.length;d++){var u=this.option(n.children[d]);c.push(u)}var h=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(c),s.append(l),s.append(h)}else this.template(n,i);return e.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var o=this;this.$results.attr("id",n.id+"-results"),n.on("results:all",function(t){o.clear(),o.append(t.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),n.on("results:append",function(t){o.append(t.data),n.isOpen()&&o.setClasses()}),n.on("query",function(t){o.hideMessages(),o.showLoading(t)}),n.on("select",function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),n.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),n.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var t=o.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),n.on("results:select",function(){var t=o.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}}),n.on("results:previous",function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var i=n-1;0===t.length&&(i=0);var r=e.eq(i);r.trigger("mouseenter");var a=o.$results.offset().top,s=r.offset().top,l=o.$results.scrollTop()+(s-a);0===i?o.$results.scrollTop(0):s-a<0&&o.$results.scrollTop(l)}}),n.on("results:next",function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var r=o.$results.offset().top+o.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=o.$results.scrollTop()+a-r;0===n?o.$results.scrollTop(0):r<a&&o.$results.scrollTop(s)}}),n.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(t){o.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-e+t.deltaY,i=0<t.deltaY&&e-t.deltaY<=0,r=t.deltaY<0&&n<=o.$results.height();i?(o.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var i=t(this),r=e.GetData(this,"data");"true"!==i.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:r}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:r}):o.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var i=e.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:i,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n},i.prototype.bind=function(t,e){var i=this,o=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",o),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")}),t.on("disable",function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,function(n){var i=t(n.target).closest(".select2");t(".select2.select2-container--open").each(function(){this!=i[0]&&e.GetData(this,"element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i);var o=e.title||e.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,o){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.isDisabled()){var i=t(this).parent(),o=n.GetData(i[0],"data");r.trigger("unselect",{originalEvent:e,data:o})}})},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var o=t[i],r=this.selectionContainer(),a=this.display(o,r);r.append(a);var s=o.title||o.text;s&&r.attr("title",s),n.StoreData(r[0],"data",o),e.push(r)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){if(1<e.length||1==e.length&&e[0].id!=this.placeholder.id)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(t,e,n){function i(){}return i.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();var o=n.GetData(i[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(r);else{for(var s=0;s<o.length;s++)if(this.trigger("unselect",a={data:o[s]}),a.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},i.prototype.update=function(e,i){if(e.call(this,i),!(0<this.$selection.find(".select2-selection__placeholder").length||0===i.length)){var o=this.options.get("translations").get("removeAllItems"),r=t('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(r[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(r)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,i,o){var r=this,a=i.id+"-results";t.call(this,i,o),i.on("open",function(){r.$search.attr("aria-controls",a),r.$search.trigger("focus")}),i.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),i.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),i.on("disable",function(){r.$search.prop("disabled",!0)}),i.on("focus",function(t){r.$search.trigger("focus")}),i.on("results:focus",function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(0<i.length){var o=e.GetData(i[0],"data");r.searchRemoveChoice(o),t.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(t){r.$search.val()&&t.stopPropagation()});var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){r.$selection.off(l?"input.search input.searchcheck":"keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(l&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){var t;this.$search.css("width","25px"),t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,r)){var i=t.Event("select2:"+e,{params:n=n||{}});o.$element.trigger(i),-1!==t.inArray(e,a)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u0152":"OE","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u0153":"oe","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03ce":"\u03c9","\u03c2":"\u03c3","\u2019":"'"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return(i+=t.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4))},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),o=i.item(t);e.push(o)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(i){var o=[];(t=[t]).push.apply(t,i);for(var r=0;r<t.length;r++){var a=t[r].id;-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("input").trigger("change")}):(this.$element.val(t.id),this.$element.trigger("input").trigger("change"))},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(i){for(var o=[],r=0;r<i.length;r++){var a=i[r].id;a!==t.id&&-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("input").trigger("change")})}},i.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){e.RemoveData(this)})},i.prototype.query=function(t,e){var i=[],o=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),a=o.matches(t,r);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var i;t.children?(i=document.createElement("optgroup")).label=t.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=t.text:i.innerText=t.text,void 0!==t.id&&(i.value=t.id),t.disabled&&(i.disabled=!0),t.selected&&(i.selected=!0),t.title&&(i.title=t.title);var o=n(i),r=this._normalizeItem(t);return r.element=i,e.StoreData(i,"data",r),o},i.prototype.item=function(t){var i={};if(null!=(i=e.GetData(t[0],"data")))return i;if(t.is("option"))i={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){i={text:t.prop("label"),children:[],title:t.prop("title")};for(var o=t.children("option"),r=[],a=0;a<o.length;a++){var s=n(o[a]),l=this.item(s);r.push(l)}i.children=r}return(i=this._normalizeItem(i)).element=t[0],e.StoreData(t[0],"data",i),i},i.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){this._dataToConvert=e.get("data")||[],i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype.bind=function(t,e){i.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){var i=this,o=this.$element.find("option"),r=o.map(function(){return i.item(n(this)).id}).get(),a=[];function s(t){return function(){return n(this).val()==t.id}}for(var l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(0<=n.inArray(c.id,r)){var d=o.filter(s(c)),u=this.item(d),h=n.extend(!0,{},c,u),f=this.option(h);d.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(p,g)}a.push(p)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){return n.extend({},{data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}},t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function r(){var r=o.transport(o,function(o){var r=i.processResults(o,t);i.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){"status"in r&&(0===r.status||"0"===r.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=r}"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,i),t.isArray(o))for(var s=0;s<o.length;s++){var l=this._normalizeItem(o[s]),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,n){var i=this;this._removeOldTags(),t.call(this,e,null!=e.term&&null==e.page?function t(o,r){for(var a=o.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!t({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!r&&(o.data=a,void n(o))}if(r)return!0;var d=i.createTag(e);if(null!=d){var u=i.option(d);u.attr("data-select2-tag",!0),i.addOptions([u]),i.insertTag(a,d)}o.results=a,n(o)}:n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){var o=this;n.term=n.term||"";var r=this.tokenizer(n,this.options,function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}o.trigger("select",{data:n})});r.term!==n.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),n.term=r.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;)if(-1!==t.inArray(a[s],r)){var c=a.substr(0,s),d=l(t.extend({},n,{term:c}));null!=d?(o(d),a=a.substr(s+1)||"",s=0):s++}else s++;return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(){i._checkIfMaximumSelected()})},t.prototype.query=function(t,e,n){var i=this;this._checkIfMaximumSelected(function(){t.call(i,e,n)})},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current(function(t){0<n.maximumSelectionLength&&(null!=t?t.length:0)>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var o=this,r=n.id+"-results";e.call(this,n,i),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",r),o.$search.trigger("focus"),window.setTimeout(function(){o.$search.trigger("focus")},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||o.$search.trigger("focus")}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;0<=i;i--)this.placeholder.id===e[i].id&&n.splice(i,1);return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&e){var n=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=n+50&&this.loadMore()}},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=t(i.get("dropdownParent")||document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),i._bindContainerResultHandlers(e)}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(n){var i=e.GetData(this,"select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(r+" "+a+" "+s,function(t){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s=this.$dropdown.outerHeight(!1),l=e.scrollTop(),c=e.scrollTop()+e.height(),d=l<r.top-s,u=c>r.bottom+s,h={left:r.left,top:a.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var p={top:0,left:0};(t.contains(document.body,f[0])||f[0].isConnected)&&(p=f.offset()),h.top-=p.top,h.left-=p.left,n||i||(o="below"),u||!d||n?!d&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(h.top=a.top-p.top-s),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",["../utils"],function(t){function e(){}return e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=t.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,o,r,a,s,l,c,d,u,h,f,p,g,m,v,y,b,w,x,D,C,_,S,k,T,A){function P(){this.reset()}return P.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(d.dataAdapter=null!=d.ajax?p:null!=d.data?f:h,0<d.minimumInputLength&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),0<d.maximumInputLength&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),0<d.maximumSelectionLength&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var u=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,u)}if(null!=d.initSelection){var A=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,A)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,D)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var P=c.Decorate(w,x);d.dropdownAdapter=P}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var E=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,_)}if(null==d.selectionAdapter){if(d.selectionAdapter=d.multiple?o:i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var M=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,M)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}d.language=this._resolveLanguage(d.language),d.language.push("en");for(var R=[],N=0;N<d.language.length;N++){var I=d.language[N];-1===R.indexOf(I)&&R.push(I)}return d.language=R,d.translations=this._processTranslations(d.language,d.debug),d},P.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return u[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(i,o){if(""===t.trim(i.term))return o;if(o.children&&0<o.children.length){for(var r=t.extend(!0,{},o),a=o.children.length-1;0<=a;a--)null==n(i,o.children[a])&&r.children.splice(a,1);return 0<r.children.length?r:n(i,r)}var s=e(o.text).toUpperCase(),l=e(i.term).toUpperCase();return-1<s.indexOf(l)?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},P.prototype.applyFromElement=function(t,e){var n=t.language,i=this.defaults.language,o=e.prop("lang"),r=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(r));return t.language=a,t},P.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=t.isArray(e)?e:[e];for(var i=[],o=0;o<n.length;o++)if(i.push(n[o]),"string"==typeof n[o]&&0<n[o].indexOf("-")){var r=n[o].split("-")[0];i.push(r)}return i},P.prototype._processTranslations=function(e,n){for(var i=new d,o=0;o<e.length;o++){var r=new d,a=e[o];if("string"==typeof a)try{r=d.loadPath(a)}catch(e){try{r=d.loadPath(a=this.defaults.amdLanguageBase+a)}catch(e){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else r=t.isPlainObject(a)?new d(a):a;i.extend(r)}return i},P.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var o=c._convertData(i);t.extend(!0,this.defaults,o)},new P}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),i.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(t[0],"data",i.GetData(t[0],"select2Tags")),i.StoreData(t[0],"tags",!0)),i.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",i.GetData(t[0],"ajaxUrl")),i.StoreData(t[0],"ajax-Url",i.GetData(t[0],"ajaxUrl")));var o={};function r(t,e){return e.toUpperCase()}for(var a=0;a<t[0].attributes.length;a++){var s=t[0].attributes[a].name,l="data-";if(s.substr(0,l.length)==l){var c=s.substring(l.length),d=i.GetData(t[0],c);o[c.replace(/-([a-z])/g,r)]=d}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(o=e.extend(!0,{},t[0].dataset,o));var u=e.extend(!0,{},i.GetData(t[0]),o);for(var h in u=i._convertData(u))-1<e.inArray(h,n)||(e.isPlainObject(this.options[h])?e.extend(this.options[h],u[h]):this.options[h]=u[h]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var o=function(t,i){null!=n.GetData(t[0],"select2")&&n.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),this.options=new e(i=i||{},t),o.__super__.constructor.call(this);var r=t.attr("tabindex")||0;n.StoreData(t[0],"old-tabindex",r),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var d=this.options.get("resultsAdapter");this.results=new d(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(t[0],"select2",this),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"!=e)return"computedstyle"!=e?e:window.getComputedStyle(t[0]).width;var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&1<=c.length)return c[1]}return null},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,o){-1===t.inArray(i,n)&&e.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(e),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(e,n){var i=!1,o=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(n)if(n.addedNodes&&0<n.addedNodes.length)for(var r=0;r<n.addedNodes.length;r++)n.addedNodes[r].selected&&(i=!0);else n.removedNodes&&0<n.removedNodes.length?i=!0:t.isArray(n)&&t.each(n,function(t,e){if(o._isChangeMutation(t,e))return!(i=!0)});else i=!0;return i}},o.prototype._syncSubtree=function(t,e){var n=this;this._isChangeMutation(t,e)&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var r={prevented:!1,name:t,args:e};if(n.call(this,i[t],r),r.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]),this.$element.prop("disabled",!t[0])},o.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("input").trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},o}),e.define("jquery-mousewheel",["jquery"],function(t){return t}),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(t,e,n,i,o){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,a)}),-1<t.inArray(e,r)?this:i}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(n),n}:t(jQuery)}(function(t){var e=function(){if(t&&t.fn&&t.fn.select2&&t.fn.select2.amd)var e=t.fn.select2.amd;var n,i,o,r;return e&&e.requirejs||(e?i=e:e={},function(t){var e,r,a,s,l={},c={},d={},u={},h=Object.prototype.hasOwnProperty,f=[].slice,p=/\.js$/;function g(t,e){return h.call(t,e)}function m(t,e){var n,i,o,r,a,s,l,c,u,h,f,g=e&&e.split("/"),m=d.map,v=m&&m["*"]||{};if(t){for(a=(t=t.split("/")).length-1,d.nodeIdCompat&&p.test(t[a])&&(t[a]=t[a].replace(p,"")),"."===t[0].charAt(0)&&g&&(t=g.slice(0,g.length-1).concat(t)),u=0;u<t.length;u++)if("."===(f=t[u]))t.splice(u,1),u-=1;else if(".."===f){if(0===u||1===u&&".."===t[2]||".."===t[u-1])continue;u>0&&(t.splice(u-1,2),u-=2)}t=t.join("/")}if((g||v)&&m){for(u=(n=t.split("/")).length;u>0;u-=1){if(i=n.slice(0,u).join("/"),g)for(h=g.length;h>0;h-=1)if((o=m[g.slice(0,h).join("/")])&&(o=o[i])){r=o,s=u;break}if(r)break;!l&&v&&v[i]&&(l=v[i],c=u)}!r&&l&&(r=l,s=c),r&&(n.splice(0,s,r),t=n.join("/"))}return t}function v(e,n){return function(){var i=f.call(arguments,0);return"string"!=typeof i[0]&&1===i.length&&i.push(null),r.apply(t,i.concat([e,n]))}}function y(t){return function(e){l[t]=e}}function b(n){if(g(c,n)){var i=c[n];delete c[n],u[n]=!0,e.apply(t,i)}if(!g(l,n)&&!g(u,n))throw new Error("No "+n);return l[n]}function w(t){var e,n=t?t.indexOf("!"):-1;return n>-1&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function x(t){return t?w(t):[]}a=function(t,e){var n,i,o=w(t),r=o[0],a=e[1];return t=o[1],r&&(n=b(r=m(r,a))),r?t=n&&n.normalize?n.normalize(t,(i=a,function(t){return m(t,i)})):m(t,a):(t=(o=w(t=m(t,a)))[1],(r=o[0])&&(n=b(r))),{f:r?r+"!"+t:t,n:t,pr:r,p:n}},s={require:function(t){return v(t)},exports:function(t){var e=l[t];return void 0!==e?e:l[t]={}},module:function(t){return{id:t,uri:"",exports:l[t],config:function(t){return function(){return d&&d.config&&d.config[t]||{}}}(t)}}},e=function(e,n,i,o){var r,d,h,f,p,m,w,D=[],C=typeof i;if(m=x(o=o||e),"undefined"===C||"function"===C){for(n=!n.length&&i.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if("require"===(d=(f=a(n[p],m)).f))D[p]=s.require(e);else if("exports"===d)D[p]=s.exports(e),w=!0;else if("module"===d)r=D[p]=s.module(e);else if(g(l,d)||g(c,d)||g(u,d))D[p]=b(d);else{if(!f.p)throw new Error(e+" missing "+d);f.p.load(f.n,v(o,!0),y(d),{}),D[p]=l[d]}h=i?i.apply(l[e],D):void 0,e&&(r&&r.exports!==t&&r.exports!==l[e]?l[e]=r.exports:h===t&&w||(l[e]=h))}else e&&(l[e]=i)},n=i=r=function(n,i,o,l,c){if("string"==typeof n)return s[n]?s[n](i):b(a(n,x(i)).f);if(!n.splice){if((d=n).deps&&r(d.deps,d.callback),!i)return;i.splice?(n=i,i=o,o=null):n=t}return i=i||function(){},"function"==typeof o&&(o=l,l=c),l?e(t,n,i,o):setTimeout(function(){e(t,n,i,o)},4),r},r.config=function(t){return r(t)},n._defined=l,(o=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),g(l,t)||g(c,t)||(c[t]=[t,e,n])}).amd={jQuery:!0}}(),e.requirejs=n,e.require=i,e.define=o),e.define("almond",function(){}),e.define("jquery",[],function(){var e=t||$;return null==e&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),e}),e.define("select2/utils",["jquery"],function(t){var e={};function n(t){var e=t.prototype,n=[];for(var i in e)"function"==typeof e[i]&&"constructor"!==i&&n.push(i);return n}e.Extend=function(t,e){var n={}.hasOwnProperty;function i(){this.constructor=t}for(var o in e)n.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},e.Decorate=function(t,e){var i=n(e),o=n(t);function r(){var n=Array.prototype.unshift,i=t.prototype.constructor;e.prototype.constructor.length>0&&(n.call(arguments,t.prototype.constructor),i=e.prototype.constructor),i.apply(this,arguments)}e.displayName=t.displayName,r.prototype=new function(){this.constructor=r};for(var a=0;a<o.length;a++){var s=o[a];r.prototype[s]=t.prototype[s]}for(var l=function(t){var n=function(){};t in r.prototype&&(n=r.prototype[t]);var i=e.prototype[t];return function(){return Array.prototype.unshift.call(arguments,n),i.apply(this,arguments)}},c=0;c<i.length;c++){var d=i[c];r.prototype[d]=l(d)}return r};var i=function(){this.listeners={}};i.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},i.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),n[0]._type=t,t in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n].apply(this,e)},e.Observable=i,e.generateChars=function(t){for(var e="",n=0;n<t;n++)e+=Math.floor(36*Math.random()).toString(36);return e},e.bind=function(t,e){return function(){t.apply(e,arguments)}},e._convertData=function(t){for(var e in t){var n=e.split("-"),i=t;if(1!==n.length){for(var o=0;o<n.length;o++){var r=n[o];(r=r.substring(0,1).toLowerCase()+r.substring(1))in i||(i[r]={}),o==n.length-1&&(i[r]=t[e]),i=i[r]}delete t[e]}}return t},e.hasScroll=function(e,n){var i=t(n),o=n.style.overflowX,r=n.style.overflowY;return(o!==r||"hidden"!==r&&"visible"!==r)&&("scroll"===o||"scroll"===r||i.innerHeight()<n.scrollHeight||i.innerWidth()<n.scrollWidth)},e.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},e.appendMany=function(e,n){if("1.7"===t.fn.jquery.substr(0,3)){var i=t();t.map(n,function(t){i=i.add(t)}),n=i}e.append(n)},e.__cache={};var o=0;return e.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?t.setAttribute("data-select2-id",e=t.id):(t.setAttribute("data-select2-id",++o),e=o.toString())),e},e.StoreData=function(t,n,i){var o=e.GetUniqueElementId(t);e.__cache[o]||(e.__cache[o]={}),e.__cache[o][n]=i},e.GetData=function(n,i){var o=e.GetUniqueElementId(n);return i?e.__cache[o]&&null!=e.__cache[o][i]?e.__cache[o][i]:t(n).data(i):e.__cache[o]},e.RemoveData=function(t){var n=e.GetUniqueElementId(t);null!=e.__cache[n]&&delete e.__cache[n],t.removeAttribute("data-select2-id")},e}),e.define("select2/results",["jquery","./utils"],function(t,e){function n(t,e,i){this.$element=t,this.data=i,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&e.attr("aria-multiselectable","true"),this.$results=e,e},n.prototype.clear=function(){this.$results.empty()},n.prototype.displayMessage=function(e){var n=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var i=t('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),o=this.options.get("translations").get(e.message);i.append(n(o(e.args))),i[0].className+=" select2-results__message",this.$results.append(i)},n.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},n.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var i=this.option(t.results[n]);e.push(i)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},n.prototype.position=function(t,e){e.find(".select2-results").append(t)},n.prototype.sort=function(t){return this.options.get("sorter")(t)},n.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");e.length>0?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},n.prototype.setClasses=function(){var n=this;this.data.current(function(i){var o=t.map(i,function(t){return t.id.toString()});n.$results.find(".select2-results__option[aria-selected]").each(function(){var n=t(this),i=e.GetData(this,"data");null!=i.element&&i.element.selected||null==i.element&&t.inArray(""+i.id,o)>-1?n.attr("aria-selected","true"):n.attr("aria-selected","false")})})},n.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},n.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},n.prototype.option=function(n){var i=document.createElement("li");i.className="select2-results__option";var o={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var a in(null!=n.element&&r.call(n.element,":disabled")||null==n.element&&n.disabled)&&(delete o["aria-selected"],o["aria-disabled"]="true"),null==n.id&&delete o["aria-selected"],null!=n._resultId&&(i.id=n._resultId),n.title&&(i.title=n.title),n.children&&(o.role="group",o["aria-label"]=n.text,delete o["aria-selected"]),o)i.setAttribute(a,o[a]);if(n.children){var s=t(i),l=document.createElement("strong");l.className="select2-results__group",t(l),this.template(n,l);for(var c=[],d=0;d<n.children.length;d++){var u=this.option(n.children[d]);c.push(u)}var h=t("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(c),s.append(l),s.append(h)}else this.template(n,i);return e.StoreData(i,"data",n),i},n.prototype.bind=function(n,i){var o=this;this.$results.attr("id",n.id+"-results"),n.on("results:all",function(t){o.clear(),o.append(t.data),n.isOpen()&&(o.setClasses(),o.highlightFirstItem())}),n.on("results:append",function(t){o.append(t.data),n.isOpen()&&o.setClasses()}),n.on("query",function(t){o.hideMessages(),o.showLoading(t)}),n.on("select",function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),n.on("unselect",function(){n.isOpen()&&(o.setClasses(),o.options.get("scrollAfterSelect")&&o.highlightFirstItem())}),n.on("open",function(){o.$results.attr("aria-expanded","true"),o.$results.attr("aria-hidden","false"),o.setClasses(),o.ensureHighlightVisible()}),n.on("close",function(){o.$results.attr("aria-expanded","false"),o.$results.attr("aria-hidden","true"),o.$results.removeAttr("aria-activedescendant")}),n.on("results:toggle",function(){var t=o.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),n.on("results:select",function(){var t=o.getHighlightedResults();if(0!==t.length){var n=e.GetData(t[0],"data");"true"==t.attr("aria-selected")?o.trigger("close",{}):o.trigger("select",{data:n})}}),n.on("results:previous",function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var i=n-1;0===t.length&&(i=0);var r=e.eq(i);r.trigger("mouseenter");var a=o.$results.offset().top,s=r.offset().top,l=o.$results.scrollTop()+(s-a);0===i?o.$results.scrollTop(0):s-a<0&&o.$results.scrollTop(l)}}),n.on("results:next",function(){var t=o.getHighlightedResults(),e=o.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var i=e.eq(n);i.trigger("mouseenter");var r=o.$results.offset().top+o.$results.outerHeight(!1),a=i.offset().top+i.outerHeight(!1),s=o.$results.scrollTop()+a-r;0===n?o.$results.scrollTop(0):a>r&&o.$results.scrollTop(s)}}),n.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),n.on("results:message",function(t){o.displayMessage(t)}),t.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=o.$results.scrollTop(),n=o.$results.get(0).scrollHeight-e+t.deltaY,i=t.deltaY>0&&e-t.deltaY<=0,r=t.deltaY<0&&n<=o.$results.height();i?(o.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):r&&(o.$results.scrollTop(o.$results.get(0).scrollHeight-o.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(n){var i=t(this),r=e.GetData(this,"data");"true"!==i.attr("aria-selected")?o.trigger("select",{originalEvent:n,data:r}):o.options.get("multiple")?o.trigger("unselect",{originalEvent:n,data:r}):o.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(n){var i=e.GetData(this,"data");o.getHighlightedResults().removeClass("select2-results__option--highlighted"),o.trigger("results:focus",{data:i,element:t(this)})})},n.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},n.prototype.destroy=function(){this.$results.remove()},n.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,i=t.offset().top,o=this.$results.scrollTop()+(i-n),r=i-n;o-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(r>this.$results.outerHeight()||r<0)&&this.$results.scrollTop(o)}},n.prototype.template=function(e,n){var i=this.options.get("templateResult"),o=this.options.get("escapeMarkup"),r=i(e,n);null==r?n.style.display="none":"string"==typeof r?n.innerHTML=o(r):t(n).append(r)},n}),e.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),e.define("select2/selection/base",["jquery","../utils","../keys"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,e.Observable),i.prototype.render=function(){var n=t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=e.GetData(this.$element[0],"old-tabindex")?this._tabindex=e.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),n.attr("title",this.$element.attr("title")),n.attr("tabindex",this._tabindex),n.attr("aria-disabled","false"),this.$selection=n,n},i.prototype.bind=function(t,e){var i=this,o=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){i.trigger("focus",t)}),this.$selection.on("blur",function(t){i._handleBlur(t)}),this.$selection.on("keydown",function(t){i.trigger("keypress",t),t.which===n.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){i.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){i.update(t.data)}),t.on("open",function(){i.$selection.attr("aria-expanded","true"),i.$selection.attr("aria-owns",o),i._attachCloseHandler(t)}),t.on("close",function(){i.$selection.attr("aria-expanded","false"),i.$selection.removeAttr("aria-activedescendant"),i.$selection.removeAttr("aria-owns"),i.$selection.trigger("focus"),i._detachCloseHandler(t)}),t.on("enable",function(){i.$selection.attr("tabindex",i._tabindex),i.$selection.attr("aria-disabled","false")}),t.on("disable",function(){i.$selection.attr("tabindex","-1"),i.$selection.attr("aria-disabled","true")})},i.prototype._handleBlur=function(e){var n=this;window.setTimeout(function(){document.activeElement==n.$selection[0]||t.contains(n.$selection[0],document.activeElement)||n.trigger("blur",e)},1)},i.prototype._attachCloseHandler=function(n){t(document.body).on("mousedown.select2."+n.id,function(n){var i=t(n.target).closest(".select2");t(".select2.select2-container--open").each(function(){this!=i[0]&&e.GetData(this,"element").select2("close")})})},i.prototype._detachCloseHandler=function(e){t(document.body).off("mousedown.select2."+e.id)},i.prototype.position=function(t,e){e.find(".selection").append(t)},i.prototype.destroy=function(){this._detachCloseHandler(this.container)},i.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},i.prototype.isEnabled=function(){return!this.isDisabled()},i.prototype.isDisabled=function(){return this.options.get("disabled")},i}),e.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,i){function o(){o.__super__.constructor.apply(this,arguments)}return n.Extend(o,e),o.prototype.render=function(){var t=o.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},o.prototype.bind=function(t,e){var n=this;o.__super__.bind.apply(this,arguments);var i=t.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",i).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",i),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),t.on("focus",function(e){t.isOpen()||n.$selection.trigger("focus")})},o.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},o.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},o.prototype.selectionContainer=function(){return t("<span></span>")},o.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),i=this.display(e,n);n.empty().append(i);var o=e.title||e.text;o?n.attr("title",o):n.removeAttr("title")}else this.clear()},o}),e.define("select2/selection/multiple",["jquery","./base","../utils"],function(t,e,n){function i(t,e){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},i.prototype.bind=function(e,o){var r=this;i.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(e){if(!r.isDisabled()){var i=t(this).parent(),o=n.GetData(i[0],"data");r.trigger("unselect",{originalEvent:e,data:o})}})},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},i.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],i=0;i<t.length;i++){var o=t[i],r=this.selectionContainer(),a=this.display(o,r);r.append(a);var s=o.title||o.text;s&&r.attr("title",s),n.StoreData(r[0],"data",o),e.push(r)}var l=this.$selection.find(".select2-selection__rendered");n.appendMany(l,e)}},i}),e.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){if(e.length>1||1==e.length&&e[0].id!=this.placeholder.id)return t.call(this,e);this.clear();var n=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(n)},e}),e.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(t,e,n){function i(){}return i.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(t){i._handleClear(t)}),e.on("keypress",function(t){i._handleKeyboardClear(t,e)})},i.prototype._handleClear=function(t,e){if(!this.isDisabled()){var i=this.$selection.find(".select2-selection__clear");if(0!==i.length){e.stopPropagation();var o=n.GetData(i[0],"data"),r=this.$element.val();this.$element.val(this.placeholder.id);var a={data:o};if(this.trigger("clear",a),a.prevented)this.$element.val(r);else{for(var s=0;s<o.length;s++)if(this.trigger("unselect",a={data:o[s]}),a.prevented)return void this.$element.val(r);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},i.prototype._handleKeyboardClear=function(t,n,i){i.isOpen()||n.which!=e.DELETE&&n.which!=e.BACKSPACE||this._handleClear(n)},i.prototype.update=function(e,i){if(e.call(this,i),!(this.$selection.find(".select2-selection__placeholder").length>0||0===i.length)){var o=this.options.get("translations").get("removeAllItems"),r=t('<span class="select2-selection__clear" title="'+o()+'">&times;</span>');n.StoreData(r[0],"data",i),this.$selection.find(".select2-selection__rendered").prepend(r)}},i}),e.define("select2/selection/search",["jquery","../utils","../keys"],function(t,e,n){function i(t,e,n){t.call(this,e,n)}return i.prototype.render=function(e){var n=t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=n,this.$search=n.find("input");var i=e.call(this);return this._transferTabIndex(),i},i.prototype.bind=function(t,i,o){var r=this,a=i.id+"-results";t.call(this,i,o),i.on("open",function(){r.$search.attr("aria-controls",a),r.$search.trigger("focus")}),i.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),i.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),i.on("disable",function(){r.$search.prop("disabled",!0)}),i.on("focus",function(t){r.$search.trigger("focus")}),i.on("results:focus",function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===n.BACKSPACE&&""===r.$search.val()){var i=r.$searchContainer.prev(".select2-selection__choice");if(i.length>0){var o=e.GetData(i[0],"data");r.searchRemoveChoice(o),t.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(t){r.$search.val()&&t.stopPropagation()});var s=document.documentMode,l=s&&s<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){r.$selection.off(l?"input.search input.searchcheck":"keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(l&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=n.SHIFT&&e!=n.CTRL&&e!=n.ALT&&e!=n.TAB&&r.handleSearch(t)}})},i.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},i.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},i.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},i.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},i.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},i.prototype.resizeSearch=function(){this.$search.css("width","25px");var t;t=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").width():.75*(this.$search.val().length+1)+"em",this.$search.css("width",t)},i}),e.define("select2/selection/eventRelay",["jquery"],function(t){function e(){}return e.prototype.bind=function(e,n,i){var o=this,r=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],a=["opening","closing","selecting","unselecting","clearing"];e.call(this,n,i),n.on("*",function(e,n){if(-1!==t.inArray(e,r)){var i=t.Event("select2:"+e,{params:n=n||{}});o.$element.trigger(i),-1!==t.inArray(e,a)&&(n.prevented=i.isDefaultPrevented())}})},e}),e.define("select2/translation",["jquery","require"],function(t,e){function n(t){this.dict=t||{}}return n.prototype.all=function(){return this.dict},n.prototype.get=function(t){return this.dict[t]},n.prototype.extend=function(e){this.dict=t.extend({},e.all(),this.dict)},n._cache={},n.loadPath=function(t){if(!(t in n._cache)){var i=e(t);n._cache[t]=i}return new n(n._cache[t])},n}),e.define("select2/diacritics",[],function(){return{"\u24b6":"A","\uff21":"A","\xc0":"A","\xc1":"A","\xc2":"A","\u1ea6":"A","\u1ea4":"A","\u1eaa":"A","\u1ea8":"A","\xc3":"A","\u0100":"A","\u0102":"A","\u1eb0":"A","\u1eae":"A","\u1eb4":"A","\u1eb2":"A","\u0226":"A","\u01e0":"A","\xc4":"A","\u01de":"A","\u1ea2":"A","\xc5":"A","\u01fa":"A","\u01cd":"A","\u0200":"A","\u0202":"A","\u1ea0":"A","\u1eac":"A","\u1eb6":"A","\u1e00":"A","\u0104":"A","\u023a":"A","\u2c6f":"A","\ua732":"AA","\xc6":"AE","\u01fc":"AE","\u01e2":"AE","\ua734":"AO","\ua736":"AU","\ua738":"AV","\ua73a":"AV","\ua73c":"AY","\u24b7":"B","\uff22":"B","\u1e02":"B","\u1e04":"B","\u1e06":"B","\u0243":"B","\u0182":"B","\u0181":"B","\u24b8":"C","\uff23":"C","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\xc7":"C","\u1e08":"C","\u0187":"C","\u023b":"C","\ua73e":"C","\u24b9":"D","\uff24":"D","\u1e0a":"D","\u010e":"D","\u1e0c":"D","\u1e10":"D","\u1e12":"D","\u1e0e":"D","\u0110":"D","\u018b":"D","\u018a":"D","\u0189":"D","\ua779":"D","\u01f1":"DZ","\u01c4":"DZ","\u01f2":"Dz","\u01c5":"Dz","\u24ba":"E","\uff25":"E","\xc8":"E","\xc9":"E","\xca":"E","\u1ec0":"E","\u1ebe":"E","\u1ec4":"E","\u1ec2":"E","\u1ebc":"E","\u0112":"E","\u1e14":"E","\u1e16":"E","\u0114":"E","\u0116":"E","\xcb":"E","\u1eba":"E","\u011a":"E","\u0204":"E","\u0206":"E","\u1eb8":"E","\u1ec6":"E","\u0228":"E","\u1e1c":"E","\u0118":"E","\u1e18":"E","\u1e1a":"E","\u0190":"E","\u018e":"E","\u24bb":"F","\uff26":"F","\u1e1e":"F","\u0191":"F","\ua77b":"F","\u24bc":"G","\uff27":"G","\u01f4":"G","\u011c":"G","\u1e20":"G","\u011e":"G","\u0120":"G","\u01e6":"G","\u0122":"G","\u01e4":"G","\u0193":"G","\ua7a0":"G","\ua77d":"G","\ua77e":"G","\u24bd":"H","\uff28":"H","\u0124":"H","\u1e22":"H","\u1e26":"H","\u021e":"H","\u1e24":"H","\u1e28":"H","\u1e2a":"H","\u0126":"H","\u2c67":"H","\u2c75":"H","\ua78d":"H","\u24be":"I","\uff29":"I","\xcc":"I","\xcd":"I","\xce":"I","\u0128":"I","\u012a":"I","\u012c":"I","\u0130":"I","\xcf":"I","\u1e2e":"I","\u1ec8":"I","\u01cf":"I","\u0208":"I","\u020a":"I","\u1eca":"I","\u012e":"I","\u1e2c":"I","\u0197":"I","\u24bf":"J","\uff2a":"J","\u0134":"J","\u0248":"J","\u24c0":"K","\uff2b":"K","\u1e30":"K","\u01e8":"K","\u1e32":"K","\u0136":"K","\u1e34":"K","\u0198":"K","\u2c69":"K","\ua740":"K","\ua742":"K","\ua744":"K","\ua7a2":"K","\u24c1":"L","\uff2c":"L","\u013f":"L","\u0139":"L","\u013d":"L","\u1e36":"L","\u1e38":"L","\u013b":"L","\u1e3c":"L","\u1e3a":"L","\u0141":"L","\u023d":"L","\u2c62":"L","\u2c60":"L","\ua748":"L","\ua746":"L","\ua780":"L","\u01c7":"LJ","\u01c8":"Lj","\u24c2":"M","\uff2d":"M","\u1e3e":"M","\u1e40":"M","\u1e42":"M","\u2c6e":"M","\u019c":"M","\u24c3":"N","\uff2e":"N","\u01f8":"N","\u0143":"N","\xd1":"N","\u1e44":"N","\u0147":"N","\u1e46":"N","\u0145":"N","\u1e4a":"N","\u1e48":"N","\u0220":"N","\u019d":"N","\ua790":"N","\ua7a4":"N","\u01ca":"NJ","\u01cb":"Nj","\u24c4":"O","\uff2f":"O","\xd2":"O","\xd3":"O","\xd4":"O","\u1ed2":"O","\u1ed0":"O","\u1ed6":"O","\u1ed4":"O","\xd5":"O","\u1e4c":"O","\u022c":"O","\u1e4e":"O","\u014c":"O","\u1e50":"O","\u1e52":"O","\u014e":"O","\u022e":"O","\u0230":"O","\xd6":"O","\u022a":"O","\u1ece":"O","\u0150":"O","\u01d1":"O","\u020c":"O","\u020e":"O","\u01a0":"O","\u1edc":"O","\u1eda":"O","\u1ee0":"O","\u1ede":"O","\u1ee2":"O","\u1ecc":"O","\u1ed8":"O","\u01ea":"O","\u01ec":"O","\xd8":"O","\u01fe":"O","\u0186":"O","\u019f":"O","\ua74a":"O","\ua74c":"O","\u0152":"OE","\u01a2":"OI","\ua74e":"OO","\u0222":"OU","\u24c5":"P","\uff30":"P","\u1e54":"P","\u1e56":"P","\u01a4":"P","\u2c63":"P","\ua750":"P","\ua752":"P","\ua754":"P","\u24c6":"Q","\uff31":"Q","\ua756":"Q","\ua758":"Q","\u024a":"Q","\u24c7":"R","\uff32":"R","\u0154":"R","\u1e58":"R","\u0158":"R","\u0210":"R","\u0212":"R","\u1e5a":"R","\u1e5c":"R","\u0156":"R","\u1e5e":"R","\u024c":"R","\u2c64":"R","\ua75a":"R","\ua7a6":"R","\ua782":"R","\u24c8":"S","\uff33":"S","\u1e9e":"S","\u015a":"S","\u1e64":"S","\u015c":"S","\u1e60":"S","\u0160":"S","\u1e66":"S","\u1e62":"S","\u1e68":"S","\u0218":"S","\u015e":"S","\u2c7e":"S","\ua7a8":"S","\ua784":"S","\u24c9":"T","\uff34":"T","\u1e6a":"T","\u0164":"T","\u1e6c":"T","\u021a":"T","\u0162":"T","\u1e70":"T","\u1e6e":"T","\u0166":"T","\u01ac":"T","\u01ae":"T","\u023e":"T","\ua786":"T","\ua728":"TZ","\u24ca":"U","\uff35":"U","\xd9":"U","\xda":"U","\xdb":"U","\u0168":"U","\u1e78":"U","\u016a":"U","\u1e7a":"U","\u016c":"U","\xdc":"U","\u01db":"U","\u01d7":"U","\u01d5":"U","\u01d9":"U","\u1ee6":"U","\u016e":"U","\u0170":"U","\u01d3":"U","\u0214":"U","\u0216":"U","\u01af":"U","\u1eea":"U","\u1ee8":"U","\u1eee":"U","\u1eec":"U","\u1ef0":"U","\u1ee4":"U","\u1e72":"U","\u0172":"U","\u1e76":"U","\u1e74":"U","\u0244":"U","\u24cb":"V","\uff36":"V","\u1e7c":"V","\u1e7e":"V","\u01b2":"V","\ua75e":"V","\u0245":"V","\ua760":"VY","\u24cc":"W","\uff37":"W","\u1e80":"W","\u1e82":"W","\u0174":"W","\u1e86":"W","\u1e84":"W","\u1e88":"W","\u2c72":"W","\u24cd":"X","\uff38":"X","\u1e8a":"X","\u1e8c":"X","\u24ce":"Y","\uff39":"Y","\u1ef2":"Y","\xdd":"Y","\u0176":"Y","\u1ef8":"Y","\u0232":"Y","\u1e8e":"Y","\u0178":"Y","\u1ef6":"Y","\u1ef4":"Y","\u01b3":"Y","\u024e":"Y","\u1efe":"Y","\u24cf":"Z","\uff3a":"Z","\u0179":"Z","\u1e90":"Z","\u017b":"Z","\u017d":"Z","\u1e92":"Z","\u1e94":"Z","\u01b5":"Z","\u0224":"Z","\u2c7f":"Z","\u2c6b":"Z","\ua762":"Z","\u24d0":"a","\uff41":"a","\u1e9a":"a","\xe0":"a","\xe1":"a","\xe2":"a","\u1ea7":"a","\u1ea5":"a","\u1eab":"a","\u1ea9":"a","\xe3":"a","\u0101":"a","\u0103":"a","\u1eb1":"a","\u1eaf":"a","\u1eb5":"a","\u1eb3":"a","\u0227":"a","\u01e1":"a","\xe4":"a","\u01df":"a","\u1ea3":"a","\xe5":"a","\u01fb":"a","\u01ce":"a","\u0201":"a","\u0203":"a","\u1ea1":"a","\u1ead":"a","\u1eb7":"a","\u1e01":"a","\u0105":"a","\u2c65":"a","\u0250":"a","\ua733":"aa","\xe6":"ae","\u01fd":"ae","\u01e3":"ae","\ua735":"ao","\ua737":"au","\ua739":"av","\ua73b":"av","\ua73d":"ay","\u24d1":"b","\uff42":"b","\u1e03":"b","\u1e05":"b","\u1e07":"b","\u0180":"b","\u0183":"b","\u0253":"b","\u24d2":"c","\uff43":"c","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\xe7":"c","\u1e09":"c","\u0188":"c","\u023c":"c","\ua73f":"c","\u2184":"c","\u24d3":"d","\uff44":"d","\u1e0b":"d","\u010f":"d","\u1e0d":"d","\u1e11":"d","\u1e13":"d","\u1e0f":"d","\u0111":"d","\u018c":"d","\u0256":"d","\u0257":"d","\ua77a":"d","\u01f3":"dz","\u01c6":"dz","\u24d4":"e","\uff45":"e","\xe8":"e","\xe9":"e","\xea":"e","\u1ec1":"e","\u1ebf":"e","\u1ec5":"e","\u1ec3":"e","\u1ebd":"e","\u0113":"e","\u1e15":"e","\u1e17":"e","\u0115":"e","\u0117":"e","\xeb":"e","\u1ebb":"e","\u011b":"e","\u0205":"e","\u0207":"e","\u1eb9":"e","\u1ec7":"e","\u0229":"e","\u1e1d":"e","\u0119":"e","\u1e19":"e","\u1e1b":"e","\u0247":"e","\u025b":"e","\u01dd":"e","\u24d5":"f","\uff46":"f","\u1e1f":"f","\u0192":"f","\ua77c":"f","\u24d6":"g","\uff47":"g","\u01f5":"g","\u011d":"g","\u1e21":"g","\u011f":"g","\u0121":"g","\u01e7":"g","\u0123":"g","\u01e5":"g","\u0260":"g","\ua7a1":"g","\u1d79":"g","\ua77f":"g","\u24d7":"h","\uff48":"h","\u0125":"h","\u1e23":"h","\u1e27":"h","\u021f":"h","\u1e25":"h","\u1e29":"h","\u1e2b":"h","\u1e96":"h","\u0127":"h","\u2c68":"h","\u2c76":"h","\u0265":"h","\u0195":"hv","\u24d8":"i","\uff49":"i","\xec":"i","\xed":"i","\xee":"i","\u0129":"i","\u012b":"i","\u012d":"i","\xef":"i","\u1e2f":"i","\u1ec9":"i","\u01d0":"i","\u0209":"i","\u020b":"i","\u1ecb":"i","\u012f":"i","\u1e2d":"i","\u0268":"i","\u0131":"i","\u24d9":"j","\uff4a":"j","\u0135":"j","\u01f0":"j","\u0249":"j","\u24da":"k","\uff4b":"k","\u1e31":"k","\u01e9":"k","\u1e33":"k","\u0137":"k","\u1e35":"k","\u0199":"k","\u2c6a":"k","\ua741":"k","\ua743":"k","\ua745":"k","\ua7a3":"k","\u24db":"l","\uff4c":"l","\u0140":"l","\u013a":"l","\u013e":"l","\u1e37":"l","\u1e39":"l","\u013c":"l","\u1e3d":"l","\u1e3b":"l","\u017f":"l","\u0142":"l","\u019a":"l","\u026b":"l","\u2c61":"l","\ua749":"l","\ua781":"l","\ua747":"l","\u01c9":"lj","\u24dc":"m","\uff4d":"m","\u1e3f":"m","\u1e41":"m","\u1e43":"m","\u0271":"m","\u026f":"m","\u24dd":"n","\uff4e":"n","\u01f9":"n","\u0144":"n","\xf1":"n","\u1e45":"n","\u0148":"n","\u1e47":"n","\u0146":"n","\u1e4b":"n","\u1e49":"n","\u019e":"n","\u0272":"n","\u0149":"n","\ua791":"n","\ua7a5":"n","\u01cc":"nj","\u24de":"o","\uff4f":"o","\xf2":"o","\xf3":"o","\xf4":"o","\u1ed3":"o","\u1ed1":"o","\u1ed7":"o","\u1ed5":"o","\xf5":"o","\u1e4d":"o","\u022d":"o","\u1e4f":"o","\u014d":"o","\u1e51":"o","\u1e53":"o","\u014f":"o","\u022f":"o","\u0231":"o","\xf6":"o","\u022b":"o","\u1ecf":"o","\u0151":"o","\u01d2":"o","\u020d":"o","\u020f":"o","\u01a1":"o","\u1edd":"o","\u1edb":"o","\u1ee1":"o","\u1edf":"o","\u1ee3":"o","\u1ecd":"o","\u1ed9":"o","\u01eb":"o","\u01ed":"o","\xf8":"o","\u01ff":"o","\u0254":"o","\ua74b":"o","\ua74d":"o","\u0275":"o","\u0153":"oe","\u01a3":"oi","\u0223":"ou","\ua74f":"oo","\u24df":"p","\uff50":"p","\u1e55":"p","\u1e57":"p","\u01a5":"p","\u1d7d":"p","\ua751":"p","\ua753":"p","\ua755":"p","\u24e0":"q","\uff51":"q","\u024b":"q","\ua757":"q","\ua759":"q","\u24e1":"r","\uff52":"r","\u0155":"r","\u1e59":"r","\u0159":"r","\u0211":"r","\u0213":"r","\u1e5b":"r","\u1e5d":"r","\u0157":"r","\u1e5f":"r","\u024d":"r","\u027d":"r","\ua75b":"r","\ua7a7":"r","\ua783":"r","\u24e2":"s","\uff53":"s","\xdf":"s","\u015b":"s","\u1e65":"s","\u015d":"s","\u1e61":"s","\u0161":"s","\u1e67":"s","\u1e63":"s","\u1e69":"s","\u0219":"s","\u015f":"s","\u023f":"s","\ua7a9":"s","\ua785":"s","\u1e9b":"s","\u24e3":"t","\uff54":"t","\u1e6b":"t","\u1e97":"t","\u0165":"t","\u1e6d":"t","\u021b":"t","\u0163":"t","\u1e71":"t","\u1e6f":"t","\u0167":"t","\u01ad":"t","\u0288":"t","\u2c66":"t","\ua787":"t","\ua729":"tz","\u24e4":"u","\uff55":"u","\xf9":"u","\xfa":"u","\xfb":"u","\u0169":"u","\u1e79":"u","\u016b":"u","\u1e7b":"u","\u016d":"u","\xfc":"u","\u01dc":"u","\u01d8":"u","\u01d6":"u","\u01da":"u","\u1ee7":"u","\u016f":"u","\u0171":"u","\u01d4":"u","\u0215":"u","\u0217":"u","\u01b0":"u","\u1eeb":"u","\u1ee9":"u","\u1eef":"u","\u1eed":"u","\u1ef1":"u","\u1ee5":"u","\u1e73":"u","\u0173":"u","\u1e77":"u","\u1e75":"u","\u0289":"u","\u24e5":"v","\uff56":"v","\u1e7d":"v","\u1e7f":"v","\u028b":"v","\ua75f":"v","\u028c":"v","\ua761":"vy","\u24e6":"w","\uff57":"w","\u1e81":"w","\u1e83":"w","\u0175":"w","\u1e87":"w","\u1e85":"w","\u1e98":"w","\u1e89":"w","\u2c73":"w","\u24e7":"x","\uff58":"x","\u1e8b":"x","\u1e8d":"x","\u24e8":"y","\uff59":"y","\u1ef3":"y","\xfd":"y","\u0177":"y","\u1ef9":"y","\u0233":"y","\u1e8f":"y","\xff":"y","\u1ef7":"y","\u1e99":"y","\u1ef5":"y","\u01b4":"y","\u024f":"y","\u1eff":"y","\u24e9":"z","\uff5a":"z","\u017a":"z","\u1e91":"z","\u017c":"z","\u017e":"z","\u1e93":"z","\u1e95":"z","\u01b6":"z","\u0225":"z","\u0240":"z","\u2c6c":"z","\ua763":"z","\u0386":"\u0391","\u0388":"\u0395","\u0389":"\u0397","\u038a":"\u0399","\u03aa":"\u0399","\u038c":"\u039f","\u038e":"\u03a5","\u03ab":"\u03a5","\u038f":"\u03a9","\u03ac":"\u03b1","\u03ad":"\u03b5","\u03ae":"\u03b7","\u03af":"\u03b9","\u03ca":"\u03b9","\u0390":"\u03b9","\u03cc":"\u03bf","\u03cd":"\u03c5","\u03cb":"\u03c5","\u03b0":"\u03c5","\u03ce":"\u03c9","\u03c2":"\u03c3","\u2019":"'"}}),e.define("select2/data/base",["../utils"],function(t){function e(t,n){e.__super__.constructor.call(this)}return t.Extend(e,t.Observable),e.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},e.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},e.prototype.bind=function(t,e){},e.prototype.destroy=function(){},e.prototype.generateResultId=function(e,n){var i=e.id+"-result-";return(i+=t.generateChars(4))+(null!=n.id?"-"+n.id.toString():"-"+t.generateChars(4))},e}),e.define("select2/data/select",["./base","../utils","jquery"],function(t,e,n){function i(t,e){this.$element=t,this.options=e,i.__super__.constructor.call(this)}return e.Extend(i,t),i.prototype.current=function(t){var e=[],i=this;this.$element.find(":selected").each(function(){var t=n(this),o=i.item(t);e.push(o)}),t(e)},i.prototype.select=function(t){var e=this;if(t.selected=!0,n(t.element).is("option"))return t.element.selected=!0,void this.$element.trigger("input").trigger("change");this.$element.prop("multiple")?this.current(function(i){var o=[];(t=[t]).push.apply(t,i);for(var r=0;r<t.length;r++){var a=t[r].id;-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("input").trigger("change")}):(this.$element.val(t.id),this.$element.trigger("input").trigger("change"))},i.prototype.unselect=function(t){var e=this;if(this.$element.prop("multiple")){if(t.selected=!1,n(t.element).is("option"))return t.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(i){for(var o=[],r=0;r<i.length;r++){var a=i[r].id;a!==t.id&&-1===n.inArray(a,o)&&o.push(a)}e.$element.val(o),e.$element.trigger("input").trigger("change")})}},i.prototype.bind=function(t,e){var n=this;this.container=t,t.on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},i.prototype.destroy=function(){this.$element.find("*").each(function(){e.RemoveData(this)})},i.prototype.query=function(t,e){var i=[],o=this;this.$element.children().each(function(){var e=n(this);if(e.is("option")||e.is("optgroup")){var r=o.item(e),a=o.matches(t,r);null!==a&&i.push(a)}}),e({results:i})},i.prototype.addOptions=function(t){e.appendMany(this.$element,t)},i.prototype.option=function(t){var i;t.children?(i=document.createElement("optgroup")).label=t.text:void 0!==(i=document.createElement("option")).textContent?i.textContent=t.text:i.innerText=t.text,void 0!==t.id&&(i.value=t.id),t.disabled&&(i.disabled=!0),t.selected&&(i.selected=!0),t.title&&(i.title=t.title);var o=n(i),r=this._normalizeItem(t);return r.element=i,e.StoreData(i,"data",r),o},i.prototype.item=function(t){var i={};if(null!=(i=e.GetData(t[0],"data")))return i;if(t.is("option"))i={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){i={text:t.prop("label"),children:[],title:t.prop("title")};for(var o=t.children("option"),r=[],a=0;a<o.length;a++){var s=n(o[a]),l=this.item(s);r.push(l)}i.children=r}return(i=this._normalizeItem(i)).element=t[0],e.StoreData(t[0],"data",i),i},i.prototype._normalizeItem=function(t){return t!==Object(t)&&(t={id:t,text:t}),null!=(t=n.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),n.extend({},{selected:!1,disabled:!1},t)},i.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},i}),e.define("select2/data/array",["./select","../utils","jquery"],function(t,e,n){function i(t,e){this._dataToConvert=e.get("data")||[],i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype.bind=function(t,e){i.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},i.prototype.select=function(t){var e=this.$element.find("option").filter(function(e,n){return n.value==t.id.toString()});0===e.length&&(e=this.option(t),this.addOptions(e)),i.__super__.select.call(this,t)},i.prototype.convertToOptions=function(t){var i=this,o=this.$element.find("option"),r=o.map(function(){return i.item(n(this)).id}).get(),a=[];function s(t){return function(){return n(this).val()==t.id}}for(var l=0;l<t.length;l++){var c=this._normalizeItem(t[l]);if(n.inArray(c.id,r)>=0){var d=o.filter(s(c)),u=this.item(d),h=n.extend(!0,{},c,u),f=this.option(h);d.replaceWith(f)}else{var p=this.option(c);if(c.children){var g=this.convertToOptions(c.children);e.appendMany(p,g)}a.push(p)}}return a},i}),e.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,n){function i(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),i.__super__.constructor.call(this,t,e)}return e.Extend(i,t),i.prototype._applyDefaults=function(t){return n.extend({},{data:function(t){return n.extend({},t,{q:t.term})},transport:function(t,e,i){var o=n.ajax(t);return o.then(e),o.fail(i),o}},t,!0)},i.prototype.processResults=function(t){return t},i.prototype.query=function(t,e){var i=this;null!=this._request&&(n.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var o=n.extend({type:"GET"},this.ajaxOptions);function r(){var r=o.transport(o,function(o){var r=i.processResults(o,t);i.options.get("debug")&&window.console&&console.error&&(r&&r.results&&n.isArray(r.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),e(r)},function(){"status"in r&&(0===r.status||"0"===r.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=r}"function"==typeof o.url&&(o.url=o.url.call(this.$element,t)),"function"==typeof o.data&&(o.data=o.data.call(this.$element,t)),this.ajaxOptions.delay&&null!=t.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(r,this.ajaxOptions.delay)):r()},i}),e.define("select2/data/tags",["jquery"],function(t){function e(e,n,i){var o=i.get("tags"),r=i.get("createTag");void 0!==r&&(this.createTag=r);var a=i.get("insertTag");if(void 0!==a&&(this.insertTag=a),e.call(this,n,i),t.isArray(o))for(var s=0;s<o.length;s++){var l=this._normalizeItem(o[s]),c=this.option(l);this.$element.append(c)}}return e.prototype.query=function(t,e,n){var i=this;this._removeOldTags(),t.call(this,e,null!=e.term&&null==e.page?function t(o,r){for(var a=o.results,s=0;s<a.length;s++){var l=a[s],c=null!=l.children&&!t({results:l.children},!0);if((l.text||"").toUpperCase()===(e.term||"").toUpperCase()||c)return!r&&(o.data=a,void n(o))}if(r)return!0;var d=i.createTag(e);if(null!=d){var u=i.option(d);u.attr("data-select2-tag",!0),i.addOptions([u]),i.insertTag(a,d)}o.results=a,n(o)}:n)},e.prototype.createTag=function(e,n){var i=t.trim(n.term);return""===i?null:{id:i,text:i}},e.prototype.insertTag=function(t,e,n){e.unshift(n)},e.prototype._removeOldTags=function(e){this.$element.find("option[data-select2-tag]").each(function(){this.selected||t(this).remove()})},e}),e.define("select2/data/tokenizer",["jquery"],function(t){function e(t,e,n){var i=n.get("tokenizer");void 0!==i&&(this.tokenizer=i),t.call(this,e,n)}return e.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},e.prototype.query=function(e,n,i){var o=this;n.term=n.term||"";var r=this.tokenizer(n,this.options,function(e){var n=o._normalizeItem(e);if(!o.$element.find("option").filter(function(){return t(this).val()===n.id}).length){var i=o.option(n);i.attr("data-select2-tag",!0),o._removeOldTags(),o.addOptions([i])}o.trigger("select",{data:n})});r.term!==n.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),n.term=r.term),e.call(this,n,i)},e.prototype.tokenizer=function(e,n,i,o){for(var r=i.get("tokenSeparators")||[],a=n.term,s=0,l=this.createTag||function(t){return{id:t.term,text:t.term}};s<a.length;)if(-1!==t.inArray(a[s],r)){var c=a.substr(0,s),d=l(t.extend({},n,{term:c}));null!=d?(o(d),a=a.substr(s+1)||"",s=0):s++}else s++;return{term:a}},e}),e.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",this.maximumInputLength>0&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),e.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(){i._checkIfMaximumSelected()})},t.prototype.query=function(t,e,n){var i=this;this._checkIfMaximumSelected(function(){t.call(i,e,n)})},t.prototype._checkIfMaximumSelected=function(t,e){var n=this;this.current(function(t){n.maximumSelectionLength>0&&(null!=t?t.length:0)>=n.maximumSelectionLength?n.trigger("results:message",{message:"maximumSelected",args:{maximum:n.maximumSelectionLength}}):e&&e()})},t}),e.define("select2/dropdown",["jquery","./utils"],function(t,e){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return e.Extend(n,e.Observable),n.prototype.render=function(){var e=t('<span class="select2-dropdown"><span class="select2-results"></span></span>');return e.attr("dir",this.options.get("dir")),this.$dropdown=e,e},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),e.define("select2/dropdown/search",["jquery","../utils"],function(t,e){function n(){}return n.prototype.render=function(e){var n=e.call(this),i=t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=i,this.$search=i.find("input"),n.prepend(i),n},n.prototype.bind=function(e,n,i){var o=this,r=n.id+"-results";e.call(this,n,i),this.$search.on("keydown",function(t){o.trigger("keypress",t),o._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(e){t(this).off("keyup")}),this.$search.on("keyup input",function(t){o.handleSearch(t)}),n.on("open",function(){o.$search.attr("tabindex",0),o.$search.attr("aria-controls",r),o.$search.trigger("focus"),window.setTimeout(function(){o.$search.trigger("focus")},0)}),n.on("close",function(){o.$search.attr("tabindex",-1),o.$search.removeAttr("aria-controls"),o.$search.removeAttr("aria-activedescendant"),o.$search.val(""),o.$search.trigger("blur")}),n.on("focus",function(){n.isOpen()||o.$search.trigger("focus")}),n.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(o.showSearch(t)?o.$searchContainer.removeClass("select2-search--hide"):o.$searchContainer.addClass("select2-search--hide"))}),n.on("results:focus",function(t){t.data._resultId?o.$search.attr("aria-activedescendant",t.data._resultId):o.$search.removeAttr("aria-activedescendant")})},n.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},n.prototype.showSearch=function(t,e){return!0},n}),e.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,i){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,i)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),i=e.length-1;i>=0;i--)this.placeholder.id===e[i].id&&n.splice(i,1);return n},t}),e.define("select2/dropdown/infiniteScroll",["jquery"],function(t){function e(t,e,n,i){this.lastParams={},t.call(this,e,n,i),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return e.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("query",function(t){i.lastParams=t,i.loading=!0}),e.on("query:append",function(t){i.lastParams=t,i.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},e.prototype.loadMoreIfNeeded=function(){var e=t.contains(document.documentElement,this.$loadingMore[0]);!this.loading&&e&&this.$results.offset().top+this.$results.outerHeight(!1)+50>=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)&&this.loadMore()},e.prototype.loadMore=function(){this.loading=!0;var e=t.extend({},{page:1},this.lastParams);e.page++,this.trigger("query:append",e)},e.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},e.prototype.createLoadingMore=function(){var e=t('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),n=this.options.get("translations").get("loadingMore");return e.html(n(this.lastParams)),e},e}),e.define("select2/dropdown/attachBody",["jquery","../utils"],function(t,e){function n(e,n,i){this.$dropdownParent=t(i.get("dropdownParent")||document.body),e.call(this,n,i)}return n.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("open",function(){i._showDropdown(),i._attachPositioningHandler(e),i._bindContainerResultHandlers(e)}),e.on("close",function(){i._hideDropdown(),i._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},n.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},n.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},n.prototype.render=function(e){var n=t("<span></span>"),i=e.call(this);return n.append(i),this.$dropdownContainer=n,n},n.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},n.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},n.prototype._attachPositioningHandler=function(n,i){var o=this,r="scroll.select2."+i.id,a="resize.select2."+i.id,s="orientationchange.select2."+i.id,l=this.$container.parents().filter(e.hasScroll);l.each(function(){e.StoreData(this,"select2-scroll-position",{x:t(this).scrollLeft(),y:t(this).scrollTop()})}),l.on(r,function(n){var i=e.GetData(this,"select2-scroll-position");t(this).scrollTop(i.y)}),t(window).on(r+" "+a+" "+s,function(t){o._positionDropdown(),o._resizeDropdown()})},n.prototype._detachPositioningHandler=function(n,i){var o="scroll.select2."+i.id,r="resize.select2."+i.id,a="orientationchange.select2."+i.id;this.$container.parents().filter(e.hasScroll).off(o),t(window).off(o+" "+r+" "+a)},n.prototype._positionDropdown=function(){var e=t(window),n=this.$dropdown.hasClass("select2-dropdown--above"),i=this.$dropdown.hasClass("select2-dropdown--below"),o=null,r=this.$container.offset();r.bottom=r.top+this.$container.outerHeight(!1);var a={height:this.$container.outerHeight(!1)};a.top=r.top,a.bottom=r.top+a.height;var s=this.$dropdown.outerHeight(!1),l=e.scrollTop(),c=e.scrollTop()+e.height(),d=l<r.top-s,u=c>r.bottom+s,h={left:r.left,top:a.bottom},f=this.$dropdownParent;"static"===f.css("position")&&(f=f.offsetParent());var p={top:0,left:0};(t.contains(document.body,f[0])||f[0].isConnected)&&(p=f.offset()),h.top-=p.top,h.left-=p.left,n||i||(o="below"),u||!d||n?!d&&u&&n&&(o="below"):o="above",("above"==o||n&&"below"!==o)&&(h.top=a.top-p.top-s),null!=o&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+o),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+o)),this.$dropdownContainer.css(h)},n.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},n.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},n}),e.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,i){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,i)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,i=0;i<e.length;i++){var o=e[i];o.children?n+=t(o.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),e.define("select2/dropdown/selectOnClose",["../utils"],function(t){function e(){}return e.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("close",function(t){i._handleSelectOnClose(t)})},e.prototype._handleSelectOnClose=function(e,n){if(n&&null!=n.originalSelect2Event){var i=n.originalSelect2Event;if("select"===i._type||"unselect"===i._type)return}var o=this.getHighlightedResults();if(!(o.length<1)){var r=t.GetData(o[0],"data");null!=r.element&&r.element.selected||null==r.element&&r.selected||this.trigger("select",{data:r})}},e}),e.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var i=this;t.call(this,e,n),e.on("select",function(t){i._selectTriggered(t)}),e.on("unselect",function(t){i._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),e.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"}}}),e.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(t,e,n,i,o,r,a,s,l,c,d,u,h,f,p,g,m,v,y,b,w,x,D,C,_,S,k,T,A){function P(){this.reset()}return P.prototype.apply=function(d){if(null==(d=t.extend(!0,{},this.defaults,d)).dataAdapter){if(d.dataAdapter=null!=d.ajax?p:null!=d.data?f:h,d.minimumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,v)),d.maximumInputLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,y)),d.maximumSelectionLength>0&&(d.dataAdapter=c.Decorate(d.dataAdapter,b)),d.tags&&(d.dataAdapter=c.Decorate(d.dataAdapter,g)),null==d.tokenSeparators&&null==d.tokenizer||(d.dataAdapter=c.Decorate(d.dataAdapter,m)),null!=d.query){var u=e(d.amdBase+"compat/query");d.dataAdapter=c.Decorate(d.dataAdapter,u)}if(null!=d.initSelection){var A=e(d.amdBase+"compat/initSelection");d.dataAdapter=c.Decorate(d.dataAdapter,A)}}if(null==d.resultsAdapter&&(d.resultsAdapter=n,null!=d.ajax&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,C)),null!=d.placeholder&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,D)),d.selectOnClose&&(d.resultsAdapter=c.Decorate(d.resultsAdapter,k))),null==d.dropdownAdapter){if(d.multiple)d.dropdownAdapter=w;else{var P=c.Decorate(w,x);d.dropdownAdapter=P}if(0!==d.minimumResultsForSearch&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,S)),d.closeOnSelect&&(d.dropdownAdapter=c.Decorate(d.dropdownAdapter,T)),null!=d.dropdownCssClass||null!=d.dropdownCss||null!=d.adaptDropdownCssClass){var E=e(d.amdBase+"compat/dropdownCss");d.dropdownAdapter=c.Decorate(d.dropdownAdapter,E)}d.dropdownAdapter=c.Decorate(d.dropdownAdapter,_)}if(null==d.selectionAdapter){if(d.selectionAdapter=d.multiple?o:i,null!=d.placeholder&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,r)),d.allowClear&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,a)),d.multiple&&(d.selectionAdapter=c.Decorate(d.selectionAdapter,s)),null!=d.containerCssClass||null!=d.containerCss||null!=d.adaptContainerCssClass){var M=e(d.amdBase+"compat/containerCss");d.selectionAdapter=c.Decorate(d.selectionAdapter,M)}d.selectionAdapter=c.Decorate(d.selectionAdapter,l)}d.language=this._resolveLanguage(d.language),d.language.push("en");for(var R=[],N=0;N<d.language.length;N++){var I=d.language[N];-1===R.indexOf(I)&&R.push(I)}return d.language=R,d.translations=this._processTranslations(d.language,d.debug),d},P.prototype.reset=function(){function e(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return u[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:c.escapeMarkup,language:{},matcher:function n(i,o){if(""===t.trim(i.term))return o;if(o.children&&o.children.length>0){for(var r=t.extend(!0,{},o),a=o.children.length-1;a>=0;a--)null==n(i,o.children[a])&&r.children.splice(a,1);return r.children.length>0?r:n(i,r)}var s=e(o.text).toUpperCase(),l=e(i.term).toUpperCase();return s.indexOf(l)>-1?o:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},P.prototype.applyFromElement=function(t,e){var n=t.language,i=this.defaults.language,o=e.prop("lang"),r=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(o),this._resolveLanguage(n),this._resolveLanguage(i),this._resolveLanguage(r));return t.language=a,t},P.prototype._resolveLanguage=function(e){if(!e)return[];if(t.isEmptyObject(e))return[];if(t.isPlainObject(e))return[e];var n;n=t.isArray(e)?e:[e];for(var i=[],o=0;o<n.length;o++)if(i.push(n[o]),"string"==typeof n[o]&&n[o].indexOf("-")>0){var r=n[o].split("-");i.push(r[0])}return i},P.prototype._processTranslations=function(e,n){for(var i=new d,o=0;o<e.length;o++){var r=new d,a=e[o];if("string"==typeof a)try{r=d.loadPath(a)}catch(t){try{r=d.loadPath(a=this.defaults.amdLanguageBase+a)}catch(t){n&&window.console&&console.warn&&console.warn('Select2: The language file for "'+a+'" could not be automatically loaded. A fallback will be used instead.')}}else r=t.isPlainObject(a)?new d(a):a;i.extend(r)}return i},P.prototype.set=function(e,n){var i={};i[t.camelCase(e)]=n;var o=c._convertData(i);t.extend(!0,this.defaults,o)},new P}),e.define("select2/options",["require","jquery","./defaults","./utils"],function(t,e,n,i){function o(e,o){if(this.options=e,null!=o&&this.fromElement(o),null!=o&&(this.options=n.applyFromElement(this.options,o)),this.options=n.apply(this.options),o&&o.is("input")){var r=t(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=i.Decorate(this.options.dataAdapter,r)}}return o.prototype.fromElement=function(t){var n=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(this.options.dir=t.prop("dir")?t.prop("dir"):t.closest("[dir]").prop("dir")?t.closest("[dir]").prop("dir"):"ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),i.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),i.StoreData(t[0],"data",i.GetData(t[0],"select2Tags")),i.StoreData(t[0],"tags",!0)),i.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),t.attr("ajax--url",i.GetData(t[0],"ajaxUrl")),i.StoreData(t[0],"ajax-Url",i.GetData(t[0],"ajaxUrl")));var o={};function r(t,e){return e.toUpperCase()}for(var a=0;a<t[0].attributes.length;a++){var s=t[0].attributes[a].name;if("data-"==s.substr(0,"data-".length)){var l=s.substring("data-".length),c=i.GetData(t[0],l);o[l.replace(/-([a-z])/g,r)]=c}}e.fn.jquery&&"1."==e.fn.jquery.substr(0,2)&&t[0].dataset&&(o=e.extend(!0,{},t[0].dataset,o));var d=e.extend(!0,{},i.GetData(t[0]),o);for(var u in d=i._convertData(d))e.inArray(u,n)>-1||(e.isPlainObject(this.options[u])?e.extend(this.options[u],d[u]):this.options[u]=d[u]);return this},o.prototype.get=function(t){return this.options[t]},o.prototype.set=function(t,e){this.options[t]=e},o}),e.define("select2/core",["jquery","./options","./utils","./keys"],function(t,e,n,i){var o=function(t,i){null!=n.GetData(t[0],"select2")&&n.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),this.options=new e(i=i||{},t),o.__super__.constructor.call(this);var r=t.attr("tabindex")||0;n.StoreData(t[0],"old-tabindex",r),t.attr("tabindex","-1");var a=this.options.get("dataAdapter");this.dataAdapter=new a(t,this.options);var s=this.render();this._placeContainer(s);var l=this.options.get("selectionAdapter");this.selection=new l(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,s);var c=this.options.get("dropdownAdapter");this.dropdown=new c(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,s);var d=this.options.get("resultsAdapter");this.results=new d(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),n.StoreData(t[0],"select2",this),t.data("select2",this)};return n.Extend(o,n.Observable),o.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+n.generateChars(2):n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},o.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},o.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var i=this._resolveWidth(t,"style");return null!=i?i:this._resolveWidth(t,"element")}if("element"==e){var o=t.outerWidth(!1);return o<=0?"auto":o+"px"}if("style"==e){var r=t.attr("style");if("string"!=typeof r)return null;for(var a=r.split(";"),s=0,l=a.length;s<l;s+=1){var c=a[s].replace(/\s/g,"").match(n);if(null!==c&&c.length>=1)return c[1]}return null}return"computedstyle"==e?window.getComputedStyle(t[0]).width:e},o.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},o.prototype._registerDomEvents=function(){var t=this;this.$element.on("change.select2",function(){t.dataAdapter.current(function(e){t.trigger("selection:update",{data:e})})}),this.$element.on("focus.select2",function(e){t.trigger("focus",e)}),this._syncA=n.bind(this._syncAttributes,this),this._syncS=n.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=e?(this._observer=new e(function(e){t._syncA(),t._syncS(null,e)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",t._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",t._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",t._syncS,!1))},o.prototype._registerDataEvents=function(){var t=this;this.dataAdapter.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerSelectionEvents=function(){var e=this,n=["toggle","focus"];this.selection.on("toggle",function(){e.toggleDropdown()}),this.selection.on("focus",function(t){e.focus(t)}),this.selection.on("*",function(i,o){-1===t.inArray(i,n)&&e.trigger(i,o)})},o.prototype._registerDropdownEvents=function(){var t=this;this.dropdown.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerResultsEvents=function(){var t=this;this.results.on("*",function(e,n){t.trigger(e,n)})},o.prototype._registerEvents=function(){var t=this;this.on("open",function(){t.$container.addClass("select2-container--open")}),this.on("close",function(){t.$container.removeClass("select2-container--open")}),this.on("enable",function(){t.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){t.$container.addClass("select2-container--disabled")}),this.on("blur",function(){t.$container.removeClass("select2-container--focus")}),this.on("query",function(e){t.isOpen()||t.trigger("open",{}),this.dataAdapter.query(e,function(n){t.trigger("results:all",{data:n,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(n){t.trigger("results:append",{data:n,query:e})})}),this.on("keypress",function(e){var n=e.which;t.isOpen()?n===i.ESC||n===i.TAB||n===i.UP&&e.altKey?(t.close(e),e.preventDefault()):n===i.ENTER?(t.trigger("results:select",{}),e.preventDefault()):n===i.SPACE&&e.ctrlKey?(t.trigger("results:toggle",{}),e.preventDefault()):n===i.UP?(t.trigger("results:previous",{}),e.preventDefault()):n===i.DOWN&&(t.trigger("results:next",{}),e.preventDefault()):(n===i.ENTER||n===i.SPACE||n===i.DOWN&&e.altKey)&&(t.open(),e.preventDefault())})},o.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},o.prototype._isChangeMutation=function(e,n){var i=!1,o=this;if(!e||!e.target||"OPTION"===e.target.nodeName||"OPTGROUP"===e.target.nodeName){if(n)if(n.addedNodes&&n.addedNodes.length>0)for(var r=0;r<n.addedNodes.length;r++)n.addedNodes[r].selected&&(i=!0);else n.removedNodes&&n.removedNodes.length>0?i=!0:t.isArray(n)&&t.each(n,function(t,e){if(o._isChangeMutation(t,e))return i=!0,!1});else i=!0;return i}},o.prototype._syncSubtree=function(t,e){var n=this;this._isChangeMutation(t,e)&&this.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})},o.prototype.trigger=function(t,e){var n=o.__super__.trigger,i={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in i){var r={prevented:!1,name:t,args:e};if(n.call(this,i[t],r),r.prevented)return void(e.prevented=!0)}n.call(this,t,e)},o.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},o.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},o.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},o.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},o.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},o.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=t&&0!==t.length||(t=[!0]),this.$element.prop("disabled",!t[0])},o.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var t=[];return this.dataAdapter.current(function(e){t=e}),t},o.prototype.val=function(e){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==e||0===e.length)return this.$element.val();var n=e[0];t.isArray(n)&&(n=t.map(n,function(t){return t.toString()})),this.$element.val(n).trigger("input").trigger("change")},o.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",n.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),n.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},o.prototype.render=function(){var e=t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return e.attr("dir",this.options.get("dir")),this.$container=e,this.$container.addClass("select2-container--"+this.options.get("theme")),n.StoreData(e[0],"element",this.$element),e},o}),e.define("select2/compat/utils",["jquery"],function(t){return{syncCssClasses:function(e,n,i){var o,r,a=[];(o=t.trim(e.attr("class")))&&t((o=""+o).split(/\s+/)).each(function(){0===this.indexOf("select2-")&&a.push(this)}),(o=t.trim(n.attr("class")))&&t((o=""+o).split(/\s+/)).each(function(){0!==this.indexOf("select2-")&&null!=(r=i(this))&&a.push(r)}),e.attr("class",a.join(" "))}}}),e.define("select2/compat/containerCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),r=this.options.get("containerCssClass")||"";t.isFunction(r)&&(r=r(this.$element));var a=this.options.get("adaptContainerCssClass");if(a=a||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("containerCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(o,this.$element,a),o.css(l),o.addClass(r),o},i}),e.define("select2/compat/dropdownCss",["jquery","./utils"],function(t,e){function n(t){return null}function i(){}return i.prototype.render=function(i){var o=i.call(this),r=this.options.get("dropdownCssClass")||"";t.isFunction(r)&&(r=r(this.$element));var a=this.options.get("adaptDropdownCssClass");if(a=a||n,-1!==r.indexOf(":all:")){r=r.replace(":all:","");var s=a;a=function(t){var e=s(t);return null!=e?e+" "+t:t}}var l=this.options.get("dropdownCss")||{};return t.isFunction(l)&&(l=l(this.$element)),e.syncCssClasses(o,this.$element,a),o.css(l),o.addClass(r),o},i}),e.define("select2/compat/initSelection",["jquery"],function(t){function e(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"),this.initSelection=n.get("initSelection"),this._isInitialized=!1,t.call(this,e,n)}return e.prototype.current=function(e,n){var i=this;this._isInitialized?e.call(this,n):this.initSelection.call(null,this.$element,function(e){i._isInitialized=!0,t.isArray(e)||(e=[e]),n(e)})},e}),e.define("select2/compat/inputData",["jquery","../utils"],function(t,e){function n(t,e,n){this._currentData=[],this._valueSeparator=n.get("valueSeparator")||",","hidden"===e.prop("type")&&n.get("debug")&&console&&console.warn&&console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."),t.call(this,e,n)}return n.prototype.current=function(e,n){function i(e,n){var o=[];return e.selected||-1!==t.inArray(e.id,n)?(e.selected=!0,o.push(e)):e.selected=!1,e.children&&o.push.apply(o,i(e.children,n)),o}for(var o=[],r=0;r<this._currentData.length;r++)o.push.apply(o,i(this._currentData[r],this.$element.val().split(this._valueSeparator)));n(o)},n.prototype.select=function(e,n){if(this.options.get("multiple")){var i=this.$element.val();this.$element.val(i+=this._valueSeparator+n.id),this.$element.trigger("input").trigger("change")}else this.current(function(e){t.map(e,function(t){t.selected=!1})}),this.$element.val(n.id),this.$element.trigger("input").trigger("change")},n.prototype.unselect=function(t,e){var n=this;e.selected=!1,this.current(function(t){for(var i=[],o=0;o<t.length;o++){var r=t[o];e.id!=r.id&&i.push(r.id)}n.$element.val(i.join(n._valueSeparator)),n.$element.trigger("input").trigger("change")})},n.prototype.query=function(t,e,n){for(var i=[],o=0;o<this._currentData.length;o++){var r=this.matches(e,this._currentData[o]);null!==r&&i.push(r)}n({results:i})},n.prototype.addOptions=function(n,i){var o=t.map(i,function(t){return e.GetData(t[0],"data")});this._currentData.push.apply(this._currentData,o)},n}),e.define("select2/compat/matcher",["jquery"],function(t){return function(e){return function(n,i){var o=t.extend(!0,{},i);if(null==n.term||""===t.trim(n.term))return o;if(i.children){for(var r=i.children.length-1;r>=0;r--){var a=i.children[r];e(n.term,a.text,a)||o.children.splice(r,1)}if(o.children.length>0)return o}return e(n.term,i.text,i)?o:null}}}),e.define("select2/compat/query",[],function(){function t(t,e,n){n.get("debug")&&window.console&&console.warn&&console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.callback=n,this.options.get("query").call(null,e)},t}),e.define("select2/dropdown/attachContainer",[],function(){function t(t,e,n){t.call(this,e,n)}return t.prototype.position=function(t,e,n){n.find(".dropdown-wrapper").append(e),e.addClass("select2-dropdown--below"),n.addClass("select2-container--below")},t}),e.define("select2/dropdown/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$dropdown.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),e.define("select2/selection/stopPropagation",[],function(){function t(){}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$selection.on(["blur","change","click","dblclick","focus","focusin","focusout","input","keydown","keyup","keypress","mousedown","mouseenter","mouseleave","mousemove","mouseover","mouseup","search","touchend","touchstart"].join(" "),function(t){t.stopPropagation()})},t}),r=function(t){var e,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],o="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],r=Array.prototype.slice;if(t.event.fixHooks)for(var a=i.length;a;)t.event.fixHooks[i[--a]]=t.event.mouseHooks;var s=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=o.length;e;)this.addEventListener(o[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",s.getLineHeight(this)),t.data(this,"mousewheel-page-height",s.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=o.length;e;)this.removeEventListener(o[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var o,a=i||window.event,l=r.call(arguments,1),u=0,h=0,f=0,p=0,g=0;if((i=t.event.fix(a)).type="mousewheel","detail"in a&&(f=-1*a.detail),"wheelDelta"in a&&(f=a.wheelDelta),"wheelDeltaY"in a&&(f=a.wheelDeltaY),"wheelDeltaX"in a&&(h=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(h=-1*f,f=0),u=0===f?h:f,"deltaY"in a&&(u=f=-1*a.deltaY),"deltaX"in a&&(h=a.deltaX,0===f&&(u=-1*h)),0!==f||0!==h){if(1===a.deltaMode){var m=t.data(this,"mousewheel-line-height");u*=m,f*=m,h*=m}else if(2===a.deltaMode){var v=t.data(this,"mousewheel-page-height");u*=v,f*=v,h*=v}if(o=Math.max(Math.abs(f),Math.abs(h)),(!n||o<n)&&(n=o,d(a,o)&&(n/=40)),d(a,o)&&(u/=40,h/=40,f/=40),u=Math[u>=1?"floor":"ceil"](u/n),h=Math[h>=1?"floor":"ceil"](h/n),f=Math[f>=1?"floor":"ceil"](f/n),s.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=i.clientX-y.left,g=i.clientY-y.top}return i.deltaX=h,i.deltaY=f,i.deltaFactor=n,i.offsetX=p,i.offsetY=g,i.deltaMode=0,l.unshift(i,u,h,f),e&&clearTimeout(e),e=setTimeout(c,200),(t.event.dispatch||t.event.handle).apply(this,l)}}function c(){n=null}function d(t,e){return s.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})},"function"==typeof e.define&&e.define.amd?e.define("jquery-mousewheel",["jquery"],r):"object"==typeof exports?module.exports=r:r(t),e.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(t,e,n,i,o){if(null==t.fn.select2){var r=["open","close","destroy"];t.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var i=t.extend(!0,{},e);new n(t(this),i)}),this;if("string"==typeof e){var i,a=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=o.GetData(this,"select2");null==t&&window.console&&console.error&&console.error("The select2('"+e+"') method was called on an element that is not using Select2."),i=t[e].apply(t,a)}),t.inArray(e,r)>-1?this:i}throw new Error("Invalid arguments for Select2: "+e)}}return null==t.fn.select2.defaults&&(t.fn.select2.defaults=i),n}),{define:e.define,require:e.require}}(),n=e.require("jquery.select2");return t.fn.select2.amd=e,n}),"undefined"==typeof jQuery)throw new Error("AdminLTE requires jQuery");var wysihtml5,Base,Handlebars;!function(t){"use strict";function e(e){return this.each(function(){var o=t(this),a=o.data(n);if(!a){var s=t.extend({},i,o.data(),"object"==typeof e&&e);o.data(n,a=new r(o,s))}if("string"==typeof a){if(void 0===a[e])throw new Error("No method named "+e);a[e]()}})}var n="lte.boxrefresh",i={source:"",params:{},trigger:".refresh-btn",content:".box-body",loadInContent:!0,responseType:"",overlayTemplate:'<div class="overlay"><div class="fa fa-refresh fa-spin"></div></div>',onLoadStart:function(){},onLoadDone:function(t){return t}},o={data:'[data-widget="box-refresh"]'},r=function(e,n){if(this.element=e,this.options=n,this.$overlay=t(n.overlay),""===n.source)throw new Error("Source url was not defined. Please specify a url in your BoxRefresh source option.");this._setUpListeners(),this.load()};r.prototype.load=function(){this._addOverlay(),this.options.onLoadStart.call(t(this)),t.get(this.options.source,this.options.params,(function(e){this.options.loadInContent&&t(this.options.content).html(e),this.options.onLoadDone.call(t(this),e),this._removeOverlay()}).bind(this),""!==this.options.responseType&&this.options.responseType)},r.prototype._setUpListeners=function(){t(this.element).on("click",o.trigger,(function(t){t&&t.preventDefault(),this.load()}).bind(this))},r.prototype._addOverlay=function(){t(this.element).append(this.$overlay)},r.prototype._removeOverlay=function(){t(this.element).remove(this.$overlay)};var a=t.fn.boxRefresh;t.fn.boxRefresh=e,t.fn.boxRefresh.Constructor=r,t.fn.boxRefresh.noConflict=function(){return t.fn.boxRefresh=a,this},t(window).on("load",function(){t(o.data).each(function(){e.call(t(this))})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),a=r.data(n);if(!a){var s=t.extend({},i,r.data(),"object"==typeof e&&e);r.data(n,a=new o(r,s))}if("string"==typeof e){if(void 0===a[e])throw new Error("No method named "+e);a[e]()}})}var n="lte.boxwidget",i={animationSpeed:500,collapseTrigger:'[data-widget="collapse"]',removeTrigger:'[data-widget="remove"]',collapseIcon:"fa-minus",expandIcon:"fa-plus",removeIcon:"fa-times"},o=function(t,e){this.element=t,this.options=e,this._setUpListeners()};o.prototype.toggle=function(){t(this.element).is(".collapsed-box")?this.expand():this.collapse()},o.prototype.expand=function(){var e=t.Event("expanded.boxwidget"),n=this.options.collapseIcon,i=this.options.expandIcon;t(this.element).removeClass("collapsed-box"),t(this.element).children(".box-header, .box-body, .box-footer").children(".box-tools").find("."+i).removeClass(i).addClass(n),t(this.element).children(".box-body, .box-footer").slideDown(this.options.animationSpeed,(function(){t(this.element).trigger(e)}).bind(this))},o.prototype.collapse=function(){var e=t.Event("collapsed.boxwidget"),n=this.options.collapseIcon,i=this.options.expandIcon;t(this.element).children(".box-header, .box-body, .box-footer").children(".box-tools").find("."+n).removeClass(n).addClass(i),t(this.element).children(".box-body, .box-footer").slideUp(this.options.animationSpeed,(function(){t(this.element).addClass("collapsed-box"),t(this.element).trigger(e)}).bind(this))},o.prototype.remove=function(){var e=t.Event("removed.boxwidget");t(this.element).slideUp(this.options.animationSpeed,(function(){t(this.element).trigger(e),t(this.element).remove()}).bind(this))},o.prototype._setUpListeners=function(){var e=this;t(this.element).on("click",this.options.collapseTrigger,function(n){return n&&n.preventDefault(),e.toggle(t(this)),!1}),t(this.element).on("click",this.options.removeTrigger,function(n){return n&&n.preventDefault(),e.remove(t(this)),!1})};var r=t.fn.boxWidget;t.fn.boxWidget=e,t.fn.boxWidget.Constructor=o,t.fn.boxWidget.noConflict=function(){return t.fn.boxWidget=r,this},t(window).on("load",function(){t(".box").each(function(){e.call(t(this))})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data(n);if(!r){var a=t.extend({},i,o.data(),"object"==typeof e&&e);o.data(n,r=new s(o,a))}"string"==typeof e&&r.toggle()})}var n="lte.controlsidebar",i={slide:!0},o='[data-toggle="control-sidebar"]',r=".control-sidebar-open",a="control-sidebar-open",s=function(t,e){this.element=t,this.options=e,this.hasBindedResize=!1,this.init()};s.prototype.init=function(){t(this.element).is(o)||t(this).on("click",this.toggle),this.fix(),t(window).resize((function(){this.fix()}).bind(this))},s.prototype.toggle=function(e){e&&e.preventDefault(),this.fix(),t(".control-sidebar").is(r)||t("body").is(r)?this.collapse():this.expand()},s.prototype.expand=function(){this.options.slide?t(".control-sidebar").addClass(a):t("body").addClass(a),t(this.element).trigger(t.Event("expanded.controlsidebar"))},s.prototype.collapse=function(){t("body, .control-sidebar").removeClass(a),t(this.element).trigger(t.Event("collapsed.controlsidebar"))},s.prototype.fix=function(){t("body").is(".layout-boxed")&&this._fixForBoxed(t(".control-sidebar-bg"))},s.prototype._fixForBoxed=function(e){e.css({position:"absolute",height:t(".wrapper").height()})};var l=t.fn.controlSidebar;t.fn.controlSidebar=e,t.fn.controlSidebar.Constructor=s,t.fn.controlSidebar.noConflict=function(){return t.fn.controlSidebar=l,this},t(document).on("click",o,function(n){n&&n.preventDefault(),e.call(t(this),"toggle")})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data(n);r||o.data(n,r=new i(o)),"string"==typeof e&&r.toggle(o)})}var n="lte.directchat",i=function(t){this.element=t};i.prototype.toggle=function(t){t.parents(".direct-chat").first().toggleClass("direct-chat-contacts-open")};var o=t.fn.directChat;t.fn.directChat=e,t.fn.directChat.Constructor=i,t.fn.directChat.noConflict=function(){return t.fn.directChat=o,this},t(document).on("click",'[data-widget="chat-pane-toggle"]',function(n){n&&n.preventDefault(),e.call(t(this),"toggle")})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var r=t(this),a=r.data(n);if(!a){var s=t.extend({},i,r.data(),"object"==typeof e&&e);r.data(n,a=new o(s))}if("string"==typeof e){if(void 0===a[e])throw new Error("No method named "+e);a[e]()}})}var n="lte.layout",i={slimscroll:!0,resetHeight:!0},o=function(t){this.options=t,this.bindedResize=!1,this.activate()};o.prototype.activate=function(){this.fix(),this.fixSidebar(),t("body").removeClass("hold-transition"),this.options.resetHeight&&t("body, html, .wrapper").css({height:"auto","min-height":"100%"}),this.bindedResize||(t(window).resize((function(){this.fix(),this.fixSidebar(),t(".main-header .logo, .sidebar").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",(function(){this.fix(),this.fixSidebar()}).bind(this))}).bind(this)),this.bindedResize=!0),t(".sidebar-menu").on("expanded.tree",(function(){this.fix(),this.fixSidebar()}).bind(this)),t(".sidebar-menu").on("collapsed.tree",(function(){this.fix(),this.fixSidebar()}).bind(this))},o.prototype.fix=function(){t(".layout-boxed > .wrapper").css("overflow","hidden");var e=t(".main-footer").outerHeight()||0,n=t(".main-header").outerHeight()+e,i=t(window).height(),o=t(".sidebar").height()||0;if(t("body").hasClass("fixed"))t(".content-wrapper").css("min-height",i-e);else{var r;i>=o?(t(".content-wrapper").css("min-height",i-n),r=i-n):(t(".content-wrapper").css("min-height",o),r=o);var a=t(".control-sidebar");void 0!==a&&a.height()>r&&t(".content-wrapper").css("min-height",a.height())}},o.prototype.fixSidebar=function(){t("body").hasClass("fixed")?this.options.slimscroll&&void 0!==t.fn.slimScroll&&t(".sidebar").slimScroll({height:t(window).height()-t(".main-header").height()+"px"}):void 0!==t.fn.slimScroll&&t(".sidebar").slimScroll({destroy:!0}).height("auto")};var r=t.fn.layout;t.fn.layout=e,t.fn.layout.Constuctor=o,t.fn.layout.noConflict=function(){return t.fn.layout=r,this},t(window).on("load",function(){e.call(t("body"))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),r=o.data(n);if(!r){var a=t.extend({},i,o.data(),"object"==typeof e&&e);o.data(n,r=new s(a))}"toggle"===e&&r.toggle()})}var n="lte.pushmenu",i={collapseScreenSize:767,expandOnHover:!1,expandTransitionDelay:200},o='[data-toggle="push-menu"]',r="sidebar-collapse",a="sidebar-open",s=function(t){this.options=t,this.init()};s.prototype.init=function(){(this.options.expandOnHover||t("body").is(".sidebar-mini.fixed"))&&(this.expandOnHover(),t("body").addClass("sidebar-mini-expand-feature")),t(".content-wrapper").click((function(){t(window).width()<=this.options.collapseScreenSize&&t("body").hasClass(a)&&this.close()}).bind(this)),t(".sidebar-form .form-control").click(function(t){t.stopPropagation()})},s.prototype.toggle=function(){var e=t(window).width(),n=!t("body").hasClass(r);e<=this.options.collapseScreenSize&&(n=t("body").hasClass(a)),n?this.close():this.open()},s.prototype.open=function(){t(window).width()>this.options.collapseScreenSize?t("body").removeClass(r).trigger(t.Event("expanded.pushMenu")):t("body").addClass(a).trigger(t.Event("expanded.pushMenu"))},s.prototype.close=function(){t(window).width()>this.options.collapseScreenSize?t("body").addClass(r).trigger(t.Event("collapsed.pushMenu")):t("body").removeClass(a+" "+r).trigger(t.Event("collapsed.pushMenu"))},s.prototype.expandOnHover=function(){t(".main-sidebar").hover((function(){t("body").is(".sidebar-mini.sidebar-collapse")&&t(window).width()>this.options.collapseScreenSize&&this.expand()}).bind(this),(function(){t("body").is(".sidebar-expanded-on-hover")&&this.collapse()}).bind(this))},s.prototype.expand=function(){setTimeout(function(){t("body").removeClass(r).addClass("sidebar-expanded-on-hover")},this.options.expandTransitionDelay)},s.prototype.collapse=function(){setTimeout(function(){t("body").removeClass("sidebar-expanded-on-hover").addClass(r)},this.options.expandTransitionDelay)};var l=t.fn.pushMenu;t.fn.pushMenu=e,t.fn.pushMenu.Constructor=s,t.fn.pushMenu.noConflict=function(){return t.fn.pushMenu=l,this},t(document).on("click",o,function(n){n.preventDefault(),e.call(t(this),"toggle")}),t(window).on("load",function(){e.call(t(o))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this),a=o.data(n);if(!a){var s=t.extend({},i,o.data(),"object"==typeof e&&e);o.data(n,a=new r(o,s))}if("string"==typeof a){if(void 0===a[e])throw new Error("No method named "+e);a[e]()}})}var n="lte.todolist",i={onCheck:function(t){return t},onUnCheck:function(t){return t}},o={data:'[data-widget="todo-list"]'},r=function(t,e){this.element=t,this.options=e,this._setUpListeners()};r.prototype.toggle=function(t){t.parents(o.li).first().toggleClass("done"),t.prop("checked")?this.check(t):this.unCheck(t)},r.prototype.check=function(t){this.options.onCheck.call(t)},r.prototype.unCheck=function(t){this.options.onUnCheck.call(t)},r.prototype._setUpListeners=function(){var e=this;t(this.element).on("change ifChanged","input:checkbox",function(){e.toggle(t(this))})};var a=t.fn.todoList;t.fn.todoList=e,t.fn.todoList.Constructor=r,t.fn.todoList.noConflict=function(){return t.fn.todoList=a,this},t(window).on("load",function(){t(o.data).each(function(){e.call(t(this))})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var o=t(this);if(!o.data(n)){var r=t.extend({},i,o.data(),"object"==typeof e&&e);o.data(n,new a(o,r))}})}var n="lte.tree",i={animationSpeed:500,accordion:!0,followLink:!1,trigger:".treeview a"},o=".menu-open, .active",r="menu-open",a=function(e,n){this.element=e,this.options=n,t(this.element).addClass("tree"),t(".treeview.active",this.element).addClass(r),this._setUpListeners()};a.prototype.toggle=function(t,e){var n=t.next(".treeview-menu"),i=t.parent(),o=i.hasClass(r);i.is(".treeview")&&(this.options.followLink&&"#"!==t.attr("href")||e.preventDefault(),o?this.collapse(n,i):this.expand(n,i))},a.prototype.expand=function(e,n){var i=t.Event("expanded.tree");if(this.options.accordion){var a=n.siblings(o),s=a.children(".treeview-menu");this.collapse(s,a)}n.addClass(r),e.slideDown(this.options.animationSpeed,(function(){t(this.element).trigger(i)}).bind(this))},a.prototype.collapse=function(e,n){var i=t.Event("collapsed.tree");e.find(o).removeClass(r),n.removeClass(r),e.slideUp(this.options.animationSpeed,(function(){e.find(o+" > .treeview").slideUp(),t(this.element).trigger(i)}).bind(this))},a.prototype._setUpListeners=function(){var e=this;t(this.element).on("click",this.options.trigger,function(n){e.toggle(t(this),n)})};var s=t.fn.tree;t.fn.tree=e,t.fn.tree.Constructor=a,t.fn.tree.noConflict=function(){return t.fn.tree=s,this},t(window).on("load",function(){t('[data-widget="tree"]').each(function(){e.call(t(this))})})}(jQuery),function(t){function e(e){var n=t(e);n.prop("disabled")||n.closest(".form-group").addClass("is-focused")}function n(n){var o=!1;(n.is(t.material.options.checkboxElements)||n.is(t.material.options.radioElements))&&(o=!0),n.closest("label").hover(function(){var n=t(this).find("input"),i=n.prop("disabled");o&&function(t,e){(t.hasClass("checkbox-inline")||t.hasClass("radio-inline")?t:t.closest(".checkbox").length?t.closest(".checkbox"):t.closest(".radio")).toggleClass("disabled",e)}(t(this),i),i||e(n)},function(){i(t(this).find("input"))})}function i(e){t(e).closest(".form-group").removeClass("is-focused")}t.expr[":"].notmdproc=function(e){return!t(e).data("mdproc")},t.material={options:{validate:!0,input:!0,ripples:!0,checkbox:!0,togglebutton:!0,radio:!0,arrive:!0,autofill:!1,withRipples:[".btn:not(.btn-link)",".card-image",".navbar a:not(.withoutripple)",".dropdown-menu a",".nav-tabs a:not(.withoutripple)",".withripple",".pagination li:not(.active):not(.disabled) a:not(.withoutripple)"].join(","),inputElements:"input.form-control, textarea.form-control, select.form-control",checkboxElements:".checkbox > label > input[type=checkbox], label.checkbox-inline > input[type=checkbox]",togglebuttonElements:".togglebutton > label > input[type=checkbox]",radioElements:".radio > label > input[type=radio], label.radio-inline > input[type=radio]"},checkbox:function(e){n(t(e||this.options.checkboxElements).filter(":notmdproc").data("mdproc",!0).after("<span class='checkbox-material'><span class='check'></span></span>"))},togglebutton:function(e){n(t(e||this.options.togglebuttonElements).filter(":notmdproc").data("mdproc",!0).after("<span class='toggle'></span>"))},radio:function(e){n(t(e||this.options.radioElements).filter(":notmdproc").data("mdproc",!0).after("<span class='circle'></span><span class='check'></span>"))},input:function(e){t(e||this.options.inputElements).filter(":notmdproc").data("mdproc",!0).each(function(){var e=t(this),n=e.closest(".form-group");if(0!==n.length||"hidden"===e.attr("type")||e.attr("hidden")||(e.wrap("<div class='form-group'></div>"),n=e.closest(".form-group")),e.attr("data-hint")&&(e.after("<p class='help-block'>"+e.attr("data-hint")+"</p>"),e.removeAttr("data-hint")),t.each({"input-lg":"form-group-lg","input-sm":"form-group-sm"},function(t,i){e.hasClass(t)&&(e.removeClass(t),n.addClass(i))}),e.hasClass("floating-label")){var i=e.attr("placeholder");e.attr("placeholder",null).removeClass("floating-label");var o=e.attr("id"),r="";o&&(r="for='"+o+"'"),n.addClass("label-floating"),e.after("<label "+r+"class='control-label'>"+i+"</label>")}(null===e.val()||"undefined"==e.val()||""===e.val())&&n.addClass("is-empty"),n.find("input[type=file]").length>0&&n.addClass("is-fileinput")})},attachInputEventHandlers:function(){var n=this.options.validate;t(document).on("keydown paste",".form-control",function(e){(void 0===e.which||"number"==typeof e.which&&e.which>0&&!e.ctrlKey&&!e.metaKey&&!e.altKey&&8!=e.which&&9!=e.which&&13!=e.which&&16!=e.which&&17!=e.which&&20!=e.which&&27!=e.which)&&t(this).closest(".form-group").removeClass("is-empty")}).on("keyup change",".form-control",function(){var e=t(this),i=e.closest(".form-group"),o=void 0===e[0].checkValidity||e[0].checkValidity();""===e.val()?i.addClass("is-empty"):i.removeClass("is-empty"),n&&(o?i.removeClass("has-error"):i.addClass("has-error"))}).on("focus",".form-control, .form-group.is-fileinput",function(){e(this)}).on("blur",".form-control, .form-group.is-fileinput",function(){i(this)}).on("change",".form-group input",function(){var e=t(this);if("file"!=e.attr("type")){var n=e.closest(".form-group");e.val()?n.removeClass("is-empty"):n.addClass("is-empty")}}).on("change",".form-group.is-fileinput input[type='file']",function(){var e=t(this).closest(".form-group"),n="";t.each(this.files,function(t,e){n+=e.name+", "}),(n=n.substring(0,n.length-2))?e.removeClass("is-empty"):e.addClass("is-empty"),e.find("input.form-control[readonly]").val(n)})},ripples:function(e){t(e||this.options.withRipples).ripples()},autofill:function(){var e=setInterval(function(){t("input[type!=checkbox]").each(function(){var e=t(this);e.val()&&e.val()!==e.attr("value")&&e.trigger("change")})},100);setTimeout(function(){clearInterval(e)},1e4)},attachAutofillEventHandlers:function(){var e;t(document).on("focus","input",function(){var n=t(this).parents("form").find("input").not("[type=file]");e=setInterval(function(){n.each(function(){var e=t(this);e.val()!==e.attr("value")&&e.trigger("change")})},100)}).on("blur",".form-group input",function(){clearInterval(e)})},init:function(e){this.options=t.extend({},this.options,e);var n=t(document);t.fn.ripples&&this.options.ripples&&this.ripples(),this.options.input&&(this.input(),this.attachInputEventHandlers()),this.options.checkbox&&this.checkbox(),this.options.togglebutton&&this.togglebutton(),this.options.radio&&this.radio(),this.options.autofill&&(this.autofill(),this.attachAutofillEventHandlers()),document.arrive&&this.options.arrive&&(t.fn.ripples&&this.options.ripples&&n.arrive(this.options.withRipples,function(){t.material.ripples(t(this))}),this.options.input&&n.arrive(this.options.inputElements,function(){t.material.input(t(this))}),this.options.checkbox&&n.arrive(this.options.checkboxElements,function(){t.material.checkbox(t(this))}),this.options.radio&&n.arrive(this.options.radioElements,function(){t.material.radio(t(this))}),this.options.togglebutton&&n.arrive(this.options.togglebuttonElements,function(){t.material.togglebutton(t(this))}))}}}(jQuery),function(t,e,n,i){"use strict";function o(e,n){a=this,this.element=t(e),this.options=t.extend({},s,n),this._defaults=s,this._name=r,this.init()}var r="ripples",a=null,s={};o.prototype.init=function(){var n=this.element;n.on("mousedown touchstart",function(i){if(!a.isTouch()||"mousedown"!==i.type){n.find(".ripple-container").length||n.append('<div class="ripple-container"></div>');var o=n.children(".ripple-container"),r=a.getRelY(o,i),s=a.getRelX(o,i);if(r||s){var l=a.getRipplesColor(n),c=t("<div></div>");c.addClass("ripple").css({left:s,top:r,"background-color":l}),o.append(c),e.getComputedStyle(c[0]),a.rippleOn(n,c),setTimeout(function(){a.rippleEnd(c)},500),n.on("mouseup mouseleave touchend",function(){c.data("mousedown","off"),"off"===c.data("animating")&&a.rippleOut(c)})}}})},o.prototype.getNewSize=function(t,e){return Math.max(t.outerWidth(),t.outerHeight())/e.outerWidth()*2.5},o.prototype.getRelX=function(t,e){var n=t.offset();return a.isTouch()?1===(e=e.originalEvent).touches.length&&e.touches[0].pageX-n.left:e.pageX-n.left},o.prototype.getRelY=function(t,e){var n=t.offset();return a.isTouch()?1===(e=e.originalEvent).touches.length&&e.touches[0].pageY-n.top:e.pageY-n.top},o.prototype.getRipplesColor=function(t){return t.data("ripple-color")?t.data("ripple-color"):e.getComputedStyle(t[0]).color},o.prototype.hasTransitionSupport=function(){var t=(n.body||n.documentElement).style;return t.transition!==i||t.WebkitTransition!==i||t.MozTransition!==i||t.MsTransition!==i||t.OTransition!==i},o.prototype.isTouch=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},o.prototype.rippleEnd=function(t){t.data("animating","off"),"off"===t.data("mousedown")&&a.rippleOut(t)},o.prototype.rippleOut=function(t){t.off(),a.hasTransitionSupport()?t.addClass("ripple-out"):t.animate({opacity:0},100,function(){t.trigger("transitionend")}),t.on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){t.remove()})},o.prototype.rippleOn=function(t,e){var n=a.getNewSize(t,e);a.hasTransitionSupport()?e.css({"-ms-transform":"scale("+n+")","-moz-transform":"scale("+n+")","-webkit-transform":"scale("+n+")",transform:"scale("+n+")"}).addClass("ripple-on").data("animating","on").data("mousedown","on"):e.animate({width:2*Math.max(t.outerWidth(),t.outerHeight()),height:2*Math.max(t.outerWidth(),t.outerHeight()),"margin-left":-1*Math.max(t.outerWidth(),t.outerHeight()),"margin-top":-1*Math.max(t.outerWidth(),t.outerHeight()),opacity:.2},500,function(){e.trigger("transitionend")})},t.fn.ripples=function(e){return this.each(function(){t.data(this,"plugin_"+r)||t.data(this,"plugin_"+r,new o(this,e))})}}(jQuery,window,document),Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get&&function(){var t=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return t.get.call(this)},set:function(e){return t.set.call(this,e)}})}(),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),wysihtml5={version:"0.4.15",commands:{},dom:{},quirks:{},toolbar:{},lang:{},selection:{},views:{},INVISIBLE_SPACE:"\ufeff",EMPTY_FUNCTION:function(){},ELEMENT_NODE:1,TEXT_NODE:3,BACKSPACE_KEY:8,ENTER_KEY:13,ESCAPE_KEY:27,SPACE_KEY:32,DELETE_KEY:46},function(t,e){"function"==typeof define&&define.amd?define(t):e.rangy=t()}(function(){function t(t,e){var n=typeof t[e];return n==w||!(n!=b||!t[e])||"unknown"==n}function e(t,e){return!(typeof t[e]!=b||!t[e])}function n(t,e){return typeof t[e]!=x}function i(t){return function(e,n){for(var i=n.length;i--;)if(!t(e,n[i]))return!1;return!0}}function o(t){return t&&k(t,S)&&A(t,_)}function r(t){return e(t,"body")?t.body:t.getElementsByTagName("body")[0]}function a(n){e(window,"console")&&t(window.console,"log")&&window.console.log(n)}function s(t,e){e?window.alert(t):a(t)}function l(t){E.initialized=!0,E.supported=!1,s("Rangy is not supported on this page in your browser. Reason: "+t,E.config.alertOnFail)}function c(t){return t.message||t.description||t+""}function d(){var e,n,i,s,d,h,f,p;if(!E.initialized){if(n=!1,i=!1,t(document,"createRange")&&(e=document.createRange(),k(e,C)&&A(e,D)&&(n=!0)),!(s=r(document))||"body"!=s.nodeName.toLowerCase())return void l("No body element found");if(s&&t(s,"createTextRange")&&o(e=s.createTextRange())&&(i=!0),!n&&!i)return void l("Neither Range nor TextRange are available");for(h in E.initialized=!0,E.features={implementsDomRange:n,implementsTextRange:i},P)(d=P[h])instanceof u&&d.init(d,E);for(f=0,p=g.length;p>f;++f)try{g[f](E)}catch(t){a("Rangy init listener threw an exception. Continuing. Detail: "+c(t))}}}function u(t,e,n){this.name=t,this.dependencies=e,this.initialized=!1,this.supported=!1,this.initializer=n}function h(t,e,n,i){var o=new u(e,n,function(t){if(!t.initialized){t.initialized=!0;try{i(E,t),t.supported=!0}catch(t){a("Module '"+e+"' failed to load: "+c(t))}}});P[e]=o}function f(){}var p,g,m,v,y,b="object",w="function",x="undefined",D=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],C=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],_=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],S=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"],k=i(t),T=i(e),A=i(n),P={},E={version:"1.3alpha.20140804",initialized:!1,supported:!0,util:{isHostMethod:t,isHostObject:e,isHostProperty:n,areHostMethods:k,areHostObjects:T,areHostProperties:A,isTextRange:o,getBody:r},features:{},modules:P,config:{alertOnFail:!0,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==x||rangyAutoInitialize}};return E.fail=l,E.warn=function(t){s("Rangy warning: "+t,E.config.alertOnWarn)},{}.hasOwnProperty?E.util.extend=function(t,e,n){var i,o,r;for(r in e)e.hasOwnProperty(r)&&(i=t[r],o=e[r],n&&null!==i&&"object"==typeof i&&null!==o&&"object"==typeof o&&E.util.extend(i,o,!0),t[r]=o);return e.hasOwnProperty("toString")&&(t.toString=e.toString),t}:l("hasOwnProperty not supported"),function(){var t,e,n=document.createElement("div");n.appendChild(document.createElement("span")),t=[].slice;try{1==t.call(n.childNodes,0)[0].nodeType&&(e=function(e){return t.call(e,0)})}catch(t){}e||(e=function(t){var e,n,i=[];for(e=0,n=t.length;n>e;++e)i[e]=t[e];return i}),E.util.toArray=e}(),t(document,"addEventListener")?p=function(t,e,n){t.addEventListener(e,n,!1)}:t(document,"attachEvent")?p=function(t,e,n){t.attachEvent("on"+e,n)}:l("Document does not have required addEventListener or attachEvent method"),E.util.addListener=p,g=[],E.init=d,E.addInitListener=function(t){E.initialized?t(E):g.push(t)},m=[],E.addShimListener=function(t){m.push(t)},E.shim=E.createMissingNativeApi=function(t){t=t||window,d();for(var e=0,n=m.length;n>e;++e)m[e](t)},u.prototype={init:function(){var t,e,n,i,o=this.dependencies||[];for(t=0,e=o.length;e>t;++t){if(!((n=P[i=o[t]])&&n instanceof u))throw Error("required module '"+i+"' not found");if(n.init(),!n.supported)throw Error("required module '"+i+"' not supported")}this.initializer(this)},fail:function(t){throw this.initialized=!0,this.supported=!1,Error("Module '"+this.name+"' failed to load: "+t)},warn:function(t){E.warn("Module "+this.name+": "+t)},deprecationNotice:function(t,e){E.warn("DEPRECATED: "+t+" in module "+this.name+"is deprecated. Please use "+e+" instead")},createError:function(t){return Error("Error in Rangy "+this.name+" module: "+t)}},E.createModule=function(t){var e,n,i;2==arguments.length?(e=arguments[1],n=[]):(e=arguments[2],n=arguments[1]),i=h(0,t,n,e),E.initialized&&i.init()},E.createCoreModule=function(t,e,n){h(0,t,e,n)},E.RangePrototype=f,E.rangePrototype=new f,E.selectionPrototype=new function(){},v=!1,y=function(){v||(v=!0,!E.initialized&&E.config.autoInitialize&&d())},typeof window==x?void l("No window found"):typeof document==x?void l("No document found"):(t(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",y,!1),p(window,"load",y),E.createCoreModule("DomUtil",[],function(t,e){function n(t){for(var e=0;t=t.previousSibling;)++e;return e}function i(t,e){var n,i=[];for(n=t;n;n=n.parentNode)i.push(n);for(n=e;n;n=n.parentNode)if(b(i,n))return n;return null}function o(t,e,n){for(var i=n?e:e.parentNode;i;){if(i===t)return!0;i=i.parentNode}return!1}function r(t,e,n){for(var i,o=n?t:t.parentNode;o;){if((i=o.parentNode)===e)return o;o=i}return null}function a(t){var e=t.nodeType;return 3==e||4==e||8==e}function s(t,e){var n=e.nextSibling,i=e.parentNode;return n?i.insertBefore(t,n):i.appendChild(t),t}function l(t){if(9==t.nodeType)return t;if(typeof t.ownerDocument!=D)return t.ownerDocument;if(typeof t.document!=D)return t.document;if(t.parentNode)return l(t.parentNode);throw e.createError("getDocument: no document found for node")}function c(t){var n=l(t);if(typeof n.defaultView!=D)return n.defaultView;if(typeof n.parentWindow!=D)return n.parentWindow;throw e.createError("Cannot get a window object for node")}function d(t){if(typeof t.contentDocument!=D)return t.contentDocument;if(typeof t.contentWindow!=D)return t.contentWindow.document;throw e.createError("getIframeDocument: No Document object found for iframe element")}function u(t){return t&&C.isHostMethod(t,"setTimeout")&&C.isHostObject(t,"document")}function h(t){try{return!1}catch(t){return!0}}function f(t){return t?w&&h()?"[Broken node]":a(t)?'"'+t.data+'"':1==t.nodeType?"<"+t.nodeName+(t.id?' id="'+t.id+'"':"")+">[index:"+n(t)+",length:"+t.childNodes.length+"]["+(t.innerHTML||"[innerHTML not supported]").slice(0,25)+"]":t.nodeName:"[No node]"}function p(t){this.root=t,this._next=t}function g(t,e){this.node=t,this.offset=e}function m(t){this.code=this[t],this.codeName=t,this.message="DOMException: "+this.codeName}var v,y,b,w,x,D="undefined",C=t.util;C.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||e.fail("document missing a Node creation method"),C.isHostMethod(document,"getElementsByTagName")||e.fail("document missing getElementsByTagName method"),v=document.createElement("div"),C.areHostMethods(v,["insertBefore","appendChild","cloneNode"]||!C.areHostObjects(v,["previousSibling","nextSibling","childNodes","parentNode"]))||e.fail("Incomplete Element implementation"),C.isHostProperty(v,"innerHTML")||e.fail("Element is missing innerHTML property"),y=document.createTextNode("test"),C.areHostMethods(y,["splitText","deleteData","insertData","appendData","cloneNode"]||!C.areHostObjects(v,["previousSibling","nextSibling","childNodes","parentNode"])||!C.areHostProperties(y,["data"]))||e.fail("Incomplete Text Node implementation"),b=function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},w=!1,function(){var e=document.createElement("b");e.innerHTML="1",e.innerHTML="<br>",w=h(),t.features.crashyTextNodes=w}(),typeof window.getComputedStyle!=D?x=function(t,e){return c(t).getComputedStyle(t,null)[e]}:typeof document.documentElement.currentStyle!=D?x=function(t,e){return t.currentStyle[e]}:e.fail("No means of obtaining computed style properties found"),p.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var t,e,n=this._current=this._next;if(this._current)if(t=n.firstChild)this._next=t;else{for(e=null;n!==this.root&&!(e=n.nextSibling);)n=n.parentNode;this._next=e}return this._current},detach:function(){this._current=this._next=this.root=null}},g.prototype={equals:function(t){return!!t&&this.node===t.node&&this.offset==t.offset},inspect:function(){return"[DomPosition("+f(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},(m.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24}).toString=function(){return this.message},t.dom={arrayContains:b,isHtmlNamespace:function(t){var e;return typeof t.namespaceURI==D||null===(e=t.namespaceURI)||"http://www.w3.org/1999/xhtml"==e},parentElement:function(t){var e=t.parentNode;return 1==e.nodeType?e:null},getNodeIndex:n,getNodeLength:function(t){switch(t.nodeType){case 7:case 10:return 0;case 3:case 8:return t.length;default:return t.childNodes.length}},getCommonAncestor:i,isAncestorOf:o,isOrIsAncestorOf:function(t,e){return o(t,e,!0)},getClosestAncestorIn:r,isCharacterDataNode:a,isTextOrCommentNode:function(t){if(!t)return!1;var e=t.nodeType;return 3==e||8==e},insertAfter:s,splitDataNode:function(t,e,i){var o,r,a=t.cloneNode(!1);if(a.deleteData(0,e),t.deleteData(e,t.length-e),s(a,t),i)for(o=0;r=i[o++];)r.node==t&&r.offset>e?(r.node=a,r.offset-=e):r.node==t.parentNode&&r.offset>n(t)&&++r.offset;return a},getDocument:l,getWindow:c,getIframeWindow:function(t){if(typeof t.contentWindow!=D)return t.contentWindow;if(typeof t.contentDocument!=D)return t.contentDocument.defaultView;throw e.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:d,getBody:C.getBody,isWindow:u,getContentDocument:function(t,e,n){var i;if(t?C.isHostProperty(t,"nodeType")?i=1==t.nodeType&&"iframe"==t.tagName.toLowerCase()?d(t):l(t):u(t)&&(i=t.document):i=document,!i)throw e.createError(n+"(): Parameter must be a Window object or DOM node");return i},getRootContainer:function(t){for(var e;e=t.parentNode;)t=e;return t},comparePoints:function(t,o,a,s){var l,c,d,u,h;if(t==a)return o===s?0:s>o?-1:1;if(l=r(a,t,!0))return o<=n(l)?-1:1;if(l=r(t,a,!0))return n(l)<s?-1:1;if(!(c=i(t,a)))throw Error("comparePoints error: nodes have no common ancestor");if((d=t===c?c:r(t,c,!0))===(u=a===c?c:r(a,c,!0)))throw e.createError("comparePoints got to case 4 and childA and childB are the same!");for(h=c.firstChild;h;){if(h===d)return-1;if(h===u)return 1;h=h.nextSibling}},isBrokenNode:h,inspectNode:f,getComputedStyleProperty:x,fragmentFromNodeChildren:function(t){for(var e,n=l(t).createDocumentFragment();e=t.firstChild;)n.appendChild(e);return n},createIterator:function(t){return new p(t)},DomPosition:g},t.DOMException=m}),E.createCoreModule("DomRange",["DomUtil"],function(t){function e(t,e){return 3!=t.nodeType&&(it(t,e.startContainer)||it(t,e.endContainer))}function n(t){return t.document||ot(t.startContainer)}function i(t){return new Z(t.parentNode,nt(t))}function o(t){return new Z(t.parentNode,nt(t)+1)}function r(t,e,n){var i=11==t.nodeType?t.firstChild:t;return et(e)?n==e.length?J.insertAfter(t,e):e.parentNode.insertBefore(t,0==n?e:at(e,n)):n>=e.childNodes.length?e.appendChild(t):e.insertBefore(t,e.childNodes[n]),i}function a(t,e,i){if(D(t),D(e),n(e)!=n(t))throw new tt("WRONG_DOCUMENT_ERR");var o=rt(t.startContainer,t.startOffset,e.endContainer,e.endOffset),r=rt(t.endContainer,t.endOffset,e.startContainer,e.startOffset);return i?0>=o&&r>=0:0>o&&r>0}function s(t,e,n){var i,o,r,a;for(n=n||{stop:!1};r=t.next();)if(t.isPartiallySelectedSubtree()){if(!1===e(r))return void(n.stop=!0);if(s(a=t.getSubtreeIterator(),e,n),a.detach(),n.stop)return}else for(i=J.createIterator(r);o=i.next();)if(!1===e(o))return void(n.stop=!0)}function l(t){for(var e;t.next();)t.isPartiallySelectedSubtree()?(l(e=t.getSubtreeIterator()),e.detach()):t.remove()}function c(t){for(var e,i,o=n(t.range).createDocumentFragment();e=t.next();){if(t.isPartiallySelectedSubtree()?(e=e.cloneNode(!1),i=t.getSubtreeIterator(),e.appendChild(c(i)),i.detach()):t.remove(),10==e.nodeType)throw new tt("HIERARCHY_REQUEST_ERR");o.appendChild(e)}return o}function d(t){return"["+(void 0===t.getName?"Range":t.getName())+"("+J.inspectNode(t.startContainer)+":"+t.startOffset+", "+J.inspectNode(t.endContainer)+":"+t.endOffset+")]"}function u(t,e){if(this.range=t,this.clonePartiallySelectedTextNodes=e,!t.collapsed){this.sc=t.startContainer,this.so=t.startOffset,this.ec=t.endContainer,this.eo=t.endOffset;var n=t.commonAncestorContainer;this.sc===this.ec&&et(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||et(this.sc)?st(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||et(this.ec)?st(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}function h(t){return function(e,n){for(var i=n?e:e.parentNode;i;){if(ct(t,i.nodeType))return i;i=i.parentNode}return null}}function f(t,e){if(F(t,e))throw new tt("INVALID_NODE_TYPE_ERR")}function p(t,e){if(!ct(e,t.nodeType))throw new tt("INVALID_NODE_TYPE_ERR")}function g(t,e){if(0>e||e>(et(t)?t.length:t.childNodes.length))throw new tt("INDEX_SIZE_ERR")}function m(t,e){if(L(t,!0)!==L(e,!0))throw new tt("WRONG_DOCUMENT_ERR")}function v(t){if(B(t,!0))throw new tt("NO_MODIFICATION_ALLOWED_ERR")}function y(t,e){if(!t)throw new tt(e)}function b(t){return ut&&J.isBrokenNode(t)||!ct(N,t.nodeType)&&!L(t,!0)}function w(t,e){return e<=(et(t)?t.length:t.childNodes.length)}function x(t){return!!t.startContainer&&!!t.endContainer&&!b(t.startContainer)&&!b(t.endContainer)&&w(t.startContainer,t.startOffset)&&w(t.endContainer,t.endOffset)}function D(t){if(!x(t))throw Error("Range error: Range is no longer valid after DOM mutation ("+t.inspect()+")")}function C(t,e){var n,i,o,r,a;D(t),i=t.startOffset,r=t.endOffset,a=(n=t.startContainer)===(o=t.endContainer),et(o)&&r>0&&r<o.length&&at(o,r,e),et(n)&&i>0&&i<n.length&&(n=at(n,i,e),a?(r-=i,o=n):o==n.parentNode&&r>=nt(n)&&r++,i=0),t.setStartAndEnd(n,i,o,r)}function _(t){D(t);var e=t.commonAncestorContainer.parentNode.cloneNode(!1);return e.appendChild(t.cloneContents()),e.innerHTML}function S(t){t.START_TO_START=$,t.START_TO_END=W,t.END_TO_END=q,t.END_TO_START=V,t.NODE_BEFORE=Y,t.NODE_AFTER=G,t.NODE_BEFORE_AND_AFTER=K,t.NODE_INSIDE=X}function k(t){S(t),S(t.prototype)}function T(t,e){return function(){var n,i,r,a,l,c;return D(this),n=this.startContainer,i=this.startOffset,r=this.commonAncestorContainer,a=new u(this,!0),n!==r&&(n=(l=o(st(n,r,!0))).node,i=l.offset),s(a,v),a.reset(),c=t(a),a.detach(),e(this,n,i,n,i),c}}function A(n,r){function a(t,e){return function(n){p(n,R),p(dt(n),N);var r=(t?i:o)(n);(e?s:d)(this,r.node,r.offset)}}function s(t,e,n){var i=t.endContainer,o=t.endOffset;(e!==t.startContainer||n!==t.startOffset)&&((dt(e)!=dt(i)||1==rt(e,n,i,o))&&(i=e,o=n),r(t,e,n,i,o))}function d(t,e,n){var i=t.startContainer,o=t.startOffset;(e!==t.endContainer||n!==t.endOffset)&&((dt(e)!=dt(i)||-1==rt(e,n,i,o))&&(i=e,o=n),r(t,i,o,e,n))}var h=function(){};h.prototype=t.rangePrototype,n.prototype=new h,Q.extend(n.prototype,{setStart:function(t,e){f(t,!0),g(t,e),s(this,t,e)},setEnd:function(t,e){f(t,!0),g(t,e),d(this,t,e)},setStartAndEnd:function(){var t=arguments,e=t[0],n=t[1],i=e,o=n;switch(t.length){case 3:o=t[2];break;case 4:i=t[2],o=t[3]}r(this,e,n,i,o)},setBoundary:function(t,e,n){this["set"+(n?"Start":"End")](t,e)},setStartBefore:a(!0,!0),setStartAfter:a(!1,!0),setEndBefore:a(!0,!1),setEndAfter:a(!1,!1),collapse:function(t){D(this),t?r(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):r(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(t){f(t,!0),r(this,t,0,t,lt(t))},selectNode:function(t){f(t,!1),p(t,R);var e=i(t),n=o(t);r(this,e.node,e.offset,n.node,n.offset)},extractContents:T(c,r),deleteContents:T(l,r),canSurroundContents:function(){var t,n;return D(this),v(this.startContainer),v(this.endContainer),n=(t=new u(this,!0))._first&&e(t._first,this)||t._last&&e(t._last,this),t.detach(),!n},splitBoundaries:function(){C(this)},splitBoundariesPreservingPositions:function(t){C(this,t)},normalizeBoundaries:function(){var t,e,n,i,o,a,s,l,c;D(this),t=this.startContainer,e=this.startOffset,i=this.endOffset,o=function(t){var e=t.nextSibling;e&&e.nodeType==t.nodeType&&(n=t,i=t.length,t.appendData(e.data),e.parentNode.removeChild(e))},a=function(o){var r,a,s=o.previousSibling;s&&s.nodeType==o.nodeType&&(t=o,r=o.length,e=s.length,o.insertData(0,s.data),s.parentNode.removeChild(s),t==n?(i+=e,n=t):n==o.parentNode&&(a=nt(o),i==a?(n=o,i=r):i>a&&i--))},s=!0,et(n=this.endContainer)?n.length==i&&o(n):(i>0&&(l=n.childNodes[i-1])&&et(l)&&o(l),s=!this.collapsed),s?et(t)?0==e&&a(t):e<t.childNodes.length&&(c=t.childNodes[e])&&et(c)&&a(c):(t=n,e=i),r(this,t,e,n,i)},collapseToPoint:function(t,e){f(t,!0),g(t,e),this.setStartAndEnd(t,e)}}),k(n)}function P(t){t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset,t.commonAncestorContainer=t.collapsed?t.startContainer:J.getCommonAncestor(t.startContainer,t.endContainer)}function E(t,e,n,i,o){t.startContainer=e,t.startOffset=n,t.endContainer=i,t.endOffset=o,t.document=J.getDocument(e),P(t)}function M(t){this.startContainer=t,this.startOffset=0,this.endContainer=t,this.endOffset=0,this.document=t,P(this)}var R,N,I,O,H,L,B,F,j,z,U,$,W,q,V,Y,G,K,X,J=t.dom,Q=t.util,Z=J.DomPosition,tt=t.DOMException,et=J.isCharacterDataNode,nt=J.getNodeIndex,it=J.isOrIsAncestorOf,ot=J.getDocument,rt=J.comparePoints,at=J.splitDataNode,st=J.getClosestAncestorIn,lt=J.getNodeLength,ct=J.arrayContains,dt=J.getRootContainer,ut=t.features.crashyTextNodes;u.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var t=this._current=this._next;return t&&(this._next=t!==this._last?t.nextSibling:null,et(t)&&this.clonePartiallySelectedTextNodes&&(t===this.ec&&(t=t.cloneNode(!0)).deleteData(this.eo,t.length-this.eo),this._current===this.sc&&(t=t.cloneNode(!0)).deleteData(0,this.so))),t},remove:function(){var t,e,n=this._current;!et(n)||n!==this.sc&&n!==this.ec?n.parentNode&&n.parentNode.removeChild(n):(t=n===this.sc?this.so:0)!=(e=n===this.ec?this.eo:n.length)&&n.deleteData(t,e-t)},isPartiallySelectedSubtree:function(){return e(this._current,this.range)},getSubtreeIterator:function(){var t,e,i,o,r,a;return this.isSingleCharacterDataNode?(t=this.range.cloneRange()).collapse(!1):(t=new M(n(this.range)),i=e=this._current,o=0,r=e,a=lt(e),it(e,this.sc)&&(i=this.sc,o=this.so),it(e,this.ec)&&(r=this.ec,a=this.eo),E(t,i,o,r,a)),new u(t,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}},R=[1,3,4,5,7,8,10],N=[2,9,11],I=[5,6,10,12],O=[1,3,4,5,7,8,10,11],H=[1,3,4,5,7,8],L=h([9,11]),B=h(I),F=h([6,10,12]),j=document.createElement("style"),z=!1;try{j.innerHTML="<b>x</b>",z=3==j.firstChild.nodeType}catch(t){}t.features.htmlParsingConforms=z,U=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],$=0,W=1,q=2,V=3,Y=0,G=1,K=2,X=3,Q.extend(t.rangePrototype,{compareBoundaryPoints:function(t,e){var n,i;return D(this),m(this.startContainer,e.startContainer),rt(this[(n=t==V||t==$?"start":"end")+"Container"],this[n+"Offset"],e[(i=t==W||t==$?"start":"end")+"Container"],e[i+"Offset"])},insertNode:function(t){if(D(this),p(t,O),v(this.startContainer),it(t,this.startContainer))throw new tt("HIERARCHY_REQUEST_ERR");var e=r(t,this.startContainer,this.startOffset);this.setStartBefore(e)},cloneContents:function(){var t,e,i;return D(this),this.collapsed?n(this).createDocumentFragment():this.startContainer===this.endContainer&&et(this.startContainer)?((t=this.startContainer.cloneNode(!0)).data=t.data.slice(this.startOffset,this.endOffset),(e=n(this).createDocumentFragment()).appendChild(t),e):(t=function t(e){var i,o,r,a;for(r=n(e.range).createDocumentFragment();o=e.next();){if(i=e.isPartiallySelectedSubtree(),o=o.cloneNode(!i),i&&(a=e.getSubtreeIterator(),o.appendChild(t(a)),a.detach()),10==o.nodeType)throw new tt("HIERARCHY_REQUEST_ERR");r.appendChild(o)}return r}(i=new u(this,!0)),i.detach(),t)},canSurroundContents:function(){var t,n;return D(this),v(this.startContainer),v(this.endContainer),n=(t=new u(this,!0))._first&&e(t._first,this)||t._last&&e(t._last,this),t.detach(),!n},surroundContents:function(t){if(p(t,H),!this.canSurroundContents())throw new tt("INVALID_STATE_ERR");var e=this.extractContents();if(t.hasChildNodes())for(;t.lastChild;)t.removeChild(t.lastChild);r(t,this.startContainer,this.startOffset),t.appendChild(e),this.selectNode(t)},cloneRange:function(){var t,e,i;for(D(this),t=new M(n(this)),e=U.length;e--;)t[i=U[e]]=this[i];return t},toString:function(){var t,e,n;return D(this),(t=this.startContainer)===this.endContainer&&et(t)?3==t.nodeType||4==t.nodeType?t.data.slice(this.startOffset,this.endOffset):"":(e=[],s(n=new u(this,!0),function(t){(3==t.nodeType||4==t.nodeType)&&e.push(t.data)}),n.detach(),e.join(""))},compareNode:function(t){var e,n,i,o;if(D(this),e=t.parentNode,n=nt(t),!e)throw new tt("NOT_FOUND_ERR");return i=this.comparePoint(e,n),o=this.comparePoint(e,n+1),0>i?o>0?K:Y:o>0?G:X},comparePoint:function(t,e){return D(this),y(t,"HIERARCHY_REQUEST_ERR"),m(t,this.startContainer),rt(t,e,this.startContainer,this.startOffset)<0?-1:rt(t,e,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:z?function(t){var e,n=this.startContainer,i=ot(n);if(!n)throw new tt("INVALID_STATE_ERR");return e=null,1==n.nodeType?e=n:et(n)&&(e=J.parentElement(n)),(e=null===e||"HTML"==e.nodeName&&J.isHtmlNamespace(ot(e).documentElement)&&J.isHtmlNamespace(e)?i.createElement("body"):e.cloneNode(!1)).innerHTML=t,J.fragmentFromNodeChildren(e)}:function(t){var e=n(this).createElement("body");return e.innerHTML=t,J.fragmentFromNodeChildren(e)},toHtml:function(){return _(this)},intersectsNode:function(t,e){var i,o,r,a;return D(this),y(t,"NOT_FOUND_ERR"),ot(t)===n(this)&&(i=t.parentNode,o=nt(t),y(i,"NOT_FOUND_ERR"),r=rt(i,o,this.endContainer,this.endOffset),a=rt(i,o+1,this.startContainer,this.startOffset),e?0>=r&&a>=0:0>r&&a>0)},isPointInRange:function(t,e){return D(this),y(t,"HIERARCHY_REQUEST_ERR"),m(t,this.startContainer),rt(t,e,this.startContainer,this.startOffset)>=0&&rt(t,e,this.endContainer,this.endOffset)<=0},intersectsRange:function(t){return a(this,t,!1)},intersectsOrTouchesRange:function(t){return a(this,t,!0)},intersection:function(t){var e,n,i;return this.intersectsRange(t)?(e=rt(this.startContainer,this.startOffset,t.startContainer,t.startOffset),n=rt(this.endContainer,this.endOffset,t.endContainer,t.endOffset),i=this.cloneRange(),-1==e&&i.setStart(t.startContainer,t.startOffset),1==n&&i.setEnd(t.endContainer,t.endOffset),i):null},union:function(t){if(this.intersectsOrTouchesRange(t)){var e=this.cloneRange();return-1==rt(t.startContainer,t.startOffset,this.startContainer,this.startOffset)&&e.setStart(t.startContainer,t.startOffset),1==rt(t.endContainer,t.endOffset,this.endContainer,this.endOffset)&&e.setEnd(t.endContainer,t.endOffset),e}throw new tt("Ranges do not intersect")},containsNode:function(t,e){return e?this.intersectsNode(t,!1):this.compareNode(t)==X},containsNodeContents:function(t){return this.comparePoint(t,0)>=0&&this.comparePoint(t,lt(t))<=0},containsRange:function(t){var e=this.intersection(t);return null!==e&&t.equals(e)},containsNodeText:function(t){var e,n,i=this.cloneRange();return i.selectNode(t),(e=i.getNodes([3])).length>0?(i.setStart(e[0],0),n=e.pop(),i.setEnd(n,n.length),this.containsRange(i)):this.containsNodeContents(t)},getNodes:function(t,e){return D(this),function(t,e,n){var i,o,r=!(!e||!e.length),a=!!n;return r&&(i=RegExp("^("+e.join("|")+")$")),o=[],s(new u(t,!1),function(e){var s,l;(!r||i.test(e.nodeType))&&(!a||n(e))&&(e==(s=t.startContainer)&&et(s)&&t.startOffset==s.length||e==(l=t.endContainer)&&et(l)&&0==t.endOffset||o.push(e))}),o}(this,t,e)},getDocument:function(){return n(this)},collapseBefore:function(t){this.setEndBefore(t),this.collapse(!1)},collapseAfter:function(t){this.setStartAfter(t),this.collapse(!0)},getBookmark:function(e){var i,o,r,a=n(this),s=t.createRange(a);return e=e||J.getBody(a),s.selectNodeContents(e),o=0,r=0,(i=this.intersection(s))&&(s.setEnd(i.startContainer,i.startOffset),r=(o=(""+s).length)+(""+i).length),{start:o,end:r,containerNode:e}},moveToBookmark:function(t){var e,n,i,o,r,a,s,l=t.containerNode,c=0;for(this.setStart(l,0),this.collapse(!0),e=[l],i=!1,o=!1;!o&&(n=e.pop());)if(3==n.nodeType)r=c+n.length,!i&&t.start>=c&&t.start<=r&&(this.setStart(n,t.start-c),i=!0),i&&t.end>=c&&t.end<=r&&(this.setEnd(n,t.end-c),o=!0),c=r;else for(a=(s=n.childNodes).length;a--;)e.push(s[a])},getName:function(){return"DomRange"},equals:function(t){return M.rangesEqual(this,t)},isValid:function(){return x(this)},inspect:function(){return d(this)},detach:function(){}}),A(M,E),Q.extend(M,{rangeProperties:U,RangeIterator:u,copyComparisonConstants:k,createPrototypeRange:A,inspect:d,toHtml:_,getRangeDocument:n,rangesEqual:function(t,e){return t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset}}),t.DomRange=M}),E.createCoreModule("WrappedRange",["DomRange"],function(t,e){var n,i,o,r,a,s,l,c,d=t.dom,u=t.util,h=d.DomPosition,f=t.DomRange,p=d.getBody,g=d.getContentDocument,m=d.isCharacterDataNode;t.features.implementsDomRange&&function(){function i(t){for(var e,n=v.length;n--;)t[e=v[n]]=t.nativeRange[e];t.collapsed=t.startContainer===t.endContainer&&t.startOffset===t.endOffset}var o,r,a,s,l,c,h,m,v=f.rangeProperties;f.createPrototypeRange(n=function(t){if(!t)throw e.createError("WrappedRange: Range must be specified");this.nativeRange=t,i(this)},function(t,e,n,i,o){var r=t.startContainer!==e||t.startOffset!=n,a=t.endContainer!==i||t.endOffset!=o,s=!t.equals(t.nativeRange);(r||a||s)&&(t.setEnd(i,o),t.setStart(e,n))}),(o=n.prototype).selectNode=function(t){this.nativeRange.selectNode(t),i(this)},o.cloneContents=function(){return this.nativeRange.cloneContents()},o.surroundContents=function(t){this.nativeRange.surroundContents(t),i(this)},o.collapse=function(t){this.nativeRange.collapse(t),i(this)},o.cloneRange=function(){return new n(this.nativeRange.cloneRange())},o.refresh=function(){i(this)},o.toString=function(){return""+this.nativeRange},a=document.createTextNode("test"),p(document).appendChild(a),(s=document.createRange()).setStart(a,0),s.setEnd(a,0);try{s.setStart(a,1),o.setStart=function(t,e){this.nativeRange.setStart(t,e),i(this)},o.setEnd=function(t,e){this.nativeRange.setEnd(t,e),i(this)},r=function(t){return function(e){this.nativeRange[t](e),i(this)}}}catch(t){o.setStart=function(t,e){try{this.nativeRange.setStart(t,e)}catch(n){this.nativeRange.setEnd(t,e),this.nativeRange.setStart(t,e)}i(this)},o.setEnd=function(t,e){try{this.nativeRange.setEnd(t,e)}catch(n){this.nativeRange.setStart(t,e),this.nativeRange.setEnd(t,e)}i(this)},r=function(t,e){return function(n){try{this.nativeRange[t](n)}catch(i){this.nativeRange[e](n),this.nativeRange[t](n)}i(this)}}}o.setStartBefore=r("setStartBefore","setEndBefore"),o.setStartAfter=r("setStartAfter","setEndAfter"),o.setEndBefore=r("setEndBefore","setStartBefore"),o.setEndAfter=r("setEndAfter","setStartAfter"),o.selectNodeContents=function(t){this.setStartAndEnd(t,0,d.getNodeLength(t))},s.selectNodeContents(a),s.setEnd(a,3),(l=document.createRange()).selectNodeContents(a),l.setEnd(a,4),l.setStart(a,2),o.compareBoundaryPoints=-1==s.compareBoundaryPoints(s.START_TO_END,l)&&1==s.compareBoundaryPoints(s.END_TO_START,l)?function(t,e){return t==(e=e.nativeRange||e).START_TO_END?t=e.END_TO_START:t==e.END_TO_START&&(t=e.START_TO_END),this.nativeRange.compareBoundaryPoints(t,e)}:function(t,e){return this.nativeRange.compareBoundaryPoints(t,e.nativeRange||e)},(c=document.createElement("div")).innerHTML="123",h=c.firstChild,(m=p(document)).appendChild(c),s.setStart(h,1),s.setEnd(h,2),s.deleteContents(),"13"==h.data&&(o.deleteContents=function(){this.nativeRange.deleteContents(),i(this)},o.extractContents=function(){var t=this.nativeRange.extractContents();return i(this),t}),m.removeChild(c),m=null,u.isHostMethod(s,"createContextualFragment")&&(o.createContextualFragment=function(t){return this.nativeRange.createContextualFragment(t)}),p(document).removeChild(a),o.getName=function(){return"WrappedRange"},t.WrappedRange=n,t.createNativeRange=function(t){return(t=g(t,e,"createNativeRange")).createRange()}}(),t.features.implementsTextRange&&(o=function(t){var e,n,i,o=t.parentElement(),r=t.duplicate();return r.collapse(!0),e=r.parentElement(),(r=t.duplicate()).collapse(!1),(i=e==(n=r.parentElement())?e:d.getCommonAncestor(e,n))==o?i:d.getCommonAncestor(o,i)},r=function(t){return 0==t.compareEndPoints("StartToEnd",t)},a=function(t,e,n,i,o){var r,a,s,l,c,u,f,p,g,v,y,b,w,x,D,C,_=t.duplicate();if(_.collapse(n),r=_.parentElement(),d.isOrIsAncestorOf(e,r)||(r=e),!r.canHaveHTML)return{boundaryPosition:a=new h(r.parentNode,d.getNodeIndex(r)),nodeInfo:{nodeIndex:a.offset,containerElement:a.node}};for((s=d.getDocument(r).createElement("span")).parentNode&&s.parentNode.removeChild(s),c=n?"StartToStart":"StartToEnd",v=o&&o.containerElement==r?o.nodeIndex:0,w=b=y=r.childNodes.length;w==y?r.appendChild(s):r.insertBefore(s,r.childNodes[w]),_.moveToElementText(s),0!=(l=_.compareEndPoints(c,t))&&v!=b;){if(-1==l){if(b==v+1)break;v=w}else b=b==v+1?v:w;w=Math.floor((v+b)/2),r.removeChild(s)}if(g=s.nextSibling,-1==l&&g&&m(g)){if(_.setEndPoint(n?"EndToStart":"EndToEnd",t),/[\r\n]/.test(g.data))for(C=(D=_.duplicate()).text.replace(/\r\n/g,"\r").length,x=D.moveStart("character",C);-1==(l=D.compareEndPoints("StartToEnd",D));)x++,D.moveStart("character",1);else x=_.text.length;p=new h(g,x)}else u=(i||!n)&&s.previousSibling,p=(f=(i||n)&&s.nextSibling)&&m(f)?new h(f,0):u&&m(u)?new h(u,u.data.length):new h(r,d.getNodeIndex(s));return s.parentNode.removeChild(s),{boundaryPosition:p,nodeInfo:{nodeIndex:w,containerElement:r}}},s=function(t,e){var n,i,o,r,a=t.offset,s=d.getDocument(t.node),l=p(s).createTextRange(),c=m(t.node);return c?i=(n=t.node).parentNode:(n=a<(r=t.node.childNodes).length?r[a]:null,i=t.node),(o=s.createElement("span")).innerHTML="&#feff;",n?i.insertBefore(o,n):i.appendChild(o),l.moveToElementText(o),l.collapse(!e),i.removeChild(o),c&&l[e?"moveStart":"moveEnd"]("character",a),l},(i=function(t){this.textRange=t,this.refresh()}).prototype=new f(document),i.prototype.refresh=function(){var t,e,n,i=o(this.textRange);r(this.textRange)?e=t=a(this.textRange,i,!0,!0).boundaryPosition:(t=(n=a(this.textRange,i,!0,!1)).boundaryPosition,e=a(this.textRange,i,!1,!1,n.nodeInfo).boundaryPosition),this.setStart(t.node,t.offset),this.setEnd(e.node,e.offset)},i.prototype.getName=function(){return"WrappedTextRange"},f.copyComparisonConstants(i),l=function(t){var e,n,i;return t.collapsed?s(new h(t.startContainer,t.startOffset),!0):(e=s(new h(t.startContainer,t.startOffset),!0),n=s(new h(t.endContainer,t.endOffset),!1),(i=p(f.getRangeDocument(t)).createTextRange()).setEndPoint("StartToStart",e),i.setEndPoint("EndToEnd",n),i)},i.rangeToTextRange=l,i.prototype.toTextRange=function(){return l(this)},t.WrappedTextRange=i,(!t.features.implementsDomRange||t.config.preferTextRange)&&(void 0===(c=function(){return this}()).Range&&(c.Range=i),t.createNativeRange=function(t){return t=g(t,e,"createNativeRange"),p(t).createTextRange()},t.WrappedRange=i)),t.createRange=function(n){return n=g(n,e,"createRange"),new t.WrappedRange(t.createNativeRange(n))},t.createRangyRange=function(t){return t=g(t,e,"createRangyRange"),new f(t)},t.createIframeRange=function(n){return e.deprecationNotice("createIframeRange()","createRange(iframeEl)"),t.createRange(n)},t.createIframeRangyRange=function(n){return e.deprecationNotice("createIframeRangyRange()","createRangyRange(iframeEl)"),t.createRangyRange(n)},t.addShimListener(function(e){var n=e.document;void 0===n.createRange&&(n.createRange=function(){return t.createRange(n)}),n=e=null})}),E.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(t,e){function n(t){return"string"==typeof t?/^backward(s)?$/i.test(t):!!t}function i(t,n){if(t){if(C.isWindow(t))return t;if(t instanceof p)return t.win;var i=C.getContentDocument(t,e,n);return C.getWindow(i)}return window}function o(t){return i(t,"getDocSelection").document.selection}function r(t){var e=!1;return t.anchorNode&&(e=1==C.comparePoints(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)),e}function a(t,e,n){var i=n?"end":"start",o=n?"start":"end";t.anchorNode=e[i+"Container"],t.anchorOffset=e[i+"Offset"],t.focusNode=e[o+"Container"],t.focusOffset=e[o+"Offset"]}function s(t){t.anchorNode=t.focusNode=null,t.anchorOffset=t.focusOffset=0,t.rangeCount=0,t.isCollapsed=!0,t._ranges.length=0}function l(e){var n;return e instanceof k?((n=t.createNativeRange(e.getDocument())).setEnd(e.endContainer,e.endOffset),n.setStart(e.startContainer,e.startOffset)):e instanceof T?n=e.nativeRange:R.implementsDomRange&&e instanceof C.getWindow(e.startContainer).Range&&(n=e),n}function c(t){var n=t.getNodes();if(!function(t){if(!t.length||1!=t[0].nodeType)return!1;for(var e=1,n=t.length;n>e;++e)if(!C.isAncestorOf(t[0],t[e]))return!1;return!0}(n))throw e.createError("getSingleElementFromRange: range "+t.inspect()+" did not consist of a single element");return n[0]}function d(t){return!!t&&void 0!==t.text}function u(t,e){var n=new T(e);t._ranges=[n],a(t,n,!1),t.rangeCount=1,t.isCollapsed=n.collapsed}function h(e){var n,i,o,r;if(e._ranges.length=0,"None"==e.docSelection.type)s(e);else if(d(n=e.docSelection.createRange()))u(e,n);else{for(e.rangeCount=n.length,o=I(n.item(0)),r=0;r<e.rangeCount;++r)(i=t.createRange(o)).selectNode(n.item(r)),e._ranges.push(i);e.isCollapsed=1==e.rangeCount&&e._ranges[0].collapsed,a(e,e._ranges[e.rangeCount-1],!1)}}function f(t,n){var i,o,r=t.docSelection.createRange(),a=c(n),s=I(r.item(0)),l=O(s).createControlRange();for(i=0,o=r.length;o>i;++i)l.add(r.item(i));try{l.add(a)}catch(t){throw e.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}l.select(),h(t)}function p(t,e,n){this.nativeSelection=t,this.docSelection=e,this._ranges=[],this.win=n,this.refresh()}function g(t){t.win=t.anchorNode=t.focusNode=t._ranges=null,t.rangeCount=t.anchorOffset=t.focusOffset=0,t.detached=!0}function m(t,e){for(var n,i,o=Q.length;o--;)if(i=(n=Q[o]).selection,"deleteAll"==e)g(i);else if(n.win==t)return"delete"==e?(Q.splice(o,1),!0):i;return"deleteAll"==e&&(Q.length=0),null}function v(t,n){var i,o,r,a=I(n[0].startContainer),s=O(a).createControlRange();for(i=0,r=n.length;r>i;++i){o=c(n[i]);try{s.add(o)}catch(t){throw e.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}s.select(),h(t)}function y(t,e){if(t.win.document!=I(e))throw new A("WRONG_DOCUMENT_ERR")}function b(e){return function(n,i){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(e?"Start":"End")](n,i):(o=t.createRange(this.win.document)).setStartAndEnd(n,i),this.setSingleRange(o,this.isBackward())}}function w(t){var e,n,i=[],o=new P(t.anchorNode,t.anchorOffset),r=new P(t.focusNode,t.focusOffset),a="function"==typeof t.getName?t.getName():"Selection";if(void 0!==t.rangeCount)for(e=0,n=t.rangeCount;n>e;++e)i[e]=k.inspect(t.getRangeAt(e));return"["+a+"(Ranges: "+i.join(", ")+")(anchor: "+o.inspect()+", focus: "+r.inspect()+"]"}var x,D,C,_,S,k,T,A,P,E,M,R,N,I,O,H,L,B,F,j,z,U,$,W,q,V,Y,G,K,X,J,Q,Z,tt,et,nt,it,ot;if(t.config.checkSelectionRanges=!0,x="boolean",D="number",T=t.WrappedRange,A=t.DOMException,P=(C=t.dom).DomPosition,R=t.features,N="Control",I=C.getDocument,O=C.getBody,H=(k=t.DomRange).rangesEqual,L=(S=(_=t.util).isHostMethod)(window,"getSelection"),B=_.isHostObject(document,"selection"),R.implementsWinGetSelection=L,R.implementsDocSelection=B,(F=B&&(!L||t.config.preferTextRange))?(E=o,t.isSelectionValid=function(t){var e=i(t,"isSelectionValid").document,n=e.selection;return"None"!=n.type||I(n.createRange().parentElement())==e}):L?(E=function(t){return i(t,"getWinSelection").getSelection()},t.isSelectionValid=function(){return!0}):e.fail("Neither document.selection or window.getSelection() detected."),t.getNativeSelection=E,j=E(),z=t.createNativeRange(document),U=O(document),$=_.areHostProperties(j,["anchorNode","focusNode","anchorOffset","focusOffset"]),R.selectionHasAnchorAndFocus=$,W=S(j,"extend"),R.selectionHasExtend=W,R.selectionHasRangeCount=q=typeof j.rangeCount==D,V=!1,Y=!0,G=W?function(e,n){var i=k.getRangeDocument(n),o=t.createRange(i);o.collapseToPoint(n.endContainer,n.endOffset),e.addRange(l(o)),e.extend(n.startContainer,n.startOffset)}:null,_.areHostMethods(j,["addRange","getRangeAt","removeAllRanges"])&&typeof j.rangeCount==D&&R.implementsDomRange&&function(){var e,n,i,o,a,s,l,c,d,u,h,f=window.getSelection();if(f){for(n=(e=f.rangeCount)>1,i=[],o=r(f),a=0;e>a;++a)i[a]=f.getRangeAt(a);for((l=(s=O(document)).appendChild(document.createElement("div"))).contentEditable="false",c=l.appendChild(document.createTextNode("\xa0\xa0\xa0")),(d=document.createRange()).setStart(c,1),d.collapse(!0),f.addRange(d),Y=1==f.rangeCount,f.removeAllRanges(),n||((u=window.navigator.appVersion.match(/Chrome\/(.*?) /))&&parseInt(u[1])>=36?V=!1:(h=d.cloneRange(),d.setStart(c,0),h.setEnd(c,3),h.setStart(c,2),f.addRange(d),f.addRange(h),V=2==f.rangeCount)),s.removeChild(l),f.removeAllRanges(),a=0;e>a;++a)0==a&&o?G?G(f,i[a]):(t.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),f.addRange(i[a])):f.addRange(i[a])}}(),R.selectionSupportsMultipleRanges=V,R.collapsedNonEditableSelectionsSupported=Y,K=!1,U&&S(U,"createControlRange")&&(X=U.createControlRange(),_.areHostProperties(X,["item","add"])&&(K=!0)),R.implementsControlRange=K,M=$?function(t){return t.anchorNode===t.focusNode&&t.anchorOffset===t.focusOffset}:function(t){return!!t.rangeCount&&t.getRangeAt(t.rangeCount-1).collapsed},S(j,"getRangeAt")?J=function(t,e){try{return t.getRangeAt(e)}catch(t){return null}}:$&&(J=function(e){var n=I(e.anchorNode),i=t.createRange(n);return i.setStartAndEnd(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset),i.collapsed!==this.isCollapsed&&i.setStartAndEnd(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset),i}),p.prototype=t.selectionPrototype,Q=[],Z=function(t){var e,n,r;return t&&t instanceof p?(t.refresh(),t):(e=m(t=i(t,"getNativeSelection")),n=E(t),r=B?o(t):null,e?(e.nativeSelection=n,e.docSelection=r,e.refresh()):(e=new p(n,r,t),Q.push({win:t,selection:e})),e)},t.getSelection=Z,t.getIframeSelection=function(n){return e.deprecationNotice("getIframeSelection()","getSelection(iframeEl)"),t.getSelection(C.getIframeWindow(n))},tt=p.prototype,!F&&$&&_.areHostMethods(j,["removeAllRanges","addRange"]))tt.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),s(this)},et=function(t,e){G(t.nativeSelection,e),t.refresh()},tt.addRange=q?function(e,i){var o,r;K&&B&&this.docSelection.type==N?f(this,e):n(i)&&W?et(this,e):(V?o=this.rangeCount:(this.removeAllRanges(),o=0),this.nativeSelection.addRange(l(e).cloneRange()),this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1?(t.config.checkSelectionRanges&&(r=J(this.nativeSelection,this.rangeCount-1))&&!H(r,e)&&(e=new T(r)),this._ranges[this.rangeCount-1]=e,a(this,e,ot(this.nativeSelection)),this.isCollapsed=M(this)):this.refresh())}:function(t,e){n(e)&&W?et(this,t):(this.nativeSelection.addRange(l(t)),this.refresh())},tt.setRanges=function(t){if(K&&B&&t.length>1)v(this,t);else{this.removeAllRanges();for(var e=0,n=t.length;n>e;++e)this.addRange(t[e])}};else{if(!(S(j,"empty")&&S(z,"select")&&K&&F))return e.fail("No means of selecting a Range or TextRange was found"),!1;tt.removeAllRanges=function(){var t,e;try{this.docSelection.empty(),"None"!=this.docSelection.type&&(this.anchorNode?t=I(this.anchorNode):this.docSelection.type==N&&(e=this.docSelection.createRange()).length&&(t=I(e.item(0))),t&&(O(t).createTextRange().select(),this.docSelection.empty()))}catch(t){}s(this)},tt.addRange=function(e){this.docSelection.type==N?f(this,e):(t.WrappedTextRange.rangeToTextRange(e).select(),this._ranges[0]=e,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,a(this,e,!1))},tt.setRanges=function(t){this.removeAllRanges();var e=t.length;e>1?v(this,t):e&&this.addRange(t[0])}}if(tt.getRangeAt=function(t){if(0>t||t>=this.rangeCount)throw new A("INDEX_SIZE_ERR");return this._ranges[t].cloneRange()},F)nt=function(e){var n;t.isSelectionValid(e.win)?n=e.docSelection.createRange():(n=O(e.win.document).createTextRange()).collapse(!0),e.docSelection.type==N?h(e):d(n)?u(e,n):s(e)};else if(S(j,"getRangeAt")&&typeof j.rangeCount==D)nt=function(e){if(K&&B&&e.docSelection.type==N)h(e);else if(e._ranges.length=e.rangeCount=e.nativeSelection.rangeCount,e.rangeCount){for(var n=0,i=e.rangeCount;i>n;++n)e._ranges[n]=new t.WrappedRange(e.nativeSelection.getRangeAt(n));a(e,e._ranges[e.rangeCount-1],ot(e.nativeSelection)),e.isCollapsed=M(e)}else s(e)};else{if(!$||typeof j.isCollapsed!=x||typeof z.collapsed!=x||!R.implementsDomRange)return e.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;nt=function(t){var e,n=t.nativeSelection;n.anchorNode?(e=J(n,0),t._ranges=[e],t.rangeCount=1,function(t){var e=t.nativeSelection;t.anchorNode=e.anchorNode,t.anchorOffset=e.anchorOffset,t.focusNode=e.focusNode,t.focusOffset=e.focusOffset}(t),t.isCollapsed=M(t)):s(t)}}tt.refresh=function(t){var e,n=t?this._ranges.slice(0):null,i=this.anchorNode,o=this.anchorOffset;if(nt(this),t){if((e=n.length)!=this._ranges.length)return!0;if(this.anchorNode!=i||this.anchorOffset!=o)return!0;for(;e--;)if(!H(n[e],this._ranges[e]))return!0;return!1}},it=function(t,e){var n,i,o=t.getAllRanges();for(t.removeAllRanges(),n=0,i=o.length;i>n;++n)H(e,o[n])||t.addRange(o[n]);t.rangeCount||s(t)},tt.removeRange=K&&B?function(t){var e,n,i,o,r,a,s;if(this.docSelection.type==N){for(e=this.docSelection.createRange(),n=c(t),i=I(e.item(0)),o=O(i).createControlRange(),r=!1,a=0,s=e.length;s>a;++a)e.item(a)!==n||r?o.add(e.item(a)):r=!0;o.select(),h(this)}else it(this,t)}:function(t){it(this,t)},!F&&$&&R.implementsDomRange?(ot=r,tt.isBackward=function(){return ot(this)}):ot=tt.isBackward=function(){return!1},tt.isBackwards=tt.isBackward,tt.toString=function(){var t,e,n=[];for(t=0,e=this.rangeCount;e>t;++t)n[t]=""+this._ranges[t];return n.join("")},tt.collapse=function(e,n){y(this,e);var i=t.createRange(e);i.collapseToPoint(e,n),this.setSingleRange(i),this.isCollapsed=!0},tt.collapseToStart=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var t=this._ranges[0];this.collapse(t.startContainer,t.startOffset)},tt.collapseToEnd=function(){if(!this.rangeCount)throw new A("INVALID_STATE_ERR");var t=this._ranges[this.rangeCount-1];this.collapse(t.endContainer,t.endOffset)},tt.selectAllChildren=function(e){y(this,e);var n=t.createRange(e);n.selectNodeContents(e),this.setSingleRange(n)},tt.deleteFromDocument=function(){var t,e,n,i,o;if(K&&B&&this.docSelection.type==N){for(t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),e.parentNode.removeChild(e);this.refresh()}else if(this.rangeCount&&(n=this.getAllRanges()).length){for(this.removeAllRanges(),i=0,o=n.length;o>i;++i)n[i].deleteContents();this.addRange(n[o-1])}},tt.eachRange=function(t,e){for(var n=0,i=this._ranges.length;i>n;++n)if(t(this.getRangeAt(n)))return e},tt.getAllRanges=function(){var t=[];return this.eachRange(function(e){t.push(e)}),t},tt.setSingleRange=function(t,e){this.removeAllRanges(),this.addRange(t,e)},tt.callMethodOnEachRange=function(t,e){var n=[];return this.eachRange(function(i){n.push(i[t].apply(i,e))}),n},tt.setStart=b(!0),tt.setEnd=b(!1),t.rangePrototype.select=function(t){Z(this.getDocument()).setSingleRange(this,t)},tt.changeEachRange=function(t){var e=[],n=this.isBackward();this.eachRange(function(n){t(n),e.push(n)}),this.removeAllRanges(),n&&1==e.length?this.addRange(e[0],"backward"):this.setRanges(e)},tt.containsNode=function(t,e){return this.eachRange(function(n){return n.containsNode(t,e)},!0)||!1},tt.getBookmark=function(t){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[t])}},tt.moveToBookmark=function(e){var n,i,o,r=[];for(n=0;i=e.rangeBookmarks[n++];)(o=t.createRange(this.win)).moveToBookmark(i),r.push(o);e.backward?this.setSingleRange(r[0],"backward"):this.setRanges(r)},tt.toHtml=function(){var t=[];return this.eachRange(function(e){t.push(k.toHtml(e))}),t.join("")},R.implementsTextRange&&(tt.getNativeTextRange=function(){var n,i;if(n=this.docSelection){if(d(i=n.createRange()))return i;throw e.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return t.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw e.createError("getNativeTextRange: selection contains no range")}),tt.getName=function(){return"WrappedSelection"},tt.inspect=function(){return w(this)},tt.detach=function(){m(this.win,"delete"),g(this)},p.detachAll=function(){m(null,"deleteAll")},p.inspect=w,p.isDirectionBackward=n,t.Selection=p,t.selectionPrototype=tt,t.addShimListener(function(t){void 0===t.getSelection&&(t.getSelection=function(){return Z(t)}),t=null})}),E)},this),function(t,e){"function"==typeof define&&define.amd?define(["rangy"],t):t(e.rangy)}(function(t){t.createModule("SaveRestore",["WrappedRange"],function(t,e){function n(t,e){return(e||document).getElementById(t)}function i(t,e){var n,i="selectionBoundary_"+ +new Date+"_"+(""+Math.random()).slice(2),o=u.getDocument(t.startContainer),r=t.cloneRange();return r.collapse(e),(n=o.createElement("span")).id=i,n.style.lineHeight="0",n.style.display="none",n.className="rangySelectionBoundary",n.appendChild(o.createTextNode(h)),r.insertNode(n),n}function o(t,i,o,r){var a=n(o,t);a?(i[r?"setStartBefore":"setEndBefore"](a),a.parentNode.removeChild(a)):e.warn("Marker element has been removed. Cannot restore selection.")}function r(t,e){return e.compareBoundaryPoints(t.START_TO_START,t)}function a(e,n){var o,r=t.DomRange.getRangeDocument(e),a=""+e;return e.collapsed?{document:r,markerId:(o=i(e,!1)).id,collapsed:!0}:(o=i(e,!1),{document:r,startMarkerId:i(e,!0).id,endMarkerId:o.id,collapsed:!1,backward:n,toString:function(){return"original text: '"+a+"', new text: '"+e+"'"}})}function s(i,r){var a,s,l,c=i.document;return void 0===r&&(r=!0),a=t.createRange(c),i.collapsed?(s=n(i.markerId,c))?(s.style.display="inline",(l=s.previousSibling)&&3==l.nodeType?(s.parentNode.removeChild(s),a.collapseToPoint(l,l.length)):(a.collapseBefore(s),s.parentNode.removeChild(s))):e.warn("Marker element has been removed. Cannot restore selection."):(o(c,a,i.startMarkerId,!0),o(c,a,i.endMarkerId,!1)),r&&a.normalizeBoundaries(),a}function l(e,i){var o,s,l,c,d=[];for((e=e.slice(0)).sort(r),l=0,c=e.length;c>l;++l)d[l]=a(e[l],i);for(l=c-1;l>=0;--l)s=t.DomRange.getRangeDocument(o=e[l]),o.collapsed?o.collapseAfter(n(d[l].markerId,s)):(o.setEndBefore(n(d[l].endMarkerId,s)),o.setStartAfter(n(d[l].startMarkerId,s)));return d}function c(t){var e,n=[];for(e=t.length-1;e>=0;e--)n[e]=s(t[e],!0);return n}function d(t,e){var i=n(e,t);i&&i.parentNode.removeChild(i)}var u=t.dom,h="\ufeff";t.util.extend(t,{saveRange:a,restoreRange:s,saveRanges:l,restoreRanges:c,saveSelection:function(n){var i,o,r,a;return t.isSelectionValid(n)?(a=l(o=(i=t.getSelection(n)).getAllRanges(),r=1==o.length&&i.isBackward()),r?i.setSingleRange(o[0],"backward"):i.setRanges(o),{win:n,rangeInfos:a,restored:!1}):(e.warn("Cannot save selection. This usually happens when the selection is collapsed and the selection document has lost focus."),null)},restoreSelection:function(e,n){var i,o,r;e.restored||(i=e.rangeInfos,o=t.getSelection(e.win),r=c(i),1==i.length&&n&&t.features.selectionHasExtend&&i[0].backward?(o.removeAllRanges(),o.addRange(r[0],!0)):o.setRanges(r),e.restored=!0)},removeMarkerElement:d,removeMarkers:function(t){var e,n,i,o=t.rangeInfos;for(e=0,n=o.length;n>e;++e)(i=o[e]).collapsed?d(t.doc,i.markerId):(d(t.doc,i.startMarkerId),d(t.doc,i.endMarkerId))}})})},this),Base=function(){},Base.extend=function(t,e){var n,i,o,r=Base.prototype.extend;return Base._prototyping=!0,n=new this,r.call(n,t),n.base=function(){},delete Base._prototyping,i=n.constructor,(o=n.constructor=function(){if(!Base._prototyping)if(this._constructing||this.constructor==o)this._constructing=!0,i.apply(this,arguments),delete this._constructing;else if(null!=arguments[0])return(arguments[0].extend||r).call(arguments[0],n)}).ancestor=this,o.extend=this.extend,o.forEach=this.forEach,o.implement=this.implement,o.prototype=n,o.toString=this.toString,o.valueOf=function(t){return"object"==t?o:i.valueOf()},r.call(o,e),"function"==typeof o.init&&o.init(),o},Base.prototype={extend:function(t,e){var n,i,o,r,a,s,l;if(arguments.length>1)!(n=this[t])||"function"!=typeof e||n.valueOf&&n.valueOf()==e.valueOf()||!/\bbase\b/.test(e)||(i=e.valueOf(),(e=function(){var t,e=this.base||Base.prototype.base;return this.base=n,t=i.apply(this,arguments),this.base=e,t}).valueOf=function(t){return"object"==t?e:i},e.toString=Base.toString),this[t]=e;else if(t){for(o=Base.prototype.extend,Base._prototyping||"function"==typeof this||(o=this.extend||o),r={toSource:null},a=["constructor","toString","valueOf"],s=Base._prototyping?0:1;l=a[s++];)t[l]!=r[l]&&o.call(this,l,t[l]);for(l in t)r[l]||o.call(this,l,t[l])}return this}},Base=Base.extend({constructor:function(){this.extend(arguments[0])}},{ancestor:Object,version:"1.1",forEach:function(t,e,n){for(var i in t)void 0===this.prototype[i]&&e.call(n,t[i],i,t)},implement:function(){for(var t=0;t<arguments.length;t++)"function"==typeof arguments[t]?arguments[t](this.prototype):this.prototype.extend(arguments[t]);return this},toString:function(){return this.valueOf()+""}}),wysihtml5.browser=function(){function t(t,e){var n,i=-1;return"Microsoft Internet Explorer"==navigator.appName?n=RegExp("MSIE ([0-9]{1,}[.0-9]{0,})"):"Netscape"==navigator.appName&&(n=RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})")),n&&null!=n.exec(navigator.userAgent)&&(i=parseFloat(RegExp.$1)),-1!==i&&(!t||(e?"<"===e?i>t:">"===e?t>i:"<="===e?i>=t:">="===e?t>=i:void 0:t===i))}var e=navigator.userAgent,n=document.createElement("div"),i=-1!==e.indexOf("Gecko")&&-1===e.indexOf("KHTML"),o=-1!==e.indexOf("AppleWebKit/"),r=-1!==e.indexOf("Chrome/"),a=-1!==e.indexOf("Opera/");return{USER_AGENT:e,supported:function(){var t=this.USER_AGENT.toLowerCase(),e="contentEditable"in n,i=document.execCommand&&document.queryCommandSupported&&document.queryCommandState,o=document.querySelector&&document.querySelectorAll,r=this.isIos()&&function(t){return+(/ipad|iphone|ipod/.test(t)&&t.match(/ os (\d+).+? like mac os x/)||[void 0,0])[1]}(t)<5||this.isAndroid()&&+(t.match(/android (\d+)/)||[void 0,0])[1]<4||-1!==t.indexOf("opera mobi")||-1!==t.indexOf("hpwos/");return e&&i&&o&&!r},isTouchDevice:function(){return this.supportsEvent("touchmove")},isIos:function(){return/ipad|iphone|ipod/i.test(this.USER_AGENT)},isAndroid:function(){return-1!==this.USER_AGENT.indexOf("Android")},supportsSandboxedIframes:function(){return t()},throwsMixedContentWarningWhenIframeSrcIsEmpty:function(){return!("querySelector"in document)},displaysCaretInEmptyContentEditableCorrectly:function(){return t()},hasCurrentStyleProperty:function(){return"currentStyle"in n},hasHistoryIssue:function(){return i&&"Mac"===navigator.platform.substr(0,3)},insertsLineBreaksOnReturn:function(){return i},supportsPlaceholderAttributeOn:function(t){return"placeholder"in t},supportsEvent:function(t){return"on"+t in n||(n.setAttribute("on"+t,"return;"),"function"==typeof n["on"+t])},supportsEventsInIframeCorrectly:function(){return!a},supportsHTML5Tags:function(t){var e=t.createElement("div"),n="<article>foo</article>";return e.innerHTML=n,e.innerHTML.toLowerCase()===n},supportsCommand:function(){var e={formatBlock:t(10,"<="),insertUnorderedList:t(),insertOrderedList:t()},n={insertHTML:i};return function(t,i){if(!e[i]){try{return t.queryCommandSupported(i)}catch(t){}try{return t.queryCommandEnabled(i)}catch(t){return!!n[i]}}return!1}}(),doesAutoLinkingInContentEditable:function(){return t()},canDisableAutoLinking:function(){return this.supportsCommand(document,"AutoUrlDetect")},clearsContentEditableCorrectly:function(){return i||a||o},supportsGetAttributeCorrectly:function(){return"1"!=document.createElement("td").getAttribute("rowspan")},canSelectImagesInContentEditable:function(){return i||t()||a},autoScrollsToCaret:function(){return!o},autoClosesUnclosedTags:function(){var t,e,i=n.cloneNode(!1);return i.innerHTML="<p><div></div>",e=i.innerHTML.toLowerCase(),t="<p></p><div></div>"===e||"<p><div></div></p>"===e,this.autoClosesUnclosedTags=function(){return t},t},supportsNativeGetElementsByClassName:function(){return-1!==(document.getElementsByClassName+"").indexOf("[native code]")},supportsSelectionModify:function(){return"getSelection"in window&&"modify"in window.getSelection()},needsSpaceAfterLineBreak:function(){return a},supportsSpeechApiOn:function(t){return(e.match(/Chrome\/(\d+)/)||[void 0,0])[1]>=11&&("onwebkitspeechchange"in t||"speech"in t)},crashesWhenDefineProperty:function(e){return t(9)&&("XMLHttpRequest"===e||"XDomainRequest"===e)},doesAsyncFocus:function(){return t()},hasProblemsSettingCaretAfterImg:function(){return t()},hasUndoInContextMenu:function(){return i||r||a},hasInsertNodeIssue:function(){return a},hasIframeFocusIssue:function(){return t()},createsNestedInvalidMarkupAfterPaste:function(){return o},supportsMutationEvents:function(){return"MutationEvent"in window},supportsModenPaste:function(){return!("clipboardData"in window)}}}(),wysihtml5.lang.array=function(t){return{contains:function(e){if(Array.isArray(e)){for(var n=e.length;n--;)if(-1!==wysihtml5.lang.array(t).indexOf(e[n]))return!0;return!1}return-1!==wysihtml5.lang.array(t).indexOf(e)},indexOf:function(e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;i>n;n++)if(t[n]===e)return n;return-1},without:function(e){e=wysihtml5.lang.array(e);for(var n=[],i=0,o=t.length;o>i;i++)e.contains(t[i])||n.push(t[i]);return n},get:function(){for(var e=0,n=t.length,i=[];n>e;e++)i.push(t[e]);return i},map:function(e,n){if(Array.prototype.map)return t.map(e,n);for(var i=t.length>>>0,o=Array(i),r=0;i>r;r++)o[r]=e.call(n,t[r],r,t);return o},unique:function(){for(var e=[],n=t.length,i=0;n>i;)wysihtml5.lang.array(e).contains(t[i])||e.push(t[i]),i++;return e}}},wysihtml5.lang.Dispatcher=Base.extend({on:function(t,e){return this.events=this.events||{},this.events[t]=this.events[t]||[],this.events[t].push(e),this},off:function(t,e){this.events=this.events||{};var n,i,o=0;if(t){for(n=this.events[t]||[],i=[];o<n.length;o++)n[o]!==e&&e&&i.push(n[o]);this.events[t]=i}else this.events={};return this},fire:function(t,e){this.events=this.events||{};for(var n=this.events[t]||[],i=0;i<n.length;i++)n[i].call(this,e);return this},observe:function(){return this.on.apply(this,arguments)},stopObserving:function(){return this.off.apply(this,arguments)}}),wysihtml5.lang.object=function(t){return{merge:function(e){for(var n in e)t[n]=e[n];return this},get:function(){return t},clone:function(e){var n,i={};if(null===t||!wysihtml5.lang.object(t).isPlainObject())return t;for(n in t)t.hasOwnProperty(n)&&(i[n]=e?wysihtml5.lang.object(t[n]).clone(e):t[n]);return i},isArray:function(){return"[object Array]"===Object.prototype.toString.call(t)},isFunction:function(){return"[object Function]"===Object.prototype.toString.call(t)},isPlainObject:function(){return"[object Object]"===Object.prototype.toString.call(t)}}},function(){var t=/^\s+/,e=/\s+$/,n=/[&<>\t"]/g,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","\t":"&nbsp; "};wysihtml5.lang.string=function(o){return o+="",{trim:function(){return o.replace(t,"").replace(e,"")},interpolate:function(t){for(var e in t)o=this.replace("#{"+e+"}").by(t[e]);return o},replace:function(t){return{by:function(e){return o.split(t).join(e)}}},escapeHTML:function(t,e){var r=o.replace(n,function(t){return i[t]});return t&&(r=r.replace(/(?:\r\n|\r|\n)/g,"<br />")),e&&(r=r.replace(/  /gi,"&nbsp; ")),r}}}}(),function(t){function e(e){var n=e.parentNode,i=t.lang.string(e.data).escapeHTML(),o=function(t){var e=t._wysihtml5_tempElement;return e||(e=t._wysihtml5_tempElement=t.createElement("div")),e}(n.ownerDocument);for(o.innerHTML="<span></span>"+i.replace(r,function(t,e){var n,i,o=(e.match(a)||[])[1]||"",r=l[o];return(e=e.replace(a,"")).split(r).length>e.split(o).length&&(e+=o,o=""),n=e,i=e,e.length>s&&(i=i.substr(0,s)+"..."),"www."===n.substr(0,4)&&(n="http://"+n),'<a href="'+n+'">'+i+"</a>"+o}),o.removeChild(o.firstChild);o.firstChild;)n.insertBefore(o.firstChild,e);n.removeChild(e)}function n(e,n){for(var i;e.parentNode;){if(i=(e=e.parentNode).nodeName,e.className&&t.lang.array(e.className.split(" ")).contains(n))return!0;if(o.contains(i))return!0;if("body"===i)return!1}return!1}function i(n,a){if(!(o.contains(n.nodeName)||n.className&&t.lang.array(n.className.split(" ")).contains(a))){if(n.nodeType===t.TEXT_NODE&&n.data.match(r))return void e(n);for(var s=t.lang.array(n.childNodes).get(),l=s.length,c=0;l>c;c++)i(s[c],a);return n}}var o=t.lang.array(["CODE","PRE","A","SCRIPT","HEAD","TITLE","STYLE"]),r=/((https?:\/\/|www\.)[^\s<]{3,})/gi,a=/([^\w\/\-](,?))$/i,s=100,l={")":"(","]":"[","}":"{"};t.dom.autoLink=function(t,e){return n(t,e)?t:(t===t.ownerDocument.documentElement&&(t=t.ownerDocument.body),i(t,e))},t.dom.autoLink.URL_REG_EXP=r}(wysihtml5),function(t){var e=wysihtml5.dom;e.addClass=function(t,n){var i=t.classList;return i?i.add(n):void(e.hasClass(t,n)||(t.className+=" "+n))},e.removeClass=function(t,e){var n=t.classList;return n?n.remove(e):void(t.className=t.className.replace(RegExp("(^|\\s+)"+e+"(\\s+|$)")," "))},e.hasClass=function(t,e){var n,i=t.classList;return i?i.contains(e):(n=t.className).length>0&&(n==e||RegExp("(^|\\s)"+e+"(\\s|$)").test(n))}}(),wysihtml5.dom.contains=function(){var t=document.documentElement;return t.contains?function(t,e){return e.nodeType!==wysihtml5.ELEMENT_NODE&&(e=e.parentNode),t!==e&&t.contains(e)}:t.compareDocumentPosition?function(t,e){return!!(16&t.compareDocumentPosition(e))}:void 0}(),wysihtml5.dom.convertToList=function(){function t(t,e){var n=t.createElement("li");return e.appendChild(n),n}return function(e,n,i){if("UL"===e.nodeName||"OL"===e.nodeName||"MENU"===e.nodeName)return e;var o,r,a,s,l,c,d,u,h,f=e.ownerDocument,p=f.createElement(n),g=e.querySelectorAll("br"),m=g.length;for(h=0;m>h;h++)for(s=g[h];(l=s.parentNode)&&l!==e&&l.lastChild===s;){if("block"===wysihtml5.dom.getStyle("display").from(l)){l.removeChild(s);break}wysihtml5.dom.insert(s).after(s.parentNode)}for(r=(o=wysihtml5.lang.array(e.childNodes).get()).length,h=0;r>h;h++)u=u||t(f,p),a=o[h],c="block"===wysihtml5.dom.getStyle("display").from(a),d="BR"===a.nodeName,!c||i&&wysihtml5.dom.hasClass(a,i)?d?u=u.firstChild?null:u:u.appendChild(a):((u=u.firstChild?t(f,p):u).appendChild(a),u=null);return 0===o.length&&t(f,p),e.parentNode.replaceChild(p,e),p}}(),wysihtml5.dom.copyAttributes=function(t){return{from:function(e){return{to:function(n){for(var i,o=0,r=t.length;r>o;o++)void 0!==e[i=t[o]]&&""!==e[i]&&(n[i]=e[i]);return{andTo:arguments.callee}}}}}},function(t){var e=["-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing"],n=function(e){return!!i(e)&&parseInt(t.getStyle("width").from(e),10)<e.offsetWidth},i=function(n){for(var i=0,o=e.length;o>i;i++)if("border-box"===t.getStyle(e[i]).from(n))return e[i]};t.copyStyles=function(i){return{from:function(o){n(o)&&(i=wysihtml5.lang.array(i).without(e));for(var r,a="",s=i.length,l=0;s>l;l++)a+=(r=i[l])+":"+t.getStyle(r).from(o)+";";return{to:function(e){return t.setStyles(a).on(e),{andTo:arguments.callee}}}}}}}(wysihtml5.dom),function(t){t.dom.delegate=function(e,n,i,o){return t.dom.observe(e,i,function(i){for(var r=i.target,a=t.lang.array(e.querySelectorAll(n));r&&r!==e;){if(a.contains(r)){o.call(r,i);break}r=r.parentNode}})}}(wysihtml5),function(t){t.dom.domNode=function(e){var n=[t.ELEMENT_NODE,t.TEXT_NODE],i=function(e){return e.nodeType===t.TEXT_NODE&&/^\s*$/g.test(e.data)};return{prev:function(o){var r=e.previousSibling;return r?!t.lang.array(o&&o.nodeTypes?o.nodeTypes:n).contains(r.nodeType)||o&&o.ignoreBlankTexts&&i(r)?t.dom.domNode(r).prev(o):r:null},next:function(o){var r=e.nextSibling;return r?!t.lang.array(o&&o.nodeTypes?o.nodeTypes:n).contains(r.nodeType)||o&&o.ignoreBlankTexts&&i(r)?t.dom.domNode(r).next(o):r:null}}}}(wysihtml5),wysihtml5.dom.getAsDom=function(){var t=function(t){if(!t._wysihtml5_supportsHTML5Tags){for(var n=0,i=e.length;i>n;n++)t.createElement(e[n]);t._wysihtml5_supportsHTML5Tags=!0}},e=["abbr","article","aside","audio","bdi","canvas","command","datalist","details","figcaption","figure","footer","header","hgroup","keygen","mark","meter","nav","output","progress","rp","rt","ruby","svg","section","source","summary","time","track","video","wbr"];return function(e,n){var i;return n=n||document,"object"==typeof e&&e.nodeType?(i=n.createElement("div")).appendChild(e):wysihtml5.browser.supportsHTML5Tags(n)?(i=n.createElement("div")).innerHTML=e:(t(n),i=function(t,e){var n=e.createElement("div");n.style.display="none",e.body.appendChild(n);try{n.innerHTML=t}catch(t){}return e.body.removeChild(n),n}(e,n)),i}}(),wysihtml5.dom.getParentElement=function(){function t(t,e){return!e||!e.length||("string"==typeof e?t===e:wysihtml5.lang.array(e).contains(t))}function e(t){return t.nodeType===wysihtml5.ELEMENT_NODE}function n(t,e,n){var i=(t.className||"").match(n)||[];return e?i[i.length-1]===e:!!i.length}function i(t,e,n){var i=(t.getAttribute("style")||"").match(n)||[];return e?i[i.length-1]===e:!!i.length}return function(o,r,a,s){var l=r.cssStyle||r.styleRegExp,c=r.className||r.classRegExp;for(a=a||50;a--&&o&&"BODY"!==o.nodeName&&(!s||o!==s);){if(e(o)&&t(o.nodeName,r.nodeName)&&(!l||i(o,r.cssStyle,r.styleRegExp))&&(!c||n(o,r.className,r.classRegExp)))return o;o=o.parentNode}return null}}(),wysihtml5.dom.getStyle=function(){function t(t){return t.replace(n,function(t){return t.charAt(1).toUpperCase()})}var e={float:"styleFloat"in document.createElement("div").style?"styleFloat":"cssFloat"},n=/\-[a-z]/g;return function(n){return{from:function(i){var o,r,a,s,l,c,d,u,h;if(i.nodeType===wysihtml5.ELEMENT_NODE){if(o=i.ownerDocument,r=e[n]||t(n),s=i.currentStyle,l=(a=i.style)[r])return l;if(s)try{return s[r]}catch(t){}return c=o.defaultView||o.parentWindow,d=("height"===n||"width"===n)&&"TEXTAREA"===i.nodeName,c.getComputedStyle?(d&&(u=a.overflow,a.overflow="hidden"),h=c.getComputedStyle(i,null).getPropertyValue(n),d&&(a.overflow=u||""),h):void 0}}}}}(),wysihtml5.dom.getTextNodes=function(t,e){var n=[];for(t=t.firstChild;t;t=t.nextSibling)3==t.nodeType?e&&/^\s*$/.test(t.innerText||t.textContent)||n.push(t):n=n.concat(wysihtml5.dom.getTextNodes(t,e));return n},wysihtml5.dom.hasElementWithTagName=function(){function t(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=n++)}var e={},n=1;return function(n,i){var o=t(n)+":"+i,r=e[o];return r||(r=e[o]=n.getElementsByTagName(i)),r.length>0}}(),function(t){function e(t){return t._wysihtml5_identifier||(t._wysihtml5_identifier=i++)}var n={},i=1;t.dom.hasElementWithClassName=function(i,o){if(!t.browser.supportsNativeGetElementsByClassName())return!!i.querySelector("."+o);var r=e(i)+":"+o,a=n[r];return a||(a=n[r]=i.getElementsByClassName(o)),a.length>0}}(wysihtml5),wysihtml5.dom.insert=function(t){return{after:function(e){e.parentNode.insertBefore(t,e.nextSibling)},before:function(e){e.parentNode.insertBefore(t,e)},into:function(e){e.appendChild(t)}}},wysihtml5.dom.insertCSS=function(t){return t=t.join("\n"),{into:function(e){var n,i,o=e.createElement("style");return o.type="text/css",o.styleSheet?o.styleSheet.cssText=t:o.appendChild(e.createTextNode(t)),(n=e.querySelector("head link"))?void n.parentNode.insertBefore(o,n):void((i=e.querySelector("head"))&&i.appendChild(o))}}},function(t){t.dom.lineBreaks=function(e){function n(t){return"BR"===t.nodeName}function i(e){return!!n(e)||"block"===t.dom.getStyle("display").from(e)}return{add:function(){var n=e.ownerDocument,o=t.dom.domNode(e).next({ignoreBlankTexts:!0}),r=t.dom.domNode(e).prev({ignoreBlankTexts:!0});o&&!i(o)&&t.dom.insert(n.createElement("br")).after(e),r&&!i(r)&&t.dom.insert(n.createElement("br")).before(e)},remove:function(){var i=t.dom.domNode(e).next({ignoreBlankTexts:!0}),o=t.dom.domNode(e).prev({ignoreBlankTexts:!0});i&&n(i)&&i.parentNode.removeChild(i),o&&n(o)&&o.parentNode.removeChild(o)}}}}(wysihtml5),wysihtml5.dom.observe=function(t,e,n){for(var i,o,r=0,a=(e="string"==typeof e?[e]:e).length;a>r;r++)o=e[r],t.addEventListener?t.addEventListener(o,n,!1):t.attachEvent("on"+o,i=function(e){"target"in e||(e.target=e.srcElement),e.preventDefault=e.preventDefault||function(){this.returnValue=!1},e.stopPropagation=e.stopPropagation||function(){this.cancelBubble=!0},n.call(t,e)});return{stop:function(){for(var o,r=0,a=e.length;a>r;r++)o=e[r],t.removeEventListener?t.removeEventListener(o,n,!1):t.detachEvent("on"+o,i)}}},wysihtml5.dom.parse=function(t,e){function n(t,e,i,o){var r,a,s,d=t.nodeType,u=t.childNodes,h=u.length,f=l[d],p=0;if(o&&1===d&&wysihtml5.dom.hasClass(t,o))return t;if(!(a=f&&f(t,i))){if(!1===a){for(r=t.ownerDocument.createDocumentFragment(),p=h;p--;)u[p]&&(s=n(u[p],e,i,o))&&(u[p]===s&&p--,r.insertBefore(s,r.firstChild));return"block"===wysihtml5.dom.getStyle("display").from(t)&&r.appendChild(t.ownerDocument.createElement("br")),wysihtml5.lang.array(["div","pre","p","table","td","th","ul","ol","li","dd","dl","footer","header","section","h1","h2","h3","h4","h5","h6"]).contains(t.nodeName.toLowerCase())&&t.parentNode.lastChild!==t&&(t.nextSibling&&3===t.nextSibling.nodeType&&/^\s/.test(t.nextSibling.nodeValue)||r.appendChild(t.ownerDocument.createTextNode(" "))),r.normalize&&r.normalize(),r}return null}for(p=0;h>p;p++)u[p]&&(s=n(u[p],e,i,o))&&(u[p]===s&&p--,a.appendChild(s));if(e&&a.nodeName.toLowerCase()===c&&(!a.childNodes.length||/^\s*$/gi.test(a.innerHTML)&&(i||"_wysihtml5-temp-placeholder"!==t.className&&"rangySelectionBoundary"!==t.className)||!a.attributes.length)){for(r=a.ownerDocument.createDocumentFragment();a.firstChild;)r.appendChild(a.firstChild);return r.normalize&&r.normalize(),r}return a.normalize&&a.normalize(),a}function i(t,e,n,i){var r;if("SPAN"===t.nodeName&&!i&&("_wysihtml5-temp-placeholder"===t.className||"rangySelectionBoundary"===t.className))return!0;for(r in n)if(n.hasOwnProperty(r)&&e.type_definitions&&e.type_definitions[r]&&o(t,e.type_definitions[r]))return!0;return!1}function o(t,e){var n,i,o,r,a,s,l,c,u=t.getAttribute("class"),h=t.getAttribute("style");if(e.methods)for(s in e.methods)if(e.methods.hasOwnProperty(s)&&v[s]&&v[s](t))return!0;if(u&&e.classes)for(n=(u=u.replace(/^\s+/g,"").replace(/\s+$/g,"").split(d)).length,l=0;n>l;l++)if(e.classes[u[l]])return!0;if(h&&e.styles)for(i in h=h.split(";"),e.styles)if(e.styles.hasOwnProperty(i))for(c=h.length;c--;)if((a=h[c].split(":"))[0].replace(/\s/g,"").toLowerCase()===i&&(!0===e.styles[i]||1===e.styles[i]||wysihtml5.lang.array(e.styles[i]).contains(a[1].replace(/\s/g,"").toLowerCase())))return!0;if(e.attrs)for(o in e.attrs)if(e.attrs.hasOwnProperty(o)&&"string"==typeof(r=wysihtml5.dom.getAttribute(t,o))&&r.search(e.attrs[o])>-1)return!0;return!1}function r(t,e){var n,i=[];for(n in e)e.hasOwnProperty(n)&&0===n.indexOf(t)&&i.push(n);return i}function a(t,e,n,i){var o,r=p[n];return!(!r||!(e||"alt"===t&&"IMG"==i)||(o=r(e),"string"!=typeof o))&&o}function s(t,e){var n,i,o,s,l,c=wysihtml5.lang.object(h.attributes||{}).clone(),d=wysihtml5.lang.object(c).merge(wysihtml5.lang.object(e||{}).clone()).get(),u={},f=wysihtml5.dom.getAttributes(t);for(n in d)if(/\*$/.test(n))for(s=0,l=(o=r(n.slice(0,-1),f)).length;l>s;s++)!1!==(i=a(o[s],f[o[s]],d[n],t.nodeName))&&(u[o[s]]=i);else!1!==(i=a(n,f[n],d[n],t.nodeName))&&(u[n]=i);return u}var l={1:function(t,e){var n,o,r,a=h.tags,l=t.nodeName.toLowerCase(),u=t.scopeName;if(t._wysihtml5)return null;if(t._wysihtml5=1,"wysihtml5-temp"===t.className)return null;if(u&&"HTML"!=u&&(l=u+":"+l),"outerHTML"in t&&(wysihtml5.browser.autoClosesUnclosedTags()||"P"!==t.nodeName||"</p>"===t.outerHTML.slice(-4).toLowerCase()||(l="div")),l in a){if(!(n=a[l])||n.remove)return null;if(n.unwrap)return!1;n="string"==typeof n?{rename_tag:n}:n}else{if(!t.firstChild)return null;n={rename_tag:c}}if(n.one_of_type&&!i(t,h,n.one_of_type,e)){if(!n.remove_action)return null;if("unwrap"===n.remove_action)return!1;if("rename"!==n.remove_action)return null;r=n.remove_action_rename_to||c}return function(t,e,n,i){var o,r,a,l,c,u={},f=n.set_class,p=n.add_class,v=n.add_style,y=n.set_attributes,b=h.classes,w=0,x=[],D=[],C=[],_=[];if(y&&(u=wysihtml5.lang.object(y).clone()),u=wysihtml5.lang.object(u).merge(s(t,n.check_attributes)).get(),f&&x.push(f),p)for(l in p)(c=m[p[l]])&&"string"==typeof(a=c(wysihtml5.dom.getAttribute(t,l)))&&x.push(a);if(v)for(l in v)(c=g[v[l]])&&(newStyle=c(wysihtml5.dom.getAttribute(t,l)),"string"==typeof newStyle&&D.push(newStyle));if("string"==typeof b&&"any"===b&&t.getAttribute("class"))if(h.classes_blacklist){for((_=t.getAttribute("class"))&&(x=x.concat(_.split(d))),o=x.length;o>w;w++)h.classes_blacklist[r=x[w]]||C.push(r);C.length&&(u.class=wysihtml5.lang.array(C).unique().join(" "))}else u.class=t.getAttribute("class");else{for(i||(b["_wysihtml5-temp-placeholder"]=1,b._rangySelectionBoundary=1,b["wysiwyg-tmp-selected-cell"]=1),(_=t.getAttribute("class"))&&(x=x.concat(_.split(d))),o=x.length;o>w;w++)b[r=x[w]]&&C.push(r);C.length&&(u.class=wysihtml5.lang.array(C).unique().join(" "))}for(l in u.class&&i&&(u.class=u.class.replace("wysiwyg-tmp-selected-cell",""),/^\s*$/g.test(u.class)&&delete u.class),D.length&&(u.style=wysihtml5.lang.array(D).unique().join(" ")),u)try{e.setAttribute(l,u[l])}catch(t){}u.src&&(void 0!==u.width&&e.setAttribute("width",u.width),void 0!==u.height&&e.setAttribute("height",u.height))}(t,o=t.ownerDocument.createElement(r||n.rename_tag||l),n,e),function(t,e,n){var i,o;if(n&&n.keep_styles)for(i in n.keep_styles)if(n.keep_styles.hasOwnProperty(i)){if(o="float"===i?t.style.styleFloat||t.style.cssFloat:t.style[i],n.keep_styles[i]instanceof RegExp&&!n.keep_styles[i].test(o))continue;"float"===i?e.style[t.style.styleFloat?"styleFloat":"cssFloat"]=o:t.style[i]&&(e.style[i]=o)}}(t,o,n),t=null,o.normalize&&o.normalize(),o},3:function(t){var e,n=t.nextSibling;return n&&n.nodeType===wysihtml5.TEXT_NODE?void(n.data=t.data.replace(f,"")+n.data.replace(f,"")):(e=t.data.replace(f,""),t.ownerDocument.createTextNode(e))},8:function(t){return h.comments?t.ownerDocument.createComment(t.nodeValue):void 0}},c="span",d=/\s+/,u={tags:{},classes:{}},h={},f=/\uFEFF/g,p={url:function(){var t=/^https?:\/\//i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),src:function(){var t=/^(\/|https?:\/\/)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),href:function(){var t=/^(#|\/|https?:\/\/|mailto:)/i;return function(e){return e&&e.match(t)?e.replace(t,function(t){return t.toLowerCase()}):null}}(),alt:function(){var t=/[^ a-z0-9_\-]/gi;return function(e){return e?e.replace(t,""):""}}(),numbers:function(){var t=/\D/g;return function(e){return(e=(e||"").replace(t,""))||null}}(),any:function(t){return t}},g={align_text:function(){var t={left:"text-align: left;",right:"text-align: right;",center:"text-align: center;"};return function(e){return t[(e+"").toLowerCase()]}}()},m={align_img:function(){var t={left:"wysiwyg-float-left",right:"wysiwyg-float-right"};return function(e){return t[(e+"").toLowerCase()]}}(),align_text:function(){var t={left:"wysiwyg-text-align-left",right:"wysiwyg-text-align-right",center:"wysiwyg-text-align-center",justify:"wysiwyg-text-align-justify"};return function(e){return t[(e+"").toLowerCase()]}}(),clear_br:function(){var t={left:"wysiwyg-clear-left",right:"wysiwyg-clear-right",both:"wysiwyg-clear-both",all:"wysiwyg-clear-both"};return function(e){return t[(e+"").toLowerCase()]}}(),size_font:function(){var t={1:"wysiwyg-font-size-xx-small",2:"wysiwyg-font-size-small",3:"wysiwyg-font-size-medium",4:"wysiwyg-font-size-large",5:"wysiwyg-font-size-x-large",6:"wysiwyg-font-size-xx-large",7:"wysiwyg-font-size-xx-large","-":"wysiwyg-font-size-smaller","+":"wysiwyg-font-size-larger"};return function(e){return t[(e+"").charAt(0)]}}()},v={has_visible_contet:function(){var t,e=["img","video","picture","br","script","noscript","style","table","iframe","object","embed","audio","svg","input","button","select","textarea","canvas"];return function(n){if((t=(n.innerText||n.textContent).replace(/\s/g,""))&&t.length>0)return!0;for(var i=e.length;i--;)if(n.querySelector(e[i]))return!0;return!!(n.offsetWidth&&n.offsetWidth>0&&n.offsetHeight&&n.offsetHeight>0)}}()},y={unwrap:function(t){wysihtml5.dom.unwrap(t)},remove:function(t){t.parentNode.removeChild(t)}};return function(t,e){var i,o,r,a,s,l,c,d,f;for(wysihtml5.lang.object(h).merge(u).merge(e.rules).get(),o=(i=e.context||t.ownerDocument||document).createDocumentFragment(),r="string"==typeof t,a=!1,!0===e.clearInternals&&(a=!0),s=r?wysihtml5.dom.getAsDom(t,i):t,h.selectors&&function(t,e){var n,i,o,r;for(n in e)if(e.hasOwnProperty(n))for(wysihtml5.lang.object(e[n]).isFunction()?i=e[n]:"string"==typeof e[n]&&y[e[n]]&&(i=y[e[n]]),r=(o=t.querySelectorAll(n)).length;r--;)i(o[r])}(s,h.selectors);s.firstChild;)(l=n(c=s.firstChild,e.cleanUp,a,e.uneditableClass))&&o.appendChild(l),c!==l&&s.removeChild(c);if(e.unjoinNbsps)for(f=(d=wysihtml5.dom.getTextNodes(o)).length;f--;)d[f].nodeValue=d[f].nodeValue.replace(/([\S\u00A0])\u00A0/gi,"$1 ");return s.innerHTML="",s.appendChild(o),r?wysihtml5.quirks.getCorrectInnerHTML(s):s}(t,e)},wysihtml5.dom.removeEmptyTextNodes=function(t){for(var e,n=wysihtml5.lang.array(t.childNodes).get(),i=n.length,o=0;i>o;o++)(e=n[o]).nodeType===wysihtml5.TEXT_NODE&&""===e.data&&e.parentNode.removeChild(e)},wysihtml5.dom.renameElement=function(t,e){for(var n,i=t.ownerDocument.createElement(e);n=t.firstChild;)i.appendChild(n);return wysihtml5.dom.copyAttributes(["align","className"]).from(t).to(i),t.parentNode.replaceChild(i,t),i},wysihtml5.dom.replaceWithChildNodes=function(t){if(t.parentNode){if(!t.firstChild)return void t.parentNode.removeChild(t);for(var e=t.ownerDocument.createDocumentFragment();t.firstChild;)e.appendChild(t.firstChild);t.parentNode.replaceChild(e,t),t=e=null}},function(t){function e(e){return"block"===t.getStyle("display").from(e)}function n(t){return"BR"===t.nodeName}function i(t){var e=t.ownerDocument.createElement("br");t.appendChild(e)}t.resolveList=function(t,o){if(t.nodeName.match(/^(MENU|UL|OL)$/)){var r,a,s,l,c,d=t.ownerDocument,u=d.createDocumentFragment(),h=wysihtml5.dom.domNode(t).prev({ignoreBlankTexts:!0});if(o)for(!h||e(h)||n(h)||i(u);c=t.firstElementChild||t.firstChild;){for(a=c.lastChild;r=c.firstChild;)s=r===a&&!e(r)&&!n(r),u.appendChild(r),s&&i(u);c.parentNode.removeChild(c)}else for(;c=t.firstElementChild||t.firstChild;){if(c.querySelector&&c.querySelector("div, p, ul, ol, menu, blockquote, h1, h2, h3, h4, h5, h6"))for(;r=c.firstChild;)u.appendChild(r);else{for(l=d.createElement("p");r=c.firstChild;)l.appendChild(r);u.appendChild(l)}c.parentNode.removeChild(c)}t.parentNode.replaceChild(u,t)}}}(wysihtml5.dom),function(t){var e=document,n=["parent","top","opener","frameElement","frames","localStorage","globalStorage","sessionStorage","indexedDB"],i=["open","close","openDialog","showModalDialog","alert","confirm","prompt","openDatabase","postMessage","XMLHttpRequest","XDomainRequest"],o=["referrer","write","open","close"];t.dom.Sandbox=Base.extend({constructor:function(e,n){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.editableArea=this._createIframe()},insertInto:function(t){"string"==typeof t&&(t=e.getElementById(t)),t.appendChild(this.editableArea)},getIframe:function(){return this.editableArea},getWindow:function(){this._readyError()},getDocument:function(){this._readyError()},destroy:function(){var t=this.getIframe();t.parentNode.removeChild(t)},_readyError:function(){throw Error("wysihtml5.Sandbox: Sandbox iframe isn't loaded yet")},_createIframe:function(){var n=this,i=e.createElement("iframe");return i.className="wysihtml5-sandbox",t.dom.setAttributes({security:"restricted",allowtransparency:"true",frameborder:0,width:0,height:0,marginwidth:0,marginheight:0}).on(i),t.browser.throwsMixedContentWarningWhenIframeSrcIsEmpty()&&(i.src="javascript:'<html></html>'"),i.onload=function(){i.onreadystatechange=i.onload=null,n._onLoadIframe(i)},i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&(i.onreadystatechange=i.onload=null,n._onLoadIframe(i))},i},_onLoadIframe:function(r){var a,s,l,c,d,u;if(t.dom.contains(e.documentElement,r)){if(a=this,s=r.contentWindow,l=r.contentWindow.document,c=this._getHtml({charset:e.characterSet||e.charset||"utf-8",stylesheets:this.config.stylesheets}),l.open("text/html","replace"),l.write(c),l.close(),this.getWindow=function(){return r.contentWindow},this.getDocument=function(){return r.contentWindow.document},s.onerror=function(t,e,n){throw Error("wysihtml5.Sandbox: "+t,e,n)},!t.browser.supportsSandboxedIframes()){for(d=0,u=n.length;u>d;d++)this._unset(s,n[d]);for(d=0,u=i.length;u>d;d++)this._unset(s,i[d],t.EMPTY_FUNCTION);for(d=0,u=o.length;u>d;d++)this._unset(l,o[d]);this._unset(l,"cookie","",!0)}this.loaded=!0,setTimeout(function(){a.callback(a)},0)}},_getHtml:function(e){var n,i=e.stylesheets,o="",r=0;if(i="string"==typeof i?[i]:i)for(n=i.length;n>r;r++)o+='<link rel="stylesheet" href="'+i[r]+'">';return e.stylesheets=o,t.lang.string('<!DOCTYPE html><html><head><meta charset="#{charset}">#{stylesheets}</head><body></body></html>').interpolate(e)},_unset:function(e,n,i,o){try{e[n]=i}catch(t){}try{e.__defineGetter__(n,function(){return i})}catch(t){}if(o)try{e.__defineSetter__(n,function(){})}catch(t){}if(!t.browser.crashesWhenDefineProperty(n))try{var r={get:function(){return i}};o&&(r.set=function(){}),Object.defineProperty(e,n,r)}catch(t){}}})}(wysihtml5),function(t){var e=document;t.dom.ContentEditableArea=Base.extend({getContentEditable:function(){return this.element},getWindow:function(){return this.element.ownerDocument.defaultView},getDocument:function(){return this.element.ownerDocument},constructor:function(e,n,i){this.callback=e||t.EMPTY_FUNCTION,this.config=t.lang.object({}).merge(n).get(),this.element=i?this._bindElement(i):this._createElement()},_createElement:function(){var t=e.createElement("div");return t.className="wysihtml5-sandbox",this._loadElement(t),t},_bindElement:function(t){return t.className=t.className&&""!=t.className?t.className+" wysihtml5-sandbox":"wysihtml5-sandbox",this._loadElement(t,!0),t},_loadElement:function(t,e){var n,i=this;e||(n=this._getHtml(),t.innerHTML=n),this.getWindow=function(){return t.ownerDocument.defaultView},this.getDocument=function(){return t.ownerDocument},this.loaded=!0,setTimeout(function(){i.callback(i)},0)},_getHtml:function(){return""}})}(wysihtml5),function(){var t={className:"class"};wysihtml5.dom.setAttributes=function(e){return{on:function(n){for(var i in e)n.setAttribute(t[i]||i,e[i])}}}}(),wysihtml5.dom.setStyles=function(t){return{on:function(e){var n,i=e.style;if("string"!=typeof t)for(n in t)"float"===n?(i.cssFloat=t[n],i.styleFloat=t[n]):i[n]=t[n];else i.cssText+=";"+t}}},function(t){t.simulatePlaceholder=function(e,n,i){var o="placeholder",r=function(){var e=n.element.offsetWidth>0&&n.element.offsetHeight>0;n.hasPlaceholderSet()&&(n.clear(),n.element.focus(),e&&setTimeout(function(){var t=n.selection.getSelection();t.focusNode&&t.anchorNode||n.selection.selectNode(n.element.firstChild||n.element)},0)),n.placeholderSet=!1,t.removeClass(n.element,o)},a=function(){n.isEmpty()&&(n.placeholderSet=!0,n.setValue(i),t.addClass(n.element,o))};e.on("set_placeholder",a).on("unset_placeholder",r).on("focus:composer",r).on("paste:composer",r).on("blur:composer",a),a()}}(wysihtml5.dom),function(t){var e=document.documentElement;"textContent"in e?(t.setTextContent=function(t,e){t.textContent=e},t.getTextContent=function(t){return t.textContent}):"innerText"in e?(t.setTextContent=function(t,e){t.innerText=e},t.getTextContent=function(t){return t.innerText}):(t.setTextContent=function(t,e){t.nodeValue=e},t.getTextContent=function(t){return t.nodeValue})}(wysihtml5.dom),wysihtml5.dom.getAttribute=function(t,e){var n=!wysihtml5.browser.supportsGetAttributeCorrectly();return e=e.toLowerCase(),"IMG"==t.nodeName&&"src"==e&&!0===wysihtml5.dom.isLoadedImage(t)?t.src:n&&"outerHTML"in t?-1!=t.outerHTML.toLowerCase().indexOf(" "+e+"=")?t.getAttribute(e):null:t.getAttribute(e)},wysihtml5.dom.getAttributes=function(t){var e,n=!wysihtml5.browser.supportsGetAttributeCorrectly(),i=t.nodeName,o=[];for(e in t.attributes)(t.attributes.hasOwnProperty&&t.attributes.hasOwnProperty(e)||!t.attributes.hasOwnProperty&&Object.prototype.hasOwnProperty.call(t.attributes,e))&&t.attributes[e].specified&&("IMG"==i&&"src"==t.attributes[e].name.toLowerCase()&&!0===wysihtml5.dom.isLoadedImage(t)?o.src=t.src:wysihtml5.lang.array(["rowspan","colspan"]).contains(t.attributes[e].name.toLowerCase())&&n?1!==t.attributes[e].value&&(o[t.attributes[e].name]=t.attributes[e].value):o[t.attributes[e].name]=t.attributes[e].value);return o},wysihtml5.dom.isLoadedImage=function(t){try{return t.complete&&!t.mozMatchesSelector(":-moz-broken")}catch(e){if(t.complete&&"complete"===t.readyState)return!0}},function(t){function e(t,e){var n,i,o,r,a=[];for(i=0,o=t.length;o>i;i++)if(n=t[i].querySelectorAll(e))for(r=n.length;r--;a.unshift(n[r]));return a}function n(t){t.parentNode.removeChild(t)}function i(t,e){t.parentNode.insertBefore(e,t.nextSibling)}function o(t,e){for(var n=t.nextSibling;1!=n.nodeType;)if(n=n.nextSibling,!e||e==n.tagName.toLowerCase())return n;return null}var r=t.dom,a=function(t){this.el=t,this.isColspan=!1,this.isRowspan=!1,this.firstCol=!0,this.lastCol=!0,this.firstRow=!0,this.lastRow=!0,this.isReal=!0,this.spanCollection=[],this.modified=!1},s=function(t,e){t?(this.cell=t,this.table=r.getParentElement(t,{nodeName:["TABLE"]})):e&&(this.table=e,this.cell=this.table.querySelectorAll("th, td")[0])};s.prototype={addSpannedCellToMap:function(t,e,n,i,o,r){var s,l,c=[],d=n+(r?parseInt(r,10)-1:0),u=i+(o?parseInt(o,10)-1:0);for(s=n;d>=s;s++)for(void 0===e[s]&&(e[s]=[]),l=i;u>=l;l++)e[s][l]=new a(t),e[s][l].isColspan=o&&parseInt(o,10)>1,e[s][l].isRowspan=r&&parseInt(r,10)>1,e[s][l].firstCol=l==i,e[s][l].lastCol=l==u,e[s][l].firstRow=s==n,e[s][l].lastRow=s==d,e[s][l].isReal=l==i&&s==n,e[s][l].spanCollection=c,c.push(e[s][l])},setCellAsModified:function(t){if(t.modified=!0,t.spanCollection.length>0)for(var e=0,n=t.spanCollection.length;n>e;e++)t.spanCollection[e].modified=!0},setTableMap:function(){var t,e,n,i,o,s,l,c=[],d=this.getTableRows();for(t=0;t<d.length;t++)for(e=this.getRowCells(d[t]),o=0,void 0===c[t]&&(c[t]=[]),n=0;n<e.length;n++){for(i=e[n];void 0!==c[t][o];)o++;s=r.getAttribute(i,"colspan"),l=r.getAttribute(i,"rowspan"),s||l?(this.addSpannedCellToMap(i,c,t,o,s,l),o+=s?parseInt(s,10):1):(c[t][o]=new a(i),o++)}return this.map=c,c},getRowCells:function(n){var i=this.table.querySelectorAll("table"),o=i?e(i,"th, td"):[],r=n.querySelectorAll("th, td");return o.length>0?t.lang.array(r).without(o):r},getTableRows:function(){var n=this.table.querySelectorAll("table"),i=n?e(n,"tr"):[],o=this.table.querySelectorAll("tr");return i.length>0?t.lang.array(o).without(i):o},getMapIndex:function(t){var e,n,i=this.map.length,o=this.map&&this.map[0]?this.map[0].length:0;for(e=0;i>e;e++)for(n=0;o>n;n++)if(this.map[e][n].el===t)return{row:e,col:n};return!1},getElementAtIndex:function(t){return this.setTableMap(),this.map[t.row]&&this.map[t.row][t.col]&&this.map[t.row][t.col].el?this.map[t.row][t.col].el:null},getMapElsTo:function(t){var e,n,i,o,r,a,s=[];if(this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(e=this.idx_start,this.idx_start=this.idx_end,this.idx_end=e),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),null!=this.idx_start&&null!=this.idx_end)for(i=this.idx_start.row,o=this.idx_end.row;o>=i;i++)for(r=this.idx_start.col,a=this.idx_end.col;a>=r;r++)s.push(this.map[i][r].el);return s},orderSelectionEnds:function(t){var e,n;return this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(t),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(e=this.idx_start,this.idx_start=this.idx_end,this.idx_end=e),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),{start:this.map[this.idx_start.row][this.idx_start.col].el,end:this.map[this.idx_end.row][this.idx_end.col].el}},createCells:function(t,e,n){var i,o,r,a=this.table.ownerDocument,s=a.createDocumentFragment();for(o=0;e>o;o++){if(i=a.createElement(t),n)for(r in n)n.hasOwnProperty(r)&&i.setAttribute(r,n[r]);i.appendChild(document.createTextNode("\xa0")),s.appendChild(i)}return s},correctColIndexForUnreals:function(t,e){var n,i=this.map[e],o=-1;for(n=0;t>n;n++)i[n].isReal&&o++;return o},getLastNewCellOnRow:function(t,e){var n,i,o,r,a=this.getRowCells(t);for(o=0,r=a.length;r>o;o++)if(!1===(i=this.getMapIndex(n=a[o]))||void 0!==e&&i.row!=e)return n;return null},removeEmptyTable:function(){var t=this.table.querySelectorAll("td, th");return!(t&&0!=t.length||(n(this.table),0))},splitRowToCells:function(t){var e,n,o;t.isColspan&&(e=parseInt(r.getAttribute(t.el,"colspan")||1,10),n=t.el.tagName.toLowerCase(),e>1&&(o=this.createCells(n,e-1),i(t.el,o)),t.el.removeAttribute("colspan"))},getRealRowEl:function(t,e){var n,i,o=null,a=null;for(n=0,i=this.map[(e=e||this.idx).row].length;i>n;n++)if((a=this.map[e.row][n]).isReal&&(o=r.getParentElement(a.el,{nodeName:["TR"]})))return o;return null===o&&t&&(o=r.getParentElement(this.map[e.row][e.col].el,{nodeName:["TR"]})||null),o},injectRowAt:function(t,e,n,o,a){var s,l,c=this.getRealRowEl(!1,{row:t,col:e}),d=this.createCells(o,n);c?(s=this.correctColIndexForUnreals(e,t))>=0?i(this.getRowCells(c)[s],d):c.insertBefore(d,c.firstChild):((l=this.table.ownerDocument.createElement("tr")).appendChild(d),i(r.getParentElement(a.el,{nodeName:["TR"]}),l))},canMerge:function(t){var e,n,i,o,r,a;for(this.to=t,this.setTableMap(),this.idx_start=this.getMapIndex(this.cell),this.idx_end=this.getMapIndex(this.to),(this.idx_start.row>this.idx_end.row||this.idx_start.row==this.idx_end.row&&this.idx_start.col>this.idx_end.col)&&(e=this.idx_start,this.idx_start=this.idx_end,this.idx_end=e),this.idx_start.col>this.idx_end.col&&(n=this.idx_start.col,this.idx_start.col=this.idx_end.col,this.idx_end.col=n),i=this.idx_start.row,o=this.idx_end.row;o>=i;i++)for(r=this.idx_start.col,a=this.idx_end.col;a>=r;r++)if(this.map[i][r].isColspan||this.map[i][r].isRowspan)return!1;return!0},decreaseCellSpan:function(t,e){var n=parseInt(r.getAttribute(t.el,e),10)-1;n>=1?t.el.setAttribute(e,n):(t.el.removeAttribute(e),"colspan"==e&&(t.isColspan=!1),"rowspan"==e&&(t.isRowspan=!1),t.firstCol=!0,t.lastCol=!0,t.firstRow=!0,t.lastRow=!0,t.isReal=!0)},removeSurplusLines:function(){var t,e,i,o,a,s,l,c;if(this.setTableMap(),this.map){for(i=0,o=this.map.length;o>i;i++){for(l=!0,a=0,s=(t=this.map[i]).length;s>a;a++)if(!(r.getAttribute((e=t[a]).el,"rowspan")&&parseInt(r.getAttribute(e.el,"rowspan"),10)>1&&!0!==e.firstRow)){l=!1;break}if(l)for(a=0;s>a;a++)this.decreaseCellSpan(t[a],"rowspan")}for(i=0,o=(c=this.getTableRows()).length;o>i;i++)0==(t=c[i]).childNodes.length&&/^\s*$/.test(t.textContent||t.innerText)&&n(t)}},fillMissingCells:function(){var t,e,n,o=0,r=0,s=null;if(this.setTableMap(),this.map){for(o=this.map.length,t=0;o>t;t++)this.map[t].length>r&&(r=this.map[t].length);for(e=0;o>e;e++)for(n=0;r>n;n++)this.map[e]&&!this.map[e][n]&&n>0&&(this.map[e][n]=new a(this.createCells("td",1)),(s=this.map[e][n-1])&&s.el&&s.el.parent&&i(this.map[e][n-1].el,this.map[e][n].el))}},rectify:function(){return!this.removeEmptyTable()&&(this.removeSurplusLines(),this.fillMissingCells(),!0)},unmerge:function(){var t,e,n,i,o,a;if(this.rectify()&&(this.setTableMap(),this.idx=this.getMapIndex(this.cell),this.idx)){if(e=r.getAttribute((t=this.map[this.idx.row][this.idx.col]).el,"colspan")?parseInt(r.getAttribute(t.el,"colspan"),10):1,n=t.el.tagName.toLowerCase(),t.isRowspan){if((i=parseInt(r.getAttribute(t.el,"rowspan"),10))>1)for(o=1,a=i-1;a>=o;o++)this.injectRowAt(this.idx.row+o,this.idx.col,e,n,t);t.el.removeAttribute("rowspan")}this.splitRowToCells(t)}},merge:function(t){var e,i,o,r,a,s;if(this.rectify())if(this.canMerge(t)){for(e=this.idx_end.row-this.idx_start.row+1,i=this.idx_end.col-this.idx_start.col+1,o=this.idx_start.row,r=this.idx_end.row;r>=o;o++)for(a=this.idx_start.col,s=this.idx_end.col;s>=a;a++)o==this.idx_start.row&&a==this.idx_start.col?(e>1&&this.map[o][a].el.setAttribute("rowspan",e),i>1&&this.map[o][a].el.setAttribute("colspan",i)):(/^\s*<br\/?>\s*$/.test(this.map[o][a].el.innerHTML.toLowerCase())||(this.map[this.idx_start.row][this.idx_start.col].el.innerHTML+=" "+this.map[o][a].el.innerHTML),n(this.map[o][a].el));this.rectify()}else window},collapseCellToNextRow:function(t){var e,n,o,a=this.getMapIndex(t.el),s=a.row+1,l={row:s,col:a.col};s<this.map.length&&null!==(e=this.getRealRowEl(!1,l))&&((n=this.correctColIndexForUnreals(l.col,l.row))>=0?i(this.getRowCells(e)[n],t.el):null!==(o=this.getLastNewCellOnRow(e,s))?i(o,t.el):e.insertBefore(t.el,e.firstChild),parseInt(r.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(r.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan"))},removeRowCell:function(t){t.isReal?t.isRowspan?this.collapseCellToNextRow(t):n(t.el):parseInt(r.getAttribute(t.el,"rowspan"),10)>2?t.el.setAttribute("rowspan",parseInt(r.getAttribute(t.el,"rowspan"),10)-1):t.el.removeAttribute("rowspan")},getRowElementsByCell:function(){var t,e,n,i=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(e=0,n=(t=this.map[this.idx.row]).length;n>e;e++)t[e].isReal&&i.push(t[e].el);return i},getColumnElementsByCell:function(){var t,e,n=[];if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(t=0,e=this.map.length;e>t;t++)this.map[t][this.idx.col]&&this.map[t][this.idx.col].isReal&&n.push(this.map[t][this.idx.col].el);return n},removeRow:function(){var t,e,i,o=r.getParentElement(this.cell,{nodeName:["TR"]});if(o){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(e=0,i=(t=this.map[this.idx.row]).length;i>e;e++)t[e].modified||(this.setCellAsModified(t[e]),this.removeRowCell(t[e]));n(o)}},removeColCell:function(t){t.isColspan?parseInt(r.getAttribute(t.el,"colspan"),10)>2?t.el.setAttribute("colspan",parseInt(r.getAttribute(t.el,"colspan"),10)-1):t.el.removeAttribute("colspan"):t.isReal&&n(t.el)},removeColumn:function(){if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),!1!==this.idx)for(var t=0,e=this.map.length;e>t;t++)this.map[t][this.idx.col].modified||(this.setCellAsModified(this.map[t][this.idx.col]),this.removeColCell(this.map[t][this.idx.col]))},remove:function(t){if(this.rectify()){switch(t){case"row":this.removeRow();break;case"column":this.removeColumn()}this.rectify()}},addRow:function(t){var e,n,o,a,s,l=this.table.ownerDocument;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"below"==t&&r.getAttribute(this.cell,"rowspan")&&(this.idx.row=this.idx.row+parseInt(r.getAttribute(this.cell,"rowspan"),10)-1),!1!==this.idx){for(e=this.map[this.idx.row],n=l.createElement("tr"),o=0,a=e.length;a>o;o++)e[o].modified||(this.setCellAsModified(e[o]),this.addRowCell(e[o],n,t));switch(t){case"below":i(this.getRealRowEl(!0),n);break;case"above":(s=r.getParentElement(this.map[this.idx.row][this.idx.col].el,{nodeName:["TR"]}))&&s.parentNode.insertBefore(n,s)}}},addRowCell:function(t,e,n){var i=t.isColspan?{colspan:r.getAttribute(t.el,"colspan")}:null;t.isReal?"above"!=n&&t.isRowspan?t.el.setAttribute("rowspan",parseInt(r.getAttribute(t.el,"rowspan"),10)+1):e.appendChild(this.createCells("td",1,i)):"above"!=n&&t.isRowspan&&t.lastRow?e.appendChild(this.createCells("td",1,i)):c.isRowspan&&t.el.attr("rowspan",parseInt(r.getAttribute(t.el,"rowspan"),10)+1)},add:function(t){this.rectify()&&(("below"==t||"above"==t)&&this.addRow(t),("before"==t||"after"==t)&&this.addColumn(t))},addColCell:function(t,e,n){var o,a=t.el.tagName.toLowerCase();switch(n){case"before":o=!t.isColspan||t.firstCol;break;case"after":o=!t.isColspan||t.lastCol||t.isColspan&&c.el==this.cell}if(o){switch(n){case"before":t.el.parentNode.insertBefore(this.createCells(a,1),t.el);break;case"after":i(t.el,this.createCells(a,1))}t.isRowspan&&this.handleCellAddWithRowspan(t,e+1,n)}else t.el.setAttribute("colspan",parseInt(r.getAttribute(t.el,"colspan"),10)+1)},addColumn:function(t){var e,n,i,o;if(this.setTableMap(),this.idx=this.getMapIndex(this.cell),"after"==t&&r.getAttribute(this.cell,"colspan")&&(this.idx.col=this.idx.col+parseInt(r.getAttribute(this.cell,"colspan"),10)-1),!1!==this.idx)for(i=0,o=this.map.length;o>i;i++)(e=this.map[i])[this.idx.col]&&((n=e[this.idx.col]).modified||(this.setCellAsModified(n),this.addColCell(n,i,t)))},handleCellAddWithRowspan:function(t,e,n){var a,s,l,c,d=parseInt(r.getAttribute(this.cell,"rowspan"),10)-1,u=r.getParentElement(t.el,{nodeName:["TR"]}),h=t.el.tagName.toLowerCase(),f=this.table.ownerDocument;for(c=0;d>c;c++)if(a=this.correctColIndexForUnreals(this.idx.col,e+c),u=o(u,"tr"))if(a>0)switch(n){case"before":s=this.getRowCells(u),a>0&&this.map[e+c][this.idx.col].el!=s[a]&&a==s.length-1?i(s[a],this.createCells(h,1)):s[a].parentNode.insertBefore(this.createCells(h,1),s[a]);break;case"after":i(this.getRowCells(u)[a],this.createCells(h,1))}else u.insertBefore(this.createCells(h,1),u.firstChild);else(l=f.createElement("tr")).appendChild(this.createCells(h,1)),this.table.appendChild(l)}},r.table={getCellsBetween:function(t,e){return new s(t).getMapElsTo(e)},addCells:function(t,e){new s(t).add(e)},removeCells:function(t,e){new s(t).remove(e)},mergeCellsBetween:function(t,e){new s(t).merge(e)},unmergeCell:function(t){new s(t).unmerge()},orderSelectionEnds:function(t,e){return new s(t).orderSelectionEnds(e)},indexOf:function(t){var e=new s(t);return e.setTableMap(),e.getMapIndex(t)},findCell:function(t,e){return new s(null,t).getElementAtIndex(e)},findRowByCell:function(t){return new s(t).getRowElementsByCell()},findColumnByCell:function(t){return new s(t).getColumnElementsByCell()},canMerge:function(t,e){return new s(t).canMerge(e)}}}(wysihtml5),wysihtml5.dom.query=function(t,e){var n,i,o,r,a=[];for(t.nodeType&&(t=[t]),i=0,o=t.length;o>i;i++)if(n=t[i].querySelectorAll(e))for(r=n.length;r--;a.unshift(n[r]));return a},wysihtml5.dom.compareDocumentPosition=document.documentElement.compareDocumentPosition?function(t,e){return t.compareDocumentPosition(e)}:function(t,e){var n,i,o,r,a,s,l;if(n=9===t.nodeType?t:t.ownerDocument,i=9===e.nodeType?e:e.ownerDocument,t===e)return 0;if(t===e.ownerDocument)return 20;if(t.ownerDocument===e)return 10;if(n!==i)return 1;if(2===t.nodeType&&t.childNodes&&-1!==wysihtml5.lang.array(t.childNodes).indexOf(e))return 20;if(2===e.nodeType&&e.childNodes&&-1!==wysihtml5.lang.array(e.childNodes).indexOf(t))return 10;for(o=t,r=[],a=null;o;){if(o==e)return 10;r.push(o),o=o.parentNode}for(o=e,a=null;o;){if(o==t)return 20;if(-1!==(s=wysihtml5.lang.array(r).indexOf(o)))return wysihtml5.lang.array((l=r[s]).childNodes).indexOf(r[s-1])>wysihtml5.lang.array(l.childNodes).indexOf(a)?2:4;a=o,o=o.parentNode}return 1},wysihtml5.dom.unwrap=function(t){if(t.parentNode){for(;t.lastChild;)wysihtml5.dom.insert(t.lastChild).after(t);t.parentNode.removeChild(t)}},wysihtml5.dom.getPastedHtml=function(t){var e;return t.clipboardData&&(wysihtml5.lang.array(t.clipboardData.types).contains("text/html")?e=t.clipboardData.getData("text/html"):wysihtml5.lang.array(t.clipboardData.types).contains("text/plain")&&(e=wysihtml5.lang.string(t.clipboardData.getData("text/plain")).escapeHTML(!0,!0))),e},wysihtml5.dom.getPastedHtmlWithDiv=function(t,e){var n=t.selection.getBookmark(),i=t.element.ownerDocument,o=i.createElement("DIV");i.body.appendChild(o),o.style.width="1px",o.style.height="1px",o.style.overflow="hidden",o.setAttribute("contenteditable","true"),o.focus(),setTimeout(function(){t.selection.setBookmark(n),e(o.innerHTML),o.parentNode.removeChild(o)},0)},wysihtml5.quirks.cleanPastedHTML=function(){var t=function(t){var e=wysihtml5.lang.string(t).trim().replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");return RegExp("^((?!^"+e+"$).)*$","i")},e=function(e,n){var i,o,r=wysihtml5.lang.object(e).clone(!0);for(i in r.tags)if(r.tags.hasOwnProperty(i)&&r.tags[i].keep_styles)for(o in r.tags[i].keep_styles)r.tags[i].keep_styles.hasOwnProperty(o)&&n[o]&&(r.tags[i].keep_styles[o]=t(n[o]));return r};return function(t,n){var i={color:wysihtml5.dom.getStyle("color").from(n.referenceNode),fontSize:wysihtml5.dom.getStyle("font-size").from(n.referenceNode)},o=e(function(t,e){var n,i,o;if(!t)return null;for(i=0,o=t.length;o>i;i++)if(t[i].condition||(n=t[i].set),t[i].condition&&t[i].condition.test(e))return t[i].set;return n}(n.rules,t)||{},i);return wysihtml5.dom.parse(t,{rules:o,cleanUp:!0,context:n.referenceNode.ownerDocument,uneditableClass:n.uneditableClass,clearInternals:!0,unjoinNbsps:!0})}}(),wysihtml5.quirks.ensureProperClearing=function(){var t=function(){var t=this;setTimeout(function(){var e=t.innerHTML.toLowerCase();("<p>&nbsp;</p>"==e||"<p>&nbsp;</p><p>&nbsp;</p>"==e)&&(t.innerHTML="")},0)};return function(e){wysihtml5.dom.observe(e.element,["cut","keydown"],t)}}(),function(t){t.quirks.getCorrectInnerHTML=function(e){var n,i,o,r,a,s=e.innerHTML;if(-1===s.indexOf("%7E"))return s;for(a=0,r=(n=e.querySelectorAll("[href*='~'], [src*='~']")).length;r>a;a++)o=t.lang.string(i=n[a].href||n[a].src).replace("~").by("%7E"),s=t.lang.string(s).replace(o).by(i);return s}}(wysihtml5),function(t){var e="wysihtml5-quirks-redraw";t.quirks.redraw=function(n){t.dom.addClass(n,e),t.dom.removeClass(n,e);try{var i=n.ownerDocument;i.execCommand("italic",!1,null),i.execCommand("italic",!1,null)}catch(t){}}}(wysihtml5),wysihtml5.quirks.tableCellsSelection=function(t,e){function n(n){c.start=n,c.end=n,c.cells=[n],c.table=l.getParentElement(c.start,{nodeName:["TABLE"]}),c.table&&(i(),l.addClass(n,d),u=l.observe(t,"mousemove",r),h=l.observe(t,"mouseup",a),e.fire("tableselectstart").fire("tableselectstart:composer"))}function i(){var e,n;if(t&&(e=t.querySelectorAll("."+d)).length>0)for(n=0;n<e.length;n++)l.removeClass(e[n],d)}function o(t){for(var e=0;e<t.length;e++)l.addClass(t[e],d)}function r(t){var n,r=null,a=l.getParentElement(t.target,{nodeName:["TD","TH"]});a&&c.table&&c.start&&(r=l.getParentElement(a,{nodeName:["TABLE"]}))&&r===c.table&&(i(),n=c.end,c.end=a,c.cells=l.table.getCellsBetween(c.start,a),c.cells.length>1&&e.composer.selection.deselect(),o(c.cells),c.end!==n&&e.fire("tableselectchange").fire("tableselectchange:composer"))}function a(){u.stop(),h.stop(),e.fire("tableselect").fire("tableselect:composer"),setTimeout(function(){s()},0)}function s(){var n=l.observe(t.ownerDocument,"click",function(t){n.stop(),l.getParentElement(t.target,{nodeName:["TABLE"]})!=c.table&&(i(),c.table=null,c.start=null,c.end=null,e.fire("tableunselect").fire("tableunselect:composer"))})}var l=wysihtml5.dom,c={table:null,start:null,end:null,cells:null,select:function(t,n){c.start=t,c.end=n,c.table=l.getParentElement(c.start,{nodeName:["TABLE"]}),selectedCells=l.table.getCellsBetween(c.start,c.end),o(selectedCells),s(),e.fire("tableselect").fire("tableselect:composer")}},d="wysiwyg-tmp-selected-cell",u=null,h=null;return l.observe(t,"mousedown",function(t){var e=wysihtml5.dom.getParentElement(t.target,{nodeName:["TD","TH"]});e&&n(e)}),c},function(t){var e=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([\d\.]+)\s*\)/i,n=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)/i,i=/^#([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])/i,o=/^#([0-9a-f])([0-9a-f])([0-9a-f])/i,r=function(t){return RegExp("(^|\\s|;)"+t+"\\s*:\\s*[^;$]+","gi")};t.quirks.styleParser={parseColor:function(a,s){var l,c,d,u=r(s),h=a.match(u),f=10;if(h){for(d=h.length;d--;)h[d]=t.lang.string(h[d].split(":")[1]).trim();if(e.test(l=h[h.length-1]))c=l.match(e);else if(n.test(l))c=l.match(n);else if(i.test(l))c=l.match(i),f=16;else if(o.test(l))return(c=l.match(o)).shift(),c.push(1),t.lang.array(c).map(function(t,e){return 3>e?16*parseInt(t,16)+parseInt(t,16):parseFloat(t)});if(c)return c.shift(),c[3]||c.push(1),t.lang.array(c).map(function(t,e){return 3>e?parseInt(t,f):parseFloat(t)})}return!1},unparseColor:function(t,e){if(e){if("hex"==e)return t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("hash"==e)return"#"+t[0].toString(16).toUpperCase()+t[1].toString(16).toUpperCase()+t[2].toString(16).toUpperCase();if("rgb"==e)return"rgb("+t[0]+","+t[1]+","+t[2]+")";if("rgba"==e)return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")";if("csv"==e)return t[0]+","+t[1]+","+t[2]+","+t[3]}return t[3]&&1!==t[3]?"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")":"rgb("+t[0]+","+t[1]+","+t[2]+")"},parseFontSize:function(e){var n=e.match(r("font-size"));return!!n&&t.lang.string(n[n.length-1].split(":")[1]).trim()}}}(wysihtml5),function(t){function e(t,e){for(var n=0;e!==t;)if(n++,!(e=e.parentNode))throw Error("not a descendant of ancestor!");return n}function n(t){if(!t.canSurroundContents())for(var n=t.commonAncestorContainer,i=e(n,t.startContainer),o=e(n,t.endContainer);!t.canSurroundContents();)i>o?(t.setStartBefore(t.startContainer),i=e(n,t.startContainer)):(t.setEndAfter(t.endContainer),o=e(n,t.endContainer))}var i=t.dom;t.Selection=Base.extend({constructor:function(t,e,n){window.rangy.init(),this.editor=t,this.composer=t.composer,this.doc=this.composer.doc,this.contain=e,this.unselectableClass=n||!1},getBookmark:function(){var t=this.getRange();return t&&n(t),t&&t.cloneRange()},setBookmark:function(t){t&&this.setSelection(t)},setBefore:function(t){var e=rangy.createRange(this.doc);return e.setStartBefore(t),e.setEndBefore(t),this.setSelection(e)},setAfter:function(t){var e=rangy.createRange(this.doc);return e.setStartAfter(t),e.setEndAfter(t),this.setSelection(e)},selectNode:function(e,n){var o=rangy.createRange(this.doc),r=e.nodeType===t.ELEMENT_NODE,a="canHaveHTML"in e?e.canHaveHTML:"IMG"!==e.nodeName,s=r?e.innerHTML:e.data,l=""===s||s===t.INVISIBLE_SPACE,c=i.getStyle("display").from(e),d="block"===c||"list-item"===c;if(l&&r&&a&&!n)try{e.innerHTML=t.INVISIBLE_SPACE}catch(t){}a?o.selectNodeContents(e):o.selectNode(e),a&&l&&r?o.collapse(d):a&&l&&(o.setStartAfter(e),o.setEndAfter(e)),this.setSelection(o)},getSelectedNode:function(t){var e,n;return t&&this.doc.selection&&"Control"===this.doc.selection.type&&(n=this.doc.selection.createRange())&&n.length?n.item(0):(e=this.getSelection(this.doc)).focusNode===e.anchorNode?e.focusNode:(n=this.getRange(this.doc))?n.commonAncestorContainer:this.doc.body},fixSelBorders:function(){var t=this.getRange();n(t),this.setSelection(t)},getSelectedOwnNodes:function(){var t,e,n=this.getOwnRanges(),i=[];for(t=0,e=n.length;e>t;t++)i.push(n[t].commonAncestorContainer||this.doc.body);return i},findNodesInSelection:function(e){var n,i,o,r=this.getOwnRanges(),a=[];for(i=0,o=r.length;o>i;i++)n=r[i].getNodes([1],function(n){return t.lang.array(e).contains(n.nodeName)}),a=a.concat(n);return a},containsUneditable:function(){var t,e,n=this.getOwnUneditables(),i=this.getSelection();for(t=0,e=n.length;e>t;t++)if(i.containsNode(n[t]))return!0;return!1},deleteContents:function(){var t,e=this.getOwnRanges();for(t=e.length;t--;)e[t].deleteContents();this.setSelection(e[0])},getPreviousNode:function(e,n){var i,o;return e||(e=this.getSelection().anchorNode),e!==this.contain&&(i=e.previousSibling)!==this.contain&&(i&&3!==i.nodeType&&1!==i.nodeType?i=this.getPreviousNode(i,n):i&&3===i.nodeType&&/^\s*$/.test(i.textContent)?i=this.getPreviousNode(i,n):n&&i&&1===i.nodeType&&!t.lang.array(["BR","HR","IMG"]).contains(i.nodeName)&&/^[\s]*$/.test(i.innerHTML)?i=this.getPreviousNode(i,n):i||e===this.contain||(o=e.parentNode)!==this.contain&&(i=this.getPreviousNode(o,n)),i!==this.contain&&i)},getSelectionParentsByTag:function(){var e,n,i,o=this.getSelectedOwnNodes(),r=[];for(n=0,i=o.length;i>n;n++)(e=o[n].nodeName&&"LI"===o[n].nodeName?o[n]:t.dom.getParentElement(o[n],{nodeName:["LI"]},!1,this.contain))&&r.push(e);return r.length?r:null},getRangeToNodeEnd:function(){if(this.isCollapsed()){var t=this.getRange(),e=t.startContainer,n=t.startOffset,i=rangy.createRange(this.doc);return i.selectNodeContents(e),i.setStart(e,n),i}},caretIsLastInSelection:function(){var t=(rangy.createRange(this.doc),this.getSelection(),this.getRangeToNodeEnd().cloneContents());return/^\s*$/.test(t.textContent)},caretIsFirstInSelection:function(){var e=rangy.createRange(this.doc),n=this.getSelection(),i=this.getRange(),o=i.startContainer;return o.nodeType===t.TEXT_NODE?this.isCollapsed()&&o.nodeType===t.TEXT_NODE&&/^\s*$/.test(o.data.substr(0,i.startOffset)):(e.selectNodeContents(this.getRange().commonAncestorContainer),e.collapse(!0),this.isCollapsed()&&(e.startContainer===n.anchorNode||e.endContainer===n.anchorNode)&&e.startOffset===n.anchorOffset)},caretIsInTheBeginnig:function(e){var n=this.getSelection(),i=n.anchorNode,o=n.anchorOffset;return e?0===o&&(i.nodeName&&i.nodeName===e.toUpperCase()||t.dom.getParentElement(i.parentNode,{nodeName:e},1)):0===o&&!this.getPreviousNode(i,!0)},caretIsBeforeUneditable:function(){var t,e,n,i,o=this.getSelection();if(0===o.anchorOffset&&(t=this.getPreviousNode(o.anchorNode,!0)))for(n=0,i=(e=this.getOwnUneditables()).length;i>n;n++)if(t===e[n])return e[n];return!1},executeAndRestoreRangy:function(t){var e=rangy.saveSelection(this.doc.defaultView||this.doc.parentWindow);if(e)try{t()}catch(t){setTimeout(function(){throw t},0)}else t();rangy.restoreSelection(e)},executeAndRestore:function(e,n){var o,r,a,s,l,c,d,u,h,f=this.doc.body,p=n&&f.scrollTop,g=n&&f.scrollLeft,m="_wysihtml5-temp-placeholder",v='<span class="'+m+'">'+t.INVISIBLE_SPACE+"</span>",y=this.getRange(!0);if(y){y.collapsed||(c=(d=y.cloneRange()).createContextualFragment(v),d.collapse(!1),d.insertNode(c),d.detach()),l=y.createContextualFragment(v),y.insertNode(l),c&&(o=this.contain.querySelectorAll("."+m),y.setStartBefore(o[0]),y.setEndAfter(o[o.length-1])),this.setSelection(y);try{e(y.startContainer,y.endContainer)}catch(t){setTimeout(function(){throw t},0)}if((o=this.contain.querySelectorAll("."+m))&&o.length)for(u=rangy.createRange(this.doc),a=o[0].nextSibling,o.length>1&&(s=o[o.length-1].previousSibling),s&&a?(u.setStartBefore(a),u.setEndAfter(s)):(r=this.doc.createTextNode(t.INVISIBLE_SPACE),i.insert(r).after(o[0]),u.setStartBefore(r),u.setEndAfter(r)),this.setSelection(u),h=o.length;h--;)o[h].parentNode.removeChild(o[h]);else this.contain.focus();n&&(f.scrollTop=p,f.scrollLeft=g);try{o.parentNode.removeChild(o)}catch(t){}}else e(f,f)},set:function(t,e){var n=rangy.createRange(this.doc);n.setStart(t,e||0),this.setSelection(n)},insertHTML:function(t){var e,n=(rangy.createRange(this.doc),this.doc.createElement("DIV")),i=this.doc.createDocumentFragment();for(n.innerHTML=t,e=n.lastChild;n.firstChild;)i.appendChild(n.firstChild);this.insertNode(i),e&&this.setAfter(e)},insertNode:function(t){var e=this.getRange();e&&e.insertNode(t)},surround:function(t){var e,n,i=this.getOwnRanges(),o=[];if(0==i.length)return o;for(n=i.length;n--;){e=this.doc.createElement(t.nodeName),o.push(e),t.className&&(e.className=t.className),t.cssStyle&&e.setAttribute("style",t.cssStyle);try{i[n].surroundContents(e),this.selectNode(e)}catch(t){e.appendChild(i[n].extractContents()),i[n].insertNode(e)}}return o},deblockAndSurround:function(e){var n,i,o,r=this.doc.createElement("div"),a=rangy.createRange(this.doc);if(r.className=e.className,this.composer.commands.exec("formatBlock",e.nodeName,e.className),(n=this.contain.querySelectorAll("."+e.className))[0])for(n[0].parentNode.insertBefore(r,n[0]),a.setStartBefore(n[0]),a.setEndAfter(n[n.length-1]),i=a.extractContents();i.firstChild;)if(1==(o=i.firstChild).nodeType&&t.dom.hasClass(o,e.className)){for(;o.firstChild;)r.appendChild(o.firstChild);"BR"!==o.nodeName&&r.appendChild(this.doc.createElement("br")),i.removeChild(o)}else r.appendChild(o);else r=null;return r},scrollIntoView:function(){var e,n=this.doc,i=n.documentElement.scrollHeight>n.documentElement.offsetHeight,o=n._wysihtml5ScrollIntoViewElement=n._wysihtml5ScrollIntoViewElement||function(){var e=n.createElement("span");return e.innerHTML=t.INVISIBLE_SPACE,e}();i&&(this.insertNode(o),e=function(t){var e=0;if(t.parentNode)do{e+=t.offsetTop||0,t=t.offsetParent}while(t);return e}(o),o.parentNode.removeChild(o),e>=n.body.scrollTop+n.documentElement.offsetHeight-5&&(n.body.scrollTop=e))},selectLine:function(){t.browser.supportsSelectionModify()?this._selectLine_W3C():this.doc.selection&&this._selectLine_MSIE()},_selectLine_W3C:function(){var t=this.doc.defaultView.getSelection();t.modify("move","left","lineboundary"),t.modify("extend","right","lineboundary")},_selectLine_MSIE:function(){var t,e,n,i,o,r=this.doc.selection.createRange(),a=r.boundingTop,s=this.doc.body.scrollWidth;if(r.moveToPoint){for(0===a&&(n=this.doc.createElement("span"),this.insertNode(n),a=n.offsetTop,n.parentNode.removeChild(n)),a+=1,i=-10;s>i;i+=2)try{r.moveToPoint(i,a);break}catch(t){}for(t=a,e=this.doc.selection.createRange(),o=s;o>=0;o--)try{e.moveToPoint(o,t);break}catch(t){}r.setEndPoint("EndToEnd",e),r.select()}},getText:function(){var t=this.getSelection();return t?""+t:""},getNodes:function(t,e){var n=this.getRange();return n?n.getNodes([t],e):[]},fixRangeOverflow:function(t){var e,n;this.contain&&this.contain.firstChild&&t&&(2!==(e=t.compareNode(this.contain))?(1===e&&t.setStartBefore(this.contain.firstChild),0===e&&t.setEndAfter(this.contain.lastChild),3===e&&(t.setStartBefore(this.contain.firstChild),t.setEndAfter(this.contain.lastChild))):this._detectInlineRangeProblems(t)&&(n=t.endContainer.previousElementSibling)&&t.setEnd(n,this._endOffsetForNode(n)))},_endOffsetForNode:function(t){var e=document.createRange();return e.selectNodeContents(t),e.endOffset},_detectInlineRangeProblems:function(t){var e=i.compareDocumentPosition(t.startContainer,t.endContainer);return 0==t.endOffset&&4&e},getRange:function(t){var e=this.getSelection(),n=e&&e.rangeCount&&e.getRangeAt(0);return!0!==t&&this.fixRangeOverflow(n),n},getOwnUneditables:function(){var e=i.query(this.contain,"."+this.unselectableClass),n=i.query(e,"."+this.unselectableClass);return t.lang.array(e).without(n)},getOwnRanges:function(){var t,e,n,i,o,r,a,s=[],l=this.getRange();if(l&&s.push(l),this.unselectableClass&&this.contain&&l&&(e=this.getOwnUneditables()).length>0)for(i=0,o=e.length;o>i;i++)for(t=[],r=0,a=s.length;a>r;r++){if(s[r])switch(s[r].compareNode(e[i])){case 2:break;case 3:(n=s[r].cloneRange()).setEndBefore(e[i]),t.push(n),(n=s[r].cloneRange()).setStartAfter(e[i]),t.push(n);break;default:t.push(s[r])}s=t}return s},getSelection:function(){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow)},setSelection:function(t){return rangy.getSelection(this.doc.defaultView||this.doc.parentWindow).setSingleRange(t)},createRange:function(){return rangy.createRange(this.doc)},isCollapsed:function(){return this.getSelection().isCollapsed},getHtml:function(){return this.getSelection().toHtml()},isEndToEndInNode:function(e){var n=this.getRange(),i=n.commonAncestorContainer,o=n.startContainer,r=n.endContainer;if(i.nodeType===t.TEXT_NODE&&(i=i.parentNode),o.nodeType===t.TEXT_NODE&&!/^\s*$/.test(o.data.substr(n.startOffset)))return!1;if(r.nodeType===t.TEXT_NODE&&!/^\s*$/.test(r.data.substr(n.endOffset)))return!1;for(;o&&o!==i;){if(o.nodeType!==t.TEXT_NODE&&!t.dom.contains(i,o))return!1;if(t.dom.domNode(o).prev({ignoreBlankTexts:!0}))return!1;o=o.parentNode}for(;r&&r!==i;){if(r.nodeType!==t.TEXT_NODE&&!t.dom.contains(i,r))return!1;if(t.dom.domNode(r).next({ignoreBlankTexts:!0}))return!1;r=r.parentNode}return!!t.lang.array(e).contains(i.nodeName)&&i},deselect:function(){var t=this.getSelection();t&&t.removeAllRanges()}})}(wysihtml5),function(t,e){function n(t,e,n){if(!t.className)return!1;var i=t.className.match(n)||[];return i[i.length-1]===e}function i(t,e){return!(!t.getAttribute||!t.getAttribute("style")||(t.getAttribute("style").match(e),!t.getAttribute("style").match(e)))}function o(t,e,n){t.getAttribute("style")?(a(t,n),t.getAttribute("style")&&!/^\s*$/.test(t.getAttribute("style"))?t.setAttribute("style",e+";"+t.getAttribute("style")):t.setAttribute("style",e)):t.setAttribute("style",e)}function r(t,e){t.className&&(t.className=t.className.replace(e,""))}function a(t,e){var n,i,o=[];if(t.getAttribute("style")){for(i=(n=t.getAttribute("style").split(";")).length;i--;)n[i].match(e)||/^\s*$/.test(n[i])||o.push(n[i]);o.length?t.setAttribute("style",o.join(";")):t.removeAttribute("style")}}function s(t,e){var n,i,o,r=[],a=e.split(";"),s=t.getAttribute("style");if(s){for(s=s.replace(/\s/gi,"").toLowerCase(),r.push(RegExp("(^|\\s|;)"+e.replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi")),n=a.length;n-- >0;)/^\s*$/.test(a[n])||r.push(RegExp("(^|\\s|;)"+a[n].replace(/\s/gi,"").replace(/([\(\)])/gi,"\\$1").toLowerCase().replace(";",";?").replace(/rgb\\\((\d+),(\d+),(\d+)\\\)/gi,"\\s?rgb\\($1,\\s?$2,\\s?$3\\)"),"gi"));for(i=0,o=r.length;o>i;i++)if(s.match(r[i]))return r[i]}return!1}function l(n,i,o,r){return o?s(n,o):r?t.dom.hasClass(n,r):e.dom.arrayContains(i,n.tagName.toLowerCase())}function c(t,e,n,i){for(var o=t.length;o--;)if(!l(t[o],e,n,i))return!1;return!!t.length}function d(t,e,n){var i=s(t,e);return i?(a(t,i),"remove"):(o(t,e,n),"change")}function u(t,n){return e.dom.isCharacterDataNode(t)?0==n?!!t.previousSibling:n!=t.length||!!t.nextSibling:n>0&&n<t.childNodes.length}function h(t,n,i,o){var r,a;if(e.dom.isCharacterDataNode(n)&&(0==i?(i=e.dom.getNodeIndex(n),n=n.parentNode):i==n.length?(i=e.dom.getNodeIndex(n)+1,n=n.parentNode):r=e.dom.splitDataNode(n,i)),!(r||o&&n===o)){for((r=n.cloneNode(!1)).id&&r.removeAttribute("id");a=n.childNodes[i];)r.appendChild(a);e.dom.insertAfter(r,n)}return n==t?r:h(t,r.parentNode,e.dom.getNodeIndex(r),o)}function f(e){this.isElementMerge=e.nodeType==t.ELEMENT_NODE,this.firstTextNode=this.isElementMerge?e.lastChild:e,this.textNodes=[this.firstTextNode]}function p(t,e,n,i,o,r,a){this.tagNames=t||[g],this.cssClass=e||!1!==e&&"",this.similarClassRegExp=n,this.cssStyle=o||"",this.similarStyleRegExp=r,this.normalize=i,this.applyToAnyTagName=!1,this.container=a}var g="span",m=/\s+/g;f.prototype={doMerge:function(){var t,e,n,i,o,r=[];for(i=0,o=this.textNodes.length;o>i;++i)e=(t=this.textNodes[i]).parentNode,r[i]=t.data,i&&(e.removeChild(t),e.hasChildNodes()||e.parentNode.removeChild(e));return this.firstTextNode.data=n=r.join(""),n},getLength:function(){for(var t=this.textNodes.length,e=0;t--;)e+=this.textNodes[t].length;return e},toString:function(){var t,e,n=[];for(t=0,e=this.textNodes.length;e>t;++t)n[t]="'"+this.textNodes[t].data+"'";return"[Merge("+n.join(",")+")]"}},p.prototype={getAncestorWithClass:function(i){for(var o;i;){if(o=this.cssClass?n(i,this.cssClass,this.similarClassRegExp):""===this.cssStyle,i.nodeType==t.ELEMENT_NODE&&"false"!=i.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())&&o)return i;i=i.parentNode}return!1},getAncestorWithStyle:function(n){for(var o;n;){if(o=!!this.cssStyle&&i(n,this.similarStyleRegExp),n.nodeType==t.ELEMENT_NODE&&"false"!=n.getAttribute("contenteditable")&&e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&o)return n;n=n.parentNode}return!1},getMatchingAncestor:function(t){var e=this.getAncestorWithClass(t),n=!1;return e?this.cssStyle&&(n="class"):(e=this.getAncestorWithStyle(t))&&(n="style"),{element:e,type:n}},postApply:function(t,e){var n,i,o,r,a,s,l=t[0],c=t[t.length-1],d=[],u=l,h=c,p=0,g=c.length;for(r=0,a=t.length;a>r;++r)o=null,(i=t[r])&&i.parentNode&&(o=this.getAdjacentMergeableTextNode(i.parentNode,!1)),o?(n||(n=new f(o),d.push(n)),n.textNodes.push(i),i===l&&(p=(u=n.firstTextNode).length),i===c&&(h=n.firstTextNode,g=n.getLength())):n=null;if(c&&c.parentNode&&(s=this.getAdjacentMergeableTextNode(c.parentNode,!0))&&(n||(n=new f(c),d.push(n)),n.textNodes.push(s)),d.length){for(r=0,a=d.length;a>r;++r)d[r].doMerge();e.setStart(u,p),e.setEnd(h,g)}},getAdjacentMergeableTextNode:function(e,n){var i,o=e.nodeType==t.TEXT_NODE,r=o?e.parentNode:e,a=n?"nextSibling":"previousSibling";if(o){if((i=e[a])&&i.nodeType==t.TEXT_NODE)return i}else if((i=r[a])&&this.areElementsMergeable(e,i))return i[n?"firstChild":"lastChild"];return null},areElementsMergeable:function(t,n){return e.dom.arrayContains(this.tagNames,(t.tagName||"").toLowerCase())&&e.dom.arrayContains(this.tagNames,(n.tagName||"").toLowerCase())&&function(t,e){return t.className.replace(m," ")==e.className.replace(m," ")}(t,n)&&function(t,e){if(t.attributes.length!=e.attributes.length)return!1;for(var n,i,o,r=0,a=t.attributes.length;a>r;++r)if("class"!=(o=(n=t.attributes[r]).name)){if(i=e.attributes.getNamedItem(o),n.specified!=i.specified)return!1;if(n.specified&&n.nodeValue!==i.nodeValue)return!1}return!0}(t,n)},createContainer:function(t){var e=t.createElement(this.tagNames[0]);return this.cssClass&&(e.className=this.cssClass),this.cssStyle&&e.setAttribute("style",this.cssStyle),e},applyToTextNode:function(t){var n,i=t.parentNode;1==i.childNodes.length&&e.dom.arrayContains(this.tagNames,i.tagName.toLowerCase())?(this.cssClass&&function(t,e,n){t.className?(r(t,n),t.className+=" "+e):t.className=e}(i,this.cssClass,this.similarClassRegExp),this.cssStyle&&o(i,this.cssStyle,this.similarStyleRegExp)):(n=this.createContainer(e.dom.getDocument(t)),t.parentNode.insertBefore(n,t),n.appendChild(t))},isRemovable:function(n){return e.dom.arrayContains(this.tagNames,n.tagName.toLowerCase())&&""===t.lang.string(n.className).trim()&&(!n.getAttribute("style")||""===t.lang.string(n.getAttribute("style")).trim())},undoToTextNode:function(t,e,n,i){var o,a=!n,s=n||i,l=!1;e.containsNode(s)||((o=e.cloneRange()).selectNode(s),o.isPointInRange(e.endContainer,e.endOffset)&&u(e.endContainer,e.endOffset)&&(h(s,e.endContainer,e.endOffset,this.container),e.setEndAfter(s)),o.isPointInRange(e.startContainer,e.startOffset)&&u(e.startContainer,e.startOffset)&&(s=h(s,e.startContainer,e.startOffset,this.container))),!a&&this.similarClassRegExp&&r(s,this.similarClassRegExp),a&&this.similarStyleRegExp&&(l="change"===d(s,this.cssStyle,this.similarStyleRegExp)),this.isRemovable(s)&&!l&&function(t){for(var e=t.parentNode;t.firstChild;)e.insertBefore(t.firstChild,t);e.removeChild(t)}(s)},applyToRange:function(e){var n,i,o,r,a,s;for(i=e.length;i--;){if(!(n=e[i].getNodes([t.TEXT_NODE])).length)try{return o=this.createContainer(e[i].endContainer.ownerDocument),e[i].surroundContents(o),void this.selectNode(e[i],o)}catch(t){}if(e[i].splitBoundaries(),(n=e[i].getNodes([t.TEXT_NODE])).length){for(a=0,s=n.length;s>a;++a)this.getMatchingAncestor(r=n[a]).element||this.applyToTextNode(r);e[i].setStart(n[0],0),e[i].setEnd(r=n[n.length-1],r.length),this.normalize&&this.postApply(n,e[i])}}},undoToRange:function(e){var n,i,o,r,a,s,l;for(r=e.length;r--;){for((n=e[r].getNodes([t.TEXT_NODE])).length?(e[r].splitBoundaries(),n=e[r].getNodes([t.TEXT_NODE])):(a=e[r].endContainer.ownerDocument.createTextNode(t.INVISIBLE_SPACE),e[r].insertNode(a),e[r].selectNode(a),n=[a]),s=0,l=n.length;l>s;++s)e[r].isValid()&&("style"===(o=this.getMatchingAncestor(i=n[s])).type?this.undoToTextNode(i,e[r],!1,o.element):o.element&&this.undoToTextNode(i,e[r],o.element));1==l?this.selectNode(e[r],n[0]):(e[r].setStart(n[0],0),e[r].setEnd(i=n[n.length-1],i.length),this.normalize&&this.postApply(n,e[r]))}},selectNode:function(e,n){var i=n.nodeType===t.ELEMENT_NODE,o=i?n.innerHTML:n.data,r=""===o||o===t.INVISIBLE_SPACE;if(r&&i&&(!("canHaveHTML"in n)||n.canHaveHTML))try{n.innerHTML=t.INVISIBLE_SPACE}catch(t){}e.selectNodeContents(n),r&&i?e.collapse(!1):r&&(e.setStartAfter(n),e.setEndAfter(n))},getTextSelectedByRange:function(t,e){var n,i,o=e.cloneRange();return o.selectNodeContents(t),i=(n=o.intersection(e))?""+n:"",o.detach(),i},isAppliedToRange:function(e){var n,i,o,r,a,s,l=[],c="full";for(o=e.length;o--;){if(!(i=e[o].getNodes([t.TEXT_NODE])).length)return!!(n=this.getMatchingAncestor(e[o].startContainer).element)&&{elements:[n],coverage:c};for(r=0,a=i.length;a>r;++r)s=this.getTextSelectedByRange(i[r],e[o]),(n=this.getMatchingAncestor(i[r]).element)&&""!=s?(l.push(n),1===t.dom.getTextNodes(n,!0).length?c="full":"full"===c&&(c="inline")):n||(c="partial")}return!!l.length&&{elements:l,coverage:c}},toggleRange:function(t){var e,n=this.isAppliedToRange(t);n?"full"===n.coverage?this.undoToRange(t):"inline"===n.coverage?(e=c(n.elements,this.tagNames,this.cssStyle,this.cssClass),this.undoToRange(t),e||this.applyToRange(t)):(c(n.elements,this.tagNames,this.cssStyle,this.cssClass)||this.undoToRange(t),this.applyToRange(t)):this.applyToRange(t)}},t.selection.HTMLApplier=p}(wysihtml5,rangy),wysihtml5.Commands=Base.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.doc=this.composer.doc},support:function(t){return wysihtml5.browser.supportsCommand(this.doc,t)},exec:function(t,e){var n=wysihtml5.commands[t],i=wysihtml5.lang.array(arguments).get(),o=n&&n.exec,r=null;if(this.editor.fire("beforecommand:composer"),o)i.unshift(this.composer),r=o.apply(n,i);else try{r=this.doc.execCommand(t,!1,e)}catch(t){}return this.editor.fire("aftercommand:composer"),r},state:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.state;if(i)return n.unshift(this.composer),i.apply(e,n);try{return this.doc.queryCommandState(t)}catch(t){return!1}},stateValue:function(t){var e=wysihtml5.commands[t],n=wysihtml5.lang.array(arguments).get(),i=e&&e.stateValue;return!!i&&(n.unshift(this.composer),i.apply(e,n))}}),wysihtml5.commands.bold={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"b")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"b")}},function(t){function e(e,r){var a,s,l,c,d,u,h,f=e.doc,p="_wysihtml5-temp-"+ +new Date,g=0;for(t.commands.formatInline.exec(e,n,i,p,/non-matching-class/g,n,n,!0,!0),a=(s=f.querySelectorAll(i+"."+p)).length;a>g;g++)for(h in(l=s[g]).removeAttribute("class"),r)"text"!==h&&l.setAttribute(h,r[h]);c=l,1===a&&(d=o.getTextContent(l),!l.querySelector("*")&&(""===d||d===t.INVISIBLE_SPACE)&&(o.setTextContent(l,r.text||l.href),u=f.createTextNode(" "),e.selection.setAfter(l),o.insert(u).after(l),c=u)),e.selection.setAfter(c)}var n,i="A",o=t.dom;t.commands.createLink={exec:function(t,n,i){var o=this.state(t,n);o?t.selection.executeAndRestore(function(){!function(t,e,n){var i,o,r,a;for(o=e.length;o--;){for(r=(i=e[o].attributes).length;r--;)e[o].removeAttribute(i.item(r).name);for(a in n)n.hasOwnProperty(a)&&e[o].setAttribute(a,n[a])}}(0,o,i)}):e(t,i="object"==typeof i?i:{href:i})},state:function(e,n){return t.commands.formatInline.state(e,n,"A")}}}(wysihtml5),function(t){function e(t,e){for(var i,o,r=e.length,a=0;r>a;a++)o=n.getParentElement(i=e[a],{nodeName:"code"}),n.getTextContent(i).match(n.autoLink.URL_REG_EXP)&&!o?o=n.renameElement(i,"code"):n.replaceWithChildNodes(i)}var n=t.dom;t.commands.removeLink={exec:function(t,n){var i=this.state(t,n);i&&t.selection.executeAndRestore(function(){e(0,i)})},state:function(e,n){return t.commands.formatInline.state(e,n,"A")}}}(wysihtml5),function(t){var e=/wysiwyg-font-size-[0-9a-z\-]+/g;t.commands.fontSize={exec:function(n,i,o){t.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-font-size-"+o,e)},state:function(n,i,o){return t.commands.formatInline.state(n,i,"span","wysiwyg-font-size-"+o,e)}}}(wysihtml5),function(t){var e=/(\s|^)font-size\s*:\s*[^;\s]+;?/gi;t.commands.fontSizeStyle={exec:function(n,i,o){/^\s*$/.test(o="object"==typeof o?o.size:o)||t.commands.formatInline.execWithToggle(n,i,"span",!1,!1,"font-size:"+o,e)},state:function(n,i){return t.commands.formatInline.state(n,i,"span",!1,!1,"font-size",e)},stateValue:function(e,n){var i,o=this.state(e,n);return o&&t.lang.object(o).isArray()&&(o=o[0]),!(!o||(i=o.getAttribute("style"),!i))&&t.quirks.styleParser.parseFontSize(i)}}}(wysihtml5),function(t){var e=/wysiwyg-color-[0-9a-z]+/g;t.commands.foreColor={exec:function(n,i,o){t.commands.formatInline.execWithToggle(n,i,"span","wysiwyg-color-"+o,e)},state:function(n,i,o){return t.commands.formatInline.state(n,i,"span","wysiwyg-color-"+o,e)}}}(wysihtml5),function(t){var e=/(\s|^)color\s*:\s*[^;\s]+;?/gi;t.commands.foreColorStyle={exec:function(n,i,o){var r,a=t.quirks.styleParser.parseColor("object"==typeof o?"color:"+o.color:"color:"+o,"color");a&&(r="color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(r+="color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),t.commands.formatInline.execWithToggle(n,i,"span",!1,!1,r,e))},state:function(n,i){return t.commands.formatInline.state(n,i,"span",!1,!1,"color",e)},stateValue:function(e,n,i){var o,r=this.state(e,n);return r&&t.lang.object(r).isArray()&&(r=r[0]),!!(r&&(o=r.getAttribute("style"),o&&o))&&(val=t.quirks.styleParser.parseColor(o,"color"),t.quirks.styleParser.unparseColor(val,i))}}}(wysihtml5),function(t){var e=/(\s|^)background-color\s*:\s*[^;\s]+;?/gi;t.commands.bgColorStyle={exec:function(n,i,o){var r,a=t.quirks.styleParser.parseColor("object"==typeof o?"background-color:"+o.color:"background-color:"+o,"background-color");a&&(r="background-color: rgb("+a[0]+","+a[1]+","+a[2]+");",1!==a[3]&&(r+="background-color: rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+");"),t.commands.formatInline.execWithToggle(n,i,"span",!1,!1,r,e))},state:function(n,i){return t.commands.formatInline.state(n,i,"span",!1,!1,"background-color",e)},stateValue:function(e,n,i){var o,r=this.state(e,n),a=!1;return r&&t.lang.object(r).isArray()&&(r=r[0]),!(!r||(o=r.getAttribute("style"),!o))&&(a=t.quirks.styleParser.parseColor(o,"background-color"),t.quirks.styleParser.unparseColor(a,i))}}}(wysihtml5),function(t){function e(e,n,o){e.className?(i(e,o),e.className=t.lang.string(e.className+" "+n).trim()):e.className=n}function n(e,n,i){o(e,i),e.getAttribute("style")?e.setAttribute("style",t.lang.string(e.getAttribute("style")+" "+n).trim()):e.setAttribute("style",n)}function i(e,n){var i=n.test(e.className);return e.className=e.className.replace(n,""),""==t.lang.string(e.className).trim()&&e.removeAttribute("class"),i}function o(e,n){var i=n.test(e.getAttribute("style"));return e.setAttribute("style",(e.getAttribute("style")||"").replace(n,"")),""==t.lang.string(e.getAttribute("style")||"").trim()&&e.removeAttribute("style"),i}function r(t){var e=t.lastChild;e&&"BR"===e.nodeName&&e.parentNode.removeChild(e)}function a(e,n){var i,o,a;for(e.selection.isCollapsed()&&e.selection.selectLine(),o=0,a=(i=e.selection.surround(n)).length;a>o;o++)t.dom.lineBreaks(i[o]).remove(),r(i[o])}function s(e){return!!t.lang.string(e.className).trim()}function l(e){return!!t.lang.string(e.getAttribute("style")||"").trim()}var c=t.dom,d=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"];t.commands.formatBlock={exec:function(r,u,h,f,p,g,m){var v,y,b,w,x,D=this.state(r,u,h,f,p,g,m),C=r.config.useLineBreaks,_=C?"DIV":"P";return h="string"==typeof h?h.toUpperCase():h,D.length?void r.selection.executeAndRestoreRangy(function(){var e,n,r;for(e=D.length;e--;){if(p&&(y=i(D[e],p)),m&&(w=o(D[e],m)),(w||y)&&null===h&&D[e].nodeName!=_)return;n=s(D[e]),r=l(D[e]),n||r||!C&&"P"!==h?c.renameElement(D[e],"P"===h?"DIV":_):(t.dom.lineBreaks(D[e]).add(),c.replaceWithChildNodes(D[e]))}}):void((null!==h&&!t.lang.array(d).contains(h)||(v=r.selection.findNodesInSelection(d).concat(r.selection.getSelectedOwnNodes()),r.selection.executeAndRestoreRangy(function(){for(var t=v.length;t--;)(x=c.getParentElement(v[t],{nodeName:d}))==r.element&&(x=null),x&&(h&&(x=c.renameElement(x,h)),f&&e(x,f,p),g&&n(x,g,m),b=!0)}),!b))&&a(r,{nodeName:h||_,className:f||null,cssStyle:g||null}))},state:function(e,n,i,o,r,a,s){var l,d,u,h=e.selection.getSelectedOwnNodes(),f=[];for(i="string"==typeof i?i.toUpperCase():i,d=0,u=h.length;u>d;d++)(l=c.getParentElement(h[d],{nodeName:i,className:o,classRegExp:r,cssStyle:a,styleRegExp:s}))&&-1==t.lang.array(f).indexOf(l)&&f.push(l);return 0!=f.length&&f}}}(wysihtml5),wysihtml5.commands.formatCode={exec:function(t,e,n){var i,o,r,a=this.state(t);a?t.selection.executeAndRestore(function(){i=a.querySelector("code"),wysihtml5.dom.replaceWithChildNodes(a),i&&wysihtml5.dom.replaceWithChildNodes(i)}):(r=(o=t.selection.getRange()).extractContents(),a=t.doc.createElement("pre"),i=t.doc.createElement("code"),n&&(i.className=n),a.appendChild(i),i.appendChild(r),o.insertNode(a),t.selection.selectNode(a))},state:function(t){var e=t.selection.getSelectedNode();return e&&e.nodeName&&"PRE"==e.nodeName&&e.firstChild&&e.firstChild.nodeName&&"CODE"==e.firstChild.nodeName?e:wysihtml5.dom.getParentElement(e,{nodeName:"CODE"})&&wysihtml5.dom.getParentElement(e,{nodeName:"PRE"})}},function(t){function e(t){var e=i[t];return e?[t.toLowerCase(),e.toLowerCase()]:[t.toLowerCase()]}function n(n,i,r,a,s,l){var c=n;return i&&(c+=":"+i),a&&(c+=":"+a),o[c]||(o[c]=new t.selection.HTMLApplier(e(n),i,r,!0,a,s,l)),o[c]}var i={strong:"b",em:"i",b:"strong",i:"em"},o={};t.commands.formatInline={exec:function(t,e,i,o,r,a,s,l,c){var d=t.selection.createRange(),u=t.selection.getOwnRanges();return!(!u||0==u.length)&&(t.selection.getSelection().removeAllRanges(),n(i,o,r,a,s,t.element).toggleRange(u),void(l?c||t.cleanUp():(d.setStart(u[0].startContainer,u[0].startOffset),d.setEnd(u[u.length-1].endContainer,u[u.length-1].endOffset),t.selection.setSelection(d),t.selection.executeAndRestore(function(){c||t.cleanUp()},!0,!0))))},execWithToggle:function(e,n,i,o,r,a,s){var l;this.state(e,n,i,o,r,a,s)&&e.selection.isCollapsed()&&!e.selection.caretIsLastInSelection()&&!e.selection.caretIsFirstInSelection()?(l=this.state(e,n,i,o,r)[0],e.selection.executeAndRestoreRangy(function(){e.selection.selectNode(l,!0),t.commands.formatInline.exec(e,n,i,o,r,a,s,!0,!0)})):this.state(e,n,i,o,r,a,s)&&!e.selection.isCollapsed()?e.selection.executeAndRestoreRangy(function(){t.commands.formatInline.exec(e,n,i,o,r,a,s,!0,!0)}):t.commands.formatInline.exec(e,n,i,o,r,a,s)},state:function(e,o,r,a,s,l,c){var d,u,h=e.doc,f=i[r]||r;return!(!t.dom.hasElementWithTagName(h,r)&&!t.dom.hasElementWithTagName(h,f))&&!(a&&!t.dom.hasElementWithClassName(h,a))&&!(!(d=e.selection.getOwnRanges())||0===d.length)&&!(!(u=n(r,a,s,l,c,e.element).isAppliedToRange(d))||!u.elements)&&u.elements}}}(wysihtml5),function(t){t.commands.insertBlockQuote={exec:function(e,n){var i=this.state(e,n),o=e.selection.isEndToEndInNode(["H1","H2","H3","H4","H5","H6","P"]);e.selection.executeAndRestore(function(){if(i)e.config.useLineBreaks&&t.dom.lineBreaks(i).add(),t.dom.unwrap(i);else if(e.selection.isCollapsed()&&e.selection.selectLine(),o){var n=o.ownerDocument.createElement("blockquote");t.dom.insert(n).after(o),n.appendChild(o)}else e.selection.surround({nodeName:"blockquote"})})},state:function(e){var n=e.selection.getSelectedNode();return t.dom.getParentElement(n,{nodeName:"BLOCKQUOTE"},!1,e.element)||!1}}}(wysihtml5),wysihtml5.commands.insertHTML={exec:function(t,e,n){t.commands.support(e)?t.doc.execCommand(e,!1,n):t.selection.insertHTML(n)},state:function(){return!1}},function(t){var e="IMG";t.commands.insertImage={exec:function(n,i,o){var r,a,s,l,c;if(o="object"==typeof o?o:{src:o},r=n.doc,a=this.state(n))return n.selection.setBefore(a),(l=a.parentNode).removeChild(a),t.dom.removeEmptyTextNodes(l),"A"!==l.nodeName||l.firstChild||(n.selection.setAfter(l),l.parentNode.removeChild(l)),void t.quirks.redraw(n.element);for(c in a=r.createElement(e),o)a.setAttribute("className"===c?"class":c,o[c]);n.selection.insertNode(a),t.browser.hasProblemsSettingCaretAfterImg()?(s=r.createTextNode(t.INVISIBLE_SPACE),n.selection.insertNode(s),n.selection.setAfter(s)):n.selection.setAfter(a)},state:function(n){var i,o,r;return!!t.dom.hasElementWithTagName(n.doc,e)&&!!(i=n.selection.getSelectedNode())&&(i.nodeName===e?i:i.nodeType===t.ELEMENT_NODE&&(o=n.selection.getText(),!(o=t.lang.string(o).trim())&&1===(r=n.selection.getNodes(t.ELEMENT_NODE,function(t){return"IMG"===t.nodeName})).length&&r[0]))}}}(wysihtml5),function(t){var e="<br>"+(t.browser.needsSpaceAfterLineBreak()?" ":"");t.commands.insertLineBreak={exec:function(n,i){n.commands.support(i)?(n.doc.execCommand(i,!1,null),t.browser.autoScrollsToCaret()||n.selection.scrollIntoView()):n.commands.exec("insertHTML",e)},state:function(){return!1}}}(wysihtml5),wysihtml5.commands.insertOrderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"OL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"OL")}},wysihtml5.commands.insertUnorderedList={exec:function(t,e){wysihtml5.commands.insertList.exec(t,e,"UL")},state:function(t,e){return wysihtml5.commands.insertList.state(t,e,"UL")}},wysihtml5.commands.insertList=function(t){var e=function(t,e){if(t&&t.nodeName){"string"==typeof e&&(e=[e]);for(var n=e.length;n--;)if(t.nodeName===e[n])return!0}return!1},n=function(n,i,o){var r,a,s={el:null,other:!1};return n&&(r=t.dom.getParentElement(n,{nodeName:"LI"}),a="UL"===i?"OL":"UL",e(n,i)?s.el=n:e(n,a)?s={el:n,other:!0}:r&&(e(r.parentNode,i)?s.el=r.parentNode:e(r.parentNode,a)&&(s={el:r.parentNode,other:!0}))),s.el&&!o.element.contains(s.el)&&(s.el=null),s},i=function(e,n,i){var o,a="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var s,l,c=r(a,i);if(c.length)for(s=c.length;s--;)t.dom.renameElement(c[s],n.toLowerCase());else{for(l=(o=r(["OL","UL"],i)).length;l--;)t.dom.resolveList(o[l],i.config.useLineBreaks);t.dom.resolveList(e,i.config.useLineBreaks)}})},o=function(e,n,i){var o="UL"===n?"OL":"UL";i.selection.executeAndRestore(function(){var a,s=[e].concat(r(o,i));for(a=s.length;a--;)t.dom.renameElement(s[a],n.toLowerCase())})},r=function(t,n){var i,o=n.selection.getOwnRanges(),r=[];for(i=o.length;i--;)r=r.concat(o[i].getNodes([1],function(n){return e(n,t)}));return r},a=function(e,n){n.selection.executeAndRestoreRangy(function(){var i,o,r="_wysihtml5-temp-"+(new Date).getTime(),a=n.selection.deblockAndSurround({nodeName:"div",className:r});a.innerHTML=a.innerHTML.replace(/\uFEFF/g,""),a&&(i=t.lang.array(["","<br>",t.INVISIBLE_SPACE]).contains(a.innerHTML),o=t.dom.convertToList(a,e.toLowerCase(),n.parent.config.uneditableContainerClassname),i&&n.selection.selectNode(o.querySelector("li"),!0))})};return{exec:function(t,e,r){var s=t.doc,l="OL"===r?"insertOrderedList":"insertUnorderedList",c=t.selection.getSelectedNode(),d=n(c,r,t);d.el?d.other?o(d.el,r,t):i(d.el,r,t):t.commands.support(l)?s.execCommand(l,!1,null):a(r,t)},state:function(t,e,i){var o=t.selection.getSelectedNode(),r=n(o,i,t);return!(!r.el||r.other)&&r.el}}}(wysihtml5),wysihtml5.commands.italic={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"i")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"i")}},function(t){var e="wysiwyg-text-align-center",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyCenter={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-left",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyLeft={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-right",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyRight={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="wysiwyg-text-align-justify",n=/wysiwyg-text-align-[0-9a-z]+/g;t.commands.justifyFull={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,e,n)}}}(wysihtml5),function(t){var e="text-align: right;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignRightStyle={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,null,null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,null,null,e,n)}}}(wysihtml5),function(t){var e="text-align: left;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignLeftStyle={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,null,null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,null,null,e,n)}}}(wysihtml5),function(t){var e="text-align: center;",n=/(\s|^)text-align\s*:\s*[^;\s]+;?/gi;t.commands.alignCenterStyle={exec:function(i){return t.commands.formatBlock.exec(i,"formatBlock",null,null,null,e,n)},state:function(i){return t.commands.formatBlock.state(i,"formatBlock",null,null,null,e,n)}}}(wysihtml5),wysihtml5.commands.redo={exec:function(t){return t.undoManager.redo()},state:function(){return!1}},wysihtml5.commands.underline={exec:function(t,e){wysihtml5.commands.formatInline.execWithToggle(t,e,"u")},state:function(t,e){return wysihtml5.commands.formatInline.state(t,e,"u")}},wysihtml5.commands.undo={exec:function(t){return t.undoManager.undo()},state:function(){return!1}},wysihtml5.commands.createTable={exec:function(t,e,n){var i,o,r;if(n&&n.cols&&n.rows&&parseInt(n.cols,10)>0&&parseInt(n.rows,10)>0){for(r=n.tableStyle?'<table style="'+n.tableStyle+'">':"<table>",r+="<tbody>",o=0;o<n.rows;o++){for(r+="<tr>",i=0;i<n.cols;i++)r+="<td>&nbsp;</td>";r+="</tr>"}t.commands.exec("insertHTML",r+="</tbody></table>")}},state:function(){return!1}},wysihtml5.commands.mergeTableCells={exec:function(t,e){t.tableSelection&&t.tableSelection.start&&t.tableSelection.end&&(this.state(t,e)?wysihtml5.dom.table.unmergeCell(t.tableSelection.start):wysihtml5.dom.table.mergeCellsBetween(t.tableSelection.start,t.tableSelection.end))},state:function(t){if(t.tableSelection){var e=t.tableSelection.start,n=t.tableSelection.end;if(e&&n&&e==n&&(wysihtml5.dom.getAttribute(e,"colspan")&&parseInt(wysihtml5.dom.getAttribute(e,"colspan"),10)>1||wysihtml5.dom.getAttribute(e,"rowspan")&&parseInt(wysihtml5.dom.getAttribute(e,"rowspan"),10)>1))return[e]}return!1}},wysihtml5.commands.addTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var i=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end);"before"==n||"above"==n?wysihtml5.dom.table.addCells(i.start,n):("after"==n||"below"==n)&&wysihtml5.dom.table.addCells(i.end,n),setTimeout(function(){t.tableSelection.select(i.start,i.end)},0)}},state:function(){return!1}},wysihtml5.commands.deleteTableCells={exec:function(t,e,n){if(t.tableSelection&&t.tableSelection.start&&t.tableSelection.end){var i,o=wysihtml5.dom.table.orderSelectionEnds(t.tableSelection.start,t.tableSelection.end),r=wysihtml5.dom.table.indexOf(o.start),a=t.tableSelection.table;wysihtml5.dom.table.removeCells(o.start,n),setTimeout(function(){(i=wysihtml5.dom.table.findCell(a,r))||("row"==n&&(i=wysihtml5.dom.table.findCell(a,{row:r.row-1,col:r.col})),"column"==n&&(i=wysihtml5.dom.table.findCell(a,{row:r.row,col:r.col-1}))),i&&t.tableSelection.select(i,i)},0)}},state:function(){return!1}},wysihtml5.commands.indentList={exec:function(t){var e=t.selection.getSelectionParentsByTag("LI");return!!e&&this.tryToPushLiLevel(e,t.selection)},state:function(){return!1},tryToPushLiLevel:function(t,e){var n,i,o,r,a=!1;return e.executeAndRestoreRangy(function(){for(var e=t.length;e--;)n=(o=t[e]).ownerDocument.createElement("OL"===o.parentNode.nodeName?"OL":"UL"),i=wysihtml5.dom.domNode(o).prev({nodeTypes:[wysihtml5.ELEMENT_NODE]}),r=i?i.querySelector("ul, ol"):null,i&&(r?r.appendChild(o):(n.appendChild(o),i.appendChild(n)),a=!0)}),a}},wysihtml5.commands.outdentList={exec:function(t){var e=t.selection.getSelectionParentsByTag("LI");return!!e&&this.tryToPullLiLevel(e,t)},state:function(){return!1},tryToPullLiLevel:function(t,e){var n,i,o,r,a,s=!1,l=this;return e.selection.executeAndRestoreRangy(function(){var c,d;for(c=t.length;c--;)if((r=t[c]).parentNode&&("OL"===(n=r.parentNode).tagName||"UL"===n.tagName)){if(s=!0,i=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["OL","UL"]},!1,e.element),o=wysihtml5.dom.getParentElement(n.parentNode,{nodeName:["LI"]},!1,e.element),i&&o)r.nextSibling&&(a=l.getAfterList(n,r),r.appendChild(a)),i.insertBefore(r,o.nextSibling);else{for(r.nextSibling&&(a=l.getAfterList(n,r),r.appendChild(a)),d=r.childNodes.length;d--;)n.parentNode.insertBefore(r.childNodes[d],n.nextSibling);n.parentNode.insertBefore(document.createElement("br"),n.nextSibling),r.parentNode.removeChild(r)}0===n.childNodes.length&&n.parentNode.removeChild(n)}}),s},getAfterList:function(t,e){for(var n=document.createElement(t.nodeName);e.nextSibling;)n.appendChild(e.nextSibling);return n}},function(t){var e="data-wysihtml5-selection-node",n="data-wysihtml5-selection-offset",i=t.dom;t.UndoManager=t.lang.Dispatcher.extend({constructor:function(t){this.editor=t,this.composer=t.composer,this.element=this.composer.element,this.position=0,this.historyStr=[],this.historyDom=[],this.transact(),this._observe()},_observe:function(){var t,e=this;this.composer.sandbox.getDocument(),i.observe(this.element,"keydown",function(t){if(!t.altKey&&(t.ctrlKey||t.metaKey)){var n=t.keyCode;90!==n||t.shiftKey?(90===n&&t.shiftKey||89===n)&&(e.redo(),t.preventDefault()):(e.undo(),t.preventDefault())}}),i.observe(this.element,"keydown",function(n){var i=n.keyCode;i!==t&&(t=i,(8===i||46===i)&&e.transact())}),this.editor.on("newword:composer",function(){e.transact()}).on("beforecommand:composer",function(){e.transact()})},transact:function(){var i,o,r,a,s,l,c=this.historyStr[this.position-1],d=this.composer.getValue(!1,!1),u=this.element.offsetWidth>0&&this.element.offsetHeight>0;d!==c&&((this.historyStr.length=this.historyDom.length=this.position)>25&&(this.historyStr.shift(),this.historyDom.shift(),this.position--),this.position++,u&&(o=(i=this.composer.selection.getRange())&&i.startContainer?i.startContainer:this.element,r=i&&i.startOffset?i.startOffset:0,o.nodeType===t.ELEMENT_NODE?a=o:s=this.getChildNodeIndex(a=o.parentNode,o),a.setAttribute(n,r),void 0!==s&&a.setAttribute(e,s)),l=this.element.cloneNode(!!d),this.historyDom.push(l),this.historyStr.push(d),a&&(a.removeAttribute(n),a.removeAttribute(e)))},undo:function(){this.transact(),this.undoPossible()&&(this.set(this.historyDom[--this.position-1]),this.editor.fire("undo:composer"))},redo:function(){this.redoPossible()&&(this.set(this.historyDom[++this.position-1]),this.editor.fire("redo:composer"))},undoPossible:function(){return this.position>1},redoPossible:function(){return this.position<this.historyStr.length},set:function(t){var i,o,r,a,s,l;for(this.element.innerHTML="",i=0,o=t.childNodes,r=t.childNodes.length;r>i;i++)this.element.appendChild(o[i].cloneNode(!0));t.hasAttribute(n)?(a=t.getAttribute(n),l=t.getAttribute(e),s=this.element):(a=(s=this.element.querySelector("["+n+"]")||this.element).getAttribute(n),l=s.getAttribute(e),s.removeAttribute(n),s.removeAttribute(e)),null!==l&&(s=this.getChildNodeByIndex(s,+l)),this.composer.selection.set(s,a)},getChildNodeIndex:function(t,e){for(var n=0,i=t.childNodes,o=i.length;o>n;n++)if(i[n]===e)return n},getChildNodeByIndex:function(t,e){return t.childNodes[e]}})}(wysihtml5),wysihtml5.views.View=Base.extend({constructor:function(t,e,n){this.parent=t,this.element=e,this.config=n,this.config.noTextarea||this._observeViewChange()},_observeViewChange:function(){var t=this;this.parent.on("beforeload",function(){t.parent.on("change_view",function(e){e===t.name?(t.parent.currentView=t,t.show(),setTimeout(function(){t.focus()},0)):t.hide()})})},focus:function(){if(this.element.ownerDocument.querySelector(":focus")!==this.element)try{this.element.focus()}catch(t){}},hide:function(){this.element.style.display="none"},show:function(){this.element.style.display=""},disable:function(){this.element.setAttribute("disabled","disabled")},enable:function(){this.element.removeAttribute("disabled")}}),function(t){var e=t.dom,n=t.browser;t.views.Composer=t.views.View.extend({name:"composer",CARET_HACK:"<br>",constructor:function(t,e,n){this.base(t,e,n),this.config.noTextarea?this.editableArea=e:this.textarea=this.parent.textarea,this.config.contentEditableMode?this._initContentEditableArea():this._initSandbox()},clear:function(){this.element.innerHTML=n.displaysCaretInEmptyContentEditableCorrectly()?"":this.CARET_HACK},getValue:function(e,n){var i=this.isEmpty()?"":t.quirks.getCorrectInnerHTML(this.element);return!1!==e&&(i=this.parent.parse(i,!1!==n)),i},setValue:function(t,e){e&&(t=this.parent.parse(t));try{this.element.innerHTML=t}catch(e){this.element.innerText=t}},cleanUp:function(){this.parent.parse(this.element)},show:function(){this.editableArea.style.display=this._displayStyle||"",this.config.noTextarea||this.textarea.element.disabled||(this.disable(),this.enable())},hide:function(){this._displayStyle=e.getStyle("display").from(this.editableArea),"none"===this._displayStyle&&(this._displayStyle=null),this.editableArea.style.display="none"},disable:function(){this.parent.fire("disable:composer"),this.element.removeAttribute("contentEditable")},enable:function(){this.parent.fire("enable:composer"),this.element.setAttribute("contentEditable","true")},focus:function(e){t.browser.doesAsyncFocus()&&this.hasPlaceholderSet()&&this.clear(),this.base();var n=this.element.lastChild;e&&n&&this.selection&&("BR"===n.nodeName?this.selection.setBefore(this.element.lastChild):this.selection.setAfter(this.element.lastChild))},getTextContent:function(){return e.getTextContent(this.element)},hasPlaceholderSet:function(){return this.getTextContent()==(this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&this.placeholderSet},isEmpty:function(){var t=this.element.innerHTML.toLowerCase();return/^(\s|<br>|<\/br>|<p>|<\/p>)*$/i.test(t)||""===t||"<br>"===t||"<p></p>"===t||"<p><br></p>"===t||this.hasPlaceholderSet()},_initContentEditableArea:function(){var t=this;this.config.noTextarea?this.sandbox=new e.ContentEditableArea(function(){t._create()},{},this.editableArea):(this.sandbox=new e.ContentEditableArea(function(){t._create()}),this.editableArea=this.sandbox.getContentEditable(),e.insert(this.editableArea).after(this.textarea.element),this._createWysiwygFormField())},_initSandbox:function(){var t,n=this;this.sandbox=new e.Sandbox(function(){n._create()},{stylesheets:this.config.stylesheets}),this.editableArea=this.sandbox.getIframe(),t=this.textarea.element,e.insert(this.editableArea).after(t),this._createWysiwygFormField()},_createWysiwygFormField:function(){if(this.textarea.element.form){var t=document.createElement("input");t.type="hidden",t.name="_wysihtml5_mode",t.value=1,e.insert(t).after(this.textarea.element)}},_create:function(){var i,o,r=this;this.doc=this.sandbox.getDocument(),this.element=this.config.contentEditableMode?this.sandbox.getContentEditable():this.doc.body,this.config.noTextarea?this.cleanUp():(this.textarea=this.parent.textarea,this.element.innerHTML=this.textarea.getValue(!0,!1)),this.selection=new t.Selection(this.parent,this.element,this.config.uneditableContainerClassname),this.commands=new t.Commands(this.parent),this.config.noTextarea||e.copyAttributes(["className","spellcheck","title","lang","dir","accessKey"]).from(this.textarea.element).to(this.element),e.addClass(this.element,this.config.composerClassName),this.config.style&&!this.config.contentEditableMode&&this.style(),this.observe(),(i=this.config.name)&&(e.addClass(this.element,i),this.config.contentEditableMode||e.addClass(this.editableArea,i)),this.enable(),!this.config.noTextarea&&this.textarea.element.disabled&&this.disable(),(o="string"==typeof this.config.placeholder?this.config.placeholder:this.config.noTextarea?this.editableArea.getAttribute("data-placeholder"):this.textarea.element.getAttribute("placeholder"))&&e.simulatePlaceholder(this.parent,this,o),this.commands.exec("styleWithCSS",!1),this._initAutoLinking(),this._initObjectResizing(),this._initUndoManager(),this._initLineBreaking(),this.config.noTextarea||!this.textarea.element.hasAttribute("autofocus")&&document.querySelector(":focus")!=this.textarea.element||n.isIos()||setTimeout(function(){r.focus(!0)},100),n.clearsContentEditableCorrectly()||t.quirks.ensureProperClearing(this),this.initSync&&this.config.sync&&this.initSync(),this.config.noTextarea||this.textarea.hide(),this.parent.fire("beforeload").fire("load")},_initAutoLinking:function(){var i,o,r,a=this,s=n.canDisableAutoLinking(),l=n.doesAutoLinkingInContentEditable();s&&this.commands.exec("autoUrlDetect",!1),this.config.autoLink&&((!l||l&&s)&&(this.parent.on("newword:composer",function(){e.getTextContent(a.element).match(e.autoLink.URL_REG_EXP)&&a.selection.executeAndRestore(function(n,i){var o,r=a.element.querySelectorAll("."+a.config.uneditableContainerClassname),s=!1;for(o=r.length;o--;)t.dom.contains(r[o],i)&&(s=!0);s||e.autoLink(i.parentNode,[a.config.uneditableContainerClassname])})}),e.observe(this.element,"blur",function(){e.autoLink(a.element,[a.config.uneditableContainerClassname])})),i=this.sandbox.getDocument().getElementsByTagName("a"),o=e.autoLink.URL_REG_EXP,r=function(n){var i=t.lang.string(e.getTextContent(n)).trim();return"www."===i.substr(0,4)&&(i="http://"+i),i},e.observe(this.element,"keydown",function(t){if(i.length){var n,s=a.selection.getSelectedNode(t.target.ownerDocument),l=e.getParentElement(s,{nodeName:"A"},4);l&&(n=r(l),setTimeout(function(){var t=r(l);t!==n&&t.match(o)&&l.setAttribute("href",t)},0))}}))},_initObjectResizing:function(){if(this.commands.exec("enableObjectResizing",!0),n.supportsEvent("resizeend")){var i=["width","height"],o=i.length,r=this.element;e.observe(r,"resizeend",function(e){var n,a=e.target||e.srcElement,s=a.style,l=0;if("IMG"===a.nodeName){for(;o>l;l++)s[n=i[l]]&&(a.setAttribute(n,parseInt(s[n],10)),s[n]="");t.quirks.redraw(r)}})}},_initUndoManager:function(){this.undoManager=new t.UndoManager(this.parent)},_initLineBreaking:function(){function i(t){var n=e.getParentElement(t,{nodeName:["P","DIV"]},2);n&&e.contains(o.element,n)&&o.selection.executeAndRestore(function(){o.config.useLineBreaks?e.replaceWithChildNodes(n):"P"!==n.nodeName&&e.renameElement(n,"p")})}var o=this,r=["LI","P","H1","H2","H3","H4","H5","H6"],a=["UL","OL","MENU"];this.config.useLineBreaks||e.observe(this.element,["focus","keydown"],function(){if(o.isEmpty()){var t=o.doc.createElement("P");o.element.innerHTML="",o.element.appendChild(t),n.displaysCaretInEmptyContentEditableCorrectly()?o.selection.selectNode(t,!0):(t.innerHTML="<br>",o.selection.setBefore(t.firstChild))}}),e.observe(this.element,"keydown",function(n){var s,l=n.keyCode;if(!n.shiftKey&&(l===t.ENTER_KEY||l===t.BACKSPACE_KEY))return(s=e.getParentElement(o.selection.getSelectedNode(),{nodeName:r},4))?void setTimeout(function(){var n=o.selection.getSelectedNode();if("LI"===s.nodeName){if(!n)return;e.getParentElement(n,{nodeName:a},2)||i(n)}l===t.ENTER_KEY&&s.nodeName.match(/^H[1-6]$/)&&i(n)},0):void(o.config.useLineBreaks&&l===t.ENTER_KEY&&!t.browser.insertsLineBreaksOnReturn()&&(n.preventDefault(),o.commands.exec("insertLineBreak")))})}})}(wysihtml5),function(t){var e=t.dom,n=document,i=window,o=n.createElement("div"),r=["background-color","color","cursor","font-family","font-size","font-style","font-variant","font-weight","line-height","letter-spacing","text-align","text-decoration","text-indent","text-rendering","word-break","word-wrap","word-spacing"],a=["background-color","border-collapse","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-right-color","border-right-style","border-right-width","border-top-color","border-top-style","border-top-width","clear","display","float","margin-bottom","margin-left","margin-right","margin-top","outline-color","outline-offset","outline-width","outline-style","padding-left","padding-right","padding-top","padding-bottom","position","top","left","right","bottom","z-index","vertical-align","text-align","-webkit-box-sizing","-moz-box-sizing","-ms-box-sizing","box-sizing","-webkit-box-shadow","-moz-box-shadow","-ms-box-shadow","box-shadow","-webkit-border-top-right-radius","-moz-border-radius-topright","border-top-right-radius","-webkit-border-bottom-right-radius","-moz-border-radius-bottomright","border-bottom-right-radius","-webkit-border-bottom-left-radius","-moz-border-radius-bottomleft","border-bottom-left-radius","-webkit-border-top-left-radius","-moz-border-radius-topleft","border-top-left-radius","width","height"],s=["html                 { height: 100%; }","body                 { height: 100%; padding: 1px 0 0 0; margin: -1px 0 0 0; }","body > p:first-child { margin-top: 0; }","._wysihtml5-temp     { display: none; }",t.browser.isGecko?"body.placeholder { color: graytext !important; }":"body.placeholder { color: #a9a9a9 !important; }","img:-moz-broken      { -moz-force-broken-image-icon: 1; height: 24px; width: 24px; }"],l=function(t){if(t.setActive)try{t.setActive()}catch(t){}else{var o=t.style,r=n.documentElement.scrollTop||n.body.scrollTop,a=n.documentElement.scrollLeft||n.body.scrollLeft,s={position:o.position,top:o.top,left:o.left,WebkitUserSelect:o.WebkitUserSelect};e.setStyles({position:"absolute",top:"-99999px",left:"-99999px",WebkitUserSelect:"none"}).on(t),t.focus(),e.setStyles(s).on(t),i.scrollTo&&i.scrollTo(a,r)}};t.views.Composer.prototype.style=function(){var i,c,d=this,u=n.querySelector(":focus"),h=this.textarea.element,f=h.hasAttribute("placeholder"),p=f&&h.getAttribute("placeholder"),g=h.style.display,m=h.disabled;return this.focusStylesHost=o.cloneNode(!1),this.blurStylesHost=o.cloneNode(!1),this.disabledStylesHost=o.cloneNode(!1),f&&h.removeAttribute("placeholder"),h===u&&h.blur(),h.disabled=!1,h.style.display=i="none",(h.getAttribute("rows")&&"auto"===e.getStyle("height").from(h)||h.getAttribute("cols")&&"auto"===e.getStyle("width").from(h))&&(h.style.display=i=g),e.copyStyles(a).from(h).to(this.editableArea).andTo(this.blurStylesHost),e.copyStyles(r).from(h).to(this.element).andTo(this.blurStylesHost),e.insertCSS(s).into(this.element.ownerDocument),h.disabled=!0,e.copyStyles(a).from(h).to(this.disabledStylesHost),e.copyStyles(r).from(h).to(this.disabledStylesHost),h.disabled=m,h.style.display=g,l(h),h.style.display=i,e.copyStyles(a).from(h).to(this.focusStylesHost),e.copyStyles(r).from(h).to(this.focusStylesHost),h.style.display=g,e.copyStyles(["display"]).from(h).to(this.editableArea),c=t.lang.array(a).without(["display"]),u?u.focus():h.blur(),f&&h.setAttribute("placeholder",p),this.parent.on("focus:composer",function(){e.copyStyles(c).from(d.focusStylesHost).to(d.editableArea),e.copyStyles(r).from(d.focusStylesHost).to(d.element)}),this.parent.on("blur:composer",function(){e.copyStyles(c).from(d.blurStylesHost).to(d.editableArea),e.copyStyles(r).from(d.blurStylesHost).to(d.element)}),this.parent.observe("disable:composer",function(){e.copyStyles(c).from(d.disabledStylesHost).to(d.editableArea),e.copyStyles(r).from(d.disabledStylesHost).to(d.element)}),this.parent.observe("enable:composer",function(){e.copyStyles(c).from(d.blurStylesHost).to(d.editableArea),e.copyStyles(r).from(d.blurStylesHost).to(d.element)}),this}}(wysihtml5),function(t){var e=t.dom,n=t.browser,i={66:"bold",73:"italic",85:"underline"};t.views.Composer.prototype.observe=function(){var o,r,a=this,s=this.getValue(!1,!1),l=this.sandbox.getIframe?this.sandbox.getIframe():this.sandbox.getContentEditable(),c=this.element,d=n.supportsEventsInIframeCorrectly()||this.sandbox.getContentEditable?c:this.sandbox.getWindow();e.observe(l,"DOMNodeRemoved",function(){clearInterval(o),a.parent.fire("destroy:composer")}),n.supportsMutationEvents()||(o=setInterval(function(){e.contains(document.documentElement,l)||(clearInterval(o),a.parent.fire("destroy:composer"))},250)),e.observe(d,["drop","paste","mouseup","focus","keyup"],function(){setTimeout(function(){a.parent.fire("interaction").fire("interaction:composer")},0)}),this.config.handleTables&&(!this.tableClickHandle&&this.doc.execCommand&&t.browser.supportsCommand(this.doc,"enableObjectResizing")&&t.browser.supportsCommand(this.doc,"enableInlineTableEditing")&&(this.sandbox.getIframe?this.tableClickHandle=e.observe(l,["focus","mouseup","mouseover"],function(){a.doc.execCommand("enableObjectResizing",!1,"false"),a.doc.execCommand("enableInlineTableEditing",!1,"false"),a.tableClickHandle.stop()}):setTimeout(function(){a.doc.execCommand("enableObjectResizing",!1,"false"),a.doc.execCommand("enableInlineTableEditing",!1,"false")},0)),this.tableSelection=t.quirks.tableCellsSelection(c,a.parent)),e.observe(d,"focus",function(t){a.parent.fire("focus",t).fire("focus:composer",t),setTimeout(function(){s=a.getValue(!1,!1)},0)}),e.observe(d,"blur",function(t){if(s!==a.getValue(!1,!1)){var e=t;"function"==typeof Object.create&&(e=Object.create(t,{type:{value:"change"}})),a.parent.fire("change",e).fire("change:composer",e)}a.parent.fire("blur",t).fire("blur:composer",t)}),e.observe(c,"dragenter",function(){a.parent.fire("unset_placeholder")}),e.observe(c,["drop","paste","beforepaste"],function(t){a.parent.fire(t.type,t).fire(t.type+":composer",t)}),this.config.copyedFromMarking&&e.observe(c,"copy",function(t){t.clipboardData&&(t.clipboardData.setData("text/html",a.config.copyedFromMarking+a.selection.getHtml()),t.preventDefault()),a.parent.fire(t.type,t).fire(t.type+":composer",t)}),e.observe(c,"keyup",function(e){var n=e.keyCode;(n===t.SPACE_KEY||n===t.ENTER_KEY)&&a.parent.fire("newword:composer")}),this.parent.on("paste:composer",function(){setTimeout(function(){a.parent.fire("newword:composer")},0)}),n.canSelectImagesInContentEditable()||e.observe(c,"mousedown",function(e){var n=e.target,i=c.querySelectorAll("img"),o=c.querySelectorAll("."+a.config.uneditableContainerClassname+" img"),r=t.lang.array(i).without(o);"IMG"===n.nodeName&&t.lang.array(r).contains(n)&&a.selection.selectNode(n)}),n.canSelectImagesInContentEditable()||e.observe(c,"drop",function(){setTimeout(function(){a.selection.getSelection().removeAllRanges()},0)}),n.hasHistoryIssue()&&n.supportsSelectionModify()&&e.observe(c,"keydown",function(t){if(t.metaKey||t.ctrlKey){var e=t.keyCode,n=c.ownerDocument.defaultView.getSelection();(37===e||39===e)&&(37===e&&(n.modify("extend","left","lineboundary"),t.shiftKey||n.collapseToStart()),39===e&&(n.modify("extend","right","lineboundary"),t.shiftKey||n.collapseToEnd()),t.preventDefault())}}),e.observe(c,"keydown",function(t){var e=t.keyCode,n=i[e];(t.ctrlKey||t.metaKey)&&!t.altKey&&n&&(a.commands.exec(n),t.preventDefault()),8===e?function(t,e,n,i){var o,r,a;e.isCollapsed()?e.caretIsInTheBeginnig("LI")?(t.preventDefault(),i.commands.exec("outdentList")):e.caretIsInTheBeginnig()?t.preventDefault():(e.caretIsFirstInSelection()&&e.getPreviousNode()&&e.getPreviousNode().nodeName&&/^H\d$/gi.test(e.getPreviousNode().nodeName)&&(o=e.getPreviousNode(),t.preventDefault(),/^\s*$/.test(o.textContent||o.innerText)?o.parentNode.removeChild(o):((r=o.ownerDocument.createRange()).selectNodeContents(o),r.collapse(!1),e.setSelection(r))),(a=e.caretIsBeforeUneditable())&&(t.preventDefault(),function(t,e,n){var i,o=t.getPreviousNode(e,!0),r=t.getSelectedNode();if(1!==r.nodeType&&r.parentNode!==n&&(r=r.parentNode),o)if(1==r.nodeType){if(i=r.firstChild,1==o.nodeType)for(;r.firstChild;)o.appendChild(r.firstChild);else for(;r.firstChild;)e.parentNode.insertBefore(r.firstChild,e);r.parentNode&&r.parentNode.removeChild(r),t.setBefore(i)}else 1==o.nodeType?o.appendChild(r):e.parentNode.insertBefore(r,e),t.setBefore(r)}(e,a,n))):e.containsUneditable()&&(t.preventDefault(),e.deleteContents())}(t,a.selection,c,a):a.config.handleTabKey&&9===e&&(t.preventDefault(),function(t){if(t.selection.isCollapsed()){if(t.selection.caretIsInTheBeginnig("LI")&&t.commands.exec("indentList"))return}else t.selection.deleteContents();t.commands.exec("insertHTML","&emsp;")}(a))}),e.observe(c,"keydown",function(e){var n,i=a.selection.getSelectedNode(!0),o=e.keyCode;!i||"IMG"!==i.nodeName||o!==t.BACKSPACE_KEY&&o!==t.DELETE_KEY||((n=i.parentNode).removeChild(i),"A"!==n.nodeName||n.firstChild||n.parentNode.removeChild(n),setTimeout(function(){t.quirks.redraw(c)},0),e.preventDefault())}),!this.config.contentEditableMode&&n.hasIframeFocusIssue()&&(e.observe(l,"focus",function(){setTimeout(function(){a.doc.querySelector(":focus")!==a.element&&a.focus()},0)}),e.observe(this.element,"blur",function(){setTimeout(function(){a.selection.getSelection().removeAllRanges()},0)})),r={IMG:"Image: ",A:"Link: "},e.observe(c,"mouseover",function(t){var e,n=t.target,i=n.nodeName;("A"===i||"IMG"===i)&&(n.hasAttribute("title")||(e=r[i]+(n.getAttribute("href")||n.getAttribute("src")),n.setAttribute("title",e)))})}}(wysihtml5),function(t){t.views.Synchronizer=Base.extend({constructor:function(t,e,n){this.editor=t,this.textarea=e,this.composer=n,this._observe()},fromComposerToTextarea:function(e){this.textarea.setValue(t.lang.string(this.composer.getValue(!1,!1)).trim(),e)},fromTextareaToComposer:function(t){var e=this.textarea.getValue(!1,!1);e?this.composer.setValue(e,t):(this.composer.clear(),this.editor.fire("set_placeholder"))},sync:function(t){"textarea"===this.editor.currentView.name?this.fromTextareaToComposer(t):this.fromComposerToTextarea(t)},_observe:function(){var e,n=this,i=this.textarea.element.form,o=function(){e=setInterval(function(){n.fromComposerToTextarea()},400)},r=function(){clearInterval(e),e=null};o(),i&&(t.dom.observe(i,"submit",function(){n.sync(!0)}),t.dom.observe(i,"reset",function(){setTimeout(function(){n.fromTextareaToComposer()},0)})),this.editor.on("change_view",function(t){"composer"!==t||e?"textarea"===t&&(n.fromComposerToTextarea(!0),r()):(n.fromTextareaToComposer(!0),o())}),this.editor.on("destroy:composer",r)}})}(wysihtml5),wysihtml5.views.Textarea=wysihtml5.views.View.extend({name:"textarea",constructor:function(t,e,n){this.base(t,e,n),this._observe()},clear:function(){this.element.value=""},getValue:function(t){var e=this.isEmpty()?"":this.element.value;return!1!==t&&(e=this.parent.parse(e)),e},setValue:function(t,e){e&&(t=this.parent.parse(t)),this.element.value=t},cleanUp:function(){var t=this.parent.parse(this.element.value);this.element.value=t},hasPlaceholderSet:function(){var t=wysihtml5.browser.supportsPlaceholderAttributeOn(this.element),e=this.element.getAttribute("placeholder")||null,n=this.element.value;return t&&!n||n===e},isEmpty:function(){return!wysihtml5.lang.string(this.element.value).trim()||this.hasPlaceholderSet()},_observe:function(){var t=this.element,e=this.parent,n={focusin:"focus",focusout:"blur"},i=wysihtml5.browser.supportsEvent("focusin")?["focusin","focusout","change"]:["focus","blur","change"];e.on("beforeload",function(){wysihtml5.dom.observe(t,i,function(t){var i=n[t.type]||t.type;e.fire(i).fire(i+":textarea")}),wysihtml5.dom.observe(t,["paste","drop"],function(){setTimeout(function(){e.fire("paste").fire("paste:textarea")},0)})})}}),function(t){var e,n={name:e,style:!0,toolbar:e,showToolbarAfterInit:!0,autoLink:!0,handleTables:!0,handleTabKey:!0,parserRules:{tags:{br:{},span:{},div:{},p:{}},classes:{}},pasteParserRulesets:null,parser:t.dom.parse,composerClassName:"wysihtml5-editor",bodyClassName:"wysihtml5-supported",useLineBreaks:!0,stylesheets:[],placeholderText:e,supportTouchDevices:!0,cleanUp:!0,contentEditableMode:!1,uneditableContainerClassname:"wysihtml5-uneditable-container",copyedFromMarking:'<meta name="copied-from" content="wysihtml5">'};t.Editor=t.lang.Dispatcher.extend({constructor:function(e,i){if(this.editableElement="string"==typeof e?document.getElementById(e):e,this.config=t.lang.object({}).merge(n).merge(i).get(),this._isCompatible=t.browser.supported(),"textarea"!=this.editableElement.nodeName.toLowerCase()&&(this.config.contentEditableMode=!0,this.config.noTextarea=!0),this.config.noTextarea||(this.textarea=new t.views.Textarea(this,this.editableElement,this.config),this.currentView=this.textarea),!this._isCompatible||!this.config.supportTouchDevices&&t.browser.isTouchDevice()){var o=this;setTimeout(function(){o.fire("beforeload").fire("load")},0)}else t.dom.addClass(document.body,this.config.bodyClassName),this.composer=new t.views.Composer(this,this.editableElement,this.config),this.currentView=this.composer,"function"==typeof this.config.parser&&this._initParser(),this.on("beforeload",this.handleBeforeLoad)},handleBeforeLoad:function(){this.config.noTextarea||(this.synchronizer=new t.views.Synchronizer(this,this.textarea,this.composer)),this.config.toolbar&&(this.toolbar=new t.toolbar.Toolbar(this,this.config.toolbar,this.config.showToolbarAfterInit))},isCompatible:function(){return this._isCompatible},clear:function(){return this.currentView.clear(),this},getValue:function(t,e){return this.currentView.getValue(t,e)},setValue:function(t,e){return this.fire("unset_placeholder"),t?(this.currentView.setValue(t,e),this):this.clear()},cleanUp:function(){this.currentView.cleanUp()},focus:function(t){return this.currentView.focus(t),this},disable:function(){return this.currentView.disable(),this},enable:function(){return this.currentView.enable(),this},isEmpty:function(){return this.currentView.isEmpty()},hasPlaceholderSet:function(){return this.currentView.hasPlaceholderSet()},parse:function(e,n){var i=this.config.contentEditableMode?document:this.composer?this.composer.sandbox.getDocument():null,o=this.config.parser(e,{rules:this.config.parserRules,cleanUp:this.config.cleanUp,context:i,uneditableClass:this.config.uneditableContainerClassname,clearInternals:n});return"object"==typeof e&&t.quirks.redraw(e),o},_initParser:function(){var e,n=this;t.browser.supportsModenPaste()?this.on("paste:composer",function(i){i.preventDefault(),(e=t.dom.getPastedHtml(i))&&n._cleanAndPaste(e)}):this.on("beforepaste:composer",function(e){e.preventDefault(),t.dom.getPastedHtmlWithDiv(n.composer,function(t){t&&n._cleanAndPaste(t)})})},_cleanAndPaste:function(e){var n=t.quirks.cleanPastedHTML(e,{referenceNode:this.composer.element,rules:this.config.pasteParserRulesets||[{set:this.config.parserRules}],uneditableClass:this.config.uneditableContainerClassname});this.composer.selection.deleteContents(),this.composer.selection.insertHTML(n)}})}(wysihtml5),function(t){var e=t.dom,n="wysihtml5-command-dialog-opened",i="input, select, textarea",o="[data-wysihtml5-dialog-field]",r="data-wysihtml5-dialog-field";t.toolbar.Dialog=t.lang.Dispatcher.extend({constructor:function(t,e){this.link=t,this.container=e},_observe:function(){var o,r,a,s,l,c;if(!this._observed){for(r=function(t){var e=o._serialize();o.fire(e==o.elementToChange?"edit":"save",e),o.hide(),t.preventDefault(),t.stopPropagation()},e.observe((o=this).link,"click",function(){e.hasClass(o.link,n)&&setTimeout(function(){o.hide()},0)}),e.observe(this.container,"keydown",function(e){var n=e.keyCode;n===t.ENTER_KEY&&r(e),n===t.ESCAPE_KEY&&(o.fire("cancel"),o.hide())}),e.delegate(this.container,"[data-wysihtml5-dialog-action=save]","click",r),e.delegate(this.container,"[data-wysihtml5-dialog-action=cancel]","click",function(t){o.fire("cancel"),o.hide(),t.preventDefault(),t.stopPropagation()}),s=0,l=(a=this.container.querySelectorAll(i)).length,c=function(){clearInterval(o.interval)};l>s;s++)e.observe(a[s],"change",c);this._observed=!0}},_serialize:function(){for(var t=this.elementToChange||{},e=this.container.querySelectorAll(o),n=e.length,i=0;n>i;i++)t[e[i].getAttribute(r)]=e[i].value;return t},_interpolate:function(t){for(var e,n,i,a=document.querySelector(":focus"),s=this.container.querySelectorAll(o),l=s.length,c=0;l>c;c++)(e=s[c])!==a&&(t&&"hidden"===e.type||(n=e.getAttribute(r),i=this.elementToChange&&"boolean"!=typeof this.elementToChange?this.elementToChange.getAttribute(n)||"":e.defaultValue,e.value=i))},show:function(t){if(!e.hasClass(this.link,n)){var o=this,r=this.container.querySelector(i);if(this.elementToChange=t,this._observe(),this._interpolate(),t&&(this.interval=setInterval(function(){o._interpolate(!0)},500)),e.addClass(this.link,n),this.container.style.display="",this.fire("show"),r&&!t)try{r.focus()}catch(t){}}},hide:function(){clearInterval(this.interval),this.elementToChange=null,e.removeClass(this.link,n),this.container.style.display="none",this.fire("hide")}})}(wysihtml5),function(t){var e=t.dom,n={position:"relative"},i={left:0,margin:0,opacity:0,overflow:"hidden",padding:0,position:"absolute",top:0,zIndex:1},o={cursor:"inherit",fontSize:"50px",height:"50px",marginTop:"-25px",outline:0,padding:0,position:"absolute",right:"-4px",top:"50%"},r={"x-webkit-speech":"",speech:""};t.toolbar.Speech=function(a,s){var l,c,d=document.createElement("input");return t.browser.supportsSpeechApiOn(d)?((l=a.editor.textarea.element.getAttribute("lang"))&&(r.lang=l),c=document.createElement("div"),t.lang.object(i).merge({width:s.offsetWidth+"px",height:s.offsetHeight+"px"}),e.insert(d).into(c),e.insert(c).into(s),e.setStyles(o).on(d),e.setAttributes(r).on(d),e.setStyles(i).on(c),e.setStyles(n).on(s),e.observe(d,"onwebkitspeechchange"in d?"webkitspeechchange":"speechchange",function(){a.execCommand("insertText",d.value),d.value=""}),void e.observe(d,"click",function(t){e.hasClass(s,"wysihtml5-command-disabled")&&t.preventDefault(),t.stopPropagation()})):void(s.style.display="none")}}(wysihtml5),function(t){var e="wysihtml5-command-disabled",n="wysihtml5-commands-disabled",i="wysihtml5-command-active",o="wysihtml5-action-active",r=t.dom;t.toolbar.Toolbar=Base.extend({constructor:function(r,a,s){this.editor=r,this.container="string"==typeof a?document.getElementById(a):a,this.composer=r.composer,this._getLinks("command"),this._getLinks("action"),this._observe(),s&&this.show(),null!=r.config.classNameCommandDisabled&&(e=r.config.classNameCommandDisabled),null!=r.config.classNameCommandsDisabled&&(n=r.config.classNameCommandsDisabled),null!=r.config.classNameCommandActive&&(i=r.config.classNameCommandActive),null!=r.config.classNameActionActive&&(o=r.config.classNameActionActive);for(var l=this.container.querySelectorAll("[data-wysihtml5-command=insertSpeech]"),c=l.length,d=0;c>d;d++)new t.toolbar.Speech(this,l[d])},_getLinks:function(e){for(var n,i,o,r,a,s=this[e+"Links"]=t.lang.array(this.container.querySelectorAll("[data-wysihtml5-"+e+"]")).get(),l=s.length,c=0,d=this[e+"Mapping"]={};l>c;c++)o=(n=s[c]).getAttribute("data-wysihtml5-"+e),r=n.getAttribute("data-wysihtml5-"+e+"-value"),i=this.container.querySelector("[data-wysihtml5-"+e+"-group='"+o+"']"),a=this._getDialog(n,o),d[o+":"+r]={link:n,group:i,name:o,value:r,dialog:a,state:!1}},_getDialog:function(e,n){var i,o,r=this,a=this.container.querySelector("[data-wysihtml5-dialog='"+n+"']");return a&&((i=t.toolbar["Dialog_"+n]?new t.toolbar["Dialog_"+n](e,a):new t.toolbar.Dialog(e,a)).on("show",function(){o=r.composer.selection.getBookmark(),r.editor.fire("show:dialog",{command:n,dialogContainer:a,commandLink:e})}),i.on("save",function(t){o&&r.composer.selection.setBookmark(o),r._execCommand(n,t),r.editor.fire("save:dialog",{command:n,dialogContainer:a,commandLink:e})}),i.on("cancel",function(){r.editor.focus(!1),r.editor.fire("cancel:dialog",{command:n,dialogContainer:a,commandLink:e})})),i},execCommand:function(t,e){if(!this.commandsDisabled){var n=this.commandMapping[t+":"+e];n&&n.dialog&&!n.state?n.dialog.show():this._execCommand(t,e)}},_execCommand:function(t,e){this.editor.focus(!1),this.composer.commands.exec(t,e),this._updateLinkStates()},execAction:function(t){var e=this.editor;"change_view"===t&&e.textarea&&e.fire("change_view",e.currentView===e.textarea?"composer":"textarea"),"showSource"==t&&e.fire("showSource")},_observe:function(){for(var t=this,e=this.editor,i=this.container,o=this.commandLinks.concat(this.actionLinks),a=o.length,s=0;a>s;s++)"A"===o[s].nodeName?r.setAttributes({href:"javascript:;",unselectable:"on"}).on(o[s]):r.setAttributes({unselectable:"on"}).on(o[s]);r.delegate(i,"[data-wysihtml5-command], [data-wysihtml5-action]","mousedown",function(t){t.preventDefault()}),r.delegate(i,"[data-wysihtml5-command]","click",function(e){var n=this.getAttribute("data-wysihtml5-command"),i=this.getAttribute("data-wysihtml5-command-value");t.execCommand(n,i),e.preventDefault()}),r.delegate(i,"[data-wysihtml5-action]","click",function(e){var n=this.getAttribute("data-wysihtml5-action");t.execAction(n),e.preventDefault()}),e.on("interaction:composer",function(){t._updateLinkStates()}),e.on("focus:composer",function(){t.bookmark=null}),this.editor.config.handleTables&&(e.on("tableselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display=""}),e.on("tableunselect:composer",function(){t.container.querySelectorAll('[data-wysihtml5-hiddentools="table"]')[0].style.display="none"})),e.on("change_view",function(o){e.textarea&&setTimeout(function(){t.commandsDisabled="composer"!==o,t._updateLinkStates(),t.commandsDisabled?r.addClass(i,n):r.removeClass(i,n)},0)})},_updateLinkStates:function(){var n,a,s,l,c=this.commandMapping,d=this.actionMapping;for(n in c)l=c[n],this.commandsDisabled?(a=!1,r.removeClass(l.link,i),l.group&&r.removeClass(l.group,i),l.dialog&&l.dialog.hide()):(a=this.composer.commands.state(l.name,l.value),r.removeClass(l.link,e),l.group&&r.removeClass(l.group,e)),l.state!==a&&(l.state=a,a?(r.addClass(l.link,i),l.group&&r.addClass(l.group,i),l.dialog&&("object"==typeof a||t.lang.object(a).isArray()?(!l.dialog.multiselect&&t.lang.object(a).isArray()&&(l.state=a=1!==a.length||a[0]),l.dialog.show(a)):l.dialog.hide())):(r.removeClass(l.link,i),l.group&&r.removeClass(l.group,i),l.dialog&&l.dialog.hide()));for(n in d)"change_view"===(s=d[n]).name&&(s.state=this.editor.currentView===this.editor.textarea,s.state?r.addClass(s.link,o):r.removeClass(s.link,o))},show:function(){this.container.style.display=""},hide:function(){this.container.style.display="none"}})}(wysihtml5),wysihtml5.toolbar.Dialog_createTable=wysihtml5.toolbar.Dialog.extend({show:function(t){this.base(t)}}),function(t){var e="[data-wysihtml5-dialog-field]",n="data-wysihtml5-dialog-field";t.toolbar.Dialog_foreColorStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){for(var t={},i=this.container.querySelectorAll(e),o=i.length,r=0;o>r;r++)t[i[r].getAttribute(n)]=i[r].value;return t},_interpolate:function(i){for(var o,r=document.querySelector(":focus"),a=this.container.querySelectorAll(e),s=a.length,l=0,c=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,d=c?c.getAttribute("style"):null,u=d?t.quirks.styleParser.parseColor(d,"color"):null;s>l;l++)(o=a[l])!==r&&(i&&"hidden"===o.type||"color"===o.getAttribute(n)&&(o.value=u?u[3]&&1!=u[3]?"rgba("+u[0]+","+u[1]+","+u[2]+","+u[3]+");":"rgb("+u[0]+","+u[1]+","+u[2]+");":"rgb(0,0,0);"))}})}(wysihtml5),function(t){t.toolbar.Dialog_fontSizeStyle=t.toolbar.Dialog.extend({multiselect:!0,_serialize:function(){return{size:this.container.querySelector('[data-wysihtml5-dialog-field="size"]').value}},_interpolate:function(){var e=document.querySelector(":focus"),n=this.container.querySelector("[data-wysihtml5-dialog-field='size']"),i=this.elementToChange?t.lang.object(this.elementToChange).isArray()?this.elementToChange[0]:this.elementToChange:null,o=i?i.getAttribute("style"):null,r=o?t.quirks.styleParser.parseFontSize(o):null;n&&n!==e&&r&&!/^\s*$/.test(r)&&(n.value=r)}})}(wysihtml5),Handlebars=function(){var t=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),e=function(t){"use strict";function e(t){return s[t]||"&amp;"}var n,i,o,r={},a=t,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},l=/[&<>"'`]/g,c=/[&<>"'`]/;return r.extend=function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},n=Object.prototype.toString,r.toString=n,(i=function(t){return"function"==typeof t})(/x/)&&(i=function(t){return"function"==typeof t&&"[object Function]"===n.call(t)}),r.isFunction=i,o=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===n.call(t)},r.isArray=o,r.escapeExpression=function(t){return t instanceof a?""+t:t||0===t?c.test(t=""+t)?t.replace(l,e):t:""},r.isEmpty=function(t){return!t&&0!==t||!(!o(t)||0!==t.length)},r}(t),n=function(){"use strict";function t(t,n){var i,o,r;for(n&&n.firstLine&&(t+=" - "+(i=n.firstLine)+":"+n.firstColumn),o=Error.prototype.constructor.call(this,t),r=0;r<e.length;r++)this[e[r]]=o[e[r]];i&&(this.lineNumber=i,this.column=n.firstColumn)}var e=["description","fileName","lineNumber","message","name","number","stack"];return t.prototype=Error(),t}(),i=function(t,e){"use strict";function n(t,e){this.helpers=t||{},this.partials=e||{},function(t){t.registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new h("Missing helper: '"+t+"'")}),t.registerHelper("blockHelperMissing",function(e,n){var i=n.inverse||function(){},a=n.fn;return r(e)&&(e=e.call(this)),!0===e?a(this):!1===e||null==e?i(this):o(e)?e.length>0?t.helpers.each(e,n):i(this):a(e)}),t.registerHelper("each",function(t,e){var n,i,a,s=e.fn,l=e.inverse,d=0,u="";if(r(t)&&(t=t.call(this)),e.data&&(n=c(e.data)),t&&"object"==typeof t)if(o(t))for(i=t.length;i>d;d++)n&&(n.index=d,n.first=0===d,n.last=d===t.length-1),u+=s(t[d],{data:n});else for(a in t)t.hasOwnProperty(a)&&(n&&(n.key=a,n.index=d,n.first=0===d),u+=s(t[a],{data:n}),d++);return 0===d&&(u=l(this)),u}),t.registerHelper("if",function(t,e){return r(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||u.isEmpty(t)?e.inverse(this):e.fn(this)}),t.registerHelper("unless",function(e,n){return t.helpers.if.call(this,e,{fn:n.inverse,inverse:n.fn,hash:n.hash})}),t.registerHelper("with",function(t,e){return r(t)&&(t=t.call(this)),u.isEmpty(t)?void 0:e.fn(t)}),t.registerHelper("log",function(e,n){var i=n.data&&null!=n.data.level?parseInt(n.data.level,10):1;t.log(i,e)})}(this)}function i(t,e){l.log(t,e)}var o,r,a,s,l,c,d={},u=t,h=e;return d.VERSION="1.3.0",d.COMPILER_REVISION=4,d.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},o=u.isArray,r=u.isFunction,a=u.toString,s="[object Object]",d.HandlebarsEnvironment=n,n.prototype={constructor:n,logger:l,log:i,registerHelper:function(t,e,n){if(a.call(t)===s){if(n||e)throw new h("Arg not supported with multiple helpers");u.extend(this.helpers,t)}else n&&(e.not=n),this.helpers[t]=e},registerPartial:function(t,e){a.call(t)===s?u.extend(this.partials,t):this.partials[t]=e}},d.logger=l={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){if(l.level<=t){var n=l.methodMap[t];"undefined"!=typeof console&&console[n]&&console[n].call(console,e)}}},d.log=i,d.createFrame=c=function(t){var e={};return u.extend(e,t),e},d}(e,n),o=function(t,e,n){"use strict";function o(t,e,n){var i=function(t,i){return e(t,(i=i||{}).data||n)};return i.program=t,i.depth=0,i}var r={},a=t,s=e,l=i.COMPILER_REVISION,c=i.REVISION_CHANGES;return r.checkRevision=function(t){var e=t&&t[0]||1;if(e!==l){if(l>e)throw new s("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+c[l]+") or downgrade your runtime to an older version ("+c[e]+").");throw new s("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},r.template=function(t,e){if(!e)throw new s("No environment passed to template");var n={escapeExpression:a.escapeExpression,invokePartial:function(t,n,i,o,r,a){var l,c=e.VM.invokePartial.apply(this,arguments);if(null!=c)return c;if(e.compile)return l={helpers:o,partials:r,data:a},r[n]=e.compile(t,{data:void 0!==a},e),r[n](i,l);throw new s("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,n){var i=this.programs[t];return n?i=o(t,e,n):i||(i=this.programs[t]=o(t,e)),i},merge:function(t,e){var n=t||e;return t&&e&&t!==e&&(a.extend(n={},e),a.extend(n,t)),n},programWithDepth:e.VM.programWithDepth,noop:e.VM.noop,compilerInfo:null};return function(i,o){var r,a,s;return(o=o||{}).partial||(r=o.helpers,a=o.partials),s=t.call(n,o.partial?o:e,i,r,a,o.data),o.partial||e.VM.checkRevision(n.compilerInfo),s}},r.programWithDepth=function(t,e,n){var i=Array.prototype.slice.call(arguments,3),o=function(t,o){return e.apply(this,[t,(o=o||{}).data||n].concat(i))};return o.program=t,o.depth=i.length,o},r.program=o,r.invokePartial=function(t,e,n,i,o,r){var a={partial:!0,helpers:i,partials:o,data:r};if(void 0===t)throw new s("The partial "+e+" could not be found");return t instanceof Function?t(n,a):void 0},r.noop=function(){return""},r}(e,n);return function(t,e,n,i,o){"use strict";var r=t,a=e,s=n,l=i,c=o,d=function(){var t=new r.HandlebarsEnvironment;return l.extend(t,r),t.SafeString=a,t.Exception=s,t.Utils=l,t.VM=c,t.template=function(e){return c.template(e,t)},t},u=d();return u.create=d,u}(i,t,n,e,o)}(),this.wysihtml5=this.wysihtml5||{},this.wysihtml5.tpl=this.wysihtml5.tpl||{},this.wysihtml5.tpl.blockquote=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s=this.escapeExpression,l=this;return a+='<li>\n  <a class="btn ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.size,{hash:{},inverse:l.noop,fn:l.program(1,function(t){var e;return"btn-"+s("function"==typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)?e.apply(t):e)},o),data:o}))||0===r)&&(a+=r),a+=' btn-default" data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="blockquote" data-wysihtml5-display-format-name="false" tabindex="-1">\n    ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.fa,{hash:{},inverse:l.program(5,function(){return'\n      <span class="glyphicon glyphicon-quote"></span>\n    '},o),fn:l.program(3,function(){return' \n      <span class="fa fa-quote-left"></span>\n    '},o),data:o}))||0===r)&&(a+=r),a+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.color=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.size,{hash:{},inverse:this.noop,fn:this.program(1,function(t){var e;return"btn-"+l(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===s?e.apply(t):e)},o),data:o}))||0===r)&&(a+=r),a+'" data-toggle="dropdown" tabindex="-1">\n    <span class="current-color">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.black)===s?r.apply(e):r)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="black"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="black">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.black)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="silver"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="silver">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.silver)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="gray"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="gray">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.gray)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="maroon"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="maroon">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.maroon)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="red"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="red">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.red)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="purple"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="purple">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.purple)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="green"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="green">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.green)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="olive"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="olive">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.olive)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="navy"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="navy">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.navy)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="blue"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="blue">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.blue)===s?r.apply(e):r)+'</a></li>\n    <li><div class="wysihtml5-colors" data-wysihtml5-command-value="orange"></div><a class="wysihtml5-colors-title" data-wysihtml5-command="foreColor" data-wysihtml5-command-value="orange">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.colours)||!1===r?r:r.orange)===s?r.apply(e):r)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.emphasis=Handlebars.template(function(t,e,n,i,o){function r(t){var e;return"btn-"+c(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===l?e.apply(t):e)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var a,s="",l="function",c=this.escapeExpression,d=this;return s+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="bold" title="CTRL+B" tabindex="-1">'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.emphasis)||!1===a?a:a.bold)===l?a.apply(e):a)+'</a>\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="italic" title="CTRL+I" tabindex="-1">'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.emphasis)||!1===a?a:a.italic)===l?a.apply(e):a)+'</a>\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="underline" title="CTRL+U" tabindex="-1">'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.emphasis)||!1===a?a:a.underline)===l?a.apply(e):a)+"</a>\n    ",((a=n.if.call(e,null==(a=null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.emphasis)||!1===a?a:a.small,{hash:{},inverse:d.noop,fn:d.program(3,function(t,e){var i,o="";return o+='\n    <a class="btn ',((i=n.if.call(t,null==(i=null==(i=t&&t.options)||!1===i?i:i.toolbar)||!1===i?i:i.size,{hash:{},inverse:d.noop,fn:d.program(1,r,e),data:e}))||0===i)&&(o+=i),o+' btn-default" data-wysihtml5-command="small" title="CTRL+S" tabindex="-1">'+c(typeof(i=null==(i=null==(i=t&&t.locale)||!1===i?i:i.emphasis)||!1===i?i:i.small)===l?i.apply(t):i)+"</a>\n    "},o),data:o}))||0===a)&&(s+=a),s+"\n  </div>\n</li>\n"}),this.wysihtml5.tpl["font-styles"]=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression,c=this;return a+='<li class="dropdown">\n  <a class="btn btn-default dropdown-toggle ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.size,{hash:{},inverse:c.noop,fn:c.program(1,function(t){var e;return"btn-"+l(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===s?e.apply(t):e)},o),data:o}))||0===r)&&(a+=r),a+='" data-toggle="dropdown">\n    ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.fa,{hash:{},inverse:c.program(5,function(){return'\n      <span class="glyphicon glyphicon-font"></span>\n    '},o),fn:c.program(3,function(){return'\n      <span class="fa fa-font"></span>\n    '},o),data:o}))||0===r)&&(a+=r),a+'\n    <span class="current-font">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.normal)===s?r.apply(e):r)+'</span>\n    <b class="caret"></b>\n  </a>\n  <ul class="dropdown-menu">\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="p" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.normal)===s?r.apply(e):r)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h1" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.h1)===s?r.apply(e):r)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h2" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.h2)===s?r.apply(e):r)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h3" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.h3)===s?r.apply(e):r)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h4" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.h4)===s?r.apply(e):r)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h5" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.h5)===s?r.apply(e):r)+'</a></li>\n    <li><a data-wysihtml5-command="formatBlock" data-wysihtml5-command-value="h6" tabindex="-1">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.font_styles)||!1===r?r:r.h6)===s?r.apply(e):r)+"</a></li>\n  </ul>\n</li>\n"}),this.wysihtml5.tpl.html=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <div class="btn-group">\n    <a class="btn ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.size,{hash:{},inverse:c.noop,fn:c.program(1,function(t){var e;return"btn-"+l(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===s?e.apply(t):e)},o),data:o}))||0===r)&&(a+=r),a+=' btn-default" data-wysihtml5-action="change_view" title="'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.html)||!1===r?r:r.edit)===s?r.apply(e):r)+'" tabindex="-1">\n      ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.fa,{hash:{},inverse:c.program(5,function(){return'\n        <span class="glyphicon glyphicon-pencil"></span>\n      '},o),fn:c.program(3,function(){return'\n        <span class="fa fa-pencil"></span>\n      '},o),data:o}))||0===r)&&(a+=r),a+"\n    </a>\n  </div>\n</li>\n"}),this.wysihtml5.tpl.image=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-image-modal modal fade" data-wysihtml5-dialog="insertImage">\n    <div class="modal-dialog ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.smallmodals,{hash:{},inverse:c.noop,fn:c.program(1,function(){return"modal-sm"},o),data:o}))||0===r)&&(a+=r),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.image)||!1===r?r:r.insert)===s?r.apply(e):r)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-image-url form-control" data-wysihtml5-dialog-field="src">\n          </div> \n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.image)||!1===r?r:r.cancel)===s?r.apply(e):r)+'</a>\n          <a class="btn btn-primary" data-dismiss="modal"  data-wysihtml5-dialog-action="save" href="#">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.image)||!1===r?r:r.insert)===s?r.apply(e):r)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.size,{hash:{},inverse:c.noop,fn:c.program(3,function(t){var e;return"btn-"+l(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===s?e.apply(t):e)},o),data:o}))||0===r)&&(a+=r),a+=' btn-default" data-wysihtml5-command="insertImage" title="'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.image)||!1===r?r:r.insert)===s?r.apply(e):r)+'" tabindex="-1">\n    ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.fa,{hash:{},inverse:c.program(7,function(){return'\n      <span class="glyphicon glyphicon-picture"></span>\n    '},o),fn:c.program(5,function(){return'\n      <span class="fa fa-file-image-o"></span>\n    '},o),data:o}))||0===r)&&(a+=r),a+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.link=Handlebars.template(function(t,e,n,i,o){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var r,a="",s="function",l=this.escapeExpression,c=this;return a+='<li>\n  <div class="bootstrap-wysihtml5-insert-link-modal modal fade" data-wysihtml5-dialog="createLink">\n    <div class="modal-dialog ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.smallmodals,{hash:{},inverse:c.noop,fn:c.program(1,function(){return"modal-sm"},o),data:o}))||0===r)&&(a+=r),a+='">\n      <div class="modal-content">\n        <div class="modal-header">\n          <a class="close" data-dismiss="modal">&times;</a>\n          <h3>'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.link)||!1===r?r:r.insert)===s?r.apply(e):r)+'</h3>\n        </div>\n        <div class="modal-body">\n          <div class="form-group">\n            <input value="http://" class="bootstrap-wysihtml5-insert-link-url form-control" data-wysihtml5-dialog-field="href">\n          </div> \n          <div class="checkbox">\n            <label> \n              <input type="checkbox" class="bootstrap-wysihtml5-insert-link-target" checked>'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.link)||!1===r?r:r.target)===s?r.apply(e):r)+'\n            </label>\n          </div>\n        </div>\n        <div class="modal-footer">\n          <a class="btn btn-default" data-dismiss="modal" data-wysihtml5-dialog-action="cancel" href="#">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.link)||!1===r?r:r.cancel)===s?r.apply(e):r)+'</a>\n          <a href="#" class="btn btn-primary" data-dismiss="modal" data-wysihtml5-dialog-action="save">'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.link)||!1===r?r:r.insert)===s?r.apply(e):r)+'</a>\n        </div>\n      </div>\n    </div>\n  </div>\n  <a class="btn ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.size,{hash:{},inverse:c.noop,fn:c.program(3,function(t){var e;return"btn-"+l(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===s?e.apply(t):e)},o),data:o}))||0===r)&&(a+=r),a+=' btn-default" data-wysihtml5-command="createLink" title="'+l(typeof(r=null==(r=null==(r=e&&e.locale)||!1===r?r:r.link)||!1===r?r:r.insert)===s?r.apply(e):r)+'" tabindex="-1">\n    ',((r=n.if.call(e,null==(r=null==(r=e&&e.options)||!1===r?r:r.toolbar)||!1===r?r:r.fa,{hash:{},inverse:c.program(7,function(){return'\n      <span class="glyphicon glyphicon-share"></span>\n    '},o),fn:c.program(5,function(){return'\n      <span class="fa fa-share-square-o"></span>\n    '},o),data:o}))||0===r)&&(a+=r),a+"\n  </a>\n</li>\n"}),this.wysihtml5.tpl.lists=Handlebars.template(function(t,e,n,i,o){function r(t){var e;return"btn-"+c(typeof(e=null==(e=null==(e=t&&t.options)||!1===e?e:e.toolbar)||!1===e?e:e.size)===l?e.apply(t):e)}this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,t.helpers),o=o||{};var a,s="",l="function",c=this.escapeExpression,d=this;return s+='<li>\n  <div class="btn-group">\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="insertUnorderedList" title="'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.lists)||!1===a?a:a.unordered)===l?a.apply(e):a)+'" tabindex="-1">\n    ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(5,function(){return'\n      <span class="glyphicon glyphicon-list"></span>\n    '},o),fn:d.program(3,function(){return'\n      <span class="fa fa-list-ul"></span>\n    '},o),data:o}))||0===a)&&(s+=a),s+='\n    </a>\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="insertOrderedList" title="'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.lists)||!1===a?a:a.ordered)===l?a.apply(e):a)+'" tabindex="-1">\n    ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(9,function(){return'\n      <span class="glyphicon glyphicon-th-list"></span>\n    '},o),fn:d.program(7,function(){return'\n      <span class="fa fa-list-ol"></span>\n    '},o),data:o}))||0===a)&&(s+=a),s+='\n    </a>\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="Outdent" title="'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.lists)||!1===a?a:a.outdent)===l?a.apply(e):a)+'" tabindex="-1">\n    ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(13,function(){return'\n      <span class="glyphicon glyphicon-indent-right"></span>\n    '},o),fn:d.program(11,function(){return'\n      <span class="fa fa-outdent"></span>\n    '},o),data:o}))||0===a)&&(s+=a),s+='\n    </a>\n    <a class="btn ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.size,{hash:{},inverse:d.noop,fn:d.program(1,r,o),data:o}))||0===a)&&(s+=a),s+=' btn-default" data-wysihtml5-command="Indent" title="'+c(typeof(a=null==(a=null==(a=e&&e.locale)||!1===a?a:a.lists)||!1===a?a:a.indent)===l?a.apply(e):a)+'" tabindex="-1">\n    ',((a=n.if.call(e,null==(a=null==(a=e&&e.options)||!1===a?a:a.toolbar)||!1===a?a:a.fa,{hash:{},inverse:d.program(17,function(){return'\n      <span class="glyphicon glyphicon-indent-left"></span>\n    '},o),fn:d.program(15,function(){return'\n      <span class="fa fa-indent"></span>\n    '},o),data:o}))||0===a)&&(s+=a),s+"\n    </a>\n  </div>\n</li>\n"}),function(t){"use strict";"function"==typeof define&&define.amd?define("bootstrap.wysihtml5",["jquery","wysihtml5","bootstrap","bootstrap.wysihtml5.templates","bootstrap.wysihtml5.commands"],t):t(jQuery,wysihtml5)}(function(t,e){"use strict";!function(t,e){var n,i,o,r=function(t,n,i){return e.tpl[t]?e.tpl[t]({locale:n,options:i}):void 0},a=function(n,o){var r,a;for(a in this.el=n,(r=t.extend(!0,{},i,o)).customTemplates)r.customTemplates.hasOwnProperty(a)&&(e.tpl[a]=r.customTemplates[a]);this.toolbar=this.createToolbar(n,r),this.editor=this.createEditor(r)};a.prototype={constructor:a,createEditor:function(e){(e=t.extend(!0,{},e=e||{})).toolbar=this.toolbar[0],this.initializeEditor(this.el[0],e)},initializeEditor:function(t,n){var i,o=new e.Editor(this.el[0],n);if(o.on("beforeload",this.syncBootstrapDialogEvents),o.on("beforeload",this.loadParserRules),this.addMoreShortcuts(o,o.composer.editableArea.contentDocument?o.composer.editableArea.contentDocument.body||o.composer.editableArea.contentDocument:o.composer.editableArea,n.shortcuts),n&&n.events)for(i in n.events)n.events.hasOwnProperty(i)&&o.on(i,n.events[i]);return o},loadParserRules:function(){"string"===t.type(this.config.parserRules)&&t.ajax({dataType:"json",url:this.config.parserRules,context:this,error:function(t,e,n){},success:function(t){this.config.parserRules=t}}),this.config.pasteParserRulesets&&"string"===t.type(this.config.pasteParserRulesets)&&t.ajax({dataType:"json",url:this.config.pasteParserRulesets,context:this,error:function(t,e,n){},success:function(t){this.config.pasteParserRulesets=t}})},syncBootstrapDialogEvents:function(){var e=this;t.map(this.toolbar.commandMapping,function(t){return[t]}).filter(function(t){return t.dialog}).map(function(t){return t.dialog}).forEach(function(n){n.on("show",function(){t(this.container).modal("show")}),n.on("hide",function(){t(this.container).modal("hide"),setTimeout(e.composer.focus,0)}),t(n.container).on("shown.bs.modal",function(){t(this).find("input, select, textarea").first().focus()})}),this.on("change_view",function(){t(this.toolbar.container.children).find("a.btn").not('[data-wysihtml5-action="change_view"]').toggleClass("disabled")})},createToolbar:function(e,n){var a,s,l=this,c=t("<ul/>",{class:"wysihtml5-toolbar",style:"display:none"}),d=n.locale||i.locale||"en";for(s in o.hasOwnProperty(d)||(d="en"),a=t.extend(!0,{},o.en,o[d]),n.toolbar)n.toolbar[s]&&c.append(r(s,a,n));return c.find('a[data-wysihtml5-command="formatBlock"]').click(function(e){var n=t(e.delegateTarget||e.target||e.srcElement),i=n.data("wysihtml5-display-format-name"),o=n.data("wysihtml5-format-name")||n.html();(void 0===i||"true"===i)&&l.toolbar.find(".current-font").text(o)}),c.find('a[data-wysihtml5-command="foreColor"]').click(function(e){var n=t(e.target||e.srcElement);l.toolbar.find(".current-color").text(n.html())}),this.el.before(c),c},addMoreShortcuts:function(t,n,i){e.dom.observe(n,"keydown",function(n){var o,r=i[n.keyCode];(n.ctrlKey||n.metaKey||n.altKey)&&r&&e.commands[r]&&((o=t.toolbar.commandMapping[r+":null"])&&o.dialog&&!o.state?o.dialog.show():e.commands[r].exec(t.composer,r),n.preventDefault())})}},n={resetDefaults:function(){t.fn.wysihtml5.defaultOptions=t.extend(!0,{},t.fn.wysihtml5.defaultOptionsCache)},bypassDefaults:function(e){return this.each(function(){var n=t(this);n.data("wysihtml5",new a(n,e))})},shallowExtend:function(e){var i=t.extend({},t.fn.wysihtml5.defaultOptions,e||{},t(this).data());return n.bypassDefaults.apply(this,[i])},deepExtend:function(e){var i=t.extend(!0,{},t.fn.wysihtml5.defaultOptions,e||{});return n.bypassDefaults.apply(this,[i])},init:function(t){return n.shallowExtend.apply(this,[t])}},t.fn.wysihtml5=function(e){return n[e]?n[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist on jQuery.wysihtml5"):n.init.apply(this,arguments)},t.fn.wysihtml5.Constructor=a,i=t.fn.wysihtml5.defaultOptions={toolbar:{"font-styles":!0,color:!1,emphasis:{small:!0},blockquote:!0,lists:!0,html:!1,link:!0,image:!0,smallmodals:!1},useLineBreaks:!1,parserRules:{classes:{"wysiwyg-color-silver":1,"wysiwyg-color-gray":1,"wysiwyg-color-white":1,"wysiwyg-color-maroon":1,"wysiwyg-color-red":1,"wysiwyg-color-purple":1,"wysiwyg-color-fuchsia":1,"wysiwyg-color-green":1,"wysiwyg-color-lime":1,"wysiwyg-color-olive":1,"wysiwyg-color-yellow":1,"wysiwyg-color-navy":1,"wysiwyg-color-blue":1,"wysiwyg-color-teal":1,"wysiwyg-color-aqua":1,"wysiwyg-color-orange":1},tags:{b:{},i:{},strong:{},em:{},p:{},br:{},ol:{},ul:{},li:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},blockquote:{},u:1,img:{check_attributes:{width:"numbers",alt:"alt",src:"url",height:"numbers"}},a:{check_attributes:{href:"url"},set_attributes:{target:"_blank",rel:"nofollow"}},span:1,div:1,small:1,code:1,pre:1}},locale:"en",shortcuts:{83:"small",75:"createLink"}},void 0===t.fn.wysihtml5.defaultOptionsCache&&(t.fn.wysihtml5.defaultOptionsCache=t.extend(!0,{},t.fn.wysihtml5.defaultOptions)),o=t.fn.wysihtml5.locale={}}(t,e)}),function(t){t.commands.small={exec:function(e,n){return t.commands.formatInline.exec(e,n,"small")},state:function(e,n){return t.commands.formatInline.state(e,n,"small")}}}(wysihtml5),function(t){"function"==typeof define&&define.amd?define("bootstrap.wysihtml5.en-US",["jquery","bootstrap.wysihtml5"],t):t(jQuery)}(function(t){t.fn.wysihtml5.locale.en=t.fn.wysihtml5.locale["en-US"]={font_styles:{normal:"Normal text",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",h5:"Heading 5",h6:"Heading 6"},emphasis:{bold:"Bold",italic:"Italic",underline:"Underline",small:"Small"},lists:{unordered:"Unordered list",ordered:"Ordered list",outdent:"Outdent",indent:"Indent"},link:{insert:"Insert link",cancel:"Cancel",target:"Open link in new window"},image:{insert:"Insert image",cancel:"Cancel"},html:{edit:"Edit HTML"},colours:{black:"Black",silver:"Silver",gray:"Grey",maroon:"Maroon",red:"Red",purple:"Purple",green:"Green",olive:"Olive",navy:"Navy",blue:"Blue",orange:"Orange"}}}),$(document).on("ready pjax:success",function(){$(".auto-hide").delay(8e3).fadeOut("slow")}),jQuery(document).ready(function(){$.material.init(),jQuery(window).scroll(function(){jQuery(this).scrollTop()>150?jQuery("#slideToTop").fadeIn(500):jQuery("#slideToTop").fadeOut(500)}),jQuery("#slideToTop").click(function(t){return t.preventDefault(),jQuery("html, body").animate({scrollTop:0},500),!1})}),$(document).on("ready pjax:success",function(){$(".ajaxDelete").on("click",function(t){t.preventDefault();var e=$(this).attr("href"),n=$(this).attr("confirm-msg");if(n=void 0!==n&&!1!==n&&""!==n?n:"Are you sure you want to delete this item?",$(this).attr("pjax-id"))var i=$(this).attr("pjax-id");else i=$(t.target).closest(".grid-view").parent().attr("id");bootbox.confirm(n,function(t){t&&$.ajax({url:e,data:{pjax:i},type:"POST",error:function(t,e,n){}}).done(function(t){$.pjax.reload({container:"#"+$.trim(i),timeout:1e4})})})})}),$(document).ajaxSend(function(t,e,n){n.url.indexOf("poll")<0&&$(".loading-indicator").show()}),$(document).ajaxComplete(function(t,e,n){$(".loading-indicator").hide()}),$("select").ajaxError(function(t,e,n){return $("#modalDefault, #modalLarge").modal("hide"),alert("Error in requesting page.\n\nPlease contact your system administrator."),!1}),$(document).on("beforeSubmit","form.hide-on-submit",function(){$(this).find(".overlay").show(),$(this).find(".btn").prop("disabled","disabled"),$(this).find(".btn").addClass("disabled")}),$(document).on("click","#menu-toggle",function(t){t.preventDefault(),$("#wrapper_new").toggleClass("toggled")}),$(document).on("click","#menu-toggle",function(t){$(".container-fluid").hasClass("show_margin")?$(".container-fluid").removeClass("show_margin",500):$(".container-fluid").addClass("show_margin",200)}),$(document).on("click",".container-fluid",function(t){$("#wrapper_new").addClass("toggled"),$(".container-fluid").removeClass("show_margin",500)}),$(document).on("click",".container-fluid",function(t){$("#viewDetailsTrigger").addClass("collapsed"),$("#viewdetails").removeClass("in")}),$(document).on("click",".bg_pencil",function(t){$(".show_edit , #2a").removeClass("active"),$(".show_update, #1a").addClass("active")}),$(document).ready(function(){$(".progress").each(function(){var t=$(this),e=$(this).width();!function(t,e){var n=t*e.width()/100+"px";e.find("div.bar").width(0),e.find("div.bar").animate({width:n},1500)}($(this).find("div.bar").width()/e*100,t)})});